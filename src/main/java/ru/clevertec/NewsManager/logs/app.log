2023-07-03 01:24:43,126 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 01:24:43,162 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,AVAILABLE}
2023-07-03 01:24:43,181 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 01:24:43,182 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da16263{/,null,AVAILABLE}
2023-07-03 01:24:43,193 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 01:24:43,208 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @4592ms
2023-07-03 01:24:45,027 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 01:24:45,103 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 01:24:45,142 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 29661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 01:24:45,142 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 01:24:45,145 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 01:24:45,203 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 01:24:45,203 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79252c83 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 01:24:45,203 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 01:24:45,203 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 01:24:45,204 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 01:24:45,204 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca7e37f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 01:24:46,435 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 01:24:46,435 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 01:24:46,522 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 01:24:46,526 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 01:24:46,527 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 75 ms. Found 0 Redis repository interfaces.
2023-07-03 01:24:49,395 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 01:24:49,807 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 01:24:54,242 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1728d307, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@252d2ac0, org.springframework.security.web.context.SecurityContextHolderFilter@1256925b, org.springframework.security.web.header.HeaderWriterFilter@1e6e29d6, org.springframework.security.web.authentication.logout.LogoutFilter@4d7fba20, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@74ab8610, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@231c521e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@296949c8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@789f5552, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3f0b5619, org.springframework.security.web.session.ConcurrentSessionFilter@695c8b32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@467421cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c9bed65, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67afc9b6, org.springframework.security.web.access.ExceptionTranslationFilter@3d0f4ac4, org.springframework.security.web.access.intercept.AuthorizationFilter@2d568cff]
2023-07-03 01:24:54,414 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 01:24:54,428 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 01:24:54,487 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 01:24:54,501 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@593e594f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@758ac46 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@4d2f8ee7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 01:24:54,546 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 01:24:54,547 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 01:24:54,560 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 01:24:54,567 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da16263{/,null,STOPPED}
2023-07-03 01:24:54,571 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,STOPPED}
2023-07-03 19:24:58,222 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:24:58,263 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,AVAILABLE}
2023-07-03 19:24:58,281 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:24:58,281 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da16263{/,null,AVAILABLE}
2023-07-03 19:24:58,290 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:24:58,307 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @5049ms
2023-07-03 19:24:59,989 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:25:00,045 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:25:00,093 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 1562 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:25:00,093 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:25:00,096 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:25:00,149 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:25:00,150 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79252c83 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:25:00,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:25:00,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:25:00,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:25:00,150 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca7e37f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:25:01,296 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:25:01,297 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:25:01,385 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:25:01,389 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:25:01,390 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 76 ms. Found 0 Redis repository interfaces.
2023-07-03 19:25:04,216 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:25:04,652 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:25:06,471 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c68f29c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b3b2290, org.springframework.security.web.context.SecurityContextHolderFilter@51d2d336, org.springframework.security.web.header.HeaderWriterFilter@70d16858, org.springframework.security.web.authentication.logout.LogoutFilter@7878459f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@73633230, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@21539796, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@215f8d7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3d2ff73a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@47d7e4b6, org.springframework.security.web.session.ConcurrentSessionFilter@106b476a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39921410, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@769a9b7a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@623ed5ed, org.springframework.security.web.access.ExceptionTranslationFilter@4c9bed65, org.springframework.security.web.access.intercept.AuthorizationFilter@40b958c5]
2023-07-03 19:25:06,639 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 19:25:06,656 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 19:25:06,724 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 19:25:06,739 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@401d83ce]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5466a819 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@30cb489a key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 19:25:06,785 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:25:06,785 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:25:06,797 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:25:06,803 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da16263{/,null,STOPPED}
2023-07-03 19:25:06,804 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,STOPPED}
2023-07-03 19:34:54,198 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:34:54,240 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,AVAILABLE}
2023-07-03 19:34:54,265 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:34:54,265 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da16263{/,null,AVAILABLE}
2023-07-03 19:34:54,277 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:34:54,294 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @5489ms
2023-07-03 19:34:56,111 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:34:56,187 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:34:56,242 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 2407 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:34:56,243 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:34:56,244 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:34:56,381 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:34:56,382 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79252c83 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:34:56,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:34:56,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:34:56,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:34:56,383 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca7e37f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:34:57,980 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:34:57,981 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:34:58,072 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:34:58,077 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:34:58,079 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 73 ms. Found 0 Redis repository interfaces.
2023-07-03 19:35:01,180 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:35:01,571 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:35:03,308 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ca006ac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dc3eda6, org.springframework.security.web.context.SecurityContextHolderFilter@28c00acd, org.springframework.security.web.header.HeaderWriterFilter@34d0c331, org.springframework.security.web.authentication.logout.LogoutFilter@2487b621, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7a79d99c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1f27f354, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6dc7b7f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@543196f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1372696b, org.springframework.security.web.session.ConcurrentSessionFilter@2b06c388, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2267b0bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32bae609, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca7bddd, org.springframework.security.web.access.ExceptionTranslationFilter@48d24d63, org.springframework.security.web.access.intercept.AuthorizationFilter@414d466e]
2023-07-03 19:35:03,480 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 19:35:03,499 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 19:35:03,545 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 19:35:03,563 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@73072745]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@67eabe02 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@4197e859 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 19:35:03,608 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:35:03,612 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:35:03,630 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:35:03,638 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da16263{/,null,STOPPED}
2023-07-03 19:35:03,639 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,STOPPED}
2023-07-03 19:36:22,101 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:36:22,138 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2676dc05{/__admin,null,AVAILABLE}
2023-07-03 19:36:22,161 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:36:22,161 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5edacf20{/,null,AVAILABLE}
2023-07-03 19:36:22,171 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@720bf653{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:36:22,187 INFO o.e.j.s.Server [Test worker] Started Server@1dd74143{STARTING}[11.0.15,sto=1000] @4129ms
2023-07-03 19:36:24,180 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:36:24,277 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:36:24,357 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 2518 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:36:24,357 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:36:24,359 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:36:25,174 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:36:25,175 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2365ea38 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:36:25,175 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:36:25,175 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:36:25,175 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:36:25,175 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1edfedf1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:36:26,775 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:36:26,777 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:36:26,923 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:36:26,931 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:36:26,933 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 129 ms. Found 0 Redis repository interfaces.
2023-07-03 19:36:30,446 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:36:31,073 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:36:33,850 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64b20d9c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6fc3f1a7, org.springframework.security.web.context.SecurityContextHolderFilter@5b01b3f8, org.springframework.security.web.header.HeaderWriterFilter@2162598, org.springframework.security.web.authentication.logout.LogoutFilter@32029cd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4a778943, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7925e772, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@365a4b9b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1aba8978, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7151dd9d, org.springframework.security.web.session.ConcurrentSessionFilter@9fd5dd0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69efdfd9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ee76cf2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f596988, org.springframework.security.web.access.ExceptionTranslationFilter@a1689e8, org.springframework.security.web.access.intercept.AuthorizationFilter@5fb0a09e]
2023-07-03 19:36:34,029 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 19:36:34,057 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 19:36:34,123 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 19:36:34,144 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@129b0ed]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@4fbed6fc testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@77cf3f8b, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ce92f8e4, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@feecef, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@200606de, [ImportsContextCustomizer@1b1d93e9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@69c43e48, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@547e29a4, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3d24e265, org.springframework.boot.test.context.SpringBootTestAnnotation@9c4782be], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 19:36:34,191 INFO o.e.j.s.Server [Test worker] Stopped Server@1dd74143{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:36:34,192 INFO o.e.j.s.Server [Test worker] Shutdown Server@1dd74143{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:36:34,205 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@720bf653{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:36:34,213 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5edacf20{/,null,STOPPED}
2023-07-03 19:36:34,215 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2676dc05{/__admin,null,STOPPED}
2023-07-03 19:41:08,001 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:41:08,118 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,AVAILABLE}
2023-07-03 19:41:08,167 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:41:08,168 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da16263{/,null,AVAILABLE}
2023-07-03 19:41:08,195 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:41:08,248 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @13398ms
2023-07-03 19:41:13,020 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:41:13,217 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:41:13,360 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 2845 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:41:13,362 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:41:13,365 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:41:13,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:41:13,671 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79252c83 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:41:13,672 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:41:13,672 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:41:13,672 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:41:13,672 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca7e37f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:41:17,989 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:41:17,994 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:41:18,555 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:41:18,567 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:41:18,573 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 511 ms. Found 0 Redis repository interfaces.
2023-07-03 19:41:26,618 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:41:27,242 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:41:30,327 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ac0fd1d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@744199bb, org.springframework.security.web.context.SecurityContextHolderFilter@2487b621, org.springframework.security.web.header.HeaderWriterFilter@6dde913e, org.springframework.security.web.authentication.logout.LogoutFilter@7d49fe37, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@623ed5ed, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@49e92724, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2ba4b32b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@643a73fa, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6ce8bf64, org.springframework.security.web.session.ConcurrentSessionFilter@71e55e48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@736a8aea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2caa9666, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6413eeb7, org.springframework.security.web.access.ExceptionTranslationFilter@8eeb4c5, org.springframework.security.web.access.intercept.AuthorizationFilter@252d2ac0]
2023-07-03 19:41:30,572 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 19:41:30,593 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 19:41:30,657 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 19:41:30,680 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@4197e859]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@8961e55 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@67eabe02 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 19:41:30,744 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:41:30,746 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:41:30,765 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:41:30,773 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da16263{/,null,STOPPED}
2023-07-03 19:41:30,775 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,STOPPED}
2023-07-03 19:46:14,797 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:46:14,866 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,AVAILABLE}
2023-07-03 19:46:14,893 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:46:14,893 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da16263{/,null,AVAILABLE}
2023-07-03 19:46:14,912 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:46:14,953 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @7083ms
2023-07-03 19:46:18,105 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:46:18,223 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:46:18,306 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 3205 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:46:18,308 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:46:18,309 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:46:18,436 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:46:18,437 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79252c83 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:46:18,437 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:46:18,437 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:46:18,437 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:46:18,437 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca7e37f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:46:20,675 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:46:20,676 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:46:20,841 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:46:20,849 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:46:20,852 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 146 ms. Found 0 Redis repository interfaces.
2023-07-03 19:46:26,059 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:46:26,587 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:46:29,690 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59263f7b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7ddcd3d, org.springframework.security.web.context.SecurityContextHolderFilter@71c91121, org.springframework.security.web.header.HeaderWriterFilter@74901d7, org.springframework.security.web.authentication.logout.LogoutFilter@647b3fd3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@15ea0ca3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f3a92fd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e111e08, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5d260494, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@447a557b, org.springframework.security.web.session.ConcurrentSessionFilter@5c40402c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@568fd3de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36f438f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cab8d52, org.springframework.security.web.access.ExceptionTranslationFilter@5ca10d0e, org.springframework.security.web.access.intercept.AuthorizationFilter@5519ef7d]
2023-07-03 19:46:29,879 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 19:46:29,903 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 19:46:29,959 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 19:46:29,981 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@bb1b872]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1512efe9 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@7cc7e441 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 19:46:30,034 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:46:30,034 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:46:30,049 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:46:30,056 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da16263{/,null,STOPPED}
2023-07-03 19:46:30,058 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,STOPPED}
2023-07-03 19:47:53,140 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:47:53,181 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,AVAILABLE}
2023-07-03 19:47:53,202 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:47:53,202 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da16263{/,null,AVAILABLE}
2023-07-03 19:47:53,214 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:47:53,231 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @4313ms
2023-07-03 19:47:54,963 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:47:55,017 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:47:55,057 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 3334 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:47:55,057 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:47:55,059 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:47:55,179 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:47:55,179 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79252c83 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:47:55,179 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:47:55,179 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:47:55,180 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:47:55,180 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca7e37f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:47:56,450 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:47:56,450 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:47:56,535 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:47:56,539 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:47:56,541 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 72 ms. Found 0 Redis repository interfaces.
2023-07-03 19:47:59,382 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:47:59,649 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:48:01,493 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab2e887, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4daead88, org.springframework.security.web.context.SecurityContextHolderFilter@d43f205, org.springframework.security.web.header.HeaderWriterFilter@1892865f, org.springframework.security.web.authentication.logout.LogoutFilter@4518497e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7d432bc0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6b04689e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4be5b9b1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1e366f0f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@43aa767, org.springframework.security.web.session.ConcurrentSessionFilter@1ecd09d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3efd3302, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44d2bbc0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b3c11ce, org.springframework.security.web.access.ExceptionTranslationFilter@27bc2650, org.springframework.security.web.access.intercept.AuthorizationFilter@147c4523]
2023-07-03 19:48:01,607 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 19:48:01,632 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 19:48:01,668 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 19:48:01,688 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@6a0aa5e2]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@58b30e3e testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@5325674a key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 19:48:01,727 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:48:01,730 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:48:01,742 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:48:01,757 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da16263{/,null,STOPPED}
2023-07-03 19:48:01,759 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,STOPPED}
2023-07-03 19:48:39,999 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:48:40,032 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,AVAILABLE}
2023-07-03 19:48:40,058 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:48:40,058 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da16263{/,null,AVAILABLE}
2023-07-03 19:48:40,069 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:48:40,084 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @4519ms
2023-07-03 19:48:41,761 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:48:41,818 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:48:41,868 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 3391 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:48:41,869 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:48:41,870 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:48:41,926 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:48:41,926 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79252c83 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:48:41,926 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:48:41,926 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:48:41,926 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:48:41,926 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca7e37f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:48:43,071 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:48:43,072 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:48:43,165 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:48:43,170 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:48:43,171 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 79 ms. Found 0 Redis repository interfaces.
2023-07-03 19:48:45,901 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:48:46,170 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:48:47,910 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1390a415, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a5b1af7, org.springframework.security.web.context.SecurityContextHolderFilter@586b78d7, org.springframework.security.web.header.HeaderWriterFilter@24e31f06, org.springframework.security.web.csrf.CsrfFilter@3ba815ee, org.springframework.security.web.authentication.logout.LogoutFilter@46c19350, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@14745c3c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bbb3280, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7dda5b25, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5fe024a7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4932d580, org.springframework.security.web.session.ConcurrentSessionFilter@310cc4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48b01607, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c29f6be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7603cfc2, org.springframework.security.web.access.ExceptionTranslationFilter@45b2b0ed, org.springframework.security.web.access.intercept.AuthorizationFilter@396519b]
2023-07-03 19:48:48,056 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 19:48:48,076 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 19:48:48,155 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 19:48:48,187 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@363a09a2]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260ccf0 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@2566247d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 19:48:48,229 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:48:48,229 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:48:48,239 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:48:48,244 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da16263{/,null,STOPPED}
2023-07-03 19:48:48,245 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5731d3a{/__admin,null,STOPPED}
2023-07-03 19:50:24,534 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:50:24,567 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@64920dc2{/__admin,null,AVAILABLE}
2023-07-03 19:50:24,587 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:50:24,587 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4e83a98{/,null,AVAILABLE}
2023-07-03 19:50:24,605 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@28cb3a25{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:50:24,620 INFO o.e.j.s.Server [Test worker] Started Server@3119cf6f{STARTING}[11.0.15,sto=1000] @4105ms
2023-07-03 19:50:26,453 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:50:26,497 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:50:26,554 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 3521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:50:26,556 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:50:26,557 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:50:26,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:50:26,601 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1eeb5818 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:50:26,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:50:26,602 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:50:26,602 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:50:26,602 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71531dd7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:50:30,600 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:50:30,876 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:50:32,702 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2af31aba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@682d8dad, org.springframework.security.web.context.SecurityContextHolderFilter@37dc7661, org.springframework.security.web.header.HeaderWriterFilter@707b38a1, org.springframework.security.web.authentication.logout.LogoutFilter@6addfa22, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d195d15, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@17b387ef, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@489b7559, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@458704ee, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1aebe759, org.springframework.security.web.session.ConcurrentSessionFilter@21f94fe3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e755d5f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34588991, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fd37997, org.springframework.security.web.access.ExceptionTranslationFilter@6693818c, org.springframework.security.web.access.intercept.AuthorizationFilter@524c3e54]
2023-07-03 19:50:33,316 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 19:50:33,317 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 19:50:33,363 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 41 ms
2023-07-03 19:50:33,614 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 8.849 seconds (process running for 13.099)
2023-07-03 19:50:34,121 INFO o.e.j.s.Server [Test worker] Stopped Server@3119cf6f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:50:34,121 INFO o.e.j.s.Server [Test worker] Shutdown Server@3119cf6f{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:50:34,128 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@28cb3a25{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:50:34,133 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4e83a98{/,null,STOPPED}
2023-07-03 19:50:34,134 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@64920dc2{/__admin,null,STOPPED}
2023-07-03 19:55:03,587 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 19:55:03,678 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-03 19:55:04,559 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 19:55:04,589 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,AVAILABLE}
2023-07-03 19:55:04,598 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:55:04,599 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2539cd1c{/,null,AVAILABLE}
2023-07-03 19:55:04,605 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:04,616 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @2089ms
2023-07-03 19:55:05,233 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:55:05,243 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:55:05,257 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 3943 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:55:05,257 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:55:05,257 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:55:05,278 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:05,279 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a788fe0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:05,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:05,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:55:05,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:05,279 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6238d5e0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:05,846 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:55:05,847 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 19:55:05,949 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 98 ms. Found 2 JPA repository interfaces.
2023-07-03 19:55:05,964 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 19:55:05,965 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 19:55:05,977 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:55:05,977 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 19:55:05,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-03 19:55:06,174 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=a42110ca-4e99-39dc-8dad-2a998d3109c6
2023-07-03 19:55:06,241 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:55:06,270 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-03 19:55:06,498 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-03 19:55:06,708 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 19:55:06,790 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5cb32140
2023-07-03 19:55:06,791 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 19:55:06,886 INFO l.database [Test worker] Set default schema name to public
2023-07-03 19:55:06,978 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 19:55:07,281 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 19:55:07,354 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 19:55:07,360 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 19:55:07,360 INFO l.util [Test worker] Run:                          0
2023-07-03 19:55:07,360 INFO l.util [Test worker] Previously run:               5
2023-07-03 19:55:07,360 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 19:55:07,360 INFO l.util [Test worker] -------------------------------
2023-07-03 19:55:07,360 INFO l.util [Test worker] Total change sets:            5

2023-07-03 19:55:07,361 INFO l.util [Test worker] Update summary generated
2023-07-03 19:55:07,363 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 19:55:07,366 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 19:55:07,366 INFO l.command [Test worker] Command execution complete
2023-07-03 19:55:07,436 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 19:55:07,482 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 19:55:07,483 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 19:55:07,564 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 19:55:07,654 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 19:55:07,679 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6d4dac56
2023-07-03 19:55:07,827 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 19:55:08,336 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 19:55:08,413 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 19:55:08,628 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 19:55:09,107 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-03 19:55:09,182 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:55:09,611 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56bca113, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6413c144, org.springframework.security.web.context.SecurityContextHolderFilter@2e145f7b, org.springframework.security.web.header.HeaderWriterFilter@291a8ecd, org.springframework.security.web.authentication.logout.LogoutFilter@223a5a4b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2351ad5a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@27f0a71d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1dc7173, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5eea3f69, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@20baa4eb, org.springframework.security.web.session.ConcurrentSessionFilter@1a4e3cbb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31caf651, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2de0f3e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b1fecfc, org.springframework.security.web.access.ExceptionTranslationFilter@3cf6f3aa, org.springframework.security.web.access.intercept.AuthorizationFilter@651eefb3]
2023-07-03 19:55:10,171 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.498 seconds (process running for 7.645)
2023-07-03 19:55:10,554 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:10,554 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:10,557 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:10,559 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2539cd1c{/,null,STOPPED}
2023-07-03 19:55:10,559 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,STOPPED}
2023-07-03 19:55:11,043 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 19:55:11,044 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@13cd4784{/__admin,null,AVAILABLE}
2023-07-03 19:55:11,044 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:55:11,045 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@954e5d5{/,null,AVAILABLE}
2023-07-03 19:55:11,045 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@e25817f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:11,045 INFO o.e.j.s.Server [Test worker] Started Server@57598df7{STARTING}[11.0.15,sto=1000] @8519ms
2023-07-03 19:55:11,159 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:55:11,161 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 3943 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:55:11,162 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:55:11,162 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:55:11,166 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:11,166 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7bf344dd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:11,166 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:11,166 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:55:11,166 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:11,166 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@243f5144 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:11,477 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:55:11,490 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:55:11,861 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@309c821d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@381f7b8e, org.springframework.security.web.context.SecurityContextHolderFilter@a809e74, org.springframework.security.web.header.HeaderWriterFilter@5e53faa8, org.springframework.security.web.authentication.logout.LogoutFilter@49d761c3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6e2cd4f4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1c07798b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9b79784, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7cdab66c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1f739627, org.springframework.security.web.session.ConcurrentSessionFilter@1ddf7d19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5bcc10fa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a8b3791, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a4d39fa, org.springframework.security.web.access.ExceptionTranslationFilter@2a0f625c, org.springframework.security.web.access.intercept.AuthorizationFilter@23635e39]
2023-07-03 19:55:12,035 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 19:55:12,035 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 19:55:12,036 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-03 19:55:12,133 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 1.084 seconds (process running for 9.606)
2023-07-03 19:55:12,364 INFO o.e.j.s.Server [Test worker] Stopped Server@57598df7{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:12,364 INFO o.e.j.s.Server [Test worker] Shutdown Server@57598df7{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:12,365 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@e25817f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:12,365 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@954e5d5{/,null,STOPPED}
2023-07-03 19:55:12,365 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@13cd4784{/__admin,null,STOPPED}
2023-07-03 19:55:12,381 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 19:55:12,383 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@12caa0e8{/__admin,null,AVAILABLE}
2023-07-03 19:55:12,383 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:55:12,383 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f5840ba{/,null,AVAILABLE}
2023-07-03 19:55:12,384 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5af56d01{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:12,384 INFO o.e.j.s.Server [Test worker] Started Server@48c5e6fb{STARTING}[11.0.15,sto=1000] @9857ms
2023-07-03 19:55:12,454 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:55:12,456 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 3943 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:55:12,457 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:55:12,457 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:55:12,459 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:12,459 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a4cfae4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:12,459 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:12,459 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:55:12,459 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:12,459 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7eaf7a70 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:12,683 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:55:12,711 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:55:13,023 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@355ca6c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@159fac74, org.springframework.security.web.context.SecurityContextHolderFilter@ca31114, org.springframework.security.web.header.HeaderWriterFilter@7188b0db, org.springframework.security.web.authentication.logout.LogoutFilter@d0a2a80, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@471cffe0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1b1e93a9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@249ef826, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5ce4b8ef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a73e6b5, org.springframework.security.web.session.ConcurrentSessionFilter@5d589727, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71a69653, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@459cfed4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29ff6e15, org.springframework.security.web.access.ExceptionTranslationFilter@11cd86bd, org.springframework.security.web.access.intercept.AuthorizationFilter@5618e97c]
2023-07-03 19:55:13,136 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 19:55:13,137 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 19:55:13,137 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-03 19:55:13,168 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.781 seconds (process running for 10.641)
2023-07-03 19:55:13,280 INFO o.e.j.s.Server [Test worker] Stopped Server@48c5e6fb{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:13,280 INFO o.e.j.s.Server [Test worker] Shutdown Server@48c5e6fb{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:13,281 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5af56d01{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:13,281 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f5840ba{/,null,STOPPED}
2023-07-03 19:55:13,281 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@12caa0e8{/__admin,null,STOPPED}
2023-07-03 19:55:13,293 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 19:55:13,295 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6cee43d8{/__admin,null,AVAILABLE}
2023-07-03 19:55:13,296 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:55:13,296 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c4c4df8{/,null,AVAILABLE}
2023-07-03 19:55:13,296 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5f03144a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:13,297 INFO o.e.j.s.Server [Test worker] Started Server@5e220be6{STARTING}[11.0.15,sto=1000] @10770ms
2023-07-03 19:55:13,364 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:55:13,366 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 3943 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:55:13,366 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:55:13,366 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:55:13,368 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:13,368 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@748ee45e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:13,368 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:13,368 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:55:13,368 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:55:13,368 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2b7c980 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:55:13,598 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:55:13,838 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d85487, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e666559, org.springframework.security.web.context.SecurityContextHolderFilter@204563c, org.springframework.security.web.header.HeaderWriterFilter@2f8a57c2, org.springframework.security.web.authentication.logout.LogoutFilter@1abde659, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@649b0336, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1161bed2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78626f16, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7a8a2cd8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@226ddb69, org.springframework.security.web.session.ConcurrentSessionFilter@30a56cce, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c1b9f36, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61d2ff30, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@499c0aed, org.springframework.security.web.access.ExceptionTranslationFilter@14415802, org.springframework.security.web.access.intercept.AuthorizationFilter@4727acf9]
2023-07-03 19:55:13,947 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 19:55:13,947 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 19:55:13,948 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-03 19:55:13,981 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.682 seconds (process running for 11.454)
2023-07-03 19:55:14,013 INFO o.e.j.s.Server [Test worker] Stopped Server@5e220be6{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:14,013 INFO o.e.j.s.Server [Test worker] Shutdown Server@5e220be6{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:55:14,014 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5f03144a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:55:14,014 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c4c4df8{/,null,STOPPED}
2023-07-03 19:55:14,014 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6cee43d8{/__admin,null,STOPPED}
2023-07-03 19:55:14,042 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 19:55:14,062 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-03 19:55:14,089 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-03 19:55:14,240 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-03 19:55:15,274 WARN o.t.d.DockerClientProviderStrategy [Test worker] DOCKER_HOST unix:///var/run/docker.sock is not listening
2023-07-03 19:55:15,279 INFO o.t.d.DockerMachineClientProviderStrategy [Test worker] docker-machine executable was not found on PATH ([/Users/artemaverkov/yandex-cloud/bin, /opt/homebrew/bin, /opt/homebrew/sbin, /usr/local/bin, /System/Cryptexes/App/usr/bin, /usr/bin, /bin, /usr/sbin, /sbin, /usr/local/mysql/bin, /var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/local/bin, /var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/bin, /var/run/com.apple.security.cryptexd/codex.system/bootstrap/usr/appleinternal/bin])
2023-07-03 19:55:15,280 ERROR o.t.d.DockerClientProviderStrategy [Test worker] Could not find a valid Docker environment. Please check configuration. Attempted configurations were:
As no valid configuration was found, execution cannot continue.
See https://www.testcontainers.org/on_failure.html for more details.
2023-07-03 19:55:15,284 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 19:55:15,289 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-03 19:55:15,589 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 19:55:15,591 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 19:55:15,593 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 19:56:59,081 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:56:59,124 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@167381c7{/__admin,null,AVAILABLE}
2023-07-03 19:56:59,143 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:56:59,144 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d4e13e1{/,null,AVAILABLE}
2023-07-03 19:56:59,153 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@23a5818e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:56:59,172 INFO o.e.j.s.Server [Test worker] Started Server@45e9b12d{STARTING}[11.0.15,sto=1000] @4228ms
2023-07-03 19:57:00,945 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:57:00,992 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:57:01,031 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 4128 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:57:01,032 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:57:01,034 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:57:01,075 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:57:01,075 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1373e3ee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:57:01,075 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:57:01,075 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:57:01,075 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:57:01,075 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4fb57fb3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:57:05,101 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:57:05,618 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:57:07,559 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16c1345b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@278cbf5a, org.springframework.security.web.context.SecurityContextHolderFilter@52bcfd10, org.springframework.security.web.header.HeaderWriterFilter@1e5190bd, org.springframework.security.web.authentication.logout.LogoutFilter@35c3d6e8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2571bdf4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@241abc2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7e5e7753, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5862ab28, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1c41931a, org.springframework.security.web.session.ConcurrentSessionFilter@105cdf61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@329aa2d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@103033fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62cb977a, org.springframework.security.web.access.ExceptionTranslationFilter@6c92a59d, org.springframework.security.web.access.intercept.AuthorizationFilter@41c83af0]
2023-07-03 19:57:08,394 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 19:57:08,396 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 19:57:08,400 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 3 ms
2023-07-03 19:57:08,608 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 9.263 seconds (process running for 13.665)
2023-07-03 19:57:09,471 INFO o.e.j.s.Server [Test worker] Stopped Server@45e9b12d{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:57:09,472 INFO o.e.j.s.Server [Test worker] Shutdown Server@45e9b12d{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:57:09,498 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@23a5818e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:57:09,515 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d4e13e1{/,null,STOPPED}
2023-07-03 19:57:09,518 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@167381c7{/__admin,null,STOPPED}
2023-07-03 19:58:44,948 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 19:58:44,985 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@167381c7{/__admin,null,AVAILABLE}
2023-07-03 19:58:45,009 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 19:58:45,009 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d4e13e1{/,null,AVAILABLE}
2023-07-03 19:58:45,022 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@23a5818e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:58:45,040 INFO o.e.j.s.Server [Test worker] Started Server@45e9b12d{STARTING}[11.0.15,sto=1000] @4533ms
2023-07-03 19:58:46,711 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 19:58:46,764 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 19:58:46,800 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 4260 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 19:58:46,801 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 19:58:46,802 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 19:58:46,834 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:58:46,834 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1373e3ee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:58:46,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:58:46,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 19:58:46,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 19:58:46,835 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4fb57fb3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 19:58:50,813 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 19:58:51,088 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 19:58:52,856 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fc8163, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c26e588, org.springframework.security.web.context.SecurityContextHolderFilter@41dc34c8, org.springframework.security.web.header.HeaderWriterFilter@3220833f, org.springframework.security.web.authentication.logout.LogoutFilter@682d8dad, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@23f539df, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@b859355, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1f24e33d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@466cca41, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@62f73b0c, org.springframework.security.web.session.ConcurrentSessionFilter@2d527346, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e322108, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6265a548, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7dd2a5f7, org.springframework.security.web.access.ExceptionTranslationFilter@74b521c, org.springframework.security.web.access.intercept.AuthorizationFilter@6b468710]
2023-07-03 19:58:53,515 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 19:58:53,518 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 19:58:53,532 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 12 ms
2023-07-03 19:58:53,762 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 8.57 seconds (process running for 13.255)
2023-07-03 19:58:54,228 INFO o.e.j.s.Server [Test worker] Stopped Server@45e9b12d{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:58:54,228 INFO o.e.j.s.Server [Test worker] Shutdown Server@45e9b12d{STOPPING}[11.0.15,sto=1000]
2023-07-03 19:58:54,234 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@23a5818e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 19:58:54,242 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d4e13e1{/,null,STOPPED}
2023-07-03 19:58:54,242 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@167381c7{/__admin,null,STOPPED}
2023-07-03 20:01:04,436 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:01:04,518 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-03 20:01:05,265 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:01:05,280 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,AVAILABLE}
2023-07-03 20:01:05,285 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:01:05,285 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2539cd1c{/,null,AVAILABLE}
2023-07-03 20:01:05,290 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:05,297 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1957ms
2023-07-03 20:01:05,771 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 20:01:05,779 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:01:05,788 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 5805 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:01:05,788 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:01:05,789 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:01:05,806 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:05,807 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a788fe0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:05,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:05,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:01:05,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:05,807 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6238d5e0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:06,308 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:01:06,309 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:01:06,416 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 102 ms. Found 2 JPA repository interfaces.
2023-07-03 20:01:06,429 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:01:06,430 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 20:01:06,441 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:01:06,441 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:01:06,441 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-03 20:01:06,632 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-03 20:01:06,698 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:01:06,724 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-03 20:01:06,928 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-03 20:01:06,936 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-03 20:01:07,147 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 20:01:07,224 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@eb09112
2023-07-03 20:01:07,225 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 20:01:07,312 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:01:07,406 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:01:07,688 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:01:07,760 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:01:07,765 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:01:07,777 INFO l.util [Test worker] Run:                          0
2023-07-03 20:01:07,777 INFO l.util [Test worker] Previously run:               5
2023-07-03 20:01:07,777 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:01:07,777 INFO l.util [Test worker] -------------------------------
2023-07-03 20:01:07,777 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:01:07,777 INFO l.util [Test worker] Update summary generated
2023-07-03 20:01:07,780 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:01:07,783 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:01:07,783 INFO l.command [Test worker] Command execution complete
2023-07-03 20:01:07,855 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:01:07,899 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 20:01:07,900 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 20:01:07,989 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:01:08,082 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:01:08,103 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@626e5554
2023-07-03 20:01:08,254 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:01:08,737 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:01:08,791 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:01:09,015 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 20:01:09,502 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-03 20:01:09,570 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:01:09,951 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6cf04303, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cbcd442, org.springframework.security.web.context.SecurityContextHolderFilter@6e46f5c1, org.springframework.security.web.header.HeaderWriterFilter@17c3a3, org.springframework.security.web.authentication.logout.LogoutFilter@1801a55a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@390e513a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@346dec80, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@143f4d52, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7977ed32, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@20677bc2, org.springframework.security.web.session.ConcurrentSessionFilter@6f854741, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e64ee56, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63e67888, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e888636, org.springframework.security.web.access.ExceptionTranslationFilter@5379839c, org.springframework.security.web.access.intercept.AuthorizationFilter@3c7ac542]
2023-07-03 20:01:10,487 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.156 seconds (process running for 7.148)
2023-07-03 20:01:10,928 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:10,928 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:10,934 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:10,936 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2539cd1c{/,null,STOPPED}
2023-07-03 20:01:10,936 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,STOPPED}
2023-07-03 20:01:11,444 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:01:11,445 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@12d0699d{/__admin,null,AVAILABLE}
2023-07-03 20:01:11,446 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:01:11,446 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@600dfbca{/,null,AVAILABLE}
2023-07-03 20:01:11,446 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6dd5923a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:11,447 INFO o.e.j.s.Server [Test worker] Started Server@6a474e00{STARTING}[11.0.15,sto=1000] @8107ms
2023-07-03 20:01:11,594 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:01:11,597 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 5805 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:01:11,598 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:01:11,598 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:01:11,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:11,603 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@12bd68bb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:11,604 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:11,604 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:01:11,604 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:11,604 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@12c448c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:11,932 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:01:11,937 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:01:12,085 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@34486068, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7343da7c, org.springframework.security.web.context.SecurityContextHolderFilter@7f9c9fce, org.springframework.security.web.header.HeaderWriterFilter@5b832bf7, org.springframework.security.web.authentication.logout.LogoutFilter@7f699066, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1f0b18ed, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2c5241ca, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a0108a5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@63a7a23a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4da189cf, org.springframework.security.web.session.ConcurrentSessionFilter@3ae7e1f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24546c9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@664a3770, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f77e4fe, org.springframework.security.web.access.ExceptionTranslationFilter@17698f4c, org.springframework.security.web.access.intercept.AuthorizationFilter@16471411]
2023-07-03 20:01:12,149 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:01:12,150 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:01:12,151 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-03 20:01:12,245 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.795 seconds (process running for 8.906)
2023-07-03 20:01:12,465 INFO o.e.j.s.Server [Test worker] Stopped Server@6a474e00{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:12,466 INFO o.e.j.s.Server [Test worker] Shutdown Server@6a474e00{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:12,466 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6dd5923a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:12,467 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@600dfbca{/,null,STOPPED}
2023-07-03 20:01:12,467 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@12d0699d{/__admin,null,STOPPED}
2023-07-03 20:01:12,483 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:01:12,486 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57d9db79{/__admin,null,AVAILABLE}
2023-07-03 20:01:12,487 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:01:12,487 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1de68599{/,null,AVAILABLE}
2023-07-03 20:01:12,487 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@500a67c4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:12,488 INFO o.e.j.s.Server [Test worker] Started Server@154398a5{STARTING}[11.0.15,sto=1000] @9148ms
2023-07-03 20:01:12,560 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:01:12,562 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 5805 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:01:12,562 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:01:12,562 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:01:12,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:12,564 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3bbd0a50 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:12,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:12,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:01:12,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:12,565 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@464c80ac uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:12,790 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:01:12,794 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:01:12,915 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4db6794c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66893cd4, org.springframework.security.web.context.SecurityContextHolderFilter@74e8f4a3, org.springframework.security.web.header.HeaderWriterFilter@52924c1c, org.springframework.security.web.authentication.logout.LogoutFilter@1923858b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@10d77866, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@15ddb82a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@54c659a1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@379b6a27, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1eedd4c7, org.springframework.security.web.session.ConcurrentSessionFilter@249e3cb2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2207eb9f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62b5a16f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78809dea, org.springframework.security.web.access.ExceptionTranslationFilter@3d3d6089, org.springframework.security.web.access.intercept.AuthorizationFilter@3a7473b6]
2023-07-03 20:01:12,957 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:01:12,957 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:01:12,957 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-03 20:01:12,971 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.48 seconds (process running for 9.631)
2023-07-03 20:01:13,050 INFO o.e.j.s.Server [Test worker] Stopped Server@154398a5{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:13,050 INFO o.e.j.s.Server [Test worker] Shutdown Server@154398a5{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:13,051 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@500a67c4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:13,052 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1de68599{/,null,STOPPED}
2023-07-03 20:01:13,052 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57d9db79{/__admin,null,STOPPED}
2023-07-03 20:01:13,064 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:01:13,065 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@459cfed4{/__admin,null,AVAILABLE}
2023-07-03 20:01:13,065 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:01:13,065 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1151580c{/,null,AVAILABLE}
2023-07-03 20:01:13,066 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6e5d2207{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:13,066 INFO o.e.j.s.Server [Test worker] Started Server@485b39d6{STARTING}[11.0.15,sto=1000] @9726ms
2023-07-03 20:01:13,138 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:01:13,140 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 5805 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:01:13,140 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:01:13,140 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:01:13,142 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:13,142 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@24af2901 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:13,142 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:13,142 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:01:13,142 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:13,142 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6ae0c053 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:13,363 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:01:13,441 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4351da3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@587011f0, org.springframework.security.web.context.SecurityContextHolderFilter@730fcd33, org.springframework.security.web.header.HeaderWriterFilter@21dcd0b5, org.springframework.security.web.authentication.logout.LogoutFilter@79d55957, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@603785d0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@337b6760, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@62779497, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@fd1544c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@30582df9, org.springframework.security.web.session.ConcurrentSessionFilter@ff8fe1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f737b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@471142b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ed5c449, org.springframework.security.web.access.ExceptionTranslationFilter@3368136a, org.springframework.security.web.access.intercept.AuthorizationFilter@316ae9cb]
2023-07-03 20:01:13,477 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:01:13,477 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:01:13,478 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-03 20:01:13,493 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.425 seconds (process running for 10.154)
2023-07-03 20:01:13,520 INFO o.e.j.s.Server [Test worker] Stopped Server@485b39d6{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:13,520 INFO o.e.j.s.Server [Test worker] Shutdown Server@485b39d6{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:13,521 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6e5d2207{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:13,521 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1151580c{/,null,STOPPED}
2023-07-03 20:01:13,522 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@459cfed4{/__admin,null,STOPPED}
2023-07-03 20:01:13,554 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:01:13,575 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-03 20:01:13,603 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-03 20:01:13,750 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-03 20:01:14,099 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-03 20:01:14,100 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-03 20:01:14,118 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-03 20:01:14,147 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-03 20:01:15,359 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-03 20:01:15,563 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 2ee6edcdd0bf71fc536fa5ed2d06779d6ff9c1356fce7e6170272ebfb2db8e00
2023-07-03 20:01:16,603 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.481324S
2023-07-03 20:01:16,610 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-03 20:01:16,610 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-03 20:01:16,610 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-03 20:01:16,611 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:01:16,661 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d12514f76eba573bf9a9f71d8d0a7456a8567e4e3b9ccee08a09601ab5a757b3
2023-07-03 20:01:18,465 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.853958S
2023-07-03 20:01:18,466 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:53349/test?loggerLevel=OFF)
2023-07-03 20:01:18,471 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:01:18,472 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6716eb44{/__admin,null,AVAILABLE}
2023-07-03 20:01:18,473 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:01:18,473 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@979ca7c{/,null,AVAILABLE}
2023-07-03 20:01:18,473 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7d1a7bd8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:18,473 INFO o.e.j.s.Server [Test worker] Started Server@67488c90{STARTING}[11.0.15,sto=1000] @15134ms
2023-07-03 20:01:18,531 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:01:18,533 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 5805 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:01:18,533 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:01:18,534 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:01:18,535 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:18,535 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@622f5b1d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:18,535 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:18,535 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:01:18,535 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:01:18,535 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5c471bab uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:01:18,614 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:01:18,614 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:01:18,626 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2023-07-03 20:01:18,670 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-03 20:01:18,768 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1df24b08
2023-07-03 20:01:18,769 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-03 20:01:18,784 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:01:18,829 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:01:18,925 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-03 20:01:18,930 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:01:19,019 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:01:19,019 INFO l.util [Test worker] Run:                          5
2023-07-03 20:01:19,019 INFO l.util [Test worker] Previously run:               0
2023-07-03 20:01:19,020 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:01:19,020 INFO l.util [Test worker] -------------------------------
2023-07-03 20:01:19,020 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:01:19,020 INFO l.util [Test worker] Update summary generated
2023-07-03 20:01:19,025 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:01:19,042 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:01:19,044 INFO l.command [Test worker] Command execution complete
2023-07-03 20:01:19,057 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:01:19,063 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:01:19,063 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:01:19,064 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5a2e288d
2023-07-03 20:01:19,079 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:01:19,113 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:01:19,139 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:01:19,248 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.772 seconds (process running for 15.909)
2023-07-03 20:01:19,269 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest.shouldSearchCommentsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@4ea0babf]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:01:19,295 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest.shouldSearchCommentsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@4974318d]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:01:19,301 INFO o.e.j.s.Server [Test worker] Stopped Server@67488c90{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:19,301 INFO o.e.j.s.Server [Test worker] Shutdown Server@67488c90{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:19,302 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7d1a7bd8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:19,302 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@979ca7c{/,null,STOPPED}
2023-07-03 20:01:19,303 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6716eb44{/__admin,null,STOPPED}
2023-07-03 20:01:19,306 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:01:19,309 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-03 20:01:19,310 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:01:19,387 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e70b9c52cc07e64a819e04f38e6f2118716d1e3f9cbeb8c51a0832924b25d42a
2023-07-03 20:01:21,084 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.77339S
2023-07-03 20:01:21,084 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:53399/test?loggerLevel=OFF)
2023-07-03 20:01:21,088 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:01:21,091 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@17ac0057{/__admin,null,AVAILABLE}
2023-07-03 20:01:21,091 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:01:21,091 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6b5d148c{/,null,AVAILABLE}
2023-07-03 20:01:21,092 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7dc963f9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:21,092 INFO o.e.j.s.Server [Test worker] Started Server@20cfbff6{STARTING}[11.0.15,sto=1000] @17753ms
2023-07-03 20:01:21,100 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@3ceb2d1c]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:01:21,110 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@21ea8719]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:01:21,118 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@7c20ce5f]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:01:21,123 INFO o.e.j.s.Server [Test worker] Stopped Server@20cfbff6{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:21,123 INFO o.e.j.s.Server [Test worker] Shutdown Server@20cfbff6{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:01:21,124 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7dc963f9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:01:21,124 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6b5d148c{/,null,STOPPED}
2023-07-03 20:01:21,124 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@17ac0057{/__admin,null,STOPPED}
2023-07-03 20:01:21,359 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:01:21,361 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 20:01:21,362 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 20:01:21,374 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:01:21,374 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-03 20:01:21,375 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-03 20:02:33,532 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:02:33,879 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-03 20:02:34,079 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-03 20:02:34,555 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-03 20:02:35,242 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-03 20:02:35,246 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-03 20:02:35,291 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-03 20:02:35,375 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-03 20:02:36,254 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-03 20:02:36,454 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 7bc1ff12707198be7d8665e5d339025937e362ff07f00e529b55d8660551b9c5
2023-07-03 20:02:37,205 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.902688S
2023-07-03 20:02:37,217 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-03 20:02:37,217 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-03 20:02:37,218 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-03 20:02:37,221 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:02:37,269 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 9fbb7e36a09c7948b5030651b9ea7db8e3e16b62f8396a663a7f5f0d50539a4b
2023-07-03 20:02:38,909 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.689277S
2023-07-03 20:02:38,913 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54750/test?loggerLevel=OFF)
2023-07-03 20:02:40,256 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:02:40,301 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@720f56e2{/__admin,null,AVAILABLE}
2023-07-03 20:02:40,336 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:02:40,336 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3b170235{/,null,AVAILABLE}
2023-07-03 20:02:40,351 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@622d7e4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:02:40,371 INFO o.e.j.s.Server [Test worker] Started Server@9d3d54e{STARTING}[11.0.15,sto=1000] @9515ms
2023-07-03 20:02:41,775 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 20:02:41,868 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:02:41,924 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 6033 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:02:41,925 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:02:41,927 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:02:42,007 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:02:42,008 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16b7e04a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:02:42,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:02:42,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:02:42,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:02:42,008 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@53525379 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:02:43,526 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:02:43,529 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:02:43,884 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 343 ms. Found 2 JPA repository interfaces.
2023-07-03 20:02:45,436 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 20:02:45,757 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2696b687
2023-07-03 20:02:45,761 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 20:02:46,069 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:02:46,512 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:02:47,774 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-03 20:02:47,910 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:02:48,329 INFO l.command [Test worker] Using deploymentId: 8403767922
2023-07-03 20:02:48,424 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:02:48,810 INFO l.changelog [Test worker] Table comment created
2023-07-03 20:02:48,816 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 64ms
2023-07-03 20:02:48,862 INFO l.changelog [Test worker] Table news created
2023-07-03 20:02:48,864 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 18ms
2023-07-03 20:02:48,886 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-03 20:02:48,888 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 16ms
2023-07-03 20:02:48,898 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,901 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,904 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,907 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,909 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,913 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,915 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,924 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,927 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,931 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,936 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,938 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,940 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,944 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,951 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,967 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,969 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,972 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,974 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,977 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:02:48,978 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 85ms
2023-07-03 20:02:48,995 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,000 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,004 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,007 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,010 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,012 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,015 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,018 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,022 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,025 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,029 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,035 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,038 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,041 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,043 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,045 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,046 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,049 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,051 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,053 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,055 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,057 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,060 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,062 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,064 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,066 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,068 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,070 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,073 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,076 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,078 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,081 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,086 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,089 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,093 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,097 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,100 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,104 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,109 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,112 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:02:49,114 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 126ms
2023-07-03 20:02:49,128 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:02:49,131 INFO l.util [Test worker] Run:                          5
2023-07-03 20:02:49,131 INFO l.util [Test worker] Previously run:               0
2023-07-03 20:02:49,132 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:02:49,132 INFO l.util [Test worker] -------------------------------
2023-07-03 20:02:49,132 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:02:49,135 INFO l.util [Test worker] Update summary generated
2023-07-03 20:02:49,137 INFO l.command [Test worker] Update command completed successfully.
2023-07-03 20:02:49,148 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:02:49,166 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:02:49,171 INFO l.command [Test worker] Command execution complete
2023-07-03 20:02:49,426 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:02:49,527 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 20:02:49,530 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 20:02:49,767 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:02:50,097 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:02:50,399 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6f7e5e11
2023-07-03 20:02:50,826 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:02:52,171 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:02:52,378 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:02:53,174 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 20:02:54,423 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 13.94 seconds (process running for 23.567)
2023-07-03 20:02:55,984 INFO o.e.j.s.Server [Test worker] Stopped Server@9d3d54e{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:02:55,985 INFO o.e.j.s.Server [Test worker] Shutdown Server@9d3d54e{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:02:55,992 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@622d7e4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:02:55,995 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3b170235{/,null,STOPPED}
2023-07-03 20:02:55,996 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@720f56e2{/__admin,null,STOPPED}
2023-07-03 20:02:56,016 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:02:56,019 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 20:02:56,032 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 20:03:10,831 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:03:11,151 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-03 20:03:11,279 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-03 20:03:11,626 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-03 20:03:12,280 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-03 20:03:12,285 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-03 20:03:12,330 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-03 20:03:12,418 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-03 20:03:13,279 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-03 20:03:13,466 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 52fb4123e8a1522edaa3aa9d51ac93a5cf585c56ba1282e9aa0691eff820aa8e
2023-07-03 20:03:14,193 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.852526S
2023-07-03 20:03:14,212 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-03 20:03:14,213 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-03 20:03:14,213 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-03 20:03:14,218 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:03:14,255 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 8fcd1faa76c9d289ad691937d2a1ae89fbf5e8d6d37aeab1aa4d2416a9e74da7
2023-07-03 20:03:15,765 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.547743S
2023-07-03 20:03:15,770 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:55404/test?loggerLevel=OFF)
2023-07-03 20:03:17,236 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:03:17,281 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@426c0486{/__admin,null,AVAILABLE}
2023-07-03 20:03:17,311 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:03:17,312 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3915e7c3{/,null,AVAILABLE}
2023-07-03 20:03:17,321 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@377949f1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:03:17,338 INFO o.e.j.s.Server [Test worker] Started Server@433ef204{STARTING}[11.0.15,sto=1000] @9082ms
2023-07-03 20:03:18,737 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 20:03:18,832 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:03:18,882 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 6121 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:03:18,883 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:03:18,884 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:03:18,917 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:03:18,917 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@aee05f4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:03:18,917 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:03:18,917 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:03:18,917 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:03:18,917 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5b0e9e0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:03:19,800 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:03:19,802 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:03:20,103 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 291 ms. Found 2 JPA repository interfaces.
2023-07-03 20:03:20,867 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 20:03:21,196 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@712e4b18
2023-07-03 20:03:21,204 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 20:03:21,568 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:03:21,915 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:03:22,772 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-03 20:03:22,789 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:03:23,063 INFO l.command [Test worker] Using deploymentId: 8403802797
2023-07-03 20:03:23,132 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:03:23,397 INFO l.changelog [Test worker] Table comment created
2023-07-03 20:03:23,402 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 36ms
2023-07-03 20:03:23,439 INFO l.changelog [Test worker] Table news created
2023-07-03 20:03:23,442 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 20ms
2023-07-03 20:03:23,459 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-03 20:03:23,460 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 12ms
2023-07-03 20:03:23,469 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,471 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,475 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,478 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,480 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,483 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,485 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,491 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,494 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,498 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,503 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,505 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,509 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,529 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,533 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,536 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,539 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,541 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,544 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,548 INFO l.changelog [Test worker] New row inserted into news
2023-07-03 20:03:23,551 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 86ms
2023-07-03 20:03:23,566 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,570 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,573 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,575 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,577 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,579 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,581 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,583 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,587 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,590 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,595 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,601 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,603 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,606 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,608 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,610 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,613 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,616 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,619 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,621 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,623 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,625 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,629 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,631 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,633 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,635 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,637 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,640 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,643 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,647 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,649 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,652 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,656 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,658 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,660 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,662 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,664 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,666 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,669 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,670 INFO l.changelog [Test worker] New row inserted into comment
2023-07-03 20:03:23,672 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 113ms
2023-07-03 20:03:23,682 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:03:23,685 INFO l.util [Test worker] Run:                          5
2023-07-03 20:03:23,685 INFO l.util [Test worker] Previously run:               0
2023-07-03 20:03:23,685 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:03:23,685 INFO l.util [Test worker] -------------------------------
2023-07-03 20:03:23,685 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:03:23,687 INFO l.util [Test worker] Update summary generated
2023-07-03 20:03:23,688 INFO l.command [Test worker] Update command completed successfully.
2023-07-03 20:03:23,694 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:03:23,709 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:03:23,710 INFO l.command [Test worker] Command execution complete
2023-07-03 20:03:23,962 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:03:24,055 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 20:03:24,060 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 20:03:24,262 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:03:24,465 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:03:24,546 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@77a6aa9f
2023-07-03 20:03:25,021 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:03:26,231 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:03:26,398 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:03:27,127 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 20:03:28,567 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 11.102 seconds (process running for 20.311)
2023-07-03 20:03:30,489 INFO o.e.j.s.Server [Test worker] Stopped Server@433ef204{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:03:30,493 INFO o.e.j.s.Server [Test worker] Shutdown Server@433ef204{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:03:30,508 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@377949f1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:03:30,514 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3915e7c3{/,null,STOPPED}
2023-07-03 20:03:30,515 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@426c0486{/__admin,null,STOPPED}
2023-07-03 20:03:30,551 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:03:30,554 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 20:03:30,562 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 20:03:54,697 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:03:54,772 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-03 20:03:55,384 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:03:55,399 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,AVAILABLE}
2023-07-03 20:03:55,404 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:03:55,404 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2539cd1c{/,null,AVAILABLE}
2023-07-03 20:03:55,409 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:03:55,416 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1847ms
2023-07-03 20:03:55,889 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 20:03:55,896 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:03:55,905 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 6274 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:03:55,905 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:03:55,906 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:03:55,924 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:03:55,924 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a788fe0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:03:55,924 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:03:55,924 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:03:55,924 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:03:55,924 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6238d5e0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:03:56,421 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:03:56,422 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:03:56,525 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 99 ms. Found 2 JPA repository interfaces.
2023-07-03 20:03:56,540 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:03:56,540 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 20:03:56,552 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:03:56,552 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:03:56,552 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-03 20:03:56,773 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-03 20:03:56,846 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:03:56,875 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-03 20:03:57,088 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-03 20:03:57,095 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-03 20:03:57,301 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 20:03:57,377 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@32bae609
2023-07-03 20:03:57,378 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 20:03:57,464 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:03:57,559 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:03:57,877 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:03:57,937 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:03:57,943 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:03:57,943 INFO l.util [Test worker] Run:                          0
2023-07-03 20:03:57,943 INFO l.util [Test worker] Previously run:               5
2023-07-03 20:03:57,943 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:03:57,943 INFO l.util [Test worker] -------------------------------
2023-07-03 20:03:57,943 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:03:57,944 INFO l.util [Test worker] Update summary generated
2023-07-03 20:03:57,946 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:03:57,949 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:03:57,950 INFO l.command [Test worker] Command execution complete
2023-07-03 20:03:58,013 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:03:58,058 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 20:03:58,059 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 20:03:58,142 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:03:58,228 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:03:58,253 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3e11996e
2023-07-03 20:03:58,405 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:03:58,890 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:03:58,946 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:03:59,161 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 20:03:59,609 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-03 20:03:59,689 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:04:00,091 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1717302b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77a19366, org.springframework.security.web.context.SecurityContextHolderFilter@315f4718, org.springframework.security.web.header.HeaderWriterFilter@6f854741, org.springframework.security.web.authentication.logout.LogoutFilter@3c7ac542, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@20677bc2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@e888636, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@608e34bf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@660d78b7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@416bf563, org.springframework.security.web.session.ConcurrentSessionFilter@6e46f5c1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7977ed32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@10e25b2a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@310d05c5, org.springframework.security.web.access.ExceptionTranslationFilter@6c4ffcf0, org.springframework.security.web.access.intercept.AuthorizationFilter@2be71a78]
2023-07-03 20:04:00,578 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.129 seconds (process running for 7.009)
2023-07-03 20:04:00,964 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:00,964 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:00,967 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:00,969 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2539cd1c{/,null,STOPPED}
2023-07-03 20:04:00,970 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,STOPPED}
2023-07-03 20:04:01,461 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:04:01,462 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@18ae64b5{/__admin,null,AVAILABLE}
2023-07-03 20:04:01,463 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:04:01,463 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4a9f517b{/,null,AVAILABLE}
2023-07-03 20:04:01,463 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1a0a6d71{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:01,464 INFO o.e.j.s.Server [Test worker] Started Server@4bf30a35{STARTING}[11.0.15,sto=1000] @7895ms
2023-07-03 20:04:01,581 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:04:01,583 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 6274 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:04:01,583 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:04:01,583 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:04:01,587 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:01,587 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@11620d7b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:01,587 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:01,587 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:04:01,587 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:01,587 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f04ed21 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:01,887 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:04:01,900 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:04:02,038 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@472ea479, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1acb7cf0, org.springframework.security.web.context.SecurityContextHolderFilter@1f76b33a, org.springframework.security.web.header.HeaderWriterFilter@5fc4773e, org.springframework.security.web.authentication.logout.LogoutFilter@571aeb15, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1ff84804, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1fba5aad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4837635d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@40bbcdbb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@57e92236, org.springframework.security.web.session.ConcurrentSessionFilter@5a14cfa4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40afaed9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c2e5c75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24378e1d, org.springframework.security.web.access.ExceptionTranslationFilter@4e023095, org.springframework.security.web.access.intercept.AuthorizationFilter@75108fa]
2023-07-03 20:04:02,099 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:04:02,100 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:04:02,101 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-03 20:04:02,181 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.714 seconds (process running for 8.612)
2023-07-03 20:04:02,411 INFO o.e.j.s.Server [Test worker] Stopped Server@4bf30a35{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:02,411 INFO o.e.j.s.Server [Test worker] Shutdown Server@4bf30a35{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:02,412 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1a0a6d71{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:02,412 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4a9f517b{/,null,STOPPED}
2023-07-03 20:04:02,412 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@18ae64b5{/__admin,null,STOPPED}
2023-07-03 20:04:02,428 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:04:02,429 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2d3c799e{/__admin,null,AVAILABLE}
2023-07-03 20:04:02,429 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:04:02,429 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@245237eb{/,null,AVAILABLE}
2023-07-03 20:04:02,430 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@492a7467{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:02,430 INFO o.e.j.s.Server [Test worker] Started Server@4df30827{STARTING}[11.0.15,sto=1000] @8861ms
2023-07-03 20:04:02,495 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:04:02,497 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 6274 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:04:02,497 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:04:02,497 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:04:02,499 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:02,499 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@37a20de7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:02,499 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:02,499 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:04:02,499 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:02,499 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4461c22 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:02,700 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:04:02,704 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:04:02,811 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6123f695, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47d9de0b, org.springframework.security.web.context.SecurityContextHolderFilter@3e72c9de, org.springframework.security.web.header.HeaderWriterFilter@1487c3b3, org.springframework.security.web.authentication.logout.LogoutFilter@6786a21d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@551e7852, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@75abea6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78e88c15, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@59f84f8c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@15a4e7d8, org.springframework.security.web.session.ConcurrentSessionFilter@3c888166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@bb3b9e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2103697b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2990495d, org.springframework.security.web.access.ExceptionTranslationFilter@48efa366, org.springframework.security.web.access.intercept.AuthorizationFilter@46ebe72a]
2023-07-03 20:04:02,847 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:04:02,847 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:04:02,848 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-03 20:04:02,861 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.429 seconds (process running for 9.292)
2023-07-03 20:04:02,945 INFO o.e.j.s.Server [Test worker] Stopped Server@4df30827{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:02,945 INFO o.e.j.s.Server [Test worker] Shutdown Server@4df30827{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:02,946 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@492a7467{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:02,947 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@245237eb{/,null,STOPPED}
2023-07-03 20:04:02,947 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2d3c799e{/__admin,null,STOPPED}
2023-07-03 20:04:02,958 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:04:02,959 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2880a58b{/__admin,null,AVAILABLE}
2023-07-03 20:04:02,959 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:04:02,959 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5f6ef272{/,null,AVAILABLE}
2023-07-03 20:04:02,960 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@276bba19{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:02,960 INFO o.e.j.s.Server [Test worker] Started Server@14568116{STARTING}[11.0.15,sto=1000] @9391ms
2023-07-03 20:04:03,020 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:04:03,022 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 6274 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:04:03,022 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:04:03,022 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:04:03,024 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:03,024 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f50d590 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:03,024 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:03,024 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:04:03,024 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:03,024 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3998de2b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:03,216 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:04:03,290 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5152538d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@793ac211, org.springframework.security.web.context.SecurityContextHolderFilter@6c75aee8, org.springframework.security.web.header.HeaderWriterFilter@75ff2d79, org.springframework.security.web.authentication.logout.LogoutFilter@74715fd6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@715b237d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@f2a5d6f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18f28a93, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@216cc310, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@24a6397c, org.springframework.security.web.session.ConcurrentSessionFilter@1349a7f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73dcf2da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f448d3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@288c9969, org.springframework.security.web.access.ExceptionTranslationFilter@7e4c3f5b, org.springframework.security.web.access.intercept.AuthorizationFilter@68342bb3]
2023-07-03 20:04:03,325 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:04:03,325 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:04:03,325 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-03 20:04:03,341 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.38 seconds (process running for 9.773)
2023-07-03 20:04:03,368 INFO o.e.j.s.Server [Test worker] Stopped Server@14568116{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:03,368 INFO o.e.j.s.Server [Test worker] Shutdown Server@14568116{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:03,369 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@276bba19{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:03,369 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5f6ef272{/,null,STOPPED}
2023-07-03 20:04:03,369 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2880a58b{/__admin,null,STOPPED}
2023-07-03 20:04:03,396 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:04:03,410 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-03 20:04:03,445 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-03 20:04:03,589 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-03 20:04:03,844 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-03 20:04:03,845 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-03 20:04:03,866 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-03 20:04:03,902 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-03 20:04:04,655 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-03 20:04:04,745 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 4e5a2e077bcc1cc58969374cb2f46cf60da7ab26844c8eb615f636bcfd33108e
2023-07-03 20:04:05,272 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.402405S
2023-07-03 20:04:05,277 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-03 20:04:05,277 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-03 20:04:05,278 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-03 20:04:05,278 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:04:05,318 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 685b4f991c59c312e96c48b86fdf52f3b39cd7b4c499a36b7d54a97a0d0ef4e8
2023-07-03 20:04:06,798 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.520338S
2023-07-03 20:04:06,799 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56303/test?loggerLevel=OFF)
2023-07-03 20:04:06,811 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:04:06,813 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5db93afa{/__admin,null,AVAILABLE}
2023-07-03 20:04:06,813 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:04:06,813 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5dac286c{/,null,AVAILABLE}
2023-07-03 20:04:06,814 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3cdaf598{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:06,815 INFO o.e.j.s.Server [Test worker] Started Server@7f761f3c{STARTING}[11.0.15,sto=1000] @13246ms
2023-07-03 20:04:06,866 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:04:06,868 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 6274 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:04:06,868 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:04:06,868 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:04:06,870 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:06,870 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@30a4cb7f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:06,870 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:06,870 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:04:06,870 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:04:06,870 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@26843c72 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:04:06,949 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:04:06,949 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:04:06,962 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2023-07-03 20:04:06,999 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-03 20:04:07,087 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@35c395cc
2023-07-03 20:04:07,088 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-03 20:04:07,102 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:04:07,149 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:04:07,237 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-03 20:04:07,245 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:04:07,342 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:04:07,342 INFO l.util [Test worker] Run:                          5
2023-07-03 20:04:07,342 INFO l.util [Test worker] Previously run:               0
2023-07-03 20:04:07,342 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:04:07,342 INFO l.util [Test worker] -------------------------------
2023-07-03 20:04:07,342 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:04:07,342 INFO l.util [Test worker] Update summary generated
2023-07-03 20:04:07,347 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:04:07,356 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:04:07,357 INFO l.command [Test worker] Command execution complete
2023-07-03 20:04:07,371 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:04:07,377 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:04:07,377 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:04:07,378 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@64ea9b8c
2023-07-03 20:04:07,393 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:04:07,425 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:04:07,454 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:04:07,550 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.731 seconds (process running for 13.981)
2023-07-03 20:04:07,581 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest.shouldSearchCommentsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@290505f8]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:04:07,604 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest.shouldSearchCommentsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@23d8de33]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:04:07,608 INFO o.e.j.s.Server [Test worker] Stopped Server@7f761f3c{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:07,608 INFO o.e.j.s.Server [Test worker] Shutdown Server@7f761f3c{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:07,609 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3cdaf598{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:07,609 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5dac286c{/,null,STOPPED}
2023-07-03 20:04:07,609 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5db93afa{/__admin,null,STOPPED}
2023-07-03 20:04:07,613 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:04:07,616 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-03 20:04:07,618 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:04:07,706 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 0fe2c8a2c4632d341ab21b8e8ffd15c62adf2f303c48e56d5e62ed8a4b806e45
2023-07-03 20:04:09,280 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.662901S
2023-07-03 20:04:09,281 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56364/test?loggerLevel=OFF)
2023-07-03 20:04:09,284 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:04:09,285 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@11db540b{/__admin,null,AVAILABLE}
2023-07-03 20:04:09,286 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:04:09,286 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5e25a95a{/,null,AVAILABLE}
2023-07-03 20:04:09,286 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5ddca270{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:09,286 INFO o.e.j.s.Server [Test worker] Started Server@6cb21878{STARTING}[11.0.15,sto=1000] @15718ms
2023-07-03 20:04:09,294 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@35f2b220]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:04:09,302 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@8762054]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:04:09,310 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@21ea8719]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  ???????????: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 84 common frames omitted
2023-07-03 20:04:09,316 INFO o.e.j.s.Server [Test worker] Stopped Server@6cb21878{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:09,316 INFO o.e.j.s.Server [Test worker] Shutdown Server@6cb21878{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:04:09,317 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5ddca270{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:04:09,318 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5e25a95a{/,null,STOPPED}
2023-07-03 20:04:09,318 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@11db540b{/__admin,null,STOPPED}
2023-07-03 20:04:09,586 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:04:09,587 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 20:04:09,589 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 20:04:09,601 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:04:09,601 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-03 20:04:09,602 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-03 20:05:27,051 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:05:27,452 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-03 20:05:31,908 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:05:31,984 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@35adf623{/__admin,null,AVAILABLE}
2023-07-03 20:05:32,011 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:05:32,012 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2dafae61{/,null,AVAILABLE}
2023-07-03 20:05:32,050 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1115433e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:05:32,095 INFO o.e.j.s.Server [Test worker] Started Server@18d11527{STARTING}[11.0.15,sto=1000] @11091ms
2023-07-03 20:05:35,381 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 20:05:35,479 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:05:35,554 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 6503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:05:35,554 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:05:35,555 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:05:35,696 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:05:35,696 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@70d3cdbf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:05:35,697 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:05:35,697 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:05:35,697 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:05:35,697 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6ce15112 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:05:39,355 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:05:39,363 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:05:40,000 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 602 ms. Found 2 JPA repository interfaces.
2023-07-03 20:05:40,225 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:05:40,229 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 20:05:40,308 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:05:40,309 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:05:40,310 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
2023-07-03 20:05:41,491 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-03 20:05:41,935 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:05:42,101 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-03 20:05:45,016 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 20:05:45,307 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2396dc4e
2023-07-03 20:05:45,310 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 20:05:45,682 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:05:46,077 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:05:47,144 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:05:47,372 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:05:47,414 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:05:47,417 INFO l.util [Test worker] Run:                          0
2023-07-03 20:05:47,418 INFO l.util [Test worker] Previously run:               5
2023-07-03 20:05:47,419 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:05:47,419 INFO l.util [Test worker] -------------------------------
2023-07-03 20:05:47,420 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:05:47,422 INFO l.util [Test worker] Update summary generated
2023-07-03 20:05:47,431 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:05:47,452 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:05:47,453 INFO l.command [Test worker] Command execution complete
2023-07-03 20:05:47,885 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:05:48,142 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 20:05:48,149 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 20:05:48,613 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:05:49,189 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:05:49,434 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@9b84747
2023-07-03 20:05:50,173 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:05:52,321 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:05:52,522 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:05:53,544 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 20:05:56,115 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-03 20:05:56,881 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:05:58,566 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@180b7842, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f5353ab, org.springframework.security.web.context.SecurityContextHolderFilter@6b8eb7b2, org.springframework.security.web.header.HeaderWriterFilter@2090d3d1, org.springframework.security.web.authentication.logout.LogoutFilter@32016cf3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@60e6045c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5dce3e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5188e170, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@381602e1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@66910ced, org.springframework.security.web.session.ConcurrentSessionFilter@710f4a91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54210bb8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@381a4407, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@637a43b, org.springframework.security.web.access.ExceptionTranslationFilter@55f20d7e, org.springframework.security.web.access.intercept.AuthorizationFilter@71374a2b]
2023-07-03 20:06:00,785 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 28.417 seconds (process running for 39.783)
2023-07-03 20:06:02,454 INFO o.e.j.s.Server [Test worker] Stopped Server@18d11527{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:02,459 INFO o.e.j.s.Server [Test worker] Shutdown Server@18d11527{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:02,475 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1115433e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:02,482 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2dafae61{/,null,STOPPED}
2023-07-03 20:06:02,484 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@35adf623{/__admin,null,STOPPED}
2023-07-03 20:06:04,994 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:06:05,012 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@59db8e7e{/__admin,null,AVAILABLE}
2023-07-03 20:06:05,017 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:06:05,017 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@17edcf4c{/,null,AVAILABLE}
2023-07-03 20:06:05,019 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6e3d6d79{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:05,025 INFO o.e.j.s.Server [Test worker] Started Server@5ec84beb{STARTING}[11.0.15,sto=1000] @44024ms
2023-07-03 20:06:05,620 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:06:05,627 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 6503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:06:05,629 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:06:05,629 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:06:05,636 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:05,637 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5c568706 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:05,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:05,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:06:05,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:05,637 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e561665 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:07,072 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:06:07,110 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:06:07,552 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6801e8ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@575baeea, org.springframework.security.web.context.SecurityContextHolderFilter@3e97cdeb, org.springframework.security.web.header.HeaderWriterFilter@61dbe732, org.springframework.security.web.authentication.logout.LogoutFilter@3965b638, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2dd246ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3912e10b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@61b33ef7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@342dc6d4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@79ef07b3, org.springframework.security.web.session.ConcurrentSessionFilter@a89f8b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f7848ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7124d407, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@153daff, org.springframework.security.web.access.ExceptionTranslationFilter@37e4c18, org.springframework.security.web.access.intercept.AuthorizationFilter@34f7b98b]
2023-07-03 20:06:07,896 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:06:07,897 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:06:07,899 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-07-03 20:06:08,208 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 3.17 seconds (process running for 47.207)
2023-07-03 20:06:10,014 INFO o.e.j.s.Server [Test worker] Stopped Server@5ec84beb{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:10,015 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ec84beb{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:10,020 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6e3d6d79{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:10,025 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@17edcf4c{/,null,STOPPED}
2023-07-03 20:06:10,027 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@59db8e7e{/__admin,null,STOPPED}
2023-07-03 20:06:10,160 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:06:10,172 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@199fe1dc{/__admin,null,AVAILABLE}
2023-07-03 20:06:10,176 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:06:10,176 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2ba66d0{/,null,AVAILABLE}
2023-07-03 20:06:10,178 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6c75aee8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:10,178 INFO o.e.j.s.Server [Test worker] Started Server@9e03c6e{STARTING}[11.0.15,sto=1000] @49177ms
2023-07-03 20:06:10,523 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:06:10,527 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 6503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:06:10,528 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:06:10,528 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:06:10,533 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:10,533 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e8653b6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:10,533 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:10,533 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:06:10,534 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:10,534 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1916147d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:11,395 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:06:11,410 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:06:11,664 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@496361cd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37e92213, org.springframework.security.web.context.SecurityContextHolderFilter@70685cad, org.springframework.security.web.header.HeaderWriterFilter@7543fe74, org.springframework.security.web.authentication.logout.LogoutFilter@144316a6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4c864e5c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@407c974c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70f1ebff, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ca160e0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@138b0555, org.springframework.security.web.session.ConcurrentSessionFilter@7785e48b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e828eb6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54d8774c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6cdabac8, org.springframework.security.web.access.ExceptionTranslationFilter@526388ee, org.springframework.security.web.access.intercept.AuthorizationFilter@497b783]
2023-07-03 20:06:11,737 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:06:11,738 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:06:11,738 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-03 20:06:11,757 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.567 seconds (process running for 50.756)
2023-07-03 20:06:12,162 INFO o.e.j.s.Server [Test worker] Stopped Server@9e03c6e{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:12,162 INFO o.e.j.s.Server [Test worker] Shutdown Server@9e03c6e{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:12,166 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6c75aee8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:12,168 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2ba66d0{/,null,STOPPED}
2023-07-03 20:06:12,168 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@199fe1dc{/__admin,null,STOPPED}
2023-07-03 20:06:12,230 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:06:12,236 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@240684e8{/__admin,null,AVAILABLE}
2023-07-03 20:06:12,236 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:06:12,237 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2bca913b{/,null,AVAILABLE}
2023-07-03 20:06:12,238 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2b648329{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:12,238 INFO o.e.j.s.Server [Test worker] Started Server@3d5f6e82{STARTING}[11.0.15,sto=1000] @51237ms
2023-07-03 20:06:12,473 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:06:12,477 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 6503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:06:12,478 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:06:12,479 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:06:12,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:12,485 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@761db70f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:12,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:12,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:06:12,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:12,485 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3d223638 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:13,088 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:06:13,271 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a0f2971, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61e2865, org.springframework.security.web.context.SecurityContextHolderFilter@44c59ea1, org.springframework.security.web.header.HeaderWriterFilter@e0986ed, org.springframework.security.web.authentication.logout.LogoutFilter@482e3301, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4ef45124, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@777bc5c0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@681f3c31, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2f0d8aa2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2f62b8a3, org.springframework.security.web.session.ConcurrentSessionFilter@6d0241f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1283bef9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@507f7caa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e8df7ca, org.springframework.security.web.access.ExceptionTranslationFilter@6d5768e8, org.springframework.security.web.access.intercept.AuthorizationFilter@200452d9]
2023-07-03 20:06:13,338 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:06:13,338 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:06:13,339 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-03 20:06:13,354 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 1.108 seconds (process running for 52.354)
2023-07-03 20:06:13,441 INFO o.e.j.s.Server [Test worker] Stopped Server@3d5f6e82{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:13,441 INFO o.e.j.s.Server [Test worker] Shutdown Server@3d5f6e82{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:13,442 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2b648329{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:13,443 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2bca913b{/,null,STOPPED}
2023-07-03 20:06:13,443 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@240684e8{/__admin,null,STOPPED}
2023-07-03 20:06:13,580 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:06:13,625 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-03 20:06:13,757 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-03 20:06:14,588 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-03 20:06:15,565 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-03 20:06:15,572 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-03 20:06:15,624 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-03 20:06:15,752 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-03 20:06:16,968 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-03 20:06:18,251 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: f895bf2e1bec7b2f4ce3010e6ae8116532bdb6ea013491ce53bd3a0057bc4336
2023-07-03 20:06:19,615 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.974595S
2023-07-03 20:06:19,656 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-03 20:06:19,657 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-03 20:06:19,660 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-03 20:06:19,664 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:06:19,714 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 75f7e7268ed7cc3dee0f509701976409207185420db148885e2bbe18c835bc2f
2023-07-03 20:06:21,384 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.721139S
2023-07-03 20:06:21,388 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57509/test?loggerLevel=OFF)
2023-07-03 20:06:21,451 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:06:21,488 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5a0be3d0{/__admin,null,AVAILABLE}
2023-07-03 20:06:21,490 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:06:21,491 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40216e38{/,null,AVAILABLE}
2023-07-03 20:06:21,495 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3047c35a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:21,498 INFO o.e.j.s.Server [Test worker] Started Server@15a75f79{STARTING}[11.0.15,sto=1000] @60497ms
2023-07-03 20:06:21,942 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:06:21,966 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 6503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:06:21,966 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:06:21,966 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:06:21,981 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:21,981 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@89beadb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:21,981 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:21,981 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:06:21,982 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:06:21,982 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1002582f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:06:22,408 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:06:22,408 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:06:22,472 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 63 ms. Found 2 JPA repository interfaces.
2023-07-03 20:06:22,665 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-03 20:06:22,856 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@15ee4ff9
2023-07-03 20:06:22,858 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-03 20:06:22,885 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:06:23,015 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:06:23,405 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-03 20:06:23,420 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:06:23,784 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:06:23,785 INFO l.util [Test worker] Run:                          5
2023-07-03 20:06:23,786 INFO l.util [Test worker] Previously run:               0
2023-07-03 20:06:23,786 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:06:23,786 INFO l.util [Test worker] -------------------------------
2023-07-03 20:06:23,786 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:06:23,789 INFO l.util [Test worker] Update summary generated
2023-07-03 20:06:23,802 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:06:23,826 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:06:23,827 INFO l.command [Test worker] Command execution complete
2023-07-03 20:06:23,921 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:06:23,948 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:06:23,951 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:06:23,956 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2f6a0f9c
2023-07-03 20:06:24,005 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:06:24,215 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:06:24,293 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:06:24,553 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 3.009 seconds (process running for 63.553)
2023-07-03 20:06:24,647 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest.shouldSearchCommentsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@50a48a40]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  Подробности: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 85 common frames omitted
2023-07-03 20:06:24,783 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest.shouldSearchCommentsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@25b78608]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  Подробности: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 85 common frames omitted
2023-07-03 20:06:24,807 INFO o.e.j.s.Server [Test worker] Stopped Server@15a75f79{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:24,810 INFO o.e.j.s.Server [Test worker] Shutdown Server@15a75f79{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:24,820 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3047c35a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:24,822 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40216e38{/,null,STOPPED}
2023-07-03 20:06:24,823 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5a0be3d0{/__admin,null,STOPPED}
2023-07-03 20:06:24,848 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:06:24,878 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-03 20:06:24,886 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:06:25,036 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 5d81cc05a5773f879bbd5c3ad9c1500519635eb2b01520ca14a8092c1a276638
2023-07-03 20:06:27,355 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.468716S
2023-07-03 20:06:27,364 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57521/test?loggerLevel=OFF)
2023-07-03 20:06:27,406 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 20:06:27,417 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@101c85d6{/__admin,null,AVAILABLE}
2023-07-03 20:06:27,418 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:06:27,419 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@21aa13cf{/,null,AVAILABLE}
2023-07-03 20:06:27,422 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@16d05123{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:27,422 INFO o.e.j.s.Server [Test worker] Started Server@608030b3{STARTING}[11.0.15,sto=1000] @66422ms
2023-07-03 20:06:27,502 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@3ee3a6f2]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  Подробности: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 85 common frames omitted
2023-07-03 20:06:27,549 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@5138d036]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  Подробности: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 85 common frames omitted
2023-07-03 20:06:27,636 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@4094dfbc]
org.springframework.jdbc.datasource.init.ScriptStatementFailedException: Failed to execute SQL script statement #1 of class path resource [INITIAL_DB_SCRIPT.sql]: INSERT INTO news (time, title, text, author) VALUES ('2023-05-26', 'Sample News Title', 'Sample News Text', 'Author')
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:282)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.populate(ResourceDatabasePopulator.java:254)
	at org.springframework.jdbc.datasource.init.DatabasePopulatorUtils.execute(DatabasePopulatorUtils.java:54)
	at org.springframework.jdbc.datasource.init.ResourceDatabasePopulator.execute(ResourceDatabasePopulator.java:269)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$8(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.transaction.support.TransactionOperations.lambda$executeWithoutResult$0(TransactionOperations.java:68)
	at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:140)
	at org.springframework.transaction.support.TransactionOperations.executeWithoutResult(TransactionOperations.java:67)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:310)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.lambda$executeSqlScripts$4(SqlScriptsTestExecutionListener.java:229)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:229)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.executeSqlScripts(SqlScriptsTestExecutionListener.java:173)
	at org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener.beforeTestMethod(SqlScriptsTestExecutionListener.java:131)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.postgresql.util.PSQLException: ERROR: null value in column "id" of relation "news" violates not-null constraint
  Подробности: Failing row contains (null, Author, Sample News Text, 2023-05-26 00:00:00, Sample News Title).
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at org.springframework.jdbc.datasource.init.ScriptUtils.executeSqlScript(ScriptUtils.java:261)
	... 85 common frames omitted
2023-07-03 20:06:27,651 INFO o.e.j.s.Server [Test worker] Stopped Server@608030b3{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:27,651 INFO o.e.j.s.Server [Test worker] Shutdown Server@608030b3{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:06:27,659 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@16d05123{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:06:27,662 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@21aa13cf{/,null,STOPPED}
2023-07-03 20:06:27,663 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@101c85d6{/__admin,null,STOPPED}
2023-07-03 20:06:29,081 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:06:29,090 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 20:06:29,096 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 20:06:29,195 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:06:29,197 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-03 20:06:29,204 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-03 20:08:21,626 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:08:21,691 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-03 20:08:22,366 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:08:22,381 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@68dd39d2{/__admin,null,AVAILABLE}
2023-07-03 20:08:22,386 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:08:22,386 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d0b0cb9{/,null,AVAILABLE}
2023-07-03 20:08:22,390 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@17f3eefb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:22,397 INFO o.e.j.s.Server [Test worker] Started Server@7327a447{STARTING}[11.0.15,sto=1000] @1691ms
2023-07-03 20:08:22,961 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 20:08:22,970 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:08:22,979 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 6946 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:08:22,979 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:08:22,979 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:08:23,002 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:23,002 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@44dfdd58 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:23,002 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:23,002 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:08:23,002 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:23,002 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71531dd7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:23,502 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:08:23,503 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:08:23,606 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 98 ms. Found 2 JPA repository interfaces.
2023-07-03 20:08:23,618 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:08:23,619 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 20:08:23,630 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:08:23,630 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 20:08:23,631 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-03 20:08:23,821 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-03 20:08:23,892 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:08:23,918 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-03 20:08:24,126 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-03 20:08:24,320 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 20:08:24,395 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65dd2191
2023-07-03 20:08:24,401 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 20:08:24,485 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:08:24,573 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:08:24,904 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:08:24,983 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:08:24,990 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:08:24,991 INFO l.util [Test worker] Run:                          0
2023-07-03 20:08:24,991 INFO l.util [Test worker] Previously run:               5
2023-07-03 20:08:24,991 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:08:24,991 INFO l.util [Test worker] -------------------------------
2023-07-03 20:08:24,991 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:08:24,991 INFO l.util [Test worker] Update summary generated
2023-07-03 20:08:24,994 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:08:24,998 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:08:24,999 INFO l.command [Test worker] Command execution complete
2023-07-03 20:08:25,070 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:08:25,117 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 20:08:25,118 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 20:08:25,202 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:08:25,286 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:08:25,307 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2b3ac26d
2023-07-03 20:08:25,464 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:08:25,947 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:08:26,020 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:08:26,231 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 20:08:26,681 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-03 20:08:26,750 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:08:27,142 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38ab2740, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4463d9b7, org.springframework.security.web.context.SecurityContextHolderFilter@7b274a1c, org.springframework.security.web.header.HeaderWriterFilter@4d6cdebb, org.springframework.security.web.authentication.logout.LogoutFilter@1ec14586, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6ebdbe96, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2317b0cf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@46bb8cba, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5403d95, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5c991516, org.springframework.security.web.session.ConcurrentSessionFilter@3460165f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c15515e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12333eaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a01358f, org.springframework.security.web.access.ExceptionTranslationFilter@6c4d3ccc, org.springframework.security.web.access.intercept.AuthorizationFilter@4f01d2ea]
2023-07-03 20:08:27,653 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.223 seconds (process running for 6.947)
2023-07-03 20:08:28,042 INFO o.e.j.s.Server [Test worker] Stopped Server@7327a447{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:28,042 INFO o.e.j.s.Server [Test worker] Shutdown Server@7327a447{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:28,045 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@17f3eefb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:28,046 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d0b0cb9{/,null,STOPPED}
2023-07-03 20:08:28,046 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@68dd39d2{/__admin,null,STOPPED}
2023-07-03 20:08:28,506 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:08:28,508 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4b52e9cc{/__admin,null,AVAILABLE}
2023-07-03 20:08:28,508 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:08:28,508 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1e2b7fa5{/,null,AVAILABLE}
2023-07-03 20:08:28,509 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7787a602{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:28,509 INFO o.e.j.s.Server [Test worker] Started Server@41621744{STARTING}[11.0.15,sto=1000] @7803ms
2023-07-03 20:08:28,613 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:08:28,616 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 6946 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:08:28,616 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:08:28,616 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:08:28,620 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:28,621 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@595ebb98 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:28,621 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:28,621 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:08:28,621 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:28,621 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@b41d473 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:28,912 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:08:28,917 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:08:29,055 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e0c20b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1a70d5df, org.springframework.security.web.context.SecurityContextHolderFilter@9b44d4f, org.springframework.security.web.header.HeaderWriterFilter@79fe746d, org.springframework.security.web.authentication.logout.LogoutFilter@eb52295, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@60e50c6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@21886b18, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@48b1ba91, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@19a98be6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7842ad22, org.springframework.security.web.session.ConcurrentSessionFilter@451b7faf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d863a65, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7516aa4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3de2e589, org.springframework.security.web.access.ExceptionTranslationFilter@25b4304c, org.springframework.security.web.access.intercept.AuthorizationFilter@579e30b7]
2023-07-03 20:08:29,117 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:08:29,117 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:08:29,118 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-03 20:08:29,204 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.692 seconds (process running for 8.499)
2023-07-03 20:08:29,421 INFO o.e.j.s.Server [Test worker] Stopped Server@41621744{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:29,421 INFO o.e.j.s.Server [Test worker] Shutdown Server@41621744{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:29,422 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7787a602{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:29,422 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1e2b7fa5{/,null,STOPPED}
2023-07-03 20:08:29,422 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4b52e9cc{/__admin,null,STOPPED}
2023-07-03 20:08:29,438 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:08:29,440 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2d8d2832{/__admin,null,AVAILABLE}
2023-07-03 20:08:29,441 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:08:29,441 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@66adb24{/,null,AVAILABLE}
2023-07-03 20:08:29,441 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@9f1f42c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:29,442 INFO o.e.j.s.Server [Test worker] Started Server@66bf08d{STARTING}[11.0.15,sto=1000] @8736ms
2023-07-03 20:08:29,515 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:08:29,516 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 6946 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:08:29,516 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:08:29,517 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:08:29,518 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:29,518 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7864ec9e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:29,518 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:29,518 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:08:29,519 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:29,519 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6644d0cc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:29,721 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 20:08:29,725 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:08:29,834 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@452811e3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cb17098, org.springframework.security.web.context.SecurityContextHolderFilter@2a6b4454, org.springframework.security.web.header.HeaderWriterFilter@35a2c933, org.springframework.security.web.authentication.logout.LogoutFilter@58d1e6ed, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7a287117, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2d991631, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a8ebb66, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5149d71b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@197cc9a1, org.springframework.security.web.session.ConcurrentSessionFilter@96cd9d2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dcc928b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e843b50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6360463, org.springframework.security.web.access.ExceptionTranslationFilter@654a4b51, org.springframework.security.web.access.intercept.AuthorizationFilter@587efefa]
2023-07-03 20:08:29,877 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:08:29,877 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:08:29,877 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-03 20:08:29,890 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.446 seconds (process running for 9.185)
2023-07-03 20:08:29,988 INFO o.e.j.s.Server [Test worker] Stopped Server@66bf08d{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:29,988 INFO o.e.j.s.Server [Test worker] Shutdown Server@66bf08d{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:29,990 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@9f1f42c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:29,990 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@66adb24{/,null,STOPPED}
2023-07-03 20:08:29,990 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2d8d2832{/__admin,null,STOPPED}
2023-07-03 20:08:30,003 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:08:30,005 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ecd59a3{/__admin,null,AVAILABLE}
2023-07-03 20:08:30,005 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:08:30,005 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@74642e97{/,null,AVAILABLE}
2023-07-03 20:08:30,006 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cd27d52{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:30,007 INFO o.e.j.s.Server [Test worker] Started Server@5bf17128{STARTING}[11.0.15,sto=1000] @9301ms
2023-07-03 20:08:30,082 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:08:30,083 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 6946 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:08:30,083 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:08:30,083 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:08:30,085 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:30,085 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e431c8b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:30,085 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:30,085 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:08:30,085 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:30,085 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79acc359 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:30,282 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 20:08:30,358 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@475d15e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5494cf4b, org.springframework.security.web.context.SecurityContextHolderFilter@6b19f4b8, org.springframework.security.web.header.HeaderWriterFilter@7b69204f, org.springframework.security.web.authentication.logout.LogoutFilter@54bb1786, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@755cc0c9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7957eec3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3fd762bb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4a5379e1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@127302ec, org.springframework.security.web.session.ConcurrentSessionFilter@6628b1ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b0c28d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69d510a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16b578a3, org.springframework.security.web.access.ExceptionTranslationFilter@461c6f, org.springframework.security.web.access.intercept.AuthorizationFilter@446782b2]
2023-07-03 20:08:30,393 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-03 20:08:30,393 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-03 20:08:30,393 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-03 20:08:30,409 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.4 seconds (process running for 9.703)
2023-07-03 20:08:30,433 INFO o.e.j.s.Server [Test worker] Stopped Server@5bf17128{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:30,433 INFO o.e.j.s.Server [Test worker] Shutdown Server@5bf17128{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:30,434 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cd27d52{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:30,435 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@74642e97{/,null,STOPPED}
2023-07-03 20:08:30,435 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ecd59a3{/__admin,null,STOPPED}
2023-07-03 20:08:30,462 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:08:30,482 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-03 20:08:30,509 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-03 20:08:30,663 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-03 20:08:30,935 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-03 20:08:30,936 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-03 20:08:30,956 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-03 20:08:30,987 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-03 20:08:32,093 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-03 20:08:32,185 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: d9234f077b24a28ac2fe2af41ebc89e3d457bef9bc6a6d0749bf2246d00b4571
2023-07-03 20:08:32,798 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.837575S
2023-07-03 20:08:32,802 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-03 20:08:32,802 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-03 20:08:32,803 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-03 20:08:32,803 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:08:32,844 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 130ec2c71e38b0f99d6af7c802c8c2829328f8135c5ae0e83ca1d3d8445d009c
2023-07-03 20:08:34,614 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.810663S
2023-07-03 20:08:34,615 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57546/test?loggerLevel=OFF)
2023-07-03 20:08:34,620 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:08:34,621 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@71951028{/__admin,null,AVAILABLE}
2023-07-03 20:08:34,622 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:08:34,622 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7408e122{/,null,AVAILABLE}
2023-07-03 20:08:34,622 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@24257f51{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:34,622 INFO o.e.j.s.Server [Test worker] Started Server@2c660e1a{STARTING}[11.0.15,sto=1000] @13917ms
2023-07-03 20:08:34,671 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 20:08:34,674 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 6946 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 20:08:34,674 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 20:08:34,674 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 20:08:34,681 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:34,681 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43dbbaf5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:34,681 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:34,681 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 20:08:34,681 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 20:08:34,681 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9f2a220 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 20:08:34,752 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 20:08:34,753 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 20:08:34,767 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 14 ms. Found 2 JPA repository interfaces.
2023-07-03 20:08:34,804 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-03 20:08:34,903 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@312bcb28
2023-07-03 20:08:34,903 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-03 20:08:34,921 INFO l.database [Test worker] Set default schema name to public
2023-07-03 20:08:34,970 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 20:08:35,075 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-03 20:08:35,081 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 20:08:35,175 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 20:08:35,176 INFO l.util [Test worker] Run:                          5
2023-07-03 20:08:35,176 INFO l.util [Test worker] Previously run:               0
2023-07-03 20:08:35,176 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 20:08:35,176 INFO l.util [Test worker] -------------------------------
2023-07-03 20:08:35,176 INFO l.util [Test worker] Total change sets:            5

2023-07-03 20:08:35,176 INFO l.util [Test worker] Update summary generated
2023-07-03 20:08:35,183 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:08:35,193 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 20:08:35,195 INFO l.command [Test worker] Command execution complete
2023-07-03 20:08:35,209 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 20:08:35,214 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:08:35,214 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 20:08:35,215 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@66645fd2
2023-07-03 20:08:35,229 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 20:08:35,262 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 20:08:35,287 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:08:35,379 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.753 seconds (process running for 14.673)
2023-07-03 20:08:35,523 INFO o.e.j.s.Server [Test worker] Stopped Server@2c660e1a{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:35,524 INFO o.e.j.s.Server [Test worker] Shutdown Server@2c660e1a{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:35,525 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@24257f51{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:35,526 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7408e122{/,null,STOPPED}
2023-07-03 20:08:35,526 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@71951028{/__admin,null,STOPPED}
2023-07-03 20:08:35,529 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 20:08:35,532 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-03 20:08:35,533 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-03 20:08:35,606 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 41625b925d145e00e062bca86b3466af7aaf76a4941dff3cf45ccfebc7b5de3e
2023-07-03 20:08:37,254 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.720641S
2023-07-03 20:08:37,254 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57558/test?loggerLevel=OFF)
2023-07-03 20:08:37,261 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-03 20:08:37,262 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1b23eee{/__admin,null,AVAILABLE}
2023-07-03 20:08:37,262 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 20:08:37,262 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2d9b4481{/,null,AVAILABLE}
2023-07-03 20:08:37,262 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1f27b34b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:37,262 INFO o.e.j.s.Server [Test worker] Started Server@17826240{STARTING}[11.0.15,sto=1000] @16557ms
2023-07-03 20:08:37,310 INFO o.e.j.s.Server [Test worker] Stopped Server@17826240{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:37,311 INFO o.e.j.s.Server [Test worker] Shutdown Server@17826240{STOPPING}[11.0.15,sto=1000]
2023-07-03 20:08:37,311 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1f27b34b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 20:08:37,311 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2d9b4481{/,null,STOPPED}
2023-07-03 20:08:37,312 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1b23eee{/__admin,null,STOPPED}
2023-07-03 20:08:37,514 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:08:37,516 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 20:08:37,517 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 20:08:37,529 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 20:08:37,530 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-03 20:08:37,531 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 19:56:30,624 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 19:56:30,967 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 19:56:31,106 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 19:56:31,464 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 19:56:32,274 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 19:56:32,279 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 19:56:32,373 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 19:56:32,488 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 19:56:33,704 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 19:56:34,534 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: e462a4647ff492220e1a4106b4e7ce9f6f782c4db4d39715cff50bc8dbb7fa72
2023-07-04 19:56:36,001 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.618294S
2023-07-04 19:56:36,014 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 19:56:36,014 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 19:56:36,015 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 19:56:36,018 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 19:56:36,061 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ba4ed9b3702ef566bf2c3382ae9380b71b06cd7548ffa11d25d81c4a000e93a5
2023-07-04 19:56:37,740 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.7226S
2023-07-04 19:56:37,745 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58111/test?loggerLevel=OFF)
2023-07-04 19:56:39,372 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 19:56:39,416 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@401e02b4{/__admin,null,AVAILABLE}
2023-07-04 19:56:39,444 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 19:56:39,445 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@28daf506{/,null,AVAILABLE}
2023-07-04 19:56:39,454 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5460edd3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 19:56:39,472 INFO o.e.j.s.Server [Test worker] Started Server@35d7386b{STARTING}[11.0.15,sto=1000] @11424ms
2023-07-04 19:56:40,913 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 19:56:40,987 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 19:56:41,016 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 20098 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 19:56:41,017 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 19:56:41,017 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 19:56:41,061 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:56:41,062 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5ddd84d2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 19:56:41,062 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:56:41,062 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 19:56:41,062 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:56:41,062 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@17befef0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 19:56:42,019 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 19:56:42,025 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 19:56:42,316 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 279 ms. Found 2 JPA repository interfaces.
2023-07-04 19:56:43,214 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 19:56:43,566 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@602b7944
2023-07-04 19:56:43,574 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 19:56:43,891 INFO l.database [Test worker] Set default schema name to public
2023-07-04 19:56:44,217 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 19:56:45,237 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 19:56:45,257 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 19:56:45,708 INFO l.command [Test worker] Using deploymentId: 8489805267
2023-07-04 19:56:45,774 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 19:56:45,969 INFO l.changelog [Test worker] Table comment created
2023-07-04 19:56:45,974 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 38ms
2023-07-04 19:56:46,009 INFO l.changelog [Test worker] Table news created
2023-07-04 19:56:46,010 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 16ms
2023-07-04 19:56:46,030 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 19:56:46,032 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 15ms
2023-07-04 19:56:46,041 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,044 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,046 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,048 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,051 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,055 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,057 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,064 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,066 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,070 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,075 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,078 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,080 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,084 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,092 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,108 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,110 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,113 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,116 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,122 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:56:46,125 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 89ms
2023-07-04 19:56:46,141 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,145 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,148 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,150 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,153 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,155 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,157 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,159 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,164 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,167 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,172 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,176 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,179 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,181 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,184 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,187 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,189 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,193 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,195 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,197 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,200 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,202 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,205 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,222 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,228 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,231 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,233 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,235 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,241 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,242 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,243 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,247 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,251 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,254 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,256 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,259 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,261 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,263 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,265 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,267 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:56:46,268 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 135ms
2023-07-04 19:56:46,277 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 19:56:46,280 INFO l.util [Test worker] Run:                          5
2023-07-04 19:56:46,281 INFO l.util [Test worker] Previously run:               0
2023-07-04 19:56:46,281 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 19:56:46,281 INFO l.util [Test worker] -------------------------------
2023-07-04 19:56:46,281 INFO l.util [Test worker] Total change sets:            5

2023-07-04 19:56:46,283 INFO l.util [Test worker] Update summary generated
2023-07-04 19:56:46,284 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 19:56:46,291 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 19:56:46,302 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 19:56:46,304 INFO l.command [Test worker] Command execution complete
2023-07-04 19:56:46,538 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 19:56:46,637 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 19:56:46,642 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 19:56:46,856 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 19:56:47,056 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 19:56:47,225 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6a94bd69
2023-07-04 19:56:47,622 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 19:56:48,819 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 19:56:49,021 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 19:56:49,802 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 19:56:50,820 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 11.237 seconds (process running for 22.773)
2023-07-04 19:56:52,782 INFO o.e.j.s.Server [Test worker] Stopped Server@35d7386b{STOPPING}[11.0.15,sto=1000]
2023-07-04 19:56:52,786 INFO o.e.j.s.Server [Test worker] Shutdown Server@35d7386b{STOPPING}[11.0.15,sto=1000]
2023-07-04 19:56:52,799 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5460edd3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 19:56:52,806 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@28daf506{/,null,STOPPED}
2023-07-04 19:56:52,807 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@401e02b4{/__admin,null,STOPPED}
2023-07-04 19:56:52,945 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 19:56:52,949 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 19:56:52,967 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 19:58:35,303 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 19:58:35,620 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 19:58:35,745 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 19:58:36,109 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 19:58:36,761 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 19:58:36,766 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 19:58:36,824 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 19:58:36,916 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 19:58:37,872 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 19:58:38,205 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 39ae8e3b9d5479925b9c7c20becb9439ef913adecd85fe63d7cdcccac79444f7
2023-07-04 19:58:39,014 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.179523S
2023-07-04 19:58:39,028 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 19:58:39,029 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 19:58:39,029 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 19:58:39,032 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 19:58:39,082 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 3f8b014c5511c36169754d7aff997d7c1a8898ba72406bce8ff05df3c10e8a6f
2023-07-04 19:58:40,778 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.746485S
2023-07-04 19:58:40,784 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58138/test?loggerLevel=OFF)
2023-07-04 19:58:42,424 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 19:58:42,467 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,AVAILABLE}
2023-07-04 19:58:42,497 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 19:58:42,498 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e362407{/,null,AVAILABLE}
2023-07-04 19:58:42,507 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 19:58:42,523 INFO o.e.j.s.Server [Test worker] Started Server@359ceb13{STARTING}[11.0.15,sto=1000] @9830ms
2023-07-04 19:58:43,997 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 19:58:44,081 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 19:58:44,127 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 20347 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 19:58:44,128 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 19:58:44,129 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 19:58:44,161 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:58:44,162 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a55e82a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 19:58:44,162 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:58:44,162 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 19:58:44,162 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:58:44,162 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19f497aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 19:58:45,105 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 19:58:45,108 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 19:58:45,399 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 280 ms. Found 2 JPA repository interfaces.
2023-07-04 19:58:46,178 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 19:58:46,493 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ea45a5b
2023-07-04 19:58:46,500 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 19:58:46,888 INFO l.database [Test worker] Set default schema name to public
2023-07-04 19:58:47,196 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 19:58:48,159 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 19:58:48,181 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 19:58:48,421 INFO l.command [Test worker] Using deploymentId: 8489928189
2023-07-04 19:58:48,520 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 19:58:48,841 INFO l.changelog [Test worker] Table comment created
2023-07-04 19:58:48,849 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 46ms
2023-07-04 19:58:48,899 INFO l.changelog [Test worker] Table news created
2023-07-04 19:58:48,903 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 30ms
2023-07-04 19:58:48,938 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 19:58:48,940 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 21ms
2023-07-04 19:58:48,956 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:48,961 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:48,966 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:48,971 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:48,986 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,002 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,014 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,033 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,045 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,050 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,056 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,060 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,066 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,090 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,093 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,096 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,098 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,104 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,117 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,122 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:58:49,124 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 174ms
2023-07-04 19:58:49,153 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,158 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,161 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,166 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,169 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,171 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,174 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,176 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,182 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,184 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,189 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,204 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,207 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,212 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,216 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,220 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,224 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,230 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,234 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,238 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,241 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,246 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,255 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,257 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,260 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,265 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,269 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,274 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,279 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,282 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,299 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,303 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,313 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,317 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,320 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,327 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,331 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,333 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,336 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,339 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:58:49,341 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 205ms
2023-07-04 19:58:49,355 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 19:58:49,358 INFO l.util [Test worker] Run:                          5
2023-07-04 19:58:49,358 INFO l.util [Test worker] Previously run:               0
2023-07-04 19:58:49,358 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 19:58:49,358 INFO l.util [Test worker] -------------------------------
2023-07-04 19:58:49,359 INFO l.util [Test worker] Total change sets:            5

2023-07-04 19:58:49,364 INFO l.util [Test worker] Update summary generated
2023-07-04 19:58:49,366 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 19:58:49,375 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 19:58:49,401 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 19:58:49,402 INFO l.command [Test worker] Command execution complete
2023-07-04 19:58:49,673 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 19:58:49,764 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 19:58:49,769 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 19:58:49,993 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 19:58:50,191 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 19:58:50,253 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7bb996e0
2023-07-04 19:58:50,807 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 19:58:52,073 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 19:58:52,253 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 19:58:52,939 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 19:58:53,745 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 11.11 seconds (process running for 21.053)
2023-07-04 19:58:55,236 INFO o.e.j.s.Server [Test worker] Stopped Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 19:58:55,236 INFO o.e.j.s.Server [Test worker] Shutdown Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 19:58:55,242 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 19:58:55,245 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e362407{/,null,STOPPED}
2023-07-04 19:58:55,245 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,STOPPED}
2023-07-04 19:58:55,294 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 19:58:55,297 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 19:58:55,301 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 19:59:30,618 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 19:59:30,939 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 19:59:31,071 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 19:59:31,440 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 19:59:32,096 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 19:59:32,102 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 19:59:32,148 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 19:59:32,238 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 19:59:32,814 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 19:59:33,035 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: ad2f1898fd4e3f56e90a317f08355872c96edfbcb6565b614a0e28c920678c31
2023-07-04 19:59:33,713 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.553228S
2023-07-04 19:59:33,727 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 19:59:33,728 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 19:59:33,728 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 19:59:33,731 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 19:59:33,770 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 1ad59afc520429c5fd68f302473b7bb51b77585c51868b735ac59dc53f169d2d
2023-07-04 19:59:35,276 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.546705S
2023-07-04 19:59:35,281 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58156/test?loggerLevel=OFF)
2023-07-04 19:59:36,572 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 19:59:36,619 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@207dd1b7{/__admin,null,AVAILABLE}
2023-07-04 19:59:36,647 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 19:59:36,647 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6afbe6a1{/,null,AVAILABLE}
2023-07-04 19:59:36,656 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4f363abd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 19:59:36,673 INFO o.e.j.s.Server [Test worker] Started Server@24a4e2c5{STARTING}[11.0.15,sto=1000] @8542ms
2023-07-04 19:59:38,030 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 19:59:38,125 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 19:59:38,183 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 20466 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 19:59:38,183 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 19:59:38,184 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 19:59:38,223 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:59:38,224 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6df37f7a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 19:59:38,224 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:59:38,224 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 19:59:38,224 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 19:59:38,224 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3514ac7d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 19:59:39,178 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 19:59:39,181 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 19:59:39,461 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 270 ms. Found 2 JPA repository interfaces.
2023-07-04 19:59:40,240 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 19:59:40,494 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55cc4c61
2023-07-04 19:59:40,498 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 19:59:40,819 INFO l.database [Test worker] Set default schema name to public
2023-07-04 19:59:41,356 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 19:59:42,223 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 19:59:42,248 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 19:59:42,552 INFO l.command [Test worker] Using deploymentId: 8489982260
2023-07-04 19:59:42,616 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 19:59:42,874 INFO l.changelog [Test worker] Table comment created
2023-07-04 19:59:42,878 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 32ms
2023-07-04 19:59:42,916 INFO l.changelog [Test worker] Table news created
2023-07-04 19:59:42,919 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 17ms
2023-07-04 19:59:42,936 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 19:59:42,937 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 11ms
2023-07-04 19:59:42,946 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,949 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,951 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,957 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,959 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,963 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,965 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,973 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,976 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,980 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,986 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,989 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:42,993 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,014 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,024 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,028 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,031 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,034 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,036 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,039 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 19:59:43,041 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 100ms
2023-07-04 19:59:43,058 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,063 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,065 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,067 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,069 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,071 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,073 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,076 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,079 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,082 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,090 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,093 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,095 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,099 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,101 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,103 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,105 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,108 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,110 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,112 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,115 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,117 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,120 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,121 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,123 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,125 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,127 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,129 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,132 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,134 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,135 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,137 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,140 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,142 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,144 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,146 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,147 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,149 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,151 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,153 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 19:59:43,154 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 104ms
2023-07-04 19:59:43,165 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 19:59:43,167 INFO l.util [Test worker] Run:                          5
2023-07-04 19:59:43,168 INFO l.util [Test worker] Previously run:               0
2023-07-04 19:59:43,168 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 19:59:43,168 INFO l.util [Test worker] -------------------------------
2023-07-04 19:59:43,168 INFO l.util [Test worker] Total change sets:            5

2023-07-04 19:59:43,170 INFO l.util [Test worker] Update summary generated
2023-07-04 19:59:43,171 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 19:59:43,179 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 19:59:43,190 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 19:59:43,191 INFO l.command [Test worker] Command execution complete
2023-07-04 19:59:43,443 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 19:59:43,532 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 19:59:43,537 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 19:59:43,744 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 19:59:43,930 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 19:59:44,055 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@12544a50
2023-07-04 19:59:44,476 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 19:59:45,718 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 19:59:45,904 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 19:59:46,669 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 19:59:47,701 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 10.915 seconds (process running for 19.571)
2023-07-04 19:59:49,617 INFO o.e.j.s.Server [Test worker] Stopped Server@24a4e2c5{STOPPING}[11.0.15,sto=1000]
2023-07-04 19:59:49,621 INFO o.e.j.s.Server [Test worker] Shutdown Server@24a4e2c5{STOPPING}[11.0.15,sto=1000]
2023-07-04 19:59:49,630 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4f363abd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 19:59:49,635 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6afbe6a1{/,null,STOPPED}
2023-07-04 19:59:49,636 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@207dd1b7{/__admin,null,STOPPED}
2023-07-04 19:59:49,682 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 19:59:49,686 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 19:59:49,696 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:01:37,293 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:01:37,697 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:01:37,835 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:01:38,231 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:01:38,955 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:01:38,961 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:01:39,023 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:01:39,114 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:01:40,087 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:01:40,340 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 6c19c5bec44cd4932acf6284a5e7eea1f63ef130c3e0ac1876a5a01d4db0355d
2023-07-04 20:01:41,238 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.202645S
2023-07-04 20:01:41,258 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:01:41,259 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:01:41,259 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:01:41,262 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:01:41,314 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a064da16e764d367f561c1d5a896ccc5579d1b296c06b3a5dd114c3e600cfd66
2023-07-04 20:01:43,138 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.876342S
2023-07-04 20:01:43,144 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58174/test?loggerLevel=OFF)
2023-07-04 20:01:45,073 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:01:45,125 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,AVAILABLE}
2023-07-04 20:01:45,165 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:01:45,166 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e362407{/,null,AVAILABLE}
2023-07-04 20:01:45,181 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:01:45,207 INFO o.e.j.s.Server [Test worker] Started Server@359ceb13{STARTING}[11.0.15,sto=1000] @11085ms
2023-07-04 20:01:47,113 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:01:47,187 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:01:47,223 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 20735 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:01:47,224 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:01:47,225 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:01:47,259 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:01:47,259 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a55e82a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:01:47,259 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:01:47,259 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:01:47,259 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:01:47,259 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19f497aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:01:48,237 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:01:48,240 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:01:48,546 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 289 ms. Found 2 JPA repository interfaces.
2023-07-04 20:01:49,605 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:01:50,006 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27d0376f
2023-07-04 20:01:50,014 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:01:50,368 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:01:50,896 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:01:52,085 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:01:52,109 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:01:52,440 INFO l.command [Test worker] Using deploymentId: 8490112119
2023-07-04 20:01:52,477 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:01:53,052 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:01:53,072 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 75ms
2023-07-04 20:01:53,114 INFO l.changelog [Test worker] Table news created
2023-07-04 20:01:53,116 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 18ms
2023-07-04 20:01:53,136 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:01:53,138 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 13ms
2023-07-04 20:01:53,150 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,153 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,157 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,161 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,163 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,167 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,170 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,178 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,183 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,187 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,193 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,195 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,199 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,203 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,221 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,225 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,227 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,230 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,236 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,242 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:01:53,244 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 100ms
2023-07-04 20:01:53,261 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,265 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,269 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,271 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,275 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,277 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,280 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,282 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,287 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,289 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,315 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,319 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,324 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,330 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,333 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,336 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,340 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,345 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,348 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,351 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,354 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,357 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,361 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,363 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,366 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,370 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,373 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,376 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,380 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,383 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,386 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,391 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,393 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,395 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,397 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,400 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,403 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,405 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,408 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,410 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:01:53,411 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 158ms
2023-07-04 20:01:53,423 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:01:53,425 INFO l.util [Test worker] Run:                          5
2023-07-04 20:01:53,426 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:01:53,426 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:01:53,426 INFO l.util [Test worker] -------------------------------
2023-07-04 20:01:53,426 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:01:53,427 INFO l.util [Test worker] Update summary generated
2023-07-04 20:01:53,429 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:01:53,435 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:01:53,468 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:01:53,469 INFO l.command [Test worker] Command execution complete
2023-07-04 20:01:53,821 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:01:54,010 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:01:54,020 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:01:54,395 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:01:54,719 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:01:54,861 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@77a6aa9f
2023-07-04 20:01:55,488 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:01:57,611 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:01:57,985 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:01:59,391 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:02:00,932 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 15.603 seconds (process running for 26.811)
2023-07-04 20:02:03,382 INFO o.e.j.s.Server [Test worker] Stopped Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:02:03,393 INFO o.e.j.s.Server [Test worker] Shutdown Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:02:03,413 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:02:03,419 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e362407{/,null,STOPPED}
2023-07-04 20:02:03,422 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,STOPPED}
2023-07-04 20:02:03,487 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:02:03,499 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:02:03,516 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:03:03,178 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:03:03,499 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:03:03,642 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:03:04,043 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:03:04,809 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:03:04,814 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:03:04,863 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:03:04,990 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:03:05,957 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:03:06,256 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 29adc8c725f11c9eebb3e47cc674456e6880fbdea248c3748b18d94641e725f8
2023-07-04 20:03:07,050 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.173709S
2023-07-04 20:03:07,061 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:03:07,062 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:03:07,063 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:03:07,066 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:03:07,110 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e62adfcea6aeb08459e197b0df08d1d3ff28eded62170346941189c8de281804
2023-07-04 20:03:08,806 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.741236S
2023-07-04 20:03:08,811 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58192/test?loggerLevel=OFF)
2023-07-04 20:03:10,149 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:03:10,203 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,AVAILABLE}
2023-07-04 20:03:10,245 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:03:10,247 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e362407{/,null,AVAILABLE}
2023-07-04 20:03:10,267 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:03:10,286 INFO o.e.j.s.Server [Test worker] Started Server@359ceb13{STARTING}[11.0.15,sto=1000] @10046ms
2023-07-04 20:03:11,879 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:03:12,006 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:03:12,085 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 20920 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:03:12,086 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:03:12,089 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:03:12,152 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:03:12,153 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a55e82a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:03:12,154 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:03:12,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:03:12,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:03:12,155 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19f497aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:03:13,547 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:03:13,551 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:03:13,936 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 372 ms. Found 2 JPA repository interfaces.
2023-07-04 20:03:14,764 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:03:15,093 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27d0376f
2023-07-04 20:03:15,100 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:03:15,516 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:03:15,930 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:03:17,453 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:03:17,477 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:03:17,794 INFO l.command [Test worker] Using deploymentId: 8490197493
2023-07-04 20:03:17,957 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:03:18,190 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:03:18,194 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 47ms
2023-07-04 20:03:18,233 INFO l.changelog [Test worker] Table news created
2023-07-04 20:03:18,235 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 17ms
2023-07-04 20:03:18,261 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:03:18,262 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 17ms
2023-07-04 20:03:18,274 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,277 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,281 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,285 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,289 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,295 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,299 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,307 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,328 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,336 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,343 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,347 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,353 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,358 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,390 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,395 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,398 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,400 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,406 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,409 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:03:18,410 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 142ms
2023-07-04 20:03:18,426 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,431 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,435 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,438 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,443 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,446 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,449 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,452 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,457 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,462 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,467 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,476 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,481 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,486 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,490 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,493 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,496 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,501 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,506 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,509 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,512 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,517 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,525 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,529 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,534 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,540 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,543 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,547 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,554 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,557 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,560 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,563 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,570 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,574 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,577 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,582 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,589 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,594 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,605 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,610 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:03:18,614 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 195ms
2023-07-04 20:03:18,650 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:03:18,654 INFO l.util [Test worker] Run:                          5
2023-07-04 20:03:18,655 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:03:18,655 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:03:18,656 INFO l.util [Test worker] -------------------------------
2023-07-04 20:03:18,656 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:03:18,660 INFO l.util [Test worker] Update summary generated
2023-07-04 20:03:18,663 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:03:18,674 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:03:18,690 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:03:18,692 INFO l.command [Test worker] Command execution complete
2023-07-04 20:03:19,010 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:03:19,133 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:03:19,149 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:03:19,391 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:03:19,619 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:03:19,689 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@feb57b4
2023-07-04 20:03:20,221 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:03:21,550 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:03:21,786 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:03:23,020 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:03:24,294 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 13.876 seconds (process running for 24.054)
2023-07-04 20:03:26,361 INFO o.e.j.s.Server [Test worker] Stopped Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:03:26,364 INFO o.e.j.s.Server [Test worker] Shutdown Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:03:26,377 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:03:26,382 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e362407{/,null,STOPPED}
2023-07-04 20:03:26,383 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,STOPPED}
2023-07-04 20:03:26,440 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:03:26,443 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:03:26,448 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:04:23,110 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:04:23,440 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:04:23,572 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:04:23,942 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:04:24,607 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:04:24,611 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:04:24,664 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:04:24,748 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:04:25,317 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:04:25,515 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: efc44b42c7771a61ad2b9aa85c6f0d1c4c2aa558c5e4387f262fca84936bb706
2023-07-04 20:04:26,188 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.513178S
2023-07-04 20:04:26,200 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:04:26,200 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:04:26,201 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:04:26,203 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:04:26,246 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2ffb1f66a11b139b717f5dca87bcda228f37e2354723d3b659c563aea241961b
2023-07-04 20:04:27,782 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.579958S
2023-07-04 20:04:27,787 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58210/test?loggerLevel=OFF)
2023-07-04 20:04:29,198 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:04:29,244 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,AVAILABLE}
2023-07-04 20:04:29,277 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:04:29,278 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e362407{/,null,AVAILABLE}
2023-07-04 20:04:29,290 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:04:29,307 INFO o.e.j.s.Server [Test worker] Started Server@359ceb13{STARTING}[11.0.15,sto=1000] @8724ms
2023-07-04 20:04:30,691 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:04:30,768 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:04:30,810 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 21087 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:04:30,811 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:04:30,812 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:04:30,851 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:04:30,851 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a55e82a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:04:30,851 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:04:30,851 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:04:30,851 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:04:30,851 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19f497aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:04:31,758 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:04:31,761 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:04:32,049 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 277 ms. Found 2 JPA repository interfaces.
2023-07-04 20:04:32,931 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:04:33,279 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27d0376f
2023-07-04 20:04:33,286 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:04:33,599 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:04:33,918 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:04:34,792 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:04:34,809 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:04:35,165 INFO l.command [Test worker] Using deploymentId: 8490274819
2023-07-04 20:04:35,233 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:04:35,409 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:04:35,414 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 28ms
2023-07-04 20:04:35,449 INFO l.changelog [Test worker] Table news created
2023-07-04 20:04:35,451 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 17ms
2023-07-04 20:04:35,467 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:04:35,469 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 11ms
2023-07-04 20:04:35,478 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,479 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,481 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,483 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,485 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,489 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,492 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,501 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,504 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,508 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,513 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,515 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,519 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,541 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,544 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,547 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,549 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,552 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,556 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,559 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:04:35,561 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 87ms
2023-07-04 20:04:35,580 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,583 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,587 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,589 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,592 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,594 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,596 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,598 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,602 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,605 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,610 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,617 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,620 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,624 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,626 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,628 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,630 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,633 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,636 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,638 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,640 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,642 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,645 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,648 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,650 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,654 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,657 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,659 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,663 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,665 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,667 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,670 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,674 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,675 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,677 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,679 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,681 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,683 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,685 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,687 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:04:35,688 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 118ms
2023-07-04 20:04:35,699 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:04:35,701 INFO l.util [Test worker] Run:                          5
2023-07-04 20:04:35,702 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:04:35,702 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:04:35,702 INFO l.util [Test worker] -------------------------------
2023-07-04 20:04:35,702 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:04:35,704 INFO l.util [Test worker] Update summary generated
2023-07-04 20:04:35,705 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:04:35,711 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:04:35,722 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:04:35,724 INFO l.command [Test worker] Command execution complete
2023-07-04 20:04:35,957 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:04:36,050 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:04:36,054 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:04:36,264 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:04:36,456 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:04:36,606 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@feb57b4
2023-07-04 20:04:37,004 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:04:38,207 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:04:38,403 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:04:39,124 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:04:40,057 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 10.63 seconds (process running for 19.475)
2023-07-04 20:04:41,764 INFO o.e.j.s.Server [Test worker] Stopped Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:04:41,767 INFO o.e.j.s.Server [Test worker] Shutdown Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:04:41,773 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:04:41,778 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e362407{/,null,STOPPED}
2023-07-04 20:04:41,779 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,STOPPED}
2023-07-04 20:04:41,828 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:04:41,830 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:04:41,839 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:05:28,478 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:05:28,809 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:05:28,931 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:05:29,273 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:05:29,938 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:05:29,943 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:05:29,997 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:05:30,093 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:05:30,659 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:05:30,854 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 5d13f7c2baf336a42d728df7dc7d3ea4370ee55df50a157096b6e7479bdc9912
2023-07-04 20:05:31,550 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.542642S
2023-07-04 20:05:31,562 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:05:31,563 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:05:31,563 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:05:31,566 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:05:31,602 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 656d387728dceccb59c1046c2dff42da4fbe89692df857db4965e4bf3d5bd30d
2023-07-04 20:05:33,134 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.569411S
2023-07-04 20:05:33,137 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58230/test?loggerLevel=OFF)
2023-07-04 20:05:34,424 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:05:34,467 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,AVAILABLE}
2023-07-04 20:05:34,496 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:05:34,496 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e362407{/,null,AVAILABLE}
2023-07-04 20:05:34,506 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:05:34,524 INFO o.e.j.s.Server [Test worker] Started Server@359ceb13{STARTING}[11.0.15,sto=1000] @8496ms
2023-07-04 20:05:35,902 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:05:35,941 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:05:35,979 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 21227 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:05:35,980 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:05:35,981 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:05:36,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:05:36,021 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a55e82a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:05:36,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:05:36,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:05:36,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:05:36,021 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19f497aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:05:36,908 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:05:36,910 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:05:37,183 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 261 ms. Found 2 JPA repository interfaces.
2023-07-04 20:05:37,957 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:05:38,206 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ea45a5b
2023-07-04 20:05:38,209 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:05:38,541 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:05:39,023 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:05:39,903 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:05:39,919 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:05:40,109 INFO l.command [Test worker] Using deploymentId: 8490339927
2023-07-04 20:05:40,135 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:05:40,488 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:05:40,495 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 107ms
2023-07-04 20:05:40,526 INFO l.changelog [Test worker] Table news created
2023-07-04 20:05:40,528 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 15ms
2023-07-04 20:05:40,545 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:05:40,546 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 12ms
2023-07-04 20:05:40,555 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,557 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,559 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,562 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,564 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,567 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,569 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,572 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,577 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,581 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,585 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,587 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,592 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,611 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,614 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,618 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,621 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,624 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,629 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,632 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:05:40,634 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 83ms
2023-07-04 20:05:40,649 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,653 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,656 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,657 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,660 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,662 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,664 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,667 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,671 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,674 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,677 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,681 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,683 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,686 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,688 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,690 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,691 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,694 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,696 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,697 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,699 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,701 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,703 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,705 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,706 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,708 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,710 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,712 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,715 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,717 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,718 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,720 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,726 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,728 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,731 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,734 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,736 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,739 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,742 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,744 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:05:40,745 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 103ms
2023-07-04 20:05:40,756 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:05:40,759 INFO l.util [Test worker] Run:                          5
2023-07-04 20:05:40,760 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:05:40,760 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:05:40,760 INFO l.util [Test worker] -------------------------------
2023-07-04 20:05:40,760 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:05:40,762 INFO l.util [Test worker] Update summary generated
2023-07-04 20:05:40,763 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:05:40,771 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:05:40,796 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:05:40,798 INFO l.command [Test worker] Command execution complete
2023-07-04 20:05:41,042 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:05:41,123 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:05:41,126 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:05:41,338 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:05:41,529 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:05:41,592 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7bb996e0
2023-07-04 20:05:42,088 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:05:43,301 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:05:43,476 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:05:44,120 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:05:45,117 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 10.482 seconds (process running for 19.089)
2023-07-04 20:05:46,603 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42601
2023-07-04 20:05:46,606 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: syntax error in tsquery: "Great news"
2023-07-04 20:05:46,666 INFO o.e.j.s.Server [Test worker] Stopped Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:05:46,666 INFO o.e.j.s.Server [Test worker] Shutdown Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:05:46,685 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:05:46,688 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e362407{/,null,STOPPED}
2023-07-04 20:05:46,688 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,STOPPED}
2023-07-04 20:05:46,857 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:05:46,861 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:05:46,867 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:06:16,768 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:06:17,091 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:06:17,220 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:06:17,599 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:06:18,266 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:06:18,270 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:06:18,323 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:06:18,412 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:06:19,259 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:06:19,456 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 98354525b7f17fa6adc159cac05409739b8964baeca2713ea78f8577e1edd6c4
2023-07-04 20:06:20,171 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.837251S
2023-07-04 20:06:20,182 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:06:20,183 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:06:20,184 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:06:20,187 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:06:20,269 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: fcba125befb2d993fad325fa7c64cd65f761e8b31793011d5743abdeeae7d423
2023-07-04 20:06:21,797 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.61145S
2023-07-04 20:06:21,799 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58248/test?loggerLevel=OFF)
2023-07-04 20:06:23,089 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:06:23,132 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,AVAILABLE}
2023-07-04 20:06:23,161 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:06:23,162 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e362407{/,null,AVAILABLE}
2023-07-04 20:06:23,180 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:06:23,196 INFO o.e.j.s.Server [Test worker] Started Server@359ceb13{STARTING}[11.0.15,sto=1000] @8896ms
2023-07-04 20:06:24,562 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:06:24,643 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:06:24,684 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 21336 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:06:24,684 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:06:24,685 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:06:24,709 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:06:24,709 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a55e82a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:06:24,709 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:06:24,709 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:06:24,709 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:06:24,709 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19f497aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:06:25,604 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:06:25,606 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:06:25,891 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 273 ms. Found 2 JPA repository interfaces.
2023-07-04 20:06:26,808 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:06:27,166 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27d0376f
2023-07-04 20:06:27,173 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:06:28,426 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:06:28,754 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:06:29,642 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:06:29,657 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:06:30,023 INFO l.command [Test worker] Using deploymentId: 8490389668
2023-07-04 20:06:30,085 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:06:30,294 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:06:30,298 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 39ms
2023-07-04 20:06:30,340 INFO l.changelog [Test worker] Table news created
2023-07-04 20:06:30,342 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 21ms
2023-07-04 20:06:30,357 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:06:30,359 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 11ms
2023-07-04 20:06:30,367 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,370 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,372 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,375 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,377 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,381 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,383 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,392 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,395 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,398 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,403 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,405 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,407 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,410 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,428 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,432 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,435 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,437 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,443 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,446 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:06:30,448 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 85ms
2023-07-04 20:06:30,464 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,469 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,472 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,474 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,477 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,479 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,481 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,483 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,487 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,490 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,495 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,501 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,504 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,507 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,509 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,511 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,513 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,517 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,518 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,520 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,521 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,523 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,526 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,527 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,529 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,531 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,533 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,535 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,538 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,540 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,542 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,544 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,547 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,550 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,551 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,554 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,556 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,558 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,560 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,562 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:06:30,564 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 107ms
2023-07-04 20:06:30,574 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:06:30,576 INFO l.util [Test worker] Run:                          5
2023-07-04 20:06:30,577 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:06:30,578 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:06:30,578 INFO l.util [Test worker] -------------------------------
2023-07-04 20:06:30,578 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:06:30,580 INFO l.util [Test worker] Update summary generated
2023-07-04 20:06:30,581 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:06:30,586 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:06:30,599 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:06:30,600 INFO l.command [Test worker] Command execution complete
2023-07-04 20:06:30,834 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:06:30,925 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:06:30,929 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:06:31,131 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:06:31,308 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:06:31,438 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@77a6aa9f
2023-07-04 20:06:31,848 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:06:33,082 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:06:33,277 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:06:34,245 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:06:35,656 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 12.354 seconds (process running for 21.358)
2023-07-04 20:06:38,030 INFO o.e.j.s.Server [Test worker] Stopped Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:06:38,034 INFO o.e.j.s.Server [Test worker] Shutdown Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:06:38,048 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:06:38,056 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e362407{/,null,STOPPED}
2023-07-04 20:06:38,057 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,STOPPED}
2023-07-04 20:06:38,119 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:06:38,123 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:06:38,130 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:07:20,281 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:07:20,763 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:07:20,962 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:07:21,404 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:07:22,195 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:07:22,202 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:07:22,254 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:07:22,383 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:07:22,981 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:07:23,189 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: aebf634feb3bb2a5e549b9591dc6d499c61d49af97a95083306f8ad2acff87c3
2023-07-04 20:07:23,882 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.614288S
2023-07-04 20:07:23,895 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:07:23,896 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:07:23,897 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:07:23,900 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:07:23,940 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 7436e297afe87cf3fddf08fb72d772db75ffd5e1920c13e19b8866a6e2338339
2023-07-04 20:07:25,448 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.549768S
2023-07-04 20:07:25,452 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58272/test?loggerLevel=OFF)
2023-07-04 20:07:26,826 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:07:26,888 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,AVAILABLE}
2023-07-04 20:07:26,925 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:07:26,926 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e362407{/,null,AVAILABLE}
2023-07-04 20:07:26,939 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:07:26,958 INFO o.e.j.s.Server [Test worker] Started Server@359ceb13{STARTING}[11.0.15,sto=1000] @10678ms
2023-07-04 20:07:28,612 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:07:28,695 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:07:28,770 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 21472 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:07:28,770 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:07:28,771 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:07:28,811 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:07:28,812 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a55e82a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:07:28,812 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:07:28,812 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:07:28,812 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:07:28,812 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19f497aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:07:29,970 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:07:29,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:07:30,270 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 283 ms. Found 2 JPA repository interfaces.
2023-07-04 20:07:31,356 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:07:31,704 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@ea45a5b
2023-07-04 20:07:31,710 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:07:32,087 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:07:32,559 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:07:33,662 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:07:33,694 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:07:33,926 INFO l.command [Test worker] Using deploymentId: 8490453704
2023-07-04 20:07:33,970 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:07:34,449 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:07:34,457 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 56ms
2023-07-04 20:07:34,501 INFO l.changelog [Test worker] Table news created
2023-07-04 20:07:34,502 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 18ms
2023-07-04 20:07:34,523 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:07:34,525 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 15ms
2023-07-04 20:07:34,537 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,539 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,541 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,544 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,546 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,549 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,551 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,558 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,561 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,564 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,569 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,572 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,575 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,579 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,586 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,602 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,604 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,606 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,609 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,614 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:07:34,615 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 83ms
2023-07-04 20:07:34,634 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,638 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,641 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,643 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,645 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,647 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,649 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,652 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,658 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,661 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,665 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,671 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,674 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,678 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,680 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,682 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,685 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,689 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,691 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,693 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,695 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,698 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,701 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,704 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,706 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,709 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,712 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,715 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,719 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,721 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,723 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,725 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,730 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,733 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,736 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,738 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,741 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,743 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,746 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,748 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:07:34,751 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 123ms
2023-07-04 20:07:34,765 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:07:34,768 INFO l.util [Test worker] Run:                          5
2023-07-04 20:07:34,768 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:07:34,769 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:07:34,769 INFO l.util [Test worker] -------------------------------
2023-07-04 20:07:34,769 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:07:34,773 INFO l.util [Test worker] Update summary generated
2023-07-04 20:07:34,775 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:07:34,792 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:07:34,818 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:07:34,820 INFO l.command [Test worker] Command execution complete
2023-07-04 20:07:35,163 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:07:35,305 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:07:35,313 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:07:35,592 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:07:35,776 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:07:35,841 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6d224921
2023-07-04 20:07:36,321 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:07:37,600 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:07:37,814 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:07:38,593 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:07:39,778 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 12.683 seconds (process running for 23.498)
2023-07-04 20:07:41,856 INFO o.e.j.s.Server [Test worker] Stopped Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:07:41,861 INFO o.e.j.s.Server [Test worker] Shutdown Server@359ceb13{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:07:41,874 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f0a133d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:07:41,879 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e362407{/,null,STOPPED}
2023-07-04 20:07:41,880 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f96dd64{/__admin,null,STOPPED}
2023-07-04 20:07:41,910 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:07:41,915 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:07:41,920 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:07:55,242 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:07:55,553 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:07:55,693 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:07:56,059 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:07:56,668 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:07:56,673 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:07:56,722 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:07:56,802 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:07:57,369 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:07:57,574 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: a8da1d701c04c1552820a55d73653300aa20a3e27b6ea963afa387ec0b38d0c7
2023-07-04 20:07:58,212 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.479273S
2023-07-04 20:07:58,225 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:07:58,225 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:07:58,226 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:07:58,229 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:07:58,264 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ca814ecd736e83c89186d76d9337827fe135c91b3e9c0bc2ce7a9abb6126ef75
2023-07-04 20:07:59,704 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.477032S
2023-07-04 20:07:59,707 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58289/test?loggerLevel=OFF)
2023-07-04 20:08:00,997 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:08:01,040 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@207dd1b7{/__admin,null,AVAILABLE}
2023-07-04 20:08:01,071 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:08:01,071 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6afbe6a1{/,null,AVAILABLE}
2023-07-04 20:08:01,086 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4f363abd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:08:01,104 INFO o.e.j.s.Server [Test worker] Started Server@24a4e2c5{STARTING}[11.0.15,sto=1000] @8513ms
2023-07-04 20:08:02,508 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:08:02,598 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:08:02,643 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 21557 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:08:02,644 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:08:02,645 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:08:02,674 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:08:02,674 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6df37f7a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:08:02,675 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:08:02,675 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:08:02,675 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:08:02,675 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3514ac7d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:08:03,992 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:08:03,994 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:08:04,330 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 326 ms. Found 2 JPA repository interfaces.
2023-07-04 20:08:05,396 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:08:05,818 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55cc4c61
2023-07-04 20:08:05,830 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:08:06,370 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:08:06,978 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:08:07,873 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:08:07,901 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:08:08,256 INFO l.command [Test worker] Using deploymentId: 8490487917
2023-07-04 20:08:08,433 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:08:08,743 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:08:08,753 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 66ms
2023-07-04 20:08:08,835 INFO l.changelog [Test worker] Table news created
2023-07-04 20:08:08,838 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 37ms
2023-07-04 20:08:08,876 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:08:08,879 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 25ms
2023-07-04 20:08:08,898 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,902 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,908 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,913 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,919 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,940 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,950 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,976 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,983 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:08,993 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,002 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,007 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,012 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,016 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,070 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,075 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,079 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,084 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,099 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,113 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:08:09,116 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 225ms
2023-07-04 20:08:09,159 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,168 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,173 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,177 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,182 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,187 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,191 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,195 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,204 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,210 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,225 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,228 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,232 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,238 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,241 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,245 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,248 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,255 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,260 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,263 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,268 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,283 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,289 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,293 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,296 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,299 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,304 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,315 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,323 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,327 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,329 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,332 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,339 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,341 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,343 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,349 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,353 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,357 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,362 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,365 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:08:09,368 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 221ms
2023-07-04 20:08:09,387 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:08:09,391 INFO l.util [Test worker] Run:                          5
2023-07-04 20:08:09,393 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:08:09,393 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:08:09,393 INFO l.util [Test worker] -------------------------------
2023-07-04 20:08:09,393 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:08:09,397 INFO l.util [Test worker] Update summary generated
2023-07-04 20:08:09,400 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:08:09,437 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:08:09,484 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:08:09,487 INFO l.command [Test worker] Command execution complete
2023-07-04 20:08:09,930 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:08:10,033 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:08:10,037 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:08:10,268 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:08:10,588 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:08:10,695 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@708f238f
2023-07-04 20:08:11,179 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:08:12,481 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:08:12,683 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:08:13,523 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:08:14,968 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 13.751 seconds (process running for 22.378)
2023-07-04 20:08:17,020 INFO o.e.j.s.Server [Test worker] Stopped Server@24a4e2c5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:08:17,023 INFO o.e.j.s.Server [Test worker] Shutdown Server@24a4e2c5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:08:17,032 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4f363abd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:08:17,038 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6afbe6a1{/,null,STOPPED}
2023-07-04 20:08:17,039 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@207dd1b7{/__admin,null,STOPPED}
2023-07-04 20:08:17,071 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:08:17,075 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:08:17,080 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:11:22,392 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:11:22,697 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:11:22,833 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:11:23,197 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:11:23,864 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:11:23,869 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:11:23,916 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:11:23,999 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:11:24,563 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:11:24,750 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 0da039593a0aa47c980afe79388fa3a3e146146276f0326c3f6640c99c0ea1e9
2023-07-04 20:11:25,784 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.856297S
2023-07-04 20:11:25,794 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:11:25,795 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:11:25,796 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:11:25,798 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:11:25,843 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d3a7eddf62ec65f551fb01384910fe5e73697922660312ca0c93fa2724e5a1ac
2023-07-04 20:11:27,547 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.749566S
2023-07-04 20:11:27,553 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58308/test?loggerLevel=OFF)
2023-07-04 20:11:29,213 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:11:29,269 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,AVAILABLE}
2023-07-04 20:11:29,311 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:11:29,312 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@478967eb{/,null,AVAILABLE}
2023-07-04 20:11:29,324 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:11:29,349 INFO o.e.j.s.Server [Test worker] Started Server@65593327{STARTING}[11.0.15,sto=1000] @9460ms
2023-07-04 20:11:30,986 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:11:31,050 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:11:31,105 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 21952 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:11:31,106 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:11:31,107 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:11:31,144 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:11:31,144 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@566f4659 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:11:31,144 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:11:31,144 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:11:31,144 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:11:31,144 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a0ffb9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:11:32,190 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:11:32,193 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:11:32,475 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 273 ms. Found 2 JPA repository interfaces.
2023-07-04 20:11:33,342 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:11:33,748 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7272914b
2023-07-04 20:11:33,767 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:11:34,193 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:11:34,621 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:11:35,698 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:11:35,722 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:11:36,126 INFO l.command [Test worker] Using deploymentId: 8490695731
2023-07-04 20:11:36,161 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:11:36,464 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:11:36,468 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 61ms
2023-07-04 20:11:36,544 INFO l.changelog [Test worker] Table news created
2023-07-04 20:11:36,546 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 43ms
2023-07-04 20:11:36,572 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:11:36,573 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 18ms
2023-07-04 20:11:36,587 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,589 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,591 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,594 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,596 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,600 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,602 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,611 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,614 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,617 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,622 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,624 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,627 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,629 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,631 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,654 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,657 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,659 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,661 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,663 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:11:36,666 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 83ms
2023-07-04 20:11:36,684 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,688 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,691 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,693 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,695 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,696 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,699 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,701 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,705 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,707 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,711 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,717 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,720 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,723 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,725 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,727 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,728 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,731 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,733 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,735 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,736 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,739 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,741 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,743 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,746 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,748 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,750 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,752 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,755 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,757 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,759 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,762 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,768 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,770 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,773 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,776 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,780 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,784 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,786 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,788 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:11:36,789 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 116ms
2023-07-04 20:11:36,800 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:11:36,802 INFO l.util [Test worker] Run:                          5
2023-07-04 20:11:36,802 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:11:36,802 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:11:36,802 INFO l.util [Test worker] -------------------------------
2023-07-04 20:11:36,803 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:11:36,804 INFO l.util [Test worker] Update summary generated
2023-07-04 20:11:36,806 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:11:36,815 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:11:36,832 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:11:36,834 INFO l.command [Test worker] Command execution complete
2023-07-04 20:11:37,172 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:11:37,391 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:11:37,420 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:11:37,676 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:11:37,936 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:11:38,048 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5a88ecb9
2023-07-04 20:11:38,732 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:11:40,081 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:11:40,414 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:11:41,183 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:11:42,374 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 12.901 seconds (process running for 22.486)
2023-07-04 20:11:44,773 INFO o.e.j.s.Server [Test worker] Stopped Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:11:44,779 INFO o.e.j.s.Server [Test worker] Shutdown Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:11:44,795 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:11:44,801 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@478967eb{/,null,STOPPED}
2023-07-04 20:11:44,802 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,STOPPED}
2023-07-04 20:11:44,862 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:11:44,867 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:11:44,875 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:12:52,272 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:12:52,586 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:12:52,707 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:12:53,088 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:12:53,761 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:12:53,765 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:12:53,811 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:12:53,898 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:12:54,756 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:12:54,965 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 4e91ec5d5a1d9d046b1f4edc95cb9370147d25279050e7a7b5d979c57ae346e7
2023-07-04 20:12:55,632 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.809528S
2023-07-04 20:12:55,642 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:12:55,643 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:12:55,644 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:12:55,646 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:12:55,683 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 0254f7b540a79b5021489dc8c42b016f467418cc1dee8192801aa2801c2a057a
2023-07-04 20:12:57,325 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.680038S
2023-07-04 20:12:57,328 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58329/test?loggerLevel=OFF)
2023-07-04 20:12:58,609 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:12:58,656 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,AVAILABLE}
2023-07-04 20:12:58,686 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:12:58,687 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@478967eb{/,null,AVAILABLE}
2023-07-04 20:12:58,696 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:12:58,712 INFO o.e.j.s.Server [Test worker] Started Server@65593327{STARTING}[11.0.15,sto=1000] @8895ms
2023-07-04 20:13:00,093 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:13:00,154 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:13:00,215 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 22137 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:13:00,215 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:13:00,216 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:13:00,246 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:13:00,247 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@566f4659 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:13:00,247 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:13:00,247 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:13:00,247 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:13:00,247 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a0ffb9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:13:01,193 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:13:01,195 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:13:01,483 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 279 ms. Found 2 JPA repository interfaces.
2023-07-04 20:13:02,246 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:13:02,524 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7272914b
2023-07-04 20:13:02,533 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:13:02,901 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:13:03,225 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:13:04,159 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:13:04,174 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:13:04,410 INFO l.command [Test worker] Using deploymentId: 8490784184
2023-07-04 20:13:04,594 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:13:04,808 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:13:04,814 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 32ms
2023-07-04 20:13:04,837 INFO l.changelog [Test worker] Table news created
2023-07-04 20:13:04,839 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 9ms
2023-07-04 20:13:04,860 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:13:04,861 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 12ms
2023-07-04 20:13:04,871 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,873 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,878 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,881 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,883 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,887 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,889 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,895 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,899 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,906 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,912 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,915 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,918 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,920 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,938 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,943 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,945 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,948 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,950 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,957 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:13:04,958 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 91ms
2023-07-04 20:13:04,972 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,976 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,977 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,979 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,981 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,983 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,985 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,987 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,992 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:04,995 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,004 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,006 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,009 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,013 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,015 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,017 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,018 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,021 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,022 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,024 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,026 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,028 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,031 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,033 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,035 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,037 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,039 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,041 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,043 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,045 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,047 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,048 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,051 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,052 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,054 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,056 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,058 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,060 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,062 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,064 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:13:05,065 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 99ms
2023-07-04 20:13:05,075 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:13:05,077 INFO l.util [Test worker] Run:                          5
2023-07-04 20:13:05,078 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:13:05,078 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:13:05,078 INFO l.util [Test worker] -------------------------------
2023-07-04 20:13:05,078 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:13:05,080 INFO l.util [Test worker] Update summary generated
2023-07-04 20:13:05,081 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:13:05,088 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:13:05,101 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:13:05,102 INFO l.command [Test worker] Command execution complete
2023-07-04 20:13:05,333 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:13:05,427 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:13:05,430 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:13:05,635 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:13:05,821 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:13:05,874 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@396a4dea
2023-07-04 20:13:06,352 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:13:07,560 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:13:07,721 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:13:08,564 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:13:09,515 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 10.696 seconds (process running for 19.699)
2023-07-04 20:13:11,116 INFO o.e.j.s.Server [Test worker] Stopped Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:13:11,117 INFO o.e.j.s.Server [Test worker] Shutdown Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:13:11,128 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:13:11,132 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@478967eb{/,null,STOPPED}
2023-07-04 20:13:11,132 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,STOPPED}
2023-07-04 20:13:11,211 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:13:11,216 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:13:11,239 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:13:48,591 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:13:48,911 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:13:49,032 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:13:49,411 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:13:50,066 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:13:50,072 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:13:50,131 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:13:50,226 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:13:51,051 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:13:51,236 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 31afa478869fe22880ef2080ff1282372e178be95bf2665a799ad621d3b64fd9
2023-07-04 20:13:51,938 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.796272S
2023-07-04 20:13:51,949 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:13:51,950 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:13:51,950 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:13:51,953 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:13:51,990 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d7dee1e311e5bb19c15b9cd72c0bad3c073daad86eb976d2120e8c1a4eef192f
2023-07-04 20:13:53,479 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.527226S
2023-07-04 20:13:53,482 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58347/test?loggerLevel=OFF)
2023-07-04 20:13:54,997 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:13:55,043 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,AVAILABLE}
2023-07-04 20:13:55,073 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:13:55,073 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@478967eb{/,null,AVAILABLE}
2023-07-04 20:13:55,082 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:13:55,102 INFO o.e.j.s.Server [Test worker] Started Server@65593327{STARTING}[11.0.15,sto=1000] @8977ms
2023-07-04 20:13:56,464 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:13:56,543 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:13:56,582 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 22262 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:13:56,583 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:13:56,583 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:13:56,610 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:13:56,611 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@566f4659 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:13:56,611 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:13:56,611 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:13:56,611 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:13:56,611 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a0ffb9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:13:57,597 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:13:57,599 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:13:57,903 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 291 ms. Found 2 JPA repository interfaces.
2023-07-04 20:13:58,893 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:13:59,216 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7272914b
2023-07-04 20:13:59,223 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:13:59,523 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:13:59,825 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:14:00,715 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:14:00,774 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:14:01,081 INFO l.command [Test worker] Using deploymentId: 8490840785
2023-07-04 20:14:01,119 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:14:01,304 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:14:01,307 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 35ms
2023-07-04 20:14:01,342 INFO l.changelog [Test worker] Table news created
2023-07-04 20:14:01,344 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 17ms
2023-07-04 20:14:01,362 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:14:01,363 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 12ms
2023-07-04 20:14:01,373 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,375 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,377 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,380 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,382 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,385 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,387 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,394 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,397 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,401 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,405 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,407 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,410 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,411 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,428 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,431 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,434 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,436 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,438 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,441 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:14:01,443 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 75ms
2023-07-04 20:14:01,458 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,462 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,464 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,466 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,468 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,471 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,473 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,475 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,480 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,483 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,490 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,493 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,496 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,498 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,500 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,502 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,504 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,508 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,510 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,518 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,520 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,523 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,527 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,529 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,531 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,534 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,537 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,540 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,544 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,546 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,551 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,554 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,558 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,560 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,562 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,564 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,566 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,569 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,571 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,573 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:14:01,574 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 124ms
2023-07-04 20:14:01,583 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:14:01,584 INFO l.util [Test worker] Run:                          5
2023-07-04 20:14:01,585 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:14:01,585 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:14:01,585 INFO l.util [Test worker] -------------------------------
2023-07-04 20:14:01,586 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:14:01,587 INFO l.util [Test worker] Update summary generated
2023-07-04 20:14:01,588 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:14:01,594 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:14:01,625 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:14:01,628 INFO l.command [Test worker] Command execution complete
2023-07-04 20:14:01,870 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:14:01,953 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:14:01,957 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:14:02,157 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:14:02,435 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:14:02,523 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@396a4dea
2023-07-04 20:14:02,922 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:14:04,123 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:14:04,296 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:14:05,069 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:14:06,124 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 10.914 seconds (process running for 20.0)
2023-07-04 20:14:07,729 INFO o.e.j.s.Server [Test worker] Stopped Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:14:07,732 INFO o.e.j.s.Server [Test worker] Shutdown Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:14:07,743 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:14:07,747 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@478967eb{/,null,STOPPED}
2023-07-04 20:14:07,748 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,STOPPED}
2023-07-04 20:14:07,772 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:14:07,774 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:14:07,779 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:15:29,298 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:15:29,675 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:15:29,841 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:15:30,278 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:15:31,039 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:15:31,043 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:15:31,121 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:15:31,225 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:15:32,047 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:15:32,303 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 4509bd63276211001981c715cf7e6a46068c87eb6c4ad13180c3c95c7ed2396a
2023-07-04 20:15:33,195 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.059326S
2023-07-04 20:15:33,206 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:15:33,207 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:15:33,207 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:15:33,210 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:15:33,255 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 81ca88d9246eb25fd59cd83795b287e7325f5610ff4c98d6ccfe9f86b0dab746
2023-07-04 20:15:35,095 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.886317S
2023-07-04 20:15:35,102 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58365/test?loggerLevel=OFF)
2023-07-04 20:15:36,545 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:15:36,589 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,AVAILABLE}
2023-07-04 20:15:36,628 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:15:36,629 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@478967eb{/,null,AVAILABLE}
2023-07-04 20:15:36,648 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:15:36,667 INFO o.e.j.s.Server [Test worker] Started Server@65593327{STARTING}[11.0.15,sto=1000] @10377ms
2023-07-04 20:15:38,565 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:15:38,750 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:15:38,839 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 22463 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:15:38,841 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:15:38,844 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:15:38,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:15:38,901 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@566f4659 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:15:38,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:15:38,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:15:38,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:15:38,901 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a0ffb9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:15:40,051 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:15:40,053 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:15:40,360 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 296 ms. Found 2 JPA repository interfaces.
2023-07-04 20:15:41,215 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:15:41,563 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7272914b
2023-07-04 20:15:41,569 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:15:42,014 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:15:42,413 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:15:43,436 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:15:43,455 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:15:43,756 INFO l.command [Test worker] Using deploymentId: 8490943465
2023-07-04 20:15:43,900 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:15:44,131 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:15:44,137 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 38ms
2023-07-04 20:15:44,180 INFO l.changelog [Test worker] Table news created
2023-07-04 20:15:44,183 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 19ms
2023-07-04 20:15:44,217 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:15:44,219 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 20ms
2023-07-04 20:15:44,229 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,231 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,234 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,236 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,238 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,245 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,252 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,257 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,262 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,265 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,270 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,272 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,275 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,295 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,299 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,301 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,303 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,304 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,315 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,320 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:15:44,322 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 95ms
2023-07-04 20:15:44,338 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,343 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,345 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,347 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,349 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,351 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,354 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,357 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,361 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,364 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,370 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,374 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,377 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,380 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,382 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,384 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,386 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,401 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,405 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,410 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,415 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,423 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,429 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,433 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,435 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,440 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,444 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,448 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,453 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,456 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,459 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,463 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,470 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,474 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,478 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,481 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,483 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,487 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,490 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,492 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:15:44,494 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 165ms
2023-07-04 20:15:44,504 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:15:44,505 INFO l.util [Test worker] Run:                          5
2023-07-04 20:15:44,506 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:15:44,506 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:15:44,506 INFO l.util [Test worker] -------------------------------
2023-07-04 20:15:44,506 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:15:44,508 INFO l.util [Test worker] Update summary generated
2023-07-04 20:15:44,509 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:15:44,518 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:15:44,549 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:15:44,556 INFO l.command [Test worker] Command execution complete
2023-07-04 20:15:44,906 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:15:45,031 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:15:45,038 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:15:45,294 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:15:45,505 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:15:45,669 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@396a4dea
2023-07-04 20:15:46,152 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:15:47,731 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:15:48,015 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:15:48,959 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:15:49,895 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 13.109 seconds (process running for 23.605)
2023-07-04 20:15:51,650 INFO o.e.j.s.Server [Test worker] Stopped Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:15:51,652 INFO o.e.j.s.Server [Test worker] Shutdown Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:15:51,662 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:15:51,667 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@478967eb{/,null,STOPPED}
2023-07-04 20:15:51,668 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,STOPPED}
2023-07-04 20:15:51,696 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:15:51,699 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:15:51,703 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:16:40,369 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:16:40,679 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:16:40,803 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:16:41,172 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:16:41,843 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:16:41,847 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:16:41,904 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:16:41,990 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:16:42,571 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:16:42,762 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 3596d115792040425af37309da4422a64c6426e88d33a0b498296fca1bf1229d
2023-07-04 20:16:43,438 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.523931S
2023-07-04 20:16:43,450 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:16:43,450 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:16:43,451 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:16:43,454 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:16:43,496 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: cbf4614a39509e84801959a9cdd15776c018b5e6e852069a2d744d0a4785414e
2023-07-04 20:16:44,983 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.530274S
2023-07-04 20:16:44,985 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58384/test?loggerLevel=OFF)
2023-07-04 20:16:46,384 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:16:46,431 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,AVAILABLE}
2023-07-04 20:16:46,459 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:16:46,459 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@478967eb{/,null,AVAILABLE}
2023-07-04 20:16:46,473 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:16:46,492 INFO o.e.j.s.Server [Test worker] Started Server@65593327{STARTING}[11.0.15,sto=1000] @8567ms
2023-07-04 20:16:47,881 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:16:47,958 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:16:47,997 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 22614 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:16:47,997 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:16:47,998 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:16:48,024 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:16:48,025 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@566f4659 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:16:48,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:16:48,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:16:48,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:16:48,025 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a0ffb9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:16:48,925 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:16:48,927 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:16:49,207 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 267 ms. Found 2 JPA repository interfaces.
2023-07-04 20:16:50,005 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:16:50,311 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7272914b
2023-07-04 20:16:50,322 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:16:50,691 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:16:51,012 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:16:52,057 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:16:52,077 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:16:52,318 INFO l.command [Test worker] Using deploymentId: 8491012088
2023-07-04 20:16:52,412 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:16:52,610 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:16:52,613 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 38ms
2023-07-04 20:16:52,648 INFO l.changelog [Test worker] Table news created
2023-07-04 20:16:52,650 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 16ms
2023-07-04 20:16:52,666 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:16:52,667 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 11ms
2023-07-04 20:16:52,675 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,680 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,683 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,685 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,687 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,691 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,693 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,699 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,702 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,705 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,712 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,717 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,720 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,722 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,740 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,746 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,750 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,752 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,757 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,760 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:16:52,761 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 89ms
2023-07-04 20:16:52,774 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,779 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,782 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,783 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,786 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,788 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,790 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,791 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,796 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,798 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,802 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,807 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,811 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,813 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,815 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,817 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,818 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,822 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,823 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,825 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,827 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,829 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,835 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,837 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,838 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,841 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,842 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,844 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,848 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,850 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,852 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,854 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,857 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,859 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,860 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,862 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,864 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,866 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,868 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,869 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:16:52,870 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 101ms
2023-07-04 20:16:52,879 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:16:52,880 INFO l.util [Test worker] Run:                          5
2023-07-04 20:16:52,881 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:16:52,881 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:16:52,881 INFO l.util [Test worker] -------------------------------
2023-07-04 20:16:52,882 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:16:52,884 INFO l.util [Test worker] Update summary generated
2023-07-04 20:16:52,885 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:16:52,892 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:16:52,907 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:16:52,908 INFO l.command [Test worker] Command execution complete
2023-07-04 20:16:53,132 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:16:53,261 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:16:53,281 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:16:53,515 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:16:53,721 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:16:53,801 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@396a4dea
2023-07-04 20:16:54,184 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:16:55,416 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:16:55,607 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:16:56,452 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:16:57,411 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 10.813 seconds (process running for 19.487)
2023-07-04 20:16:58,987 INFO o.e.j.s.Server [Test worker] Stopped Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:16:58,990 INFO o.e.j.s.Server [Test worker] Shutdown Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:16:59,001 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:16:59,007 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@478967eb{/,null,STOPPED}
2023-07-04 20:16:59,008 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,STOPPED}
2023-07-04 20:16:59,035 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:16:59,038 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:16:59,044 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:17:28,671 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:17:28,974 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:17:29,101 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:17:29,486 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:17:30,147 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:17:30,151 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:17:30,211 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:17:30,291 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:17:30,893 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:17:31,091 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 0dacecd6dec1a119603fd84a997383411519ec44af6d90d54de58ae0a4ab2bfc
2023-07-04 20:17:31,766 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.542882S
2023-07-04 20:17:31,778 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:17:31,779 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:17:31,779 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:17:31,781 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:17:31,818 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2b2863411a6dfd98a98e3aec185efd346235838d6a4456b573cdebf7e907608e
2023-07-04 20:17:33,293 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.512061S
2023-07-04 20:17:33,296 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58405/test?loggerLevel=OFF)
2023-07-04 20:17:34,607 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:17:34,653 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,AVAILABLE}
2023-07-04 20:17:34,685 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:17:34,686 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@478967eb{/,null,AVAILABLE}
2023-07-04 20:17:34,698 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:17:34,714 INFO o.e.j.s.Server [Test worker] Started Server@65593327{STARTING}[11.0.15,sto=1000] @8603ms
2023-07-04 20:17:36,110 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:17:36,163 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:17:36,214 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 22729 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:17:36,215 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:17:36,216 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:17:36,243 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:17:36,243 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@566f4659 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:17:36,243 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:17:36,243 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:17:36,243 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:17:36,243 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a0ffb9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:17:37,199 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:17:37,201 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:17:37,488 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 272 ms. Found 2 JPA repository interfaces.
2023-07-04 20:17:38,267 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:17:38,595 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7272914b
2023-07-04 20:17:38,603 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:17:38,939 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:17:39,294 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:17:40,201 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:17:40,220 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:17:40,495 INFO l.command [Test worker] Using deploymentId: 8491060230
2023-07-04 20:17:40,520 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:17:40,815 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:17:40,823 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 62ms
2023-07-04 20:17:40,857 INFO l.changelog [Test worker] Table news created
2023-07-04 20:17:40,859 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 16ms
2023-07-04 20:17:40,879 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:17:40,880 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 13ms
2023-07-04 20:17:40,894 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,896 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,898 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,900 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,902 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,906 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,908 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,915 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,919 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,923 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,928 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,931 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,934 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,935 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,955 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,959 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,960 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,962 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,964 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,966 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:17:40,968 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 83ms
2023-07-04 20:17:40,985 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:40,990 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:40,993 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:40,995 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:40,997 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:40,999 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,001 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,003 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,007 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,010 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,014 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,019 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,022 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,024 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,026 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,028 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,030 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,034 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,036 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,039 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,041 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,044 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,047 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,049 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,050 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,053 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,055 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,059 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,063 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,065 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,067 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,070 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,073 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,075 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,077 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,079 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,081 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,083 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,085 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,087 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:17:41,088 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 112ms
2023-07-04 20:17:41,099 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:17:41,102 INFO l.util [Test worker] Run:                          5
2023-07-04 20:17:41,102 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:17:41,102 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:17:41,102 INFO l.util [Test worker] -------------------------------
2023-07-04 20:17:41,103 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:17:41,104 INFO l.util [Test worker] Update summary generated
2023-07-04 20:17:41,106 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:17:41,114 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:17:41,140 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:17:41,142 INFO l.command [Test worker] Command execution complete
2023-07-04 20:17:41,382 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:17:41,463 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:17:41,467 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:17:41,677 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:17:41,863 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:17:41,923 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@396a4dea
2023-07-04 20:17:42,385 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:17:43,610 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:17:43,782 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:17:44,533 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:17:45,473 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 10.651 seconds (process running for 19.363)
2023-07-04 20:17:47,072 INFO o.e.j.s.Server [Test worker] Stopped Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:17:47,074 INFO o.e.j.s.Server [Test worker] Shutdown Server@65593327{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:17:47,080 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@382dc417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:17:47,083 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@478967eb{/,null,STOPPED}
2023-07-04 20:17:47,084 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b742bc8{/__admin,null,STOPPED}
2023-07-04 20:17:47,104 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:17:47,107 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:17:47,110 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:17:57,864 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:17:58,189 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:17:58,323 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:17:58,687 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:17:59,307 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:17:59,311 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:17:59,358 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:17:59,444 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:17:59,985 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:18:00,176 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 86e15e0f9d0dab7b4f801fa2bc6e001ef73fe4c31fc3d3b5aae07e98289d48b1
2023-07-04 20:18:00,744 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.373694S
2023-07-04 20:18:00,758 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:18:00,759 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:18:00,759 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:18:00,762 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:18:00,796 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: dd742651d3df1ac3276d0d962c20755e1963f9c61f66fc67e9192e540715a8e3
2023-07-04 20:18:02,175 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.414428S
2023-07-04 20:18:02,178 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58422/test?loggerLevel=OFF)
2023-07-04 20:18:03,472 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:18:03,516 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@783b3aa0{/__admin,null,AVAILABLE}
2023-07-04 20:18:03,546 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:18:03,547 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@63917fe1{/,null,AVAILABLE}
2023-07-04 20:18:03,561 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36359723{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:03,580 INFO o.e.j.s.Server [Test worker] Started Server@682e445e{STARTING}[11.0.15,sto=1000] @8290ms
2023-07-04 20:18:05,024 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:18:05,097 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:18:05,161 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 22803 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:18:05,162 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:18:05,163 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:18:05,209 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:05,209 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1b1ea1d9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:05,209 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:05,209 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:18:05,209 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:05,210 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4ffe3d42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:06,305 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:18:06,308 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:18:06,657 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 331 ms. Found 2 JPA repository interfaces.
2023-07-04 20:18:07,431 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:18:07,790 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3897f9ae
2023-07-04 20:18:07,801 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:18:08,177 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:18:08,480 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:18:09,375 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:18:09,388 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:18:09,787 INFO l.command [Test worker] Using deploymentId: 8491089396
2023-07-04 20:18:09,865 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:18:10,095 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:18:10,099 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 33ms
2023-07-04 20:18:10,141 INFO l.changelog [Test worker] Table news created
2023-07-04 20:18:10,143 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 22ms
2023-07-04 20:18:10,177 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:18:10,179 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 20ms
2023-07-04 20:18:10,195 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,197 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,201 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,204 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,207 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,215 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,222 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,233 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,239 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,246 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,253 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,257 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,261 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,263 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,286 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,289 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,292 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,299 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,305 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,314 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:18:10,317 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 131ms
2023-07-04 20:18:10,341 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,348 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,352 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,355 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,358 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,361 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,363 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,365 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,369 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,377 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,385 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,394 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,398 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,403 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,408 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,412 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,415 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,420 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,423 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,426 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,430 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,433 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,439 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,442 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,444 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,448 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,452 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,456 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,461 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,463 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,465 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,468 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,475 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,477 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,479 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,484 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,488 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,492 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,496 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,498 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:18:10,500 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 168ms
2023-07-04 20:18:10,515 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:18:10,520 INFO l.util [Test worker] Run:                          5
2023-07-04 20:18:10,520 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:18:10,520 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:18:10,521 INFO l.util [Test worker] -------------------------------
2023-07-04 20:18:10,521 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:18:10,525 INFO l.util [Test worker] Update summary generated
2023-07-04 20:18:10,527 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:18:10,537 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:18:10,556 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:18:10,558 INFO l.command [Test worker] Command execution complete
2023-07-04 20:18:10,954 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:18:11,159 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:18:11,170 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:18:11,705 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:18:12,147 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:18:12,490 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@19993ed
2023-07-04 20:18:13,362 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:18:15,760 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:18:15,993 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:18:16,814 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:18:18,009 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 14.326 seconds (process running for 22.721)
2023-07-04 20:18:19,851 INFO o.e.j.s.Server [Test worker] Stopped Server@682e445e{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:19,851 INFO o.e.j.s.Server [Test worker] Shutdown Server@682e445e{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:19,861 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36359723{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:19,865 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@63917fe1{/,null,STOPPED}
2023-07-04 20:18:19,866 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@783b3aa0{/__admin,null,STOPPED}
2023-07-04 20:18:19,884 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:18:19,887 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:18:19,892 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:18:47,472 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:18:47,537 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:18:48,287 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:18:48,302 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@68dd39d2{/__admin,null,AVAILABLE}
2023-07-04 20:18:48,308 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:18:48,308 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d0b0cb9{/,null,AVAILABLE}
2023-07-04 20:18:48,313 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@17f3eefb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:48,320 INFO o.e.j.s.Server [Test worker] Started Server@7327a447{STARTING}[11.0.15,sto=1000] @1684ms
2023-07-04 20:18:48,787 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:18:48,795 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:18:48,805 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 22966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:18:48,805 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:18:48,805 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:18:48,829 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:48,829 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@44dfdd58 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:48,829 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:48,829 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:18:48,829 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:48,829 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71531dd7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:49,329 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:18:49,330 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:18:49,432 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 98 ms. Found 2 JPA repository interfaces.
2023-07-04 20:18:49,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:18:49,447 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:18:49,462 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:18:49,462 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:18:49,462 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2023-07-04 20:18:49,678 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:18:49,753 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:18:49,778 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:18:49,987 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:18:50,192 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:18:50,268 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@65dd2191
2023-07-04 20:18:50,269 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:18:50,362 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:18:50,457 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:18:50,771 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:18:50,836 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:18:50,847 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:18:50,848 INFO l.util [Test worker] Run:                          0
2023-07-04 20:18:50,848 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:18:50,848 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:18:50,848 INFO l.util [Test worker] -------------------------------
2023-07-04 20:18:50,848 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:18:50,848 INFO l.util [Test worker] Update summary generated
2023-07-04 20:18:50,850 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:18:50,855 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:18:50,855 INFO l.command [Test worker] Command execution complete
2023-07-04 20:18:50,919 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:18:50,971 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:18:50,972 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:18:51,056 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:18:51,139 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:18:51,160 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2b3ac26d
2023-07-04 20:18:51,309 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:18:51,783 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:18:51,837 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:18:52,046 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:18:52,497 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:18:52,562 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:18:52,939 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1d2fd73c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24602d7a, org.springframework.security.web.context.SecurityContextHolderFilter@25824720, org.springframework.security.web.header.HeaderWriterFilter@7979b166, org.springframework.security.web.authentication.logout.LogoutFilter@7060c1cb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2265792c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5379839c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@36eff8df, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@24fc59e3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@52fb37d7, org.springframework.security.web.session.ConcurrentSessionFilter@5ddc077b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50a65fb9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74873b07, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c4ffcf0, org.springframework.security.web.access.ExceptionTranslationFilter@2127c46b, org.springframework.security.web.access.intercept.AuthorizationFilter@119db52f]
2023-07-04 20:18:53,414 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.06 seconds (process running for 6.778)
2023-07-04 20:18:53,800 INFO o.e.j.s.Server [Test worker] Stopped Server@7327a447{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:53,800 INFO o.e.j.s.Server [Test worker] Shutdown Server@7327a447{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:53,803 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@17f3eefb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:53,804 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d0b0cb9{/,null,STOPPED}
2023-07-04 20:18:53,805 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@68dd39d2{/__admin,null,STOPPED}
2023-07-04 20:18:54,276 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:18:54,278 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@9a31da0{/__admin,null,AVAILABLE}
2023-07-04 20:18:54,278 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:18:54,278 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@b6630a{/,null,AVAILABLE}
2023-07-04 20:18:54,278 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@768f12db{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:54,279 INFO o.e.j.s.Server [Test worker] Started Server@435b70b{STARTING}[11.0.15,sto=1000] @7643ms
2023-07-04 20:18:54,409 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:18:54,412 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 22966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:18:54,412 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:18:54,412 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:18:54,416 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:54,417 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@33a800bf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:54,417 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:54,417 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:18:54,417 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:54,417 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58420a75 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:54,712 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:18:54,717 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:18:54,849 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@23d7dad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@579e30b7, org.springframework.security.web.context.SecurityContextHolderFilter@1eb45da0, org.springframework.security.web.header.HeaderWriterFilter@3885b162, org.springframework.security.web.authentication.logout.LogoutFilter@9b44d4f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@19a98be6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@325c63a9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@eb52295, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@79fe746d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@60e50c6, org.springframework.security.web.session.ConcurrentSessionFilter@7ee44e51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@302f998a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25b4304c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21886b18, org.springframework.security.web.access.ExceptionTranslationFilter@26a1028e, org.springframework.security.web.access.intercept.AuthorizationFilter@7516aa4]
2023-07-04 20:18:54,912 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:18:54,912 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:18:54,913 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:18:54,996 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.714 seconds (process running for 8.36)
2023-07-04 20:18:55,202 INFO o.e.j.s.Server [Test worker] Stopped Server@435b70b{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:55,203 INFO o.e.j.s.Server [Test worker] Shutdown Server@435b70b{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:55,204 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@768f12db{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:55,204 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@b6630a{/,null,STOPPED}
2023-07-04 20:18:55,204 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@9a31da0{/__admin,null,STOPPED}
2023-07-04 20:18:55,220 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:18:55,221 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@379ebfa0{/__admin,null,AVAILABLE}
2023-07-04 20:18:55,222 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:18:55,222 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2ea8611b{/,null,AVAILABLE}
2023-07-04 20:18:55,223 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@141cc645{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:55,223 INFO o.e.j.s.Server [Test worker] Started Server@6b89dfac{STARTING}[11.0.15,sto=1000] @8587ms
2023-07-04 20:18:55,284 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:18:55,285 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 22966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:18:55,286 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:18:55,286 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:18:55,288 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:55,288 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6a9d7514 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:55,288 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:55,288 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:18:55,288 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:55,288 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e977703 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:55,487 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:18:55,491 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:18:55,600 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4790181c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@587efefa, org.springframework.security.web.context.SecurityContextHolderFilter@27937c21, org.springframework.security.web.header.HeaderWriterFilter@119ec2e4, org.springframework.security.web.authentication.logout.LogoutFilter@2a6b4454, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5149d71b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@21707082, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58d1e6ed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@35a2c933, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a287117, org.springframework.security.web.session.ConcurrentSessionFilter@2acf4eed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2242013, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@654a4b51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d991631, org.springframework.security.web.access.ExceptionTranslationFilter@31429a0a, org.springframework.security.web.access.intercept.AuthorizationFilter@3e843b50]
2023-07-04 20:18:55,636 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:18:55,637 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:18:55,637 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:18:55,649 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.424 seconds (process running for 9.013)
2023-07-04 20:18:55,721 INFO o.e.j.s.Server [Test worker] Stopped Server@6b89dfac{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:55,721 INFO o.e.j.s.Server [Test worker] Shutdown Server@6b89dfac{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:55,723 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@141cc645{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:55,723 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2ea8611b{/,null,STOPPED}
2023-07-04 20:18:55,723 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@379ebfa0{/__admin,null,STOPPED}
2023-07-04 20:18:55,734 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:18:55,735 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3ac10d20{/__admin,null,AVAILABLE}
2023-07-04 20:18:55,736 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:18:55,736 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3b93b86b{/,null,AVAILABLE}
2023-07-04 20:18:55,736 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@47b9622{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:55,736 INFO o.e.j.s.Server [Test worker] Started Server@58c92c02{STARTING}[11.0.15,sto=1000] @9100ms
2023-07-04 20:18:55,789 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:18:55,790 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 22966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:18:55,790 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:18:55,791 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:18:55,792 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:55,793 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@619dc2a6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:55,793 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:55,793 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:18:55,793 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:55,793 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@aff6d3f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:55,991 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:18:56,062 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15aa7d97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@446782b2, org.springframework.security.web.context.SecurityContextHolderFilter@484ab2dc, org.springframework.security.web.header.HeaderWriterFilter@67189d14, org.springframework.security.web.authentication.logout.LogoutFilter@6b19f4b8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4a5379e1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6ecbe827, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@54bb1786, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7b69204f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@755cc0c9, org.springframework.security.web.session.ConcurrentSessionFilter@4c96f850, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2315d524, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@461c6f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7957eec3, org.springframework.security.web.access.ExceptionTranslationFilter@4325123b, org.springframework.security.web.access.intercept.AuthorizationFilter@69d510a6]
2023-07-04 20:18:56,095 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:18:56,095 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:18:56,096 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:18:56,110 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.371 seconds (process running for 9.474)
2023-07-04 20:18:56,134 INFO o.e.j.s.Server [Test worker] Stopped Server@58c92c02{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:56,134 INFO o.e.j.s.Server [Test worker] Shutdown Server@58c92c02{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:18:56,135 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@47b9622{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:56,135 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3b93b86b{/,null,STOPPED}
2023-07-04 20:18:56,135 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3ac10d20{/__admin,null,STOPPED}
2023-07-04 20:18:56,160 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:18:56,180 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:18:56,217 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:18:56,350 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:18:56,617 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:18:56,619 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:18:56,642 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:18:56,671 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:18:57,279 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:18:57,370 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 15c40c9f9560270fb88b27e0a4472a7fd32e521d1a2917469e81851b1c6e7b38
2023-07-04 20:18:57,785 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.13875S
2023-07-04 20:18:57,789 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:18:57,789 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:18:57,790 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:18:57,790 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:18:57,822 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: bd0a12d3c209ecb709b469e177e42049d6c9ca7ac11e77004d9c6f3e31b03838
2023-07-04 20:18:59,275 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.485246S
2023-07-04 20:18:59,276 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58458/test?loggerLevel=OFF)
2023-07-04 20:18:59,282 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:18:59,283 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@33ebc1d5{/__admin,null,AVAILABLE}
2023-07-04 20:18:59,283 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:18:59,283 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1597d021{/,null,AVAILABLE}
2023-07-04 20:18:59,284 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@602b0e5d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:18:59,284 INFO o.e.j.s.Server [Test worker] Started Server@306e1ba2{STARTING}[11.0.15,sto=1000] @12648ms
2023-07-04 20:18:59,339 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:18:59,340 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 22966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:18:59,341 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:18:59,341 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:18:59,342 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:59,342 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@10089762 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:59,342 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:59,342 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:18:59,342 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:18:59,342 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2ef32703 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:18:59,423 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:18:59,423 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:18:59,436 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2023-07-04 20:18:59,475 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:18:59,572 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@b8293d6
2023-07-04 20:18:59,573 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:18:59,589 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:18:59,633 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:18:59,721 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:18:59,730 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:18:59,820 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:18:59,820 INFO l.util [Test worker] Run:                          5
2023-07-04 20:18:59,820 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:18:59,820 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:18:59,820 INFO l.util [Test worker] -------------------------------
2023-07-04 20:18:59,820 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:18:59,820 INFO l.util [Test worker] Update summary generated
2023-07-04 20:18:59,826 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:18:59,834 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:18:59,835 INFO l.command [Test worker] Command execution complete
2023-07-04 20:18:59,853 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:18:59,861 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:18:59,862 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:18:59,863 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@64d4fde6
2023-07-04 20:18:59,880 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:18:59,917 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:18:59,942 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:19:00,062 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.775 seconds (process running for 13.426)
2023-07-04 20:19:00,200 INFO o.e.j.s.Server [Test worker] Stopped Server@306e1ba2{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:19:00,200 INFO o.e.j.s.Server [Test worker] Shutdown Server@306e1ba2{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:19:00,201 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@602b0e5d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:19:00,201 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1597d021{/,null,STOPPED}
2023-07-04 20:19:00,202 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@33ebc1d5{/__admin,null,STOPPED}
2023-07-04 20:19:00,204 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:19:00,207 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:19:00,208 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:19:00,273 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 18a52024dea1e0d56e61301f86871bfff8809709d08c70f3d5c21c93532dfe7f
2023-07-04 20:19:01,805 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.596747S
2023-07-04 20:19:01,805 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58470/test?loggerLevel=OFF)
2023-07-04 20:19:01,808 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:19:01,809 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4af4d738{/__admin,null,AVAILABLE}
2023-07-04 20:19:01,809 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:19:01,809 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6931e110{/,null,AVAILABLE}
2023-07-04 20:19:01,809 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@30c338c8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:19:01,810 INFO o.e.j.s.Server [Test worker] Started Server@70691683{STARTING}[11.0.15,sto=1000] @15174ms
2023-07-04 20:19:01,854 INFO o.e.j.s.Server [Test worker] Stopped Server@70691683{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:19:01,854 INFO o.e.j.s.Server [Test worker] Shutdown Server@70691683{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:19:01,855 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@30c338c8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:19:01,855 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6931e110{/,null,STOPPED}
2023-07-04 20:19:01,855 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4af4d738{/__admin,null,STOPPED}
2023-07-04 20:19:02,080 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:19:02,081 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:19:02,083 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:19:02,094 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:19:02,094 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:19:02,096 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:20:13,450 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:20:13,789 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:20:13,923 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:20:14,307 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:20:14,970 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:20:14,973 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:20:15,028 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:20:15,147 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:20:15,861 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:20:16,065 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: df92454fd6aaf10bd94ae3cda0fde22428e3cfe41c0aab76c6f448493f4ff532
2023-07-04 20:20:16,836 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.797133S
2023-07-04 20:20:16,860 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:20:16,860 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:20:16,861 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:20:16,865 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:20:16,899 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 682e58466dc2673e4c76f6945907b92c53d91675c7f5a817183fefb749a3c4b8
2023-07-04 20:20:18,444 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.581391S
2023-07-04 20:20:18,448 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58477/test?loggerLevel=OFF)
2023-07-04 20:20:19,813 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:20:19,857 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4c24f3a2{/__admin,null,AVAILABLE}
2023-07-04 20:20:19,886 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:20:19,887 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@f559c74{/,null,AVAILABLE}
2023-07-04 20:20:19,905 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@77b5148c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:20:19,924 INFO o.e.j.s.Server [Test worker] Started Server@625487a6{STARTING}[11.0.15,sto=1000] @9015ms
2023-07-04 20:20:21,408 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:20:21,484 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:20:21,528 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 23188 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:20:21,528 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:20:21,529 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:20:21,555 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:20:21,555 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@669c2b07 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:20:21,556 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:20:21,556 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:20:21,556 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:20:21,556 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@460eb276 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:20:22,529 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:20:22,531 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:20:22,838 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 297 ms. Found 2 JPA repository interfaces.
2023-07-04 20:20:23,765 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:20:24,123 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@131c5bd
2023-07-04 20:20:24,131 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:20:24,455 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:20:24,854 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:20:25,762 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:20:25,780 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:20:26,147 INFO l.command [Test worker] Using deploymentId: 8491225790
2023-07-04 20:20:26,217 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:20:26,424 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:20:26,429 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 29ms
2023-07-04 20:20:26,464 INFO l.changelog [Test worker] Table news created
2023-07-04 20:20:26,467 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 18ms
2023-07-04 20:20:26,490 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:20:26,492 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 14ms
2023-07-04 20:20:26,506 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,511 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,514 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,518 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,520 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,524 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,527 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,534 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,537 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,541 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,546 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,548 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,550 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,554 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,560 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,573 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,576 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,578 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,585 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,588 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:20:26,590 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 92ms
2023-07-04 20:20:26,609 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,612 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,615 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,617 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,619 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,621 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,623 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,625 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,629 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,632 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,642 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,644 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,647 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,650 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,653 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,654 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,656 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,659 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,662 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,664 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,667 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,670 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,675 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,678 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,681 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,685 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,687 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,690 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,693 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,695 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,697 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,699 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,705 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,708 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,710 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,713 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,717 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,720 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,723 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,724 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:20:26,726 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 124ms
2023-07-04 20:20:26,735 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:20:26,738 INFO l.util [Test worker] Run:                          5
2023-07-04 20:20:26,738 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:20:26,738 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:20:26,738 INFO l.util [Test worker] -------------------------------
2023-07-04 20:20:26,739 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:20:26,741 INFO l.util [Test worker] Update summary generated
2023-07-04 20:20:26,742 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:20:26,749 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:20:26,766 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:20:26,767 INFO l.command [Test worker] Command execution complete
2023-07-04 20:20:27,013 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:20:27,108 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:20:27,111 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:20:27,314 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:20:27,512 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:20:27,647 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@d4f2f3d
2023-07-04 20:20:28,097 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:20:29,348 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:20:29,542 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:20:30,383 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:20:31,273 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 11.243 seconds (process running for 20.365)
2023-07-04 20:20:33,124 INFO o.e.j.s.Server [Test worker] Stopped Server@625487a6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:20:33,126 INFO o.e.j.s.Server [Test worker] Shutdown Server@625487a6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:20:33,132 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@77b5148c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:20:33,135 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@f559c74{/,null,STOPPED}
2023-07-04 20:20:33,136 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4c24f3a2{/__admin,null,STOPPED}
2023-07-04 20:20:33,157 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:20:33,160 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:20:33,163 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:20:51,413 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:20:51,740 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:20:51,862 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:20:52,255 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:20:52,927 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:20:52,932 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:20:52,983 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:20:53,086 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:20:53,661 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:20:53,844 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 93b7d1d8178613ba1af0dc03a72a838513523c9092d1ec9754e688f267c48a20
2023-07-04 20:20:54,553 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.560038S
2023-07-04 20:20:54,572 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:20:54,573 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:20:54,573 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:20:54,576 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:20:54,615 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 6f3b0bddfc7472cc250d1343b9d5aea009b40a89cab9c47c3081084874b7941f
2023-07-04 20:20:56,107 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.532387S
2023-07-04 20:20:56,111 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58494/test?loggerLevel=OFF)
2023-07-04 20:20:57,545 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:20:57,588 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@783b3aa0{/__admin,null,AVAILABLE}
2023-07-04 20:20:57,618 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:20:57,619 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@63917fe1{/,null,AVAILABLE}
2023-07-04 20:20:57,629 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36359723{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:20:57,644 INFO o.e.j.s.Server [Test worker] Started Server@682e445e{STARTING}[11.0.15,sto=1000] @8763ms
2023-07-04 20:20:59,024 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:20:59,089 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:20:59,144 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 23273 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:20:59,145 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:20:59,146 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:20:59,181 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:20:59,181 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1b1ea1d9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:20:59,181 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:20:59,181 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:20:59,181 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:20:59,182 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4ffe3d42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:00,064 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:21:00,067 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:21:00,373 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 296 ms. Found 2 JPA repository interfaces.
2023-07-04 20:21:01,322 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:21:01,617 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3897f9ae
2023-07-04 20:21:01,621 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:21:01,918 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:21:02,234 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:21:03,099 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:21:03,117 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:21:03,455 INFO l.command [Test worker] Using deploymentId: 8491263125
2023-07-04 20:21:03,525 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:21:03,710 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:21:03,714 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 26ms
2023-07-04 20:21:03,750 INFO l.changelog [Test worker] Table news created
2023-07-04 20:21:03,754 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 20ms
2023-07-04 20:21:03,772 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:21:03,773 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 12ms
2023-07-04 20:21:03,782 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,788 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,790 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,793 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,797 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,801 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,804 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,811 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,815 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,818 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,823 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,825 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,828 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,832 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,834 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,853 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,855 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,858 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,860 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,867 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:21:03,870 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 92ms
2023-07-04 20:21:03,887 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,890 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,893 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,895 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,897 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,899 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,901 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,902 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,906 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,908 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,914 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,916 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,918 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,921 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,923 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,925 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,926 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,929 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,930 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,932 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,933 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,935 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,938 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,940 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,941 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,944 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,947 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,949 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,952 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,953 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,955 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,956 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,960 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,961 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,963 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,965 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,967 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,968 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,970 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,972 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:21:03,973 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 92ms
2023-07-04 20:21:03,983 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:21:03,985 INFO l.util [Test worker] Run:                          5
2023-07-04 20:21:03,985 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:21:03,985 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:21:03,985 INFO l.util [Test worker] -------------------------------
2023-07-04 20:21:03,985 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:21:03,987 INFO l.util [Test worker] Update summary generated
2023-07-04 20:21:03,988 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:21:03,994 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:21:04,010 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:21:04,012 INFO l.command [Test worker] Command execution complete
2023-07-04 20:21:04,251 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:21:04,343 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:21:04,347 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:21:04,553 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:21:04,739 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:21:04,878 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@19993ed
2023-07-04 20:21:05,304 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:21:06,498 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:21:06,681 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:21:07,511 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:21:08,386 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 10.64 seconds (process running for 19.506)
2023-07-04 20:21:10,241 INFO o.e.j.s.Server [Test worker] Stopped Server@682e445e{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:10,243 INFO o.e.j.s.Server [Test worker] Shutdown Server@682e445e{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:10,250 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36359723{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:10,252 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@63917fe1{/,null,STOPPED}
2023-07-04 20:21:10,253 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@783b3aa0{/__admin,null,STOPPED}
2023-07-04 20:21:10,277 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:21:10,280 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:21:10,284 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:21:33,212 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:21:33,307 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:21:34,189 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:21:34,235 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@68dd39d2{/__admin,null,AVAILABLE}
2023-07-04 20:21:34,245 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:21:34,246 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d0b0cb9{/,null,AVAILABLE}
2023-07-04 20:21:34,256 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@17f3eefb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:34,269 INFO o.e.j.s.Server [Test worker] Started Server@7327a447{STARTING}[11.0.15,sto=1000] @2408ms
2023-07-04 20:21:35,254 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:21:35,267 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:21:35,283 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 23405 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:21:35,284 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:21:35,284 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:21:35,322 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:35,322 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@44dfdd58 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:35,323 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:35,323 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:21:35,323 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:35,323 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71531dd7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:36,529 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:21:36,531 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:21:36,739 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 199 ms. Found 2 JPA repository interfaces.
2023-07-04 20:21:36,762 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:21:36,763 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:21:36,783 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:21:36,784 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:21:36,784 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2023-07-04 20:21:37,135 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:21:37,264 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:21:37,327 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:21:37,603 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:21:37,820 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:21:37,892 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5df7ae0a
2023-07-04 20:21:37,893 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:21:37,972 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:21:38,062 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:21:38,375 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:21:38,446 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:21:38,451 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:21:38,452 INFO l.util [Test worker] Run:                          0
2023-07-04 20:21:38,452 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:21:38,452 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:21:38,452 INFO l.util [Test worker] -------------------------------
2023-07-04 20:21:38,452 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:21:38,452 INFO l.util [Test worker] Update summary generated
2023-07-04 20:21:38,455 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:21:38,458 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:21:38,458 INFO l.command [Test worker] Command execution complete
2023-07-04 20:21:38,535 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:21:38,569 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:21:38,570 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:21:38,646 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:21:38,731 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:21:38,755 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@440d45c5
2023-07-04 20:21:38,908 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:21:39,393 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:21:39,451 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:21:39,671 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:21:40,121 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:21:40,187 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:21:40,572 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63e67888, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@308508ec, org.springframework.security.web.context.SecurityContextHolderFilter@24f3e945, org.springframework.security.web.header.HeaderWriterFilter@16bee5fe, org.springframework.security.web.authentication.logout.LogoutFilter@5e9ae46f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4d44f385, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6e46f5c1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a99aa17, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@f92ee1b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@324bb7fb, org.springframework.security.web.session.ConcurrentSessionFilter@1f0695ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d9ad64f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebdbe96, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@315f4718, org.springframework.security.web.access.ExceptionTranslationFilter@25824720, org.springframework.security.web.access.intercept.AuthorizationFilter@3342ec79]
2023-07-04 20:21:41,056 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 6.708 seconds (process running for 9.195)
2023-07-04 20:21:41,481 INFO o.e.j.s.Server [Test worker] Stopped Server@7327a447{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:41,481 INFO o.e.j.s.Server [Test worker] Shutdown Server@7327a447{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:41,484 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@17f3eefb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:41,485 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d0b0cb9{/,null,STOPPED}
2023-07-04 20:21:41,486 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@68dd39d2{/__admin,null,STOPPED}
2023-07-04 20:21:41,998 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:21:42,000 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5747a07c{/__admin,null,AVAILABLE}
2023-07-04 20:21:42,000 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:21:42,000 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@27294098{/,null,AVAILABLE}
2023-07-04 20:21:42,000 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@498ae73c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:42,001 INFO o.e.j.s.Server [Test worker] Started Server@5c25207{STARTING}[11.0.15,sto=1000] @10140ms
2023-07-04 20:21:42,107 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:21:42,109 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 23405 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:21:42,109 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:21:42,109 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:21:42,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:42,112 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4bf30a35 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:42,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:42,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:21:42,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:42,112 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@432005ce uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:42,437 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:21:42,442 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:21:42,567 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@25ee509f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76d74efe, org.springframework.security.web.context.SecurityContextHolderFilter@690406d0, org.springframework.security.web.header.HeaderWriterFilter@2e26eed3, org.springframework.security.web.authentication.logout.LogoutFilter@5a70dfe7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2f6f80bc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@733ced51, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a593c3c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@222c53c7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@62956310, org.springframework.security.web.session.ConcurrentSessionFilter@43e07d88, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ba947fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62e06e2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@612e1ba2, org.springframework.security.web.access.ExceptionTranslationFilter@32640b6d, org.springframework.security.web.access.intercept.AuthorizationFilter@7bf28545]
2023-07-04 20:21:42,623 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:21:42,623 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:21:42,624 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:21:42,699 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.695 seconds (process running for 10.838)
2023-07-04 20:21:42,922 INFO o.e.j.s.Server [Test worker] Stopped Server@5c25207{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:42,922 INFO o.e.j.s.Server [Test worker] Shutdown Server@5c25207{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:42,923 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@498ae73c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:42,923 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@27294098{/,null,STOPPED}
2023-07-04 20:21:42,923 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5747a07c{/__admin,null,STOPPED}
2023-07-04 20:21:42,939 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:21:42,941 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2aeef1ca{/__admin,null,AVAILABLE}
2023-07-04 20:21:42,941 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:21:42,941 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2f8b4c20{/,null,AVAILABLE}
2023-07-04 20:21:42,941 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@17287617{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:42,942 INFO o.e.j.s.Server [Test worker] Started Server@15f4dffe{STARTING}[11.0.15,sto=1000] @11081ms
2023-07-04 20:21:43,014 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:21:43,020 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 23405 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:21:43,020 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:21:43,021 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:21:43,022 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:43,022 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@45a2d27c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:43,023 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:43,023 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:21:43,023 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:43,023 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4df30827 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:43,227 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:21:43,230 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:21:43,331 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61b4da5c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c882cb4, org.springframework.security.web.context.SecurityContextHolderFilter@17b1c453, org.springframework.security.web.header.HeaderWriterFilter@77025469, org.springframework.security.web.authentication.logout.LogoutFilter@39b775d8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@46296315, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4432c7bd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6cd4b0da, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50c73af4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3e5501b7, org.springframework.security.web.session.ConcurrentSessionFilter@6d97c8aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6602d11b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34660ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77ce24c7, org.springframework.security.web.access.ExceptionTranslationFilter@1dad9dfb, org.springframework.security.web.access.intercept.AuthorizationFilter@60bdba16]
2023-07-04 20:21:43,365 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:21:43,366 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:21:43,366 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:21:43,376 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.433 seconds (process running for 11.515)
2023-07-04 20:21:43,453 INFO o.e.j.s.Server [Test worker] Stopped Server@15f4dffe{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:43,453 INFO o.e.j.s.Server [Test worker] Shutdown Server@15f4dffe{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:43,453 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@17287617{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:43,454 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2f8b4c20{/,null,STOPPED}
2023-07-04 20:21:43,454 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2aeef1ca{/__admin,null,STOPPED}
2023-07-04 20:21:43,465 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:21:43,466 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15978cad{/__admin,null,AVAILABLE}
2023-07-04 20:21:43,466 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:21:43,466 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6ca260bf{/,null,AVAILABLE}
2023-07-04 20:21:43,467 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6ff9b4f2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:43,467 INFO o.e.j.s.Server [Test worker] Started Server@67040b58{STARTING}[11.0.15,sto=1000] @11606ms
2023-07-04 20:21:43,534 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:21:43,537 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 23405 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:21:43,537 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:21:43,537 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:21:43,539 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:43,539 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3ddd688e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:43,539 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:43,539 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:21:43,539 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:43,539 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@cf15d6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:43,732 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:21:43,809 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56208ee4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1475268a, org.springframework.security.web.context.SecurityContextHolderFilter@3c1d5349, org.springframework.security.web.header.HeaderWriterFilter@397ec6bb, org.springframework.security.web.authentication.logout.LogoutFilter@67517ccf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1cfbcd9f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@70207dcb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f251b32, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7d3d4b83, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@67c8dfea, org.springframework.security.web.session.ConcurrentSessionFilter@1d6d1a18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47716014, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8f52d5f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53b4aa, org.springframework.security.web.access.ExceptionTranslationFilter@19cc4b7d, org.springframework.security.web.access.intercept.AuthorizationFilter@519910b2]
2023-07-04 20:21:43,839 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:21:43,839 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:21:43,840 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:21:43,851 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.383 seconds (process running for 11.99)
2023-07-04 20:21:43,876 INFO o.e.j.s.Server [Test worker] Stopped Server@67040b58{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:43,876 INFO o.e.j.s.Server [Test worker] Shutdown Server@67040b58{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:43,877 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6ff9b4f2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:43,877 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6ca260bf{/,null,STOPPED}
2023-07-04 20:21:43,877 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15978cad{/__admin,null,STOPPED}
2023-07-04 20:21:43,910 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:21:43,930 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:21:43,957 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:21:44,101 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:21:44,383 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:21:44,384 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:21:44,410 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:21:44,440 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:21:44,971 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:21:45,061 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 37c416919d7a3c43eacf12da61ef19fc212e3e5f3e35525bd11b20f562f0967d
2023-07-04 20:21:45,489 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.07508S
2023-07-04 20:21:45,494 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:21:45,494 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:21:45,494 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:21:45,494 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:21:45,524 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 9c6191ded7482d5da8e04ca7b1e854cb50a01ddd64ceed70bc7377b85868d78b
2023-07-04 20:21:46,987 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.492231S
2023-07-04 20:21:46,988 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58525/test?loggerLevel=OFF)
2023-07-04 20:21:46,994 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:21:46,995 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@393d64d2{/__admin,null,AVAILABLE}
2023-07-04 20:21:46,995 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:21:46,995 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@64eedae0{/,null,AVAILABLE}
2023-07-04 20:21:46,996 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6ccc9bc1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:46,996 INFO o.e.j.s.Server [Test worker] Started Server@4bdac417{STARTING}[11.0.15,sto=1000] @15135ms
2023-07-04 20:21:47,057 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:21:47,061 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 23405 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:21:47,061 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:21:47,061 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:21:47,063 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:47,063 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4063c453 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:47,063 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:47,063 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:21:47,063 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:21:47,063 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5aa90875 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:21:47,160 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:21:47,160 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:21:47,172 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2023-07-04 20:21:47,222 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:21:47,312 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@42583cc1
2023-07-04 20:21:47,312 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:21:47,328 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:21:47,376 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:21:47,471 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:21:47,480 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:21:47,591 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:21:47,591 INFO l.util [Test worker] Run:                          5
2023-07-04 20:21:47,592 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:21:47,592 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:21:47,592 INFO l.util [Test worker] -------------------------------
2023-07-04 20:21:47,592 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:21:47,593 INFO l.util [Test worker] Update summary generated
2023-07-04 20:21:47,600 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:21:47,610 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:21:47,612 INFO l.command [Test worker] Command execution complete
2023-07-04 20:21:47,627 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:21:47,634 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:21:47,634 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:21:47,636 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@53515068
2023-07-04 20:21:47,653 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:21:47,738 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:21:47,775 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:21:47,890 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.891 seconds (process running for 16.029)
2023-07-04 20:21:48,050 INFO o.e.j.s.Server [Test worker] Stopped Server@4bdac417{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:48,050 INFO o.e.j.s.Server [Test worker] Shutdown Server@4bdac417{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:48,051 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6ccc9bc1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:48,052 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@64eedae0{/,null,STOPPED}
2023-07-04 20:21:48,052 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@393d64d2{/__admin,null,STOPPED}
2023-07-04 20:21:48,054 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:21:48,057 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:21:48,058 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:21:48,148 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: aee532da5de7e8bca6fecb0dfcfadded3e8462c46ac8fa3c0d4b8ace84b12aac
2023-07-04 20:21:49,749 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.690909S
2023-07-04 20:21:49,751 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58537/test?loggerLevel=OFF)
2023-07-04 20:21:49,755 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:21:49,756 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1403f6d3{/__admin,null,AVAILABLE}
2023-07-04 20:21:49,756 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:21:49,756 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3eff7ec9{/,null,AVAILABLE}
2023-07-04 20:21:49,756 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2d9b4481{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:49,756 INFO o.e.j.s.Server [Test worker] Started Server@2bcc4898{STARTING}[11.0.15,sto=1000] @17896ms
2023-07-04 20:21:49,802 INFO o.e.j.s.Server [Test worker] Stopped Server@2bcc4898{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:49,802 INFO o.e.j.s.Server [Test worker] Shutdown Server@2bcc4898{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:21:49,803 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2d9b4481{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:21:49,803 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3eff7ec9{/,null,STOPPED}
2023-07-04 20:21:49,803 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1403f6d3{/__admin,null,STOPPED}
2023-07-04 20:21:50,007 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:21:50,008 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:21:50,010 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:21:50,023 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:21:50,024 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:21:50,024 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:22:18,586 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:22:19,191 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:22:22,794 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:22:22,869 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@61cda923{/__admin,null,AVAILABLE}
2023-07-04 20:22:22,896 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:22:22,897 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40ed1802{/,null,AVAILABLE}
2023-07-04 20:22:22,917 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@52b3bf03{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:22:22,941 INFO o.e.j.s.Server [Test worker] Started Server@27fe059d{STARTING}[11.0.15,sto=1000] @9102ms
2023-07-04 20:22:25,643 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:22:25,758 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:22:25,826 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 23539 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:22:25,827 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:22:25,828 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:22:26,108 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:26,112 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@117b2cc6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:22:26,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:26,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:22:26,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:26,113 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1f179f51 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:22:29,804 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:22:29,809 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:22:30,345 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 519 ms. Found 2 JPA repository interfaces.
2023-07-04 20:22:30,487 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:22:30,490 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:22:30,549 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:22:30,550 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:22:30,551 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2023-07-04 20:22:32,099 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:22:32,546 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:22:32,703 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:22:35,759 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:22:36,052 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d6e09f0
2023-07-04 20:22:36,056 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:22:36,416 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:22:36,772 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:22:37,818 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:22:38,043 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:22:38,089 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:22:38,090 INFO l.util [Test worker] Run:                          0
2023-07-04 20:22:38,091 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:22:38,091 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:22:38,091 INFO l.util [Test worker] -------------------------------
2023-07-04 20:22:38,091 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:22:38,093 INFO l.util [Test worker] Update summary generated
2023-07-04 20:22:38,100 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:22:38,122 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:22:38,123 INFO l.command [Test worker] Command execution complete
2023-07-04 20:22:38,445 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:22:38,609 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:22:38,614 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:22:38,943 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:22:39,404 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:22:39,670 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7334dcbe
2023-07-04 20:22:40,337 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:22:42,302 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:22:42,467 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:22:43,456 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:22:45,720 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:22:46,253 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:22:47,800 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@618c6ba8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24f878f7, org.springframework.security.web.context.SecurityContextHolderFilter@6e860ca5, org.springframework.security.web.header.HeaderWriterFilter@123fb86b, org.springframework.security.web.authentication.logout.LogoutFilter@5bdd5b86, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2c1af4a6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7755382a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3cf852f9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4ecbd1da, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@68f1b06b, org.springframework.security.web.session.ConcurrentSessionFilter@5722c149, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@912e308, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65ff5e07, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55b12c21, org.springframework.security.web.access.ExceptionTranslationFilter@720a0b6b, org.springframework.security.web.access.intercept.AuthorizationFilter@54210bb8]
2023-07-04 20:22:49,750 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 26.6 seconds (process running for 35.91)
2023-07-04 20:22:51,005 INFO o.e.j.s.Server [Test worker] Stopped Server@27fe059d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:22:51,009 INFO o.e.j.s.Server [Test worker] Shutdown Server@27fe059d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:22:51,040 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@52b3bf03{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:22:51,053 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40ed1802{/,null,STOPPED}
2023-07-04 20:22:51,054 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@61cda923{/__admin,null,STOPPED}
2023-07-04 20:22:53,652 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:22:53,663 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b4999f8{/__admin,null,AVAILABLE}
2023-07-04 20:22:53,666 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:22:53,666 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d50301{/,null,AVAILABLE}
2023-07-04 20:22:53,667 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1e77dac0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:22:53,672 INFO o.e.j.s.Server [Test worker] Started Server@6492428e{STARTING}[11.0.15,sto=1000] @39832ms
2023-07-04 20:22:54,138 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:22:54,151 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 23539 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:22:54,151 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:22:54,151 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:22:54,159 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:54,159 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@119940b4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:22:54,159 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:54,159 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:22:54,159 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:54,159 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1f974b5d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:22:55,337 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:22:55,381 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:22:55,757 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@343047c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a0a5b0e, org.springframework.security.web.context.SecurityContextHolderFilter@78e4c48b, org.springframework.security.web.header.HeaderWriterFilter@3a4f4a81, org.springframework.security.web.authentication.logout.LogoutFilter@6a34aaec, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@171fd7e5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@58337c20, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7082d3e2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7fdfa8c2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@291be813, org.springframework.security.web.session.ConcurrentSessionFilter@34beebe0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c26f301, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c7da546, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe03311, org.springframework.security.web.access.ExceptionTranslationFilter@931aef8, org.springframework.security.web.access.intercept.AuthorizationFilter@39a95375]
2023-07-04 20:22:55,939 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:22:55,940 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:22:55,941 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:22:56,151 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.468 seconds (process running for 42.311)
2023-07-04 20:22:57,041 INFO o.e.j.s.Server [Test worker] Stopped Server@6492428e{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:22:57,042 INFO o.e.j.s.Server [Test worker] Shutdown Server@6492428e{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:22:57,045 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1e77dac0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:22:57,046 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d50301{/,null,STOPPED}
2023-07-04 20:22:57,046 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b4999f8{/__admin,null,STOPPED}
2023-07-04 20:22:57,097 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:22:57,101 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2bb480d0{/__admin,null,AVAILABLE}
2023-07-04 20:22:57,102 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:22:57,102 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1349a7f2{/,null,AVAILABLE}
2023-07-04 20:22:57,102 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cfd4e82{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:22:57,103 INFO o.e.j.s.Server [Test worker] Started Server@49d21965{STARTING}[11.0.15,sto=1000] @43263ms
2023-07-04 20:22:57,296 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:22:57,303 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 23539 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:22:57,303 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:22:57,303 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:22:57,307 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:57,308 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1f15bbb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:22:57,308 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:57,308 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:22:57,308 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:57,308 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f74436a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:22:57,924 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:22:57,934 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:22:58,160 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@695ea38f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@353b89f0, org.springframework.security.web.context.SecurityContextHolderFilter@2306d66c, org.springframework.security.web.header.HeaderWriterFilter@6746afab, org.springframework.security.web.authentication.logout.LogoutFilter@3bad01ee, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@264f5eda, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@75be998c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@31fc2a08, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3a6aa97f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34480422, org.springframework.security.web.session.ConcurrentSessionFilter@6830774c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@362e225, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@518b3e15, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6434c4c9, org.springframework.security.web.access.ExceptionTranslationFilter@10260c4d, org.springframework.security.web.access.intercept.AuthorizationFilter@5c909d4d]
2023-07-04 20:22:58,238 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:22:58,239 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:22:58,239 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:22:58,255 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.146 seconds (process running for 44.416)
2023-07-04 20:22:58,781 INFO o.e.j.s.Server [Test worker] Stopped Server@49d21965{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:22:58,782 INFO o.e.j.s.Server [Test worker] Shutdown Server@49d21965{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:22:58,787 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cfd4e82{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:22:58,789 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1349a7f2{/,null,STOPPED}
2023-07-04 20:22:58,789 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2bb480d0{/__admin,null,STOPPED}
2023-07-04 20:22:58,880 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:22:58,902 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37b0cfae{/__admin,null,AVAILABLE}
2023-07-04 20:22:58,904 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:22:58,905 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@76f0872c{/,null,AVAILABLE}
2023-07-04 20:22:58,915 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3344bc4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:22:58,917 INFO o.e.j.s.Server [Test worker] Started Server@5a22e843{STARTING}[11.0.15,sto=1000] @45078ms
2023-07-04 20:22:59,383 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:22:59,432 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 23539 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:22:59,433 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:22:59,433 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:22:59,450 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:59,451 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5dfeb2e3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:22:59,453 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:59,453 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:22:59,454 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:22:59,454 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@47f309d8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:23:00,370 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:23:00,544 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e1c2cff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b67e60e, org.springframework.security.web.context.SecurityContextHolderFilter@72311210, org.springframework.security.web.header.HeaderWriterFilter@27cac84b, org.springframework.security.web.authentication.logout.LogoutFilter@6a6082b3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3e6367bd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@50f80fd8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58e6940, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5e4a068f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6bf1b075, org.springframework.security.web.session.ConcurrentSessionFilter@fc35cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e8007e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ff906e9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d430022, org.springframework.security.web.access.ExceptionTranslationFilter@7c3806a2, org.springframework.security.web.access.intercept.AuthorizationFilter@13a91c02]
2023-07-04 20:23:00,611 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:23:00,611 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:23:00,612 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:23:00,630 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 1.693 seconds (process running for 46.79)
2023-07-04 20:23:00,720 INFO o.e.j.s.Server [Test worker] Stopped Server@5a22e843{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:23:00,720 INFO o.e.j.s.Server [Test worker] Shutdown Server@5a22e843{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:23:00,722 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3344bc4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:23:00,722 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@76f0872c{/,null,STOPPED}
2023-07-04 20:23:00,723 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37b0cfae{/__admin,null,STOPPED}
2023-07-04 20:23:00,865 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:23:00,903 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:23:01,032 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:23:02,174 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:23:04,070 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:23:04,086 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:23:04,242 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:23:04,485 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:23:06,328 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:23:07,501 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 599dec62cb0a6492d4860c01b5b1cc7423b959920d3fa385643df65d963fe227
2023-07-04 20:23:08,749 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT4.457391S
2023-07-04 20:23:08,768 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:23:08,769 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:23:08,771 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:23:08,774 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:23:08,813 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 9cd2db845dac7c90251ac3c9ff9bc69e7aea714780407dff422a07ce3ad1be16
2023-07-04 20:23:10,346 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.572291S
2023-07-04 20:23:10,364 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58562/test?loggerLevel=OFF)
2023-07-04 20:23:10,443 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:23:10,451 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@13975b63{/__admin,null,AVAILABLE}
2023-07-04 20:23:10,453 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:23:10,454 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e4dbcd0{/,null,AVAILABLE}
2023-07-04 20:23:10,456 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@729c3ad8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:23:10,459 INFO o.e.j.s.Server [Test worker] Started Server@4a280c62{STARTING}[11.0.15,sto=1000] @56619ms
2023-07-04 20:23:10,980 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:23:10,996 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 23539 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:23:10,997 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:23:10,997 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:23:11,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:23:11,008 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6e7b53df uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:23:11,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:23:11,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:23:11,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:23:11,008 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@aa0aa6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:23:11,482 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:23:11,482 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:23:11,537 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 54 ms. Found 2 JPA repository interfaces.
2023-07-04 20:23:11,751 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:23:11,958 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6b3bb1c0
2023-07-04 20:23:11,960 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:23:11,991 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:23:12,184 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:23:12,501 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:23:12,515 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:23:12,833 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:23:12,834 INFO l.util [Test worker] Run:                          5
2023-07-04 20:23:12,835 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:23:12,835 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:23:12,835 INFO l.util [Test worker] -------------------------------
2023-07-04 20:23:12,835 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:23:12,837 INFO l.util [Test worker] Update summary generated
2023-07-04 20:23:12,848 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:23:12,864 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:23:12,866 INFO l.command [Test worker] Command execution complete
2023-07-04 20:23:12,959 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:23:12,989 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:23:12,991 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:23:12,996 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@518125dc
2023-07-04 20:23:13,043 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:23:13,268 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:23:13,362 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:23:13,640 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 3.142 seconds (process running for 59.801)
2023-07-04 20:23:14,314 INFO o.e.j.s.Server [Test worker] Stopped Server@4a280c62{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:23:14,314 INFO o.e.j.s.Server [Test worker] Shutdown Server@4a280c62{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:23:14,323 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@729c3ad8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:23:14,327 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e4dbcd0{/,null,STOPPED}
2023-07-04 20:23:14,328 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@13975b63{/__admin,null,STOPPED}
2023-07-04 20:23:14,355 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:23:14,380 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:23:14,397 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:23:14,548 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 3defcbc73f6cf283d48319db305891cc9c0fb1bda4847d8b4aa30200c3f1d31f
2023-07-04 20:23:16,244 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.847442S
2023-07-04 20:23:16,245 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58574/test?loggerLevel=OFF)
2023-07-04 20:23:16,278 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:23:16,284 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@631336e8{/__admin,null,AVAILABLE}
2023-07-04 20:23:16,285 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:23:16,286 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@77b16c58{/,null,AVAILABLE}
2023-07-04 20:23:16,288 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6ada92a2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:23:16,289 INFO o.e.j.s.Server [Test worker] Started Server@71ce1174{STARTING}[11.0.15,sto=1000] @62450ms
2023-07-04 20:23:16,594 INFO o.e.j.s.Server [Test worker] Stopped Server@71ce1174{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:23:16,603 INFO o.e.j.s.Server [Test worker] Shutdown Server@71ce1174{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:23:16,618 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6ada92a2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:23:16,619 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@77b16c58{/,null,STOPPED}
2023-07-04 20:23:16,620 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@631336e8{/__admin,null,STOPPED}
2023-07-04 20:23:18,233 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:23:18,252 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:23:18,256 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:23:18,320 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:23:18,321 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:23:18,327 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:25:57,941 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:25:58,277 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:25:59,875 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:25:59,907 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@67774e29{/__admin,null,AVAILABLE}
2023-07-04 20:25:59,934 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:25:59,934 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@518ddd3b{/,null,AVAILABLE}
2023-07-04 20:25:59,945 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@261ea657{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:25:59,973 INFO o.e.j.s.Server [Test worker] Started Server@5ebffb44{STARTING}[11.0.15,sto=1000] @4555ms
2023-07-04 20:26:00,045 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:26:00,378 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:26:00,985 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:26:00,992 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:26:01,050 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:26:01,144 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:26:02,000 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:26:02,282 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 6c3bc056e6f2b4ff75ecfd2c1d0ec4636f592c81690419058f21d67d80e46c38
2023-07-04 20:26:02,950 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.888878S
2023-07-04 20:26:02,966 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:26:02,967 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:26:02,968 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:26:02,970 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:26:03,007 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: fdd2aba6193c03415d21152126f533bfc0fdefafab25a23118ab61b2e402312b
2023-07-04 20:26:04,498 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.528651S
2023-07-04 20:26:04,502 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58581/test?loggerLevel=OFF)
2023-07-04 20:26:05,953 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:26:06,033 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:26:06,075 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 24000 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:26:06,075 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:26:06,076 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:26:06,115 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:26:06,115 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@60844992 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:26:06,116 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:26:06,116 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:26:06,116 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:26:06,116 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f541e67 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:26:07,018 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:26:07,021 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:26:07,298 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 266 ms. Found 2 JPA repository interfaces.
2023-07-04 20:26:08,112 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:26:08,427 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7e532f2d
2023-07-04 20:26:08,434 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:26:08,807 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:26:09,158 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:26:10,231 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:26:10,253 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:26:10,528 INFO l.command [Test worker] Using deploymentId: 8491570264
2023-07-04 20:26:10,558 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:26:10,713 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:26:10,716 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 21ms
2023-07-04 20:26:10,759 INFO l.changelog [Test worker] Table news created
2023-07-04 20:26:10,761 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 17ms
2023-07-04 20:26:10,777 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:26:10,778 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 11ms
2023-07-04 20:26:10,786 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,788 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,790 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,793 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,795 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,798 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,800 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,806 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,808 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,811 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,816 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,818 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,821 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,828 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,846 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,848 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,854 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,856 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,858 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,862 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:26:10,864 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 81ms
2023-07-04 20:26:10,879 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,882 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,885 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,886 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,889 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,890 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,892 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,915 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,927 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,935 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,945 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,953 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,959 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,962 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,964 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,966 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,968 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,977 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,980 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,982 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,995 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:10,997 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,002 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,005 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,007 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,010 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,011 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,013 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,016 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,017 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,019 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,022 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,024 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,026 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,029 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,032 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,033 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,040 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,042 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,044 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:26:11,045 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 173ms
2023-07-04 20:26:11,061 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:26:11,063 INFO l.util [Test worker] Run:                          5
2023-07-04 20:26:11,064 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:26:11,064 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:26:11,064 INFO l.util [Test worker] -------------------------------
2023-07-04 20:26:11,065 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:26:11,069 INFO l.util [Test worker] Update summary generated
2023-07-04 20:26:11,071 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:26:11,084 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:26:11,102 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:26:11,104 INFO l.command [Test worker] Command execution complete
2023-07-04 20:26:11,350 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:26:11,431 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:26:11,436 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:26:11,647 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:26:11,930 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:26:12,035 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6b5c4b75
2023-07-04 20:26:12,417 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:26:13,623 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:26:13,791 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:26:14,580 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:26:15,516 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 10.918 seconds (process running for 20.098)
2023-07-04 20:26:17,340 INFO o.e.j.s.Server [Test worker] Stopped Server@5ebffb44{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:26:17,347 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ebffb44{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:26:17,356 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@261ea657{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:26:17,361 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@518ddd3b{/,null,STOPPED}
2023-07-04 20:26:17,364 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@67774e29{/__admin,null,STOPPED}
2023-07-04 20:26:17,384 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:26:17,386 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:26:17,390 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:26:56,896 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:26:57,366 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:27:01,088 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:27:01,190 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@317890ea{/__admin,null,AVAILABLE}
2023-07-04 20:27:01,219 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:27:01,221 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@50110971{/,null,AVAILABLE}
2023-07-04 20:27:01,249 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@29b40b3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:01,272 INFO o.e.j.s.Server [Test worker] Started Server@750ed637{STARTING}[11.0.15,sto=1000] @8935ms
2023-07-04 20:27:04,053 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:27:04,133 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:27:04,207 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 24146 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:27:04,207 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:27:04,208 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:27:04,547 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:04,550 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@77ea806f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:04,551 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:04,551 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:27:04,551 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:04,551 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@72eed547 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:08,083 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:27:08,089 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:27:08,632 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 524 ms. Found 2 JPA repository interfaces.
2023-07-04 20:27:08,856 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:27:08,870 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:27:09,057 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:27:09,064 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:27:09,065 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 103 ms. Found 0 Redis repository interfaces.
2023-07-04 20:27:10,259 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:27:10,649 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:27:10,819 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:27:13,652 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:27:13,888 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@75708130
2023-07-04 20:27:13,892 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:27:14,204 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:27:14,583 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:27:15,639 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:27:15,854 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:27:15,906 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:27:15,909 INFO l.util [Test worker] Run:                          0
2023-07-04 20:27:15,909 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:27:15,909 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:27:15,909 INFO l.util [Test worker] -------------------------------
2023-07-04 20:27:15,909 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:27:15,911 INFO l.util [Test worker] Update summary generated
2023-07-04 20:27:15,918 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:27:15,937 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:27:15,938 INFO l.command [Test worker] Command execution complete
2023-07-04 20:27:16,273 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:27:16,414 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:27:16,420 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:27:16,756 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:27:17,124 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:27:17,228 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@36d1ac55
2023-07-04 20:27:17,902 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:27:20,060 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:27:20,242 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:27:21,270 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:27:23,400 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:27:23,682 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:27:25,592 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38e26e29, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52b2aa6e, org.springframework.security.web.context.SecurityContextHolderFilter@4738db0f, org.springframework.security.web.header.HeaderWriterFilter@278537ab, org.springframework.security.web.authentication.logout.LogoutFilter@30e3ca4a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@33225b82, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@10370297, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@209aefd1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@19f7179, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4c85eb6b, org.springframework.security.web.session.ConcurrentSessionFilter@29911ee3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@324cc34d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@318f2e9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39ae8a75, org.springframework.security.web.access.ExceptionTranslationFilter@6d6e2ad5, org.springframework.security.web.access.intercept.AuthorizationFilter@7c752d6b]
2023-07-04 20:27:27,640 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 26.143 seconds (process running for 35.304)
2023-07-04 20:27:28,828 INFO o.e.j.s.Server [Test worker] Stopped Server@750ed637{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:28,829 INFO o.e.j.s.Server [Test worker] Shutdown Server@750ed637{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:28,840 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@29b40b3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:28,844 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@50110971{/,null,STOPPED}
2023-07-04 20:27:28,846 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@317890ea{/__admin,null,STOPPED}
2023-07-04 20:27:31,567 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:27:31,577 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@69597fb3{/__admin,null,AVAILABLE}
2023-07-04 20:27:31,582 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:27:31,582 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6136bd80{/,null,AVAILABLE}
2023-07-04 20:27:31,584 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@59732214{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:31,587 INFO o.e.j.s.Server [Test worker] Started Server@e0957b5{STARTING}[11.0.15,sto=1000] @39252ms
2023-07-04 20:27:32,027 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:27:32,050 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 24146 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:27:32,051 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:27:32,051 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:27:32,062 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:32,063 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18bbcce8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:32,064 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:32,064 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:27:32,064 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:32,064 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1e77dac0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:33,999 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:27:34,062 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:27:34,718 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a80994a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e0aab75, org.springframework.security.web.context.SecurityContextHolderFilter@6dddd255, org.springframework.security.web.header.HeaderWriterFilter@7ed4bf20, org.springframework.security.web.authentication.logout.LogoutFilter@25bfc73, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2294d35c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f710b19, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4642b0f8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2c69eec5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@9d45e6e, org.springframework.security.web.session.ConcurrentSessionFilter@6790e30b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17774484, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c01d4f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a42eadc, org.springframework.security.web.access.ExceptionTranslationFilter@30c94321, org.springframework.security.web.access.intercept.AuthorizationFilter@2343f7a5]
2023-07-04 20:27:34,984 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:27:34,984 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:27:34,987 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 3 ms
2023-07-04 20:27:35,277 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 3.676 seconds (process running for 42.942)
2023-07-04 20:27:36,247 INFO o.e.j.s.Server [Test worker] Stopped Server@e0957b5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:36,247 INFO o.e.j.s.Server [Test worker] Shutdown Server@e0957b5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:36,250 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@59732214{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:36,252 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6136bd80{/,null,STOPPED}
2023-07-04 20:27:36,253 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@69597fb3{/__admin,null,STOPPED}
2023-07-04 20:27:36,325 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:27:36,331 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6b19f4b8{/__admin,null,AVAILABLE}
2023-07-04 20:27:36,333 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:27:36,333 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@16b578a3{/,null,AVAILABLE}
2023-07-04 20:27:36,334 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@17b9049{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:36,335 INFO o.e.j.s.Server [Test worker] Started Server@69d510a6{STARTING}[11.0.15,sto=1000] @43999ms
2023-07-04 20:27:36,686 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:27:36,696 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 24146 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:27:36,696 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:27:36,696 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:27:36,702 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:36,702 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@548afb9a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:36,702 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:36,703 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:27:36,703 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:36,703 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2838f58c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:37,355 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:27:37,368 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:27:37,592 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@11f2846, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35145f52, org.springframework.security.web.context.SecurityContextHolderFilter@34c41103, org.springframework.security.web.header.HeaderWriterFilter@498bcd33, org.springframework.security.web.authentication.logout.LogoutFilter@2702326d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@51bcb07f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@679b617f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b4fda93, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@290b031e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@9385016, org.springframework.security.web.session.ConcurrentSessionFilter@3453e1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1461d54f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31460a5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ca698e0, org.springframework.security.web.access.ExceptionTranslationFilter@4e7dcf03, org.springframework.security.web.access.intercept.AuthorizationFilter@76518f6b]
2023-07-04 20:27:37,662 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:27:37,662 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:27:37,663 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:27:37,679 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.337 seconds (process running for 45.344)
2023-07-04 20:27:38,012 INFO o.e.j.s.Server [Test worker] Stopped Server@69d510a6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:38,013 INFO o.e.j.s.Server [Test worker] Shutdown Server@69d510a6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:38,014 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@17b9049{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:38,014 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@16b578a3{/,null,STOPPED}
2023-07-04 20:27:38,015 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6b19f4b8{/__admin,null,STOPPED}
2023-07-04 20:27:38,045 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:27:38,049 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5866ae69{/__admin,null,AVAILABLE}
2023-07-04 20:27:38,050 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:27:38,050 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7d314e63{/,null,AVAILABLE}
2023-07-04 20:27:38,050 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@67c9d537{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:38,051 INFO o.e.j.s.Server [Test worker] Started Server@6830ddda{STARTING}[11.0.15,sto=1000] @45715ms
2023-07-04 20:27:38,218 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:27:38,223 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 24146 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:27:38,223 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:27:38,223 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:27:38,233 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:38,234 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7cf75b4b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:38,234 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:38,234 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:27:38,234 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:38,234 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6e78d8f9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:38,767 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:27:38,911 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7269f0f5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10a920b5, org.springframework.security.web.context.SecurityContextHolderFilter@41404e50, org.springframework.security.web.header.HeaderWriterFilter@653d1d7c, org.springframework.security.web.authentication.logout.LogoutFilter@79fe7eb7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6d01f471, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@670034a0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@32f29ee2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@365a82c6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@766ab334, org.springframework.security.web.session.ConcurrentSessionFilter@7fca46aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16535150, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b08681b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50493695, org.springframework.security.web.access.ExceptionTranslationFilter@f9b0bfb, org.springframework.security.web.access.intercept.AuthorizationFilter@43c0736a]
2023-07-04 20:27:38,969 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:27:38,969 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:27:38,970 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:27:38,984 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.928 seconds (process running for 46.649)
2023-07-04 20:27:39,070 INFO o.e.j.s.Server [Test worker] Stopped Server@6830ddda{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:39,070 INFO o.e.j.s.Server [Test worker] Shutdown Server@6830ddda{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:39,072 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@67c9d537{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:39,073 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7d314e63{/,null,STOPPED}
2023-07-04 20:27:39,074 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5866ae69{/__admin,null,STOPPED}
2023-07-04 20:27:39,221 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:27:39,262 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:27:39,309 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:27:39,311 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3360b45f{/__admin,null,AVAILABLE}
2023-07-04 20:27:39,312 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:27:39,312 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@42823c{/,null,AVAILABLE}
2023-07-04 20:27:39,313 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@18f871de{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:39,315 INFO o.e.j.s.Server [Test worker] Started Server@4b5037a8{STARTING}[11.0.15,sto=1000] @46979ms
2023-07-04 20:27:39,409 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:27:40,140 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:27:40,964 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:27:40,969 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:27:41,053 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:27:41,161 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:27:42,292 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:27:42,640 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: be37b77b7ba2fe290bef81836e08b49596165f636f101de36ccd860f22b485b9
2023-07-04 20:27:44,347 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.278399S
2023-07-04 20:27:44,409 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:27:44,410 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:27:44,413 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:27:44,417 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:27:44,496 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 1979d98c10afd0820362727de62226ed29d11018e5683b1aef8d0caca87cc3a7
2023-07-04 20:27:46,049 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.633249S
2023-07-04 20:27:46,060 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58649/test?loggerLevel=OFF)
2023-07-04 20:27:46,523 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:27:46,588 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 24146 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:27:46,588 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:27:46,589 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:27:46,610 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:46,611 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@333b82fe uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:46,611 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:46,611 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:27:46,611 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:27:46,612 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18c8cb7d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:27:47,069 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:27:47,070 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:27:47,119 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 48 ms. Found 2 JPA repository interfaces.
2023-07-04 20:27:47,339 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:27:47,539 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@719b8c4e
2023-07-04 20:27:47,542 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:27:47,572 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:27:47,692 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:27:48,036 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:27:48,048 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:27:48,333 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:27:48,339 INFO l.util [Test worker] Run:                          5
2023-07-04 20:27:48,339 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:27:48,339 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:27:48,340 INFO l.util [Test worker] -------------------------------
2023-07-04 20:27:48,340 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:27:48,341 INFO l.util [Test worker] Update summary generated
2023-07-04 20:27:48,363 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:27:48,376 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:27:48,377 INFO l.command [Test worker] Command execution complete
2023-07-04 20:27:48,453 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:27:48,484 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:27:48,486 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:27:48,490 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@35860edd
2023-07-04 20:27:48,543 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:27:48,779 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:27:48,878 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:27:49,151 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 3.048 seconds (process running for 56.816)
2023-07-04 20:27:49,720 INFO o.e.j.s.Server [Test worker] Stopped Server@4b5037a8{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:49,721 INFO o.e.j.s.Server [Test worker] Shutdown Server@4b5037a8{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:49,727 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@18f871de{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:49,733 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@42823c{/,null,STOPPED}
2023-07-04 20:27:49,734 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3360b45f{/__admin,null,STOPPED}
2023-07-04 20:27:49,757 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:27:49,773 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:27:49,799 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:27:49,802 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3664871f{/__admin,null,AVAILABLE}
2023-07-04 20:27:49,803 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:27:49,803 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7d3ef43b{/,null,AVAILABLE}
2023-07-04 20:27:49,805 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@785f4c04{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:49,806 INFO o.e.j.s.Server [Test worker] Started Server@3ced8b72{STARTING}[11.0.15,sto=1000] @57471ms
2023-07-04 20:27:49,810 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:27:49,939 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a248d8f10d32726b6d2da2e1deab329e8231448b3020e9fc8a85d90d7db231e9
2023-07-04 20:27:51,829 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.018471S
2023-07-04 20:27:51,831 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58661/test?loggerLevel=OFF)
2023-07-04 20:27:52,200 INFO o.e.j.s.Server [Test worker] Stopped Server@3ced8b72{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:52,208 INFO o.e.j.s.Server [Test worker] Shutdown Server@3ced8b72{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:27:52,219 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@785f4c04{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:27:52,222 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7d3ef43b{/,null,STOPPED}
2023-07-04 20:27:52,222 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3664871f{/__admin,null,STOPPED}
2023-07-04 20:27:53,786 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:27:53,805 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:27:53,815 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:27:53,919 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:27:53,920 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:27:53,927 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:29:17,849 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:29:18,334 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:29:21,121 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:29:21,167 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2c748a15{/__admin,null,AVAILABLE}
2023-07-04 20:29:21,187 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:29:21,187 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3c232051{/,null,AVAILABLE}
2023-07-04 20:29:21,209 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@656922a0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:29:21,232 INFO o.e.j.s.Server [Test worker] Started Server@4d7a64ca{STARTING}[11.0.15,sto=1000] @7945ms
2023-07-04 20:29:21,417 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:29:22,135 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:29:23,358 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:29:23,382 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:29:23,455 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:29:23,650 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:29:24,554 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:29:24,938 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: e5e79690fa9486c42e5cfafdc89cb2d5fa644544107e6d71348b6d9f720f77dc
2023-07-04 20:29:25,819 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.333451S
2023-07-04 20:29:25,829 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:29:25,830 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:29:25,834 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:29:25,836 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:29:25,880 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: b9e03895a7646e747b0fc11c19ba6265764a27eab2053880690ed38ab0d590c7
2023-07-04 20:29:27,402 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.56665S
2023-07-04 20:29:27,405 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58669/test?loggerLevel=OFF)
2023-07-04 20:29:30,810 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:29:31,087 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:29:31,138 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 24501 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:29:31,139 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:29:31,140 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:29:31,191 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:29:31,192 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4ebd8d2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:29:31,194 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:29:31,194 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:29:31,194 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:29:31,194 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1fba3fd6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:29:32,545 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:29:32,549 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:29:33,019 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 452 ms. Found 2 JPA repository interfaces.
2023-07-04 20:29:34,564 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:29:35,077 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2caa9666
2023-07-04 20:29:35,081 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:29:35,509 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:29:35,953 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:29:37,077 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:29:37,150 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:29:37,570 INFO l.command [Test worker] Using deploymentId: 8491777164
2023-07-04 20:29:37,659 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:29:37,884 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:29:37,889 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 47ms
2023-07-04 20:29:37,917 INFO l.changelog [Test worker] Table news created
2023-07-04 20:29:37,919 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 13ms
2023-07-04 20:29:37,947 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:29:37,949 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 16ms
2023-07-04 20:29:37,964 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,967 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,972 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,975 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,977 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,982 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,984 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,992 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:37,996 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,000 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,006 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,008 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,010 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,012 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,015 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,040 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,046 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,050 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,055 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,062 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:29:38,068 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 109ms
2023-07-04 20:29:38,089 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,097 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,100 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,103 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,106 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,108 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,114 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,116 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,120 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,125 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,133 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,135 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,137 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,139 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,141 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,143 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,146 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,154 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,156 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,159 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,164 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,168 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,174 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,180 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,183 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,187 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,189 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,191 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,192 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,198 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,202 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,205 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,209 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,211 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,213 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,215 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,217 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,219 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,225 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,228 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:29:38,230 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 151ms
2023-07-04 20:29:38,252 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:29:38,255 INFO l.util [Test worker] Run:                          5
2023-07-04 20:29:38,256 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:29:38,257 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:29:38,257 INFO l.util [Test worker] -------------------------------
2023-07-04 20:29:38,257 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:29:38,259 INFO l.util [Test worker] Update summary generated
2023-07-04 20:29:38,261 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:29:38,272 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:29:38,296 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:29:38,298 INFO l.command [Test worker] Command execution complete
2023-07-04 20:29:38,656 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:29:38,828 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:29:38,834 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:29:39,157 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:29:39,531 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:29:39,645 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@187c8f96
2023-07-04 20:29:40,297 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:29:42,111 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:29:42,237 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:29:43,590 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:29:45,009 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 17.32 seconds (process running for 31.723)
2023-07-04 20:29:47,222 INFO o.e.j.s.Server [Test worker] Stopped Server@4d7a64ca{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:29:47,224 INFO o.e.j.s.Server [Test worker] Shutdown Server@4d7a64ca{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:29:47,237 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@656922a0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:29:47,243 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3c232051{/,null,STOPPED}
2023-07-04 20:29:47,244 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2c748a15{/__admin,null,STOPPED}
2023-07-04 20:29:47,282 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:29:47,311 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:29:47,337 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:29:47,342 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2ffb6cf6{/__admin,null,AVAILABLE}
2023-07-04 20:29:47,343 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:29:47,343 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@668d6dc7{/,null,AVAILABLE}
2023-07-04 20:29:47,344 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5a025435{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:29:47,345 INFO o.e.j.s.Server [Test worker] Started Server@761bac58{STARTING}[11.0.15,sto=1000] @34059ms
2023-07-04 20:29:47,348 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:29:47,477 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 577672d42ed53f838fe923f0eb2f6a55e60f27fd2d8800a4feea1f512eec047b
2023-07-04 20:29:49,073 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.724738S
2023-07-04 20:29:49,073 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58681/test?loggerLevel=OFF)
2023-07-04 20:29:49,360 INFO o.e.j.s.Server [Test worker] Stopped Server@761bac58{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:29:49,361 INFO o.e.j.s.Server [Test worker] Shutdown Server@761bac58{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:29:49,364 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5a025435{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:29:49,365 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@668d6dc7{/,null,STOPPED}
2023-07-04 20:29:49,365 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2ffb6cf6{/__admin,null,STOPPED}
2023-07-04 20:29:49,382 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:29:49,423 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:29:49,457 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:29:49,460 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5a27a096{/__admin,null,AVAILABLE}
2023-07-04 20:29:49,461 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:29:49,461 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@39f9c6f5{/,null,AVAILABLE}
2023-07-04 20:29:49,462 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4a5c29dc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:29:49,462 INFO o.e.j.s.Server [Test worker] Started Server@4bc88ccb{STARTING}[11.0.15,sto=1000] @36177ms
2023-07-04 20:29:49,936 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:29:49,970 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 24501 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:29:49,971 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:29:49,971 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:29:49,998 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:29:49,998 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@15fa043 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:29:49,998 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:29:49,998 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:29:49,998 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:29:49,998 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d548872 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:29:51,907 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:29:51,911 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:29:51,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 2 JPA repository interfaces.
2023-07-04 20:29:52,012 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:29:52,014 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:29:52,059 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:29:52,062 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:29:52,062 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-07-04 20:29:52,520 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:29:52,700 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:29:52,799 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:29:55,050 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:29:55,089 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6cb84c4c
2023-07-04 20:29:55,090 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:29:55,113 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:29:55,209 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:29:55,725 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:29:55,839 INFO l.command [Test worker] Using deploymentId: 8491795763
2023-07-04 20:29:55,876 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:29:55,882 INFO l.util [Test worker] Run:                          0
2023-07-04 20:29:55,883 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:29:55,883 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:29:55,883 INFO l.util [Test worker] -------------------------------
2023-07-04 20:29:55,884 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:29:55,891 INFO l.util [Test worker] Update summary generated
2023-07-04 20:29:55,895 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:29:55,916 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:29:55,941 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:29:55,943 INFO l.command [Test worker] Command execution complete
2023-07-04 20:29:56,258 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:29:56,286 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:29:56,287 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:29:56,300 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@38a785f6
2023-07-04 20:29:56,378 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:29:56,593 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:29:56,594 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:29:57,885 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:29:58,080 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:29:59,398 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10db9c65, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f48bbde, org.springframework.security.web.context.SecurityContextHolderFilter@470a4e26, org.springframework.security.web.header.HeaderWriterFilter@420df559, org.springframework.security.web.authentication.logout.LogoutFilter@6fc75d9c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b396dbf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@72daa416, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@15b078f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@527af792, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@58f96fef, org.springframework.security.web.session.ConcurrentSessionFilter@74791130, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ac5dcd8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@101c3833, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46f89863, org.springframework.security.web.access.ExceptionTranslationFilter@8f5dcbc, org.springframework.security.web.access.intercept.AuthorizationFilter@3d3f91a1]
2023-07-04 20:30:01,542 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 12.055 seconds (process running for 48.256)
2023-07-04 20:30:01,624 INFO o.e.j.s.Server [Test worker] Stopped Server@4bc88ccb{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:01,624 INFO o.e.j.s.Server [Test worker] Shutdown Server@4bc88ccb{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:01,628 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4a5c29dc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:30:01,629 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@39f9c6f5{/,null,STOPPED}
2023-07-04 20:30:01,629 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5a27a096{/__admin,null,STOPPED}
2023-07-04 20:30:03,794 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:30:03,807 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@55455a81{/__admin,null,AVAILABLE}
2023-07-04 20:30:03,811 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:30:03,811 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@79927fc8{/,null,AVAILABLE}
2023-07-04 20:30:03,816 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@43741fbb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:30:03,822 INFO o.e.j.s.Server [Test worker] Started Server@1574cb5{STARTING}[11.0.15,sto=1000] @50537ms
2023-07-04 20:30:04,271 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:30:04,292 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 24501 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:30:04,292 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:30:04,292 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:30:04,304 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:04,304 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@700f1538 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:30:04,304 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:04,304 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:30:04,304 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:04,304 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5fa30871 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:30:05,405 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:30:05,441 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:30:05,827 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52b32890, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6eb9b722, org.springframework.security.web.context.SecurityContextHolderFilter@4227a705, org.springframework.security.web.header.HeaderWriterFilter@57b7287c, org.springframework.security.web.authentication.logout.LogoutFilter@6a05f8d0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@78e88bd7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3dee2f62, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1c393e6a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@433cec3b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@226010a8, org.springframework.security.web.session.ConcurrentSessionFilter@25240d08, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@286fcc09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4675f5b0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@777fb0e0, org.springframework.security.web.access.ExceptionTranslationFilter@3a6a0909, org.springframework.security.web.access.intercept.AuthorizationFilter@27cd312c]
2023-07-04 20:30:06,048 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:30:06,049 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:30:06,051 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:30:06,438 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.596 seconds (process running for 53.152)
2023-07-04 20:30:07,688 INFO o.e.j.s.Server [Test worker] Stopped Server@1574cb5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:07,690 INFO o.e.j.s.Server [Test worker] Shutdown Server@1574cb5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:07,693 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@43741fbb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:30:07,694 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@79927fc8{/,null,STOPPED}
2023-07-04 20:30:07,694 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@55455a81{/__admin,null,STOPPED}
2023-07-04 20:30:07,769 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:30:07,773 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4e3ee82f{/__admin,null,AVAILABLE}
2023-07-04 20:30:07,774 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:30:07,775 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7b0a48e6{/,null,AVAILABLE}
2023-07-04 20:30:07,776 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@127b659c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:30:07,777 INFO o.e.j.s.Server [Test worker] Started Server@77d252d6{STARTING}[11.0.15,sto=1000] @54491ms
2023-07-04 20:30:08,024 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:30:08,031 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 24501 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:30:08,031 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:30:08,031 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:30:08,038 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:08,038 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@225be644 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:30:08,038 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:08,038 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:30:08,038 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:08,038 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7ace0b5d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:30:08,745 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:30:08,759 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:30:08,974 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a084fc7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e457635, org.springframework.security.web.context.SecurityContextHolderFilter@22aa6b3b, org.springframework.security.web.header.HeaderWriterFilter@62989583, org.springframework.security.web.authentication.logout.LogoutFilter@67911796, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7100b724, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1ec22335, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@267f6b32, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@503f9a4c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@41912f43, org.springframework.security.web.session.ConcurrentSessionFilter@775c1043, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e4f1cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47f644f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c6afab8, org.springframework.security.web.access.ExceptionTranslationFilter@62142336, org.springframework.security.web.access.intercept.AuthorizationFilter@3ef443f1]
2023-07-04 20:30:09,036 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:30:09,036 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:30:09,037 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:30:09,052 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.263 seconds (process running for 55.767)
2023-07-04 20:30:09,372 INFO o.e.j.s.Server [Test worker] Stopped Server@77d252d6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:09,374 INFO o.e.j.s.Server [Test worker] Shutdown Server@77d252d6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:09,378 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@127b659c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:30:09,379 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7b0a48e6{/,null,STOPPED}
2023-07-04 20:30:09,380 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4e3ee82f{/__admin,null,STOPPED}
2023-07-04 20:30:09,415 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:30:09,417 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2b68172f{/__admin,null,AVAILABLE}
2023-07-04 20:30:09,418 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:30:09,418 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3cbaeedd{/,null,AVAILABLE}
2023-07-04 20:30:09,419 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6e16e6c3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:30:09,420 INFO o.e.j.s.Server [Test worker] Started Server@15eae4fa{STARTING}[11.0.15,sto=1000] @56134ms
2023-07-04 20:30:09,578 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:30:09,585 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 24501 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:30:09,585 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:30:09,585 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:30:09,593 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:09,594 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@342ca509 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:30:09,594 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:09,594 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:30:09,594 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:30:09,594 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@223d3190 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:30:10,120 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:30:10,278 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68577f4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ae721d6, org.springframework.security.web.context.SecurityContextHolderFilter@588e6939, org.springframework.security.web.header.HeaderWriterFilter@29c2418, org.springframework.security.web.authentication.logout.LogoutFilter@ed5d7c4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7bbce84a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5b777b0e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53dfbc8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b0f3b5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a28868f, org.springframework.security.web.session.ConcurrentSessionFilter@16508af6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70fa9afe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1325cc1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10a1d1b9, org.springframework.security.web.access.ExceptionTranslationFilter@51ff3472, org.springframework.security.web.access.intercept.AuthorizationFilter@3586c7bc]
2023-07-04 20:30:10,333 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:30:10,334 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:30:10,335 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:30:10,353 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.923 seconds (process running for 57.067)
2023-07-04 20:30:10,430 INFO o.e.j.s.Server [Test worker] Stopped Server@15eae4fa{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:10,432 INFO o.e.j.s.Server [Test worker] Shutdown Server@15eae4fa{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:30:10,434 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6e16e6c3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:30:10,435 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3cbaeedd{/,null,STOPPED}
2023-07-04 20:30:10,435 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2b68172f{/__admin,null,STOPPED}
2023-07-04 20:30:11,116 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:30:11,120 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:30:11,126 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:30:11,151 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-07-04 20:30:11,165 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:30:11,173 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:30:11,191 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:31:10,054 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:31:10,126 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:31:10,799 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:31:10,815 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:31:10,821 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:31:10,821 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:31:10,826 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:10,833 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1596ms
2023-07-04 20:31:11,292 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:31:11,300 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:31:11,309 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 24810 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:31:11,309 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:31:11,309 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:31:11,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:11,327 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:11,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:11,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:31:11,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:11,327 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:11,823 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:31:11,824 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:31:11,931 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 102 ms. Found 2 JPA repository interfaces.
2023-07-04 20:31:11,945 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:31:11,945 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:31:11,957 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:31:11,957 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:31:11,957 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-04 20:31:12,172 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:31:12,252 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:31:12,279 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:31:12,480 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:31:12,686 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:31:12,752 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@293ba26c
2023-07-04 20:31:12,753 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:31:12,829 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:31:12,927 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:31:13,229 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:31:13,306 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:31:13,312 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:31:13,312 INFO l.util [Test worker] Run:                          0
2023-07-04 20:31:13,312 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:31:13,312 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:31:13,312 INFO l.util [Test worker] -------------------------------
2023-07-04 20:31:13,312 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:31:13,312 INFO l.util [Test worker] Update summary generated
2023-07-04 20:31:13,315 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:31:13,318 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:31:13,319 INFO l.command [Test worker] Command execution complete
2023-07-04 20:31:13,382 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:31:13,428 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:31:13,429 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:31:13,508 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:31:13,599 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:31:13,624 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6b862f17
2023-07-04 20:31:13,773 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:31:14,260 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:31:14,262 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:31:14,479 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:31:14,935 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:31:15,004 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:31:15,451 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f4352c6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b60acb3, org.springframework.security.web.context.SecurityContextHolderFilter@6a68cb80, org.springframework.security.web.header.HeaderWriterFilter@620978eb, org.springframework.security.web.authentication.logout.LogoutFilter@726c1889, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@38a7f7a2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@27ca3040, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@652e4bb6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2a292566, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@a99f50e, org.springframework.security.web.session.ConcurrentSessionFilter@37c47166, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c0cfaad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@179eb386, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18211894, org.springframework.security.web.access.ExceptionTranslationFilter@500a6c2f, org.springframework.security.web.access.intercept.AuthorizationFilter@726bbe64]
2023-07-04 20:31:15,970 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.104 seconds (process running for 6.733)
2023-07-04 20:31:16,350 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:16,350 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:16,353 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:16,354 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:31:16,354 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:31:16,847 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:31:16,848 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@49e09b23{/__admin,null,AVAILABLE}
2023-07-04 20:31:16,848 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:31:16,848 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@598c23ad{/,null,AVAILABLE}
2023-07-04 20:31:16,849 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@11743654{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:16,849 INFO o.e.j.s.Server [Test worker] Started Server@1459ffe4{STARTING}[11.0.15,sto=1000] @7612ms
2023-07-04 20:31:16,953 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:31:16,956 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 24810 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:31:16,956 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:31:16,956 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:31:16,958 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:16,958 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5adf6039 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:16,958 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:16,958 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:31:16,958 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:16,958 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6280829f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:17,252 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:31:17,258 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:31:17,393 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f9e5d0e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32862888, org.springframework.security.web.context.SecurityContextHolderFilter@f124162, org.springframework.security.web.header.HeaderWriterFilter@2482b6f0, org.springframework.security.web.authentication.logout.LogoutFilter@4fb7a903, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@a2ee97c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@78a3a68b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@209a490a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@39fcefea, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@577457ad, org.springframework.security.web.session.ConcurrentSessionFilter@671e3bd4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e2ea153, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2faab150, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25d48650, org.springframework.security.web.access.ExceptionTranslationFilter@5c09b49f, org.springframework.security.web.access.intercept.AuthorizationFilter@6b308b7c]
2023-07-04 20:31:17,452 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:31:17,453 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:31:17,454 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:31:17,537 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.685 seconds (process running for 8.3)
2023-07-04 20:31:17,762 INFO o.e.j.s.Server [Test worker] Stopped Server@1459ffe4{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:17,763 INFO o.e.j.s.Server [Test worker] Shutdown Server@1459ffe4{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:17,763 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@11743654{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:17,764 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@598c23ad{/,null,STOPPED}
2023-07-04 20:31:17,764 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@49e09b23{/__admin,null,STOPPED}
2023-07-04 20:31:17,779 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:31:17,780 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3058017{/__admin,null,AVAILABLE}
2023-07-04 20:31:17,782 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:31:17,782 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f8b5188{/,null,AVAILABLE}
2023-07-04 20:31:17,783 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@311fd276{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:17,783 INFO o.e.j.s.Server [Test worker] Started Server@44261d79{STARTING}[11.0.15,sto=1000] @8546ms
2023-07-04 20:31:17,856 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:31:17,859 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 24810 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:31:17,859 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:31:17,859 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:31:17,861 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:17,861 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74b99b0e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:17,861 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:17,861 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:31:17,861 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:17,861 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6c1b015c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:18,069 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:31:18,073 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:31:18,186 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@722debf5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74482fff, org.springframework.security.web.context.SecurityContextHolderFilter@599293c8, org.springframework.security.web.header.HeaderWriterFilter@76bfd311, org.springframework.security.web.authentication.logout.LogoutFilter@4f0ecc1c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@662c09f6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5f7b4703, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1339e23d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b0c9f26, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@718e2d2a, org.springframework.security.web.session.ConcurrentSessionFilter@3e127718, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ea4efd6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@360b8448, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2d7a012c, org.springframework.security.web.access.ExceptionTranslationFilter@6861e61a, org.springframework.security.web.access.intercept.AuthorizationFilter@5a477651]
2023-07-04 20:31:18,225 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:31:18,225 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:31:18,226 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:31:18,239 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.454 seconds (process running for 9.002)
2023-07-04 20:31:18,316 INFO o.e.j.s.Server [Test worker] Stopped Server@44261d79{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:18,317 INFO o.e.j.s.Server [Test worker] Shutdown Server@44261d79{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:18,318 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@311fd276{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:18,318 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f8b5188{/,null,STOPPED}
2023-07-04 20:31:18,318 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3058017{/__admin,null,STOPPED}
2023-07-04 20:31:18,329 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:31:18,330 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6abc82c7{/__admin,null,AVAILABLE}
2023-07-04 20:31:18,330 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:31:18,331 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@8c098f0{/,null,AVAILABLE}
2023-07-04 20:31:18,331 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7150a0ed{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:18,331 INFO o.e.j.s.Server [Test worker] Started Server@2074be26{STARTING}[11.0.15,sto=1000] @9094ms
2023-07-04 20:31:18,394 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:31:18,397 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 24810 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:31:18,397 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:31:18,399 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:31:18,401 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:18,401 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58ae7fef uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:18,401 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:18,401 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:31:18,401 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:18,401 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@45069467 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:18,598 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:31:18,669 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44946197, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@156eb4cf, org.springframework.security.web.context.SecurityContextHolderFilter@68b7a133, org.springframework.security.web.header.HeaderWriterFilter@434fa353, org.springframework.security.web.authentication.logout.LogoutFilter@65b603a3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@51a862c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@50e43637, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a9fe0d4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3cf3a09e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@644a6ddb, org.springframework.security.web.session.ConcurrentSessionFilter@10216c09, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1942bc06, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27a9d146, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2196b8c6, org.springframework.security.web.access.ExceptionTranslationFilter@58e53c27, org.springframework.security.web.access.intercept.AuthorizationFilter@2daa7bf3]
2023-07-04 20:31:18,703 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:31:18,703 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:31:18,704 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:31:18,719 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.386 seconds (process running for 9.482)
2023-07-04 20:31:18,746 INFO o.e.j.s.Server [Test worker] Stopped Server@2074be26{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:18,746 INFO o.e.j.s.Server [Test worker] Shutdown Server@2074be26{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:18,747 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7150a0ed{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:18,747 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@8c098f0{/,null,STOPPED}
2023-07-04 20:31:18,747 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6abc82c7{/__admin,null,STOPPED}
2023-07-04 20:31:18,775 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:31:18,795 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:31:18,803 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:31:18,804 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f1d809e{/__admin,null,AVAILABLE}
2023-07-04 20:31:18,804 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:31:18,804 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@28a9f772{/,null,AVAILABLE}
2023-07-04 20:31:18,804 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@25941b5b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:18,805 INFO o.e.j.s.Server [Test worker] Started Server@2c9d9931{STARTING}[11.0.15,sto=1000] @9568ms
2023-07-04 20:31:18,828 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:31:18,971 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:31:19,248 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:31:19,249 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:31:19,275 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:31:19,306 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:31:20,327 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:31:20,416 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 08306195d07e8e411100ca47c043114bcb6c000d1f358ccaeb1278bfc529ae9d
2023-07-04 20:31:21,183 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.90309S
2023-07-04 20:31:21,188 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:31:21,189 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:31:21,189 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:31:21,189 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:31:21,222 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: c42bfc24a2834c02cb931c1eb434ce62542cc7a4d646e03f63d9eaf5782c084b
2023-07-04 20:31:22,694 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.504443S
2023-07-04 20:31:22,695 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58716/test?loggerLevel=OFF)
2023-07-04 20:31:22,749 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:31:22,756 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 24810 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:31:22,756 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:31:22,756 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:31:22,758 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:22,758 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5ef60f95 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:22,758 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:22,758 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:31:22,758 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:31:22,758 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@17cb5ca4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:31:22,832 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:31:22,832 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:31:22,843 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2023-07-04 20:31:22,879 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:31:22,967 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@a5491ab
2023-07-04 20:31:22,967 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:31:22,983 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:31:23,043 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:31:23,123 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:31:23,132 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:31:23,234 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:31:23,234 INFO l.util [Test worker] Run:                          5
2023-07-04 20:31:23,234 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:31:23,234 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:31:23,234 INFO l.util [Test worker] -------------------------------
2023-07-04 20:31:23,234 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:31:23,235 INFO l.util [Test worker] Update summary generated
2023-07-04 20:31:23,239 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:31:23,246 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:31:23,247 INFO l.command [Test worker] Command execution complete
2023-07-04 20:31:23,260 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:31:23,266 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:31:23,266 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:31:23,267 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2f024c1
2023-07-04 20:31:23,281 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:31:23,314 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:31:23,315 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:31:23,414 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.716 seconds (process running for 14.178)
2023-07-04 20:31:23,488 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:31:23,489 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  ???????: 15
2023-07-04 20:31:23,564 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:31:23,564 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  ???????: 68
2023-07-04 20:31:23,569 INFO o.e.j.s.Server [Test worker] Stopped Server@2c9d9931{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:23,569 INFO o.e.j.s.Server [Test worker] Shutdown Server@2c9d9931{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:23,570 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@25941b5b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:23,570 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@28a9f772{/,null,STOPPED}
2023-07-04 20:31:23,570 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f1d809e{/__admin,null,STOPPED}
2023-07-04 20:31:23,573 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:31:23,576 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:31:23,581 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:31:23,582 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1c543742{/__admin,null,AVAILABLE}
2023-07-04 20:31:23,582 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:31:23,582 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58048676{/,null,AVAILABLE}
2023-07-04 20:31:23,583 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2e7075d4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:23,583 INFO o.e.j.s.Server [Test worker] Started Server@467ba23{STARTING}[11.0.15,sto=1000] @14346ms
2023-07-04 20:31:23,583 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:31:23,653 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 7856c5408c9b9273e6f73f2d46f21a1ce26db0a7b99915b6676e55c69339074a
2023-07-04 20:31:25,249 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.666026S
2023-07-04 20:31:25,250 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:58728/test?loggerLevel=OFF)
2023-07-04 20:31:25,265 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:31:25,265 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 64
2023-07-04 20:31:25,288 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:31:25,288 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 119
2023-07-04 20:31:25,296 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:31:25,296 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 15
2023-07-04 20:31:25,300 INFO o.e.j.s.Server [Test worker] Stopped Server@467ba23{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:25,300 INFO o.e.j.s.Server [Test worker] Shutdown Server@467ba23{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:31:25,305 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2e7075d4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:31:25,306 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58048676{/,null,STOPPED}
2023-07-04 20:31:25,306 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1c543742{/__admin,null,STOPPED}
2023-07-04 20:31:25,560 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:31:25,562 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:31:25,563 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:31:25,577 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:31:25,577 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:31:25,578 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:32:28,345 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:32:28,806 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:32:32,339 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:32:32,572 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@422ad5e2{/__admin,null,AVAILABLE}
2023-07-04 20:32:32,700 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:32:32,702 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6909f6be{/,null,AVAILABLE}
2023-07-04 20:32:32,760 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1115433e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:32:32,805 INFO o.e.j.s.Server [Test worker] Started Server@18d11527{STARTING}[11.0.15,sto=1000] @9266ms
2023-07-04 20:32:35,723 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:32:35,810 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:32:35,876 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 25069 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:32:35,876 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:32:35,877 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:32:36,168 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:32:36,174 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@33751d49 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:32:36,176 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:32:36,176 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:32:36,176 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:32:36,176 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6c96403e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:32:39,764 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:32:39,769 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:32:40,331 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 441 ms. Found 2 JPA repository interfaces.
2023-07-04 20:32:40,463 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:32:40,465 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:32:40,518 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:32:40,519 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:32:40,520 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2023-07-04 20:32:41,890 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:32:42,366 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:32:42,532 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:32:48,514 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:32:48,862 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d86b636
2023-07-04 20:32:48,876 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:32:49,365 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:32:49,785 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:32:50,859 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:32:51,092 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:32:51,138 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:32:51,141 INFO l.util [Test worker] Run:                          0
2023-07-04 20:32:51,141 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:32:51,141 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:32:51,141 INFO l.util [Test worker] -------------------------------
2023-07-04 20:32:51,142 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:32:51,144 INFO l.util [Test worker] Update summary generated
2023-07-04 20:32:51,152 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:32:51,173 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:32:51,174 INFO l.command [Test worker] Command execution complete
2023-07-04 20:32:51,566 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:32:51,728 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:32:51,733 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:32:52,071 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:32:52,417 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:32:52,522 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@53628ff6
2023-07-04 20:32:53,234 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:32:56,589 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:32:56,610 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:32:59,132 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:33:01,529 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:33:01,969 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:33:04,533 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@716661b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e93e779, org.springframework.security.web.context.SecurityContextHolderFilter@2c630bff, org.springframework.security.web.header.HeaderWriterFilter@2fc3d28, org.springframework.security.web.authentication.logout.LogoutFilter@35c7c803, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7ef5a01b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7a3a8ee0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@86e170e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@26b6c4de, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@413195dc, org.springframework.security.web.session.ConcurrentSessionFilter@7c329d38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62065a8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dde2d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@230ac978, org.springframework.security.web.access.ExceptionTranslationFilter@4c4bff52, org.springframework.security.web.access.intercept.AuthorizationFilter@32c50b97]
2023-07-04 20:33:07,952 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 34.933 seconds (process running for 44.414)
2023-07-04 20:33:10,527 INFO o.e.j.s.Server [Test worker] Stopped Server@18d11527{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:10,567 INFO o.e.j.s.Server [Test worker] Shutdown Server@18d11527{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:10,592 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1115433e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:10,605 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6909f6be{/,null,STOPPED}
2023-07-04 20:33:10,610 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@422ad5e2{/__admin,null,STOPPED}
2023-07-04 20:33:15,181 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:33:15,195 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3695deb0{/__admin,null,AVAILABLE}
2023-07-04 20:33:15,200 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:33:15,200 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@376c48d6{/,null,AVAILABLE}
2023-07-04 20:33:15,202 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4b86b189{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:15,206 INFO o.e.j.s.Server [Test worker] Started Server@1a64586b{STARTING}[11.0.15,sto=1000] @51669ms
2023-07-04 20:33:15,699 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:33:15,714 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 25069 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:33:15,716 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:33:15,716 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:33:15,730 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:15,731 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@25123ce4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:15,732 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:15,732 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:33:15,732 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:15,732 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4a241c5d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:17,419 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:33:17,462 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:33:18,072 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@57893f3b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@aa60438, org.springframework.security.web.context.SecurityContextHolderFilter@3c9a8c66, org.springframework.security.web.header.HeaderWriterFilter@ffbdb79, org.springframework.security.web.authentication.logout.LogoutFilter@50208b01, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@232fcbb1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@77833456, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2f6867d1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7136d1b3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6469a0be, org.springframework.security.web.session.ConcurrentSessionFilter@67ea360f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16abeca6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@475add19, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@853050d, org.springframework.security.web.access.ExceptionTranslationFilter@5a3e14bf, org.springframework.security.web.access.intercept.AuthorizationFilter@67fdcc3]
2023-07-04 20:33:18,325 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:33:18,326 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:33:18,329 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 3 ms
2023-07-04 20:33:18,615 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 3.397 seconds (process running for 55.078)
2023-07-04 20:33:19,564 INFO o.e.j.s.Server [Test worker] Stopped Server@1a64586b{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:19,564 INFO o.e.j.s.Server [Test worker] Shutdown Server@1a64586b{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:19,566 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4b86b189{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:19,567 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@376c48d6{/,null,STOPPED}
2023-07-04 20:33:19,567 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3695deb0{/__admin,null,STOPPED}
2023-07-04 20:33:19,628 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:33:19,631 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@63f410d0{/__admin,null,AVAILABLE}
2023-07-04 20:33:19,632 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:33:19,632 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2cf1270{/,null,AVAILABLE}
2023-07-04 20:33:19,633 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2a3cdf2b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:19,634 INFO o.e.j.s.Server [Test worker] Started Server@7df8d3{STARTING}[11.0.15,sto=1000] @56096ms
2023-07-04 20:33:19,847 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:33:19,856 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 25069 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:33:19,856 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:33:19,856 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:33:19,863 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:19,863 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@55986028 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:19,863 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:19,864 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:33:19,864 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:19,864 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4c96de48 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:20,539 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:33:20,554 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:33:20,775 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3fdd1006, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@151d0bf8, org.springframework.security.web.context.SecurityContextHolderFilter@2d301b0e, org.springframework.security.web.header.HeaderWriterFilter@59e33cea, org.springframework.security.web.authentication.logout.LogoutFilter@d576e3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@451dfee3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6ed4eacd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6eb668b7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@a046448, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5c561914, org.springframework.security.web.session.ConcurrentSessionFilter@497d3a85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a49bf51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a0dda9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17831f9, org.springframework.security.web.access.ExceptionTranslationFilter@6a45af66, org.springframework.security.web.access.intercept.AuthorizationFilter@6dc78fa8]
2023-07-04 20:33:20,845 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:33:20,846 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:33:20,846 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:33:20,867 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.228 seconds (process running for 57.33)
2023-07-04 20:33:21,175 INFO o.e.j.s.Server [Test worker] Stopped Server@7df8d3{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:21,175 INFO o.e.j.s.Server [Test worker] Shutdown Server@7df8d3{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:21,177 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2a3cdf2b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:21,178 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2cf1270{/,null,STOPPED}
2023-07-04 20:33:21,178 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@63f410d0{/__admin,null,STOPPED}
2023-07-04 20:33:21,206 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:33:21,210 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@d4f9a45{/__admin,null,AVAILABLE}
2023-07-04 20:33:21,210 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:33:21,210 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@74e7d97b{/,null,AVAILABLE}
2023-07-04 20:33:21,211 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3d0175d7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:21,211 INFO o.e.j.s.Server [Test worker] Started Server@2ab76ada{STARTING}[11.0.15,sto=1000] @57674ms
2023-07-04 20:33:21,371 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:33:21,376 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 25069 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:33:21,377 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:33:21,377 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:33:21,384 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:21,384 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5a245005 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:21,385 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:21,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:33:21,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:21,386 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@78ae72f6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:21,905 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:33:22,054 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@449d1ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15acb72d, org.springframework.security.web.context.SecurityContextHolderFilter@7fe56b47, org.springframework.security.web.header.HeaderWriterFilter@6eae5b0a, org.springframework.security.web.authentication.logout.LogoutFilter@40589959, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@33a45a0b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@37b28f77, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@32ca93bd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2319092a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@36c64bd8, org.springframework.security.web.session.ConcurrentSessionFilter@597bc1c6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3881f391, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24eb8980, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50f771c6, org.springframework.security.web.access.ExceptionTranslationFilter@5d03540e, org.springframework.security.web.access.intercept.AuthorizationFilter@53bcb138]
2023-07-04 20:33:22,111 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:33:22,111 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:33:22,112 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:33:22,126 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.907 seconds (process running for 58.589)
2023-07-04 20:33:22,197 INFO o.e.j.s.Server [Test worker] Stopped Server@2ab76ada{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:22,197 INFO o.e.j.s.Server [Test worker] Shutdown Server@2ab76ada{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:22,199 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3d0175d7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:22,199 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@74e7d97b{/,null,STOPPED}
2023-07-04 20:33:22,200 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@d4f9a45{/__admin,null,STOPPED}
2023-07-04 20:33:22,331 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:33:22,383 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:33:22,425 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:33:22,428 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@436427a5{/__admin,null,AVAILABLE}
2023-07-04 20:33:22,429 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:33:22,430 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f8ac06f{/,null,AVAILABLE}
2023-07-04 20:33:22,431 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@9305ed7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:22,432 INFO o.e.j.s.Server [Test worker] Started Server@3a3fb848{STARTING}[11.0.15,sto=1000] @58895ms
2023-07-04 20:33:22,522 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:33:23,261 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:33:24,158 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:33:24,163 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:33:24,303 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:33:24,408 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:33:25,562 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:33:26,250 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 2a95cb4748a549d20d7d7af941f56fede15b05391c004a9f7a4bf1e6c598da5f
2023-07-04 20:33:27,308 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.989813S
2023-07-04 20:33:27,320 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:33:27,321 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:33:27,323 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:33:27,325 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:33:27,367 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 9c7e83b5d96bc9353bdfce07f9a9d6cfa0aa4e21f9acbe511d3ef93a72c22c9d
2023-07-04 20:33:29,265 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.940462S
2023-07-04 20:33:29,270 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:59172/test?loggerLevel=OFF)
2023-07-04 20:33:29,689 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:33:29,710 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 25069 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:33:29,710 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:33:29,711 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:33:29,723 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:29,723 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d2d08ba uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:29,723 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:29,723 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:33:29,724 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:33:29,724 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f0bb332 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:33:30,369 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:33:30,377 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:33:30,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 67 ms. Found 2 JPA repository interfaces.
2023-07-04 20:33:30,692 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:33:30,916 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1e4ee672
2023-07-04 20:33:30,919 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:33:30,944 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:33:31,063 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:33:31,403 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:33:31,417 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:33:31,747 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:33:31,750 INFO l.util [Test worker] Run:                          5
2023-07-04 20:33:31,750 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:33:31,751 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:33:31,751 INFO l.util [Test worker] -------------------------------
2023-07-04 20:33:31,751 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:33:31,753 INFO l.util [Test worker] Update summary generated
2023-07-04 20:33:31,768 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:33:31,797 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:33:31,799 INFO l.command [Test worker] Command execution complete
2023-07-04 20:33:31,883 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:33:31,916 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:33:31,918 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:33:31,921 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@b5d0e59
2023-07-04 20:33:31,975 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:33:32,268 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:33:32,269 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:33:32,571 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 3.27 seconds (process running for 69.034)
2023-07-04 20:33:32,866 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:33:32,867 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  Позиция: 15
2023-07-04 20:33:33,216 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:33:33,217 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  Позиция: 68
2023-07-04 20:33:33,243 INFO o.e.j.s.Server [Test worker] Stopped Server@3a3fb848{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:33,249 INFO o.e.j.s.Server [Test worker] Shutdown Server@3a3fb848{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:33,262 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@9305ed7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:33,264 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f8ac06f{/,null,STOPPED}
2023-07-04 20:33:33,265 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@436427a5{/__admin,null,STOPPED}
2023-07-04 20:33:33,295 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:33:33,309 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:33:33,334 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:33:33,338 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@170e0a4c{/__admin,null,AVAILABLE}
2023-07-04 20:33:33,339 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:33:33,339 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57ee15b3{/,null,AVAILABLE}
2023-07-04 20:33:33,341 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2052a51b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:33,341 INFO o.e.j.s.Server [Test worker] Started Server@2635118a{STARTING}[11.0.15,sto=1000] @69804ms
2023-07-04 20:33:33,349 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:33:33,501 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 3544276a81434be83e6a240e70c5b440022881259214ca7d068506f0bb503653
2023-07-04 20:33:35,499 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.150603S
2023-07-04 20:33:35,502 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:59290/test?loggerLevel=OFF)
2023-07-04 20:33:35,654 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:33:35,654 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  Позиция: 64
2023-07-04 20:33:35,829 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:33:35,829 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  Позиция: 119
2023-07-04 20:33:35,897 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:33:35,898 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  Позиция: 15
2023-07-04 20:33:35,916 INFO o.e.j.s.Server [Test worker] Stopped Server@2635118a{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:35,917 INFO o.e.j.s.Server [Test worker] Shutdown Server@2635118a{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:33:35,923 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2052a51b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:33:35,924 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57ee15b3{/,null,STOPPED}
2023-07-04 20:33:35,925 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@170e0a4c{/__admin,null,STOPPED}
2023-07-04 20:33:37,389 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:33:37,395 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:33:37,399 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:33:37,458 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:33:37,459 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:33:37,461 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:34:24,740 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:34:24,819 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:34:25,358 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:34:25,372 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:34:25,378 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:34:25,378 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:34:25,383 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:25,389 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1636ms
2023-07-04 20:34:25,842 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:34:25,856 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:34:25,865 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 25442 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:34:25,866 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:34:25,866 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:34:25,883 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:25,883 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:25,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:25,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:34:25,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:25,884 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:26,388 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:34:26,389 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:34:26,495 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 102 ms. Found 2 JPA repository interfaces.
2023-07-04 20:34:26,507 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:34:26,508 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:34:26,520 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:34:26,520 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:34:26,520 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-04 20:34:26,705 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:34:26,781 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:34:26,809 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:34:27,007 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:34:27,220 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:34:27,298 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1c41931a
2023-07-04 20:34:27,299 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:34:27,385 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:34:27,475 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:34:27,778 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:34:27,852 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:34:27,858 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:34:27,858 INFO l.util [Test worker] Run:                          0
2023-07-04 20:34:27,858 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:34:27,858 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:34:27,858 INFO l.util [Test worker] -------------------------------
2023-07-04 20:34:27,858 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:34:27,859 INFO l.util [Test worker] Update summary generated
2023-07-04 20:34:27,861 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:34:27,866 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:34:27,866 INFO l.command [Test worker] Command execution complete
2023-07-04 20:34:27,933 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:34:27,978 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:34:27,979 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:34:28,058 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:34:28,145 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:34:28,167 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3d837af7
2023-07-04 20:34:28,328 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:34:28,813 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:34:28,865 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:34:28,866 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:34:29,084 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:34:29,538 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:34:29,613 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:34:29,991 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a67ed1f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c15515e, org.springframework.security.web.context.SecurityContextHolderFilter@7b8d2b32, org.springframework.security.web.header.HeaderWriterFilter@21ca613b, org.springframework.security.web.authentication.logout.LogoutFilter@591ad4b3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@51e1dffa, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6587f977, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@76e463d3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@24fa43f8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4086dd5f, org.springframework.security.web.session.ConcurrentSessionFilter@5c447983, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@778c5658, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@dc4fa78, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b018f9, org.springframework.security.web.access.ExceptionTranslationFilter@37aae870, org.springframework.security.web.access.intercept.AuthorizationFilter@1f39afe]
2023-07-04 20:34:30,506 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.084 seconds (process running for 6.752)
2023-07-04 20:34:30,916 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:30,916 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:30,919 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:30,921 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:34:30,921 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:34:31,487 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:34:31,488 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@627695fd{/__admin,null,AVAILABLE}
2023-07-04 20:34:31,489 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:34:31,489 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@db13adc{/,null,AVAILABLE}
2023-07-04 20:34:31,490 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@37b5203{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:31,490 INFO o.e.j.s.Server [Test worker] Started Server@2e617f42{STARTING}[11.0.15,sto=1000] @7737ms
2023-07-04 20:34:31,592 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:34:31,595 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 25442 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:34:31,595 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:34:31,595 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:34:31,597 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:31,597 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4b52e9cc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:31,598 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:31,598 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:34:31,598 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:31,598 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@b6630a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:31,886 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:34:31,892 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:34:32,027 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f820906, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27af34df, org.springframework.security.web.context.SecurityContextHolderFilter@610febe5, org.springframework.security.web.header.HeaderWriterFilter@747348f1, org.springframework.security.web.authentication.logout.LogoutFilter@3714571c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@59c82fb6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4c712f24, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@717a5a92, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1415d4ca, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@62e23701, org.springframework.security.web.session.ConcurrentSessionFilter@5b3b21d1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7878a158, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16a24a66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41ef5f05, org.springframework.security.web.access.ExceptionTranslationFilter@61af0834, org.springframework.security.web.access.intercept.AuthorizationFilter@968ebd0]
2023-07-04 20:34:32,091 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:34:32,091 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:34:32,092 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:34:32,181 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.688 seconds (process running for 8.428)
2023-07-04 20:34:32,401 INFO o.e.j.s.Server [Test worker] Stopped Server@2e617f42{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:32,401 INFO o.e.j.s.Server [Test worker] Shutdown Server@2e617f42{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:32,402 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@37b5203{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:32,403 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@db13adc{/,null,STOPPED}
2023-07-04 20:34:32,403 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@627695fd{/__admin,null,STOPPED}
2023-07-04 20:34:32,419 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:34:32,421 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f05744b{/__admin,null,AVAILABLE}
2023-07-04 20:34:32,422 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:34:32,422 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@76d3e05b{/,null,AVAILABLE}
2023-07-04 20:34:32,422 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@791fd82b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:32,422 INFO o.e.j.s.Server [Test worker] Started Server@6a57365{STARTING}[11.0.15,sto=1000] @8669ms
2023-07-04 20:34:32,490 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:34:32,492 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 25442 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:34:32,492 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:34:32,492 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:34:32,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:32,494 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2ad557a5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:32,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:32,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:34:32,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:32,494 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43fe629a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:32,696 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:34:32,699 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:34:32,809 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6b6371a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5961a37e, org.springframework.security.web.context.SecurityContextHolderFilter@291be813, org.springframework.security.web.header.HeaderWriterFilter@343047c, org.springframework.security.web.authentication.logout.LogoutFilter@54eabbdf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@420e17cd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@433b7810, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44ce4591, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6cf14dc3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4182abba, org.springframework.security.web.session.ConcurrentSessionFilter@6a0a5b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fe03311, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@549bae75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77d68cd6, org.springframework.security.web.access.ExceptionTranslationFilter@7082d3e2, org.springframework.security.web.access.intercept.AuthorizationFilter@3b729e06]
2023-07-04 20:34:32,848 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:34:32,848 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:34:32,848 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:34:32,861 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.436 seconds (process running for 9.108)
2023-07-04 20:34:32,942 INFO o.e.j.s.Server [Test worker] Stopped Server@6a57365{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:32,942 INFO o.e.j.s.Server [Test worker] Shutdown Server@6a57365{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:32,943 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@791fd82b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:32,944 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@76d3e05b{/,null,STOPPED}
2023-07-04 20:34:32,944 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f05744b{/__admin,null,STOPPED}
2023-07-04 20:34:32,955 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:34:32,956 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c6ea911{/__admin,null,AVAILABLE}
2023-07-04 20:34:32,956 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:34:32,956 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1dc9fc0{/,null,AVAILABLE}
2023-07-04 20:34:32,957 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@16352a9f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:32,957 INFO o.e.j.s.Server [Test worker] Started Server@9eb378c{STARTING}[11.0.15,sto=1000] @9203ms
2023-07-04 20:34:33,017 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:34:33,019 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 25442 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:34:33,019 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:34:33,019 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:34:33,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:33,021 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a35e669 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:33,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:33,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:34:33,021 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:33,021 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6ff9b4f2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:33,209 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:34:33,281 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@463b73e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2e24c632, org.springframework.security.web.context.SecurityContextHolderFilter@486765f1, org.springframework.security.web.header.HeaderWriterFilter@732b3b00, org.springframework.security.web.authentication.logout.LogoutFilter@466a5285, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@61a13ade, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@75cbb215, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18c43285, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58703290, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6d782f9, org.springframework.security.web.session.ConcurrentSessionFilter@3446bba2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73b3dfe9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59ea19a4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f3ed8bc, org.springframework.security.web.access.ExceptionTranslationFilter@73090cd8, org.springframework.security.web.access.intercept.AuthorizationFilter@16790b0f]
2023-07-04 20:34:33,321 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:34:33,321 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:34:33,322 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:34:33,337 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.378 seconds (process running for 9.583)
2023-07-04 20:34:33,361 INFO o.e.j.s.Server [Test worker] Stopped Server@9eb378c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:33,361 INFO o.e.j.s.Server [Test worker] Shutdown Server@9eb378c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:33,362 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@16352a9f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:33,362 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1dc9fc0{/,null,STOPPED}
2023-07-04 20:34:33,362 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c6ea911{/__admin,null,STOPPED}
2023-07-04 20:34:33,388 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:34:33,403 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:34:33,411 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:34:33,412 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f793327{/__admin,null,AVAILABLE}
2023-07-04 20:34:33,412 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:34:33,412 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7bb98540{/,null,AVAILABLE}
2023-07-04 20:34:33,412 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@43567fca{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:33,413 INFO o.e.j.s.Server [Test worker] Started Server@41ba679c{STARTING}[11.0.15,sto=1000] @9659ms
2023-07-04 20:34:33,435 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:34:33,579 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:34:34,037 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:34:34,038 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:34:34,061 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:34:34,093 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:34:35,189 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:34:35,483 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 4c8e5231e56fe9648d43943255c2b938bc904ccc126ed138023f42afab354098
2023-07-04 20:34:36,150 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.08557S
2023-07-04 20:34:36,157 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:34:36,157 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:34:36,157 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:34:36,158 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:34:36,192 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2c1ffc6f3c0858b975f532d98ca5a8a4f50eaa04c7d9eaaa9013d0e9fde48169
2023-07-04 20:34:37,717 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.559797S
2023-07-04 20:34:37,719 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:59617/test?loggerLevel=OFF)
2023-07-04 20:34:37,773 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:34:37,778 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 25442 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:34:37,778 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:34:37,778 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:34:37,782 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:37,782 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7c127ff2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:37,782 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:37,782 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:34:37,782 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:34:37,782 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@61e1e505 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:34:37,863 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:34:37,864 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:34:37,876 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2023-07-04 20:34:37,922 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:34:38,007 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6b911e3f
2023-07-04 20:34:38,007 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:34:38,023 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:34:38,074 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:34:38,182 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:34:38,188 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:34:38,288 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:34:38,288 INFO l.util [Test worker] Run:                          5
2023-07-04 20:34:38,288 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:34:38,289 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:34:38,289 INFO l.util [Test worker] -------------------------------
2023-07-04 20:34:38,289 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:34:38,289 INFO l.util [Test worker] Update summary generated
2023-07-04 20:34:38,294 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:34:38,301 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:34:38,302 INFO l.command [Test worker] Command execution complete
2023-07-04 20:34:38,318 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:34:38,325 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:34:38,325 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:34:38,326 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@e026cf0
2023-07-04 20:34:38,344 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:34:38,381 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:34:38,383 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:34:38,384 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:34:38,386 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:34:38,386 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:34:38,387 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:34:38,387 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:34:38,388 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:34:38,388 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:34:38,389 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:34:38,389 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:34:38,400 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:34:38,400 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:34:38,502 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.78 seconds (process running for 14.749)
2023-07-04 20:34:38,643 INFO o.e.j.s.Server [Test worker] Stopped Server@41ba679c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:38,643 INFO o.e.j.s.Server [Test worker] Shutdown Server@41ba679c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:38,645 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@43567fca{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:38,645 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7bb98540{/,null,STOPPED}
2023-07-04 20:34:38,645 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f793327{/__admin,null,STOPPED}
2023-07-04 20:34:38,648 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:34:38,650 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:34:38,654 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:34:38,655 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@77cf68c6{/__admin,null,AVAILABLE}
2023-07-04 20:34:38,655 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:34:38,655 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2628b479{/,null,AVAILABLE}
2023-07-04 20:34:38,656 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@bf1681a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:38,656 INFO o.e.j.s.Server [Test worker] Started Server@422b1292{STARTING}[11.0.15,sto=1000] @14903ms
2023-07-04 20:34:38,656 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:34:38,716 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 22cfaf3e8869a4f3d8b9951dc2a56226baf51814e3158ee999d089ae6f094c30
2023-07-04 20:34:40,208 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.551792S
2023-07-04 20:34:40,208 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:59629/test?loggerLevel=OFF)
2023-07-04 20:34:40,252 INFO o.e.j.s.Server [Test worker] Stopped Server@422b1292{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:40,252 INFO o.e.j.s.Server [Test worker] Shutdown Server@422b1292{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:34:40,253 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@bf1681a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:34:40,254 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2628b479{/,null,STOPPED}
2023-07-04 20:34:40,254 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@77cf68c6{/__admin,null,STOPPED}
2023-07-04 20:34:40,481 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:34:40,481 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-07-04 20:34:40,493 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:34:40,495 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:34:40,507 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:34:40,508 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-07-04 20:34:40,530 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:34:40,531 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:35:34,078 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:35:34,159 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:35:34,791 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:35:34,806 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:35:34,812 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:35:34,812 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:35:34,818 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:34,826 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1748ms
2023-07-04 20:35:35,305 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:35:35,313 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:35:35,324 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 25661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:35:35,325 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:35:35,325 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:35:35,345 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:35,346 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:35,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:35,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:35:35,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:35,346 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:36,005 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:35:36,008 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:35:36,436 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 420 ms. Found 2 JPA repository interfaces.
2023-07-04 20:35:36,487 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:35:36,504 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:35:36,543 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:35:36,543 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:35:36,543 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-07-04 20:35:37,078 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:35:37,541 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:35:37,649 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:35:38,038 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:35:38,517 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:35:38,678 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@16c1345b
2023-07-04 20:35:38,680 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:35:38,921 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:35:39,056 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:35:39,416 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:35:39,486 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:35:39,492 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:35:39,492 INFO l.util [Test worker] Run:                          0
2023-07-04 20:35:39,492 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:35:39,492 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:35:39,492 INFO l.util [Test worker] -------------------------------
2023-07-04 20:35:39,492 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:35:39,493 INFO l.util [Test worker] Update summary generated
2023-07-04 20:35:39,495 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:35:39,498 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:35:39,499 INFO l.command [Test worker] Command execution complete
2023-07-04 20:35:39,582 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:35:39,622 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:35:39,623 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:35:39,717 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:35:39,809 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:35:39,834 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@25bfc558
2023-07-04 20:35:40,008 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:35:40,520 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:35:40,532 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:40,532 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:35:40,532 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:40,532 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:35:40,533 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:40,533 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:35:40,533 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:40,533 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:35:40,534 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:40,534 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:35:40,557 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:35:40,559 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:35:40,788 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:35:41,261 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:35:41,330 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:35:41,736 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24602d7a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52fb37d7, org.springframework.security.web.context.SecurityContextHolderFilter@4f01d2ea, org.springframework.security.web.header.HeaderWriterFilter@7d518749, org.springframework.security.web.authentication.logout.LogoutFilter@1d9ad64f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5379839c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@36eff8df, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5fa851ac, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@406efe63, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6c4ffcf0, org.springframework.security.web.session.ConcurrentSessionFilter@1ec14586, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60651b10, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c72031c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@fba5072, org.springframework.security.web.access.ExceptionTranslationFilter@2aea50a6, org.springframework.security.web.access.intercept.AuthorizationFilter@f92ee1b]
2023-07-04 20:35:42,287 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 7.426 seconds (process running for 9.21)
2023-07-04 20:35:42,673 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:42,673 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:42,676 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:42,677 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:35:42,678 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:35:43,154 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:35:43,155 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5c223a13{/__admin,null,AVAILABLE}
2023-07-04 20:35:43,156 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:35:43,156 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@513f965e{/,null,AVAILABLE}
2023-07-04 20:35:43,156 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1cdb3a1d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:43,156 INFO o.e.j.s.Server [Test worker] Started Server@56b0f44f{STARTING}[11.0.15,sto=1000] @10079ms
2023-07-04 20:35:43,267 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:35:43,270 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 25661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:35:43,271 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:35:43,271 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:35:43,274 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:43,274 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@703ecfa3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:43,274 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:43,274 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:35:43,274 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:43,274 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@532fc97b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:43,570 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:35:43,575 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:35:43,704 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@579e30b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60e50c6, org.springframework.security.web.context.SecurityContextHolderFilter@302f998a, org.springframework.security.web.header.HeaderWriterFilter@7ee44e51, org.springframework.security.web.authentication.logout.LogoutFilter@d863a65, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@325c63a9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@eb52295, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@23d7dad, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@451b7faf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@21886b18, org.springframework.security.web.session.ConcurrentSessionFilter@1eb45da0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25b4304c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79fe746d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48b1ba91, org.springframework.security.web.access.ExceptionTranslationFilter@3885b162, org.springframework.security.web.access.intercept.AuthorizationFilter@19a98be6]
2023-07-04 20:35:43,758 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:35:43,759 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:35:43,760 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:35:43,852 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.692 seconds (process running for 10.774)
2023-07-04 20:35:44,076 INFO o.e.j.s.Server [Test worker] Stopped Server@56b0f44f{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:44,077 INFO o.e.j.s.Server [Test worker] Shutdown Server@56b0f44f{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:44,077 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1cdb3a1d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:44,078 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@513f965e{/,null,STOPPED}
2023-07-04 20:35:44,078 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5c223a13{/__admin,null,STOPPED}
2023-07-04 20:35:44,093 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:35:44,094 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@30b43d5d{/__admin,null,AVAILABLE}
2023-07-04 20:35:44,096 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:35:44,096 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@298550b4{/,null,AVAILABLE}
2023-07-04 20:35:44,097 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@67503009{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:44,097 INFO o.e.j.s.Server [Test worker] Started Server@17287617{STARTING}[11.0.15,sto=1000] @11019ms
2023-07-04 20:35:44,164 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:35:44,166 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 25661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:35:44,166 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:35:44,166 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:35:44,168 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:44,168 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@26dcac0d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:44,169 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:44,170 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:35:44,170 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:44,170 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@492a7467 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:44,376 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:35:44,379 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:35:44,479 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d991631, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a8ebb66, org.springframework.security.web.context.SecurityContextHolderFilter@35a2c933, org.springframework.security.web.header.HeaderWriterFilter@2242013, org.springframework.security.web.authentication.logout.LogoutFilter@5149d71b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4790181c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@587efefa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7a287117, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1dcc928b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@452811e3, org.springframework.security.web.session.ConcurrentSessionFilter@654a4b51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@96cd9d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a6b4454, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cb17098, org.springframework.security.web.access.ExceptionTranslationFilter@27937c21, org.springframework.security.web.access.intercept.AuthorizationFilter@58d1e6ed]
2023-07-04 20:35:44,513 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:35:44,513 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:35:44,513 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:35:44,523 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.424 seconds (process running for 11.446)
2023-07-04 20:35:44,603 INFO o.e.j.s.Server [Test worker] Stopped Server@17287617{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:44,603 INFO o.e.j.s.Server [Test worker] Shutdown Server@17287617{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:44,604 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@67503009{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:44,605 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@298550b4{/,null,STOPPED}
2023-07-04 20:35:44,605 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@30b43d5d{/__admin,null,STOPPED}
2023-07-04 20:35:44,615 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:35:44,617 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d44788b{/__admin,null,AVAILABLE}
2023-07-04 20:35:44,617 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:35:44,617 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@490f1d58{/,null,AVAILABLE}
2023-07-04 20:35:44,617 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5f3e12fc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:44,617 INFO o.e.j.s.Server [Test worker] Started Server@78bc7456{STARTING}[11.0.15,sto=1000] @11540ms
2023-07-04 20:35:44,678 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:35:44,680 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 25661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:35:44,680 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:35:44,680 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:35:44,681 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:44,682 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5dab9949 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:44,682 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:44,682 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:35:44,682 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:44,682 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@126606bc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:44,885 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:35:44,952 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@475d15e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5494cf4b, org.springframework.security.web.context.SecurityContextHolderFilter@6b19f4b8, org.springframework.security.web.header.HeaderWriterFilter@7b69204f, org.springframework.security.web.authentication.logout.LogoutFilter@54bb1786, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@755cc0c9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7957eec3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3fd762bb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4a5379e1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@127302ec, org.springframework.security.web.session.ConcurrentSessionFilter@6628b1ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b0c28d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69d510a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16b578a3, org.springframework.security.web.access.ExceptionTranslationFilter@461c6f, org.springframework.security.web.access.intercept.AuthorizationFilter@446782b2]
2023-07-04 20:35:44,982 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:35:44,982 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:35:44,982 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:35:44,995 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.375 seconds (process running for 11.917)
2023-07-04 20:35:45,020 INFO o.e.j.s.Server [Test worker] Stopped Server@78bc7456{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:45,020 INFO o.e.j.s.Server [Test worker] Shutdown Server@78bc7456{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:45,021 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5f3e12fc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:45,021 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@490f1d58{/,null,STOPPED}
2023-07-04 20:35:45,021 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d44788b{/__admin,null,STOPPED}
2023-07-04 20:35:45,047 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:35:45,061 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:35:45,086 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:35:45,238 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:35:45,504 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:35:45,505 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:35:45,525 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:35:45,558 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:35:46,608 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:35:46,693 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 59c3e5740be3eefb94e07c77f2bbfe68399a35cc653e8cdaa8010acdc68252e5
2023-07-04 20:35:47,301 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.771134S
2023-07-04 20:35:47,306 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:35:47,306 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:35:47,307 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:35:47,307 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:35:47,365 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f7038e7cc16dc4d45de4c244af47e9de5fce0ccd72c9faaf16caa666f79ac56b
2023-07-04 20:35:48,876 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.568758S
2023-07-04 20:35:48,880 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60231/test?loggerLevel=OFF)
2023-07-04 20:35:48,885 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:35:48,890 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7c127ff2{/__admin,null,AVAILABLE}
2023-07-04 20:35:48,891 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:35:48,891 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57586584{/,null,AVAILABLE}
2023-07-04 20:35:48,891 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@40c253bd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:48,891 INFO o.e.j.s.Server [Test worker] Started Server@6171125d{STARTING}[11.0.15,sto=1000] @15814ms
2023-07-04 20:35:48,946 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:35:48,950 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 25661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:35:48,950 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:35:48,950 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:35:48,952 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:48,952 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@68674144 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:48,952 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:48,952 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:35:48,952 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:35:48,952 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3fca7aae uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:35:49,038 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:35:49,038 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:35:49,051 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2023-07-04 20:35:49,094 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:35:49,183 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3a02d567
2023-07-04 20:35:49,183 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:35:49,200 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:35:49,250 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:35:49,338 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:35:49,345 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:35:49,427 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:35:49,427 INFO l.util [Test worker] Run:                          5
2023-07-04 20:35:49,427 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:35:49,427 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:35:49,427 INFO l.util [Test worker] -------------------------------
2023-07-04 20:35:49,427 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:35:49,427 INFO l.util [Test worker] Update summary generated
2023-07-04 20:35:49,431 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:35:49,440 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:35:49,441 INFO l.command [Test worker] Command execution complete
2023-07-04 20:35:49,454 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:35:49,459 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:35:49,460 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:35:49,461 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2408dbed
2023-07-04 20:35:49,476 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:35:49,510 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:35:49,512 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:49,512 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:35:49,513 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:49,513 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:35:49,514 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:49,514 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:35:49,515 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:49,515 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:35:49,516 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:35:49,516 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:35:49,526 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:35:49,527 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:35:49,623 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.729 seconds (process running for 16.546)
2023-07-04 20:35:49,769 INFO o.e.j.s.Server [Test worker] Stopped Server@6171125d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:49,769 INFO o.e.j.s.Server [Test worker] Shutdown Server@6171125d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:49,770 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@40c253bd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:49,770 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57586584{/,null,STOPPED}
2023-07-04 20:35:49,770 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7c127ff2{/__admin,null,STOPPED}
2023-07-04 20:35:49,773 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:35:49,776 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:35:49,777 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:35:49,836 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 275c945e292e45363bfbaaf7bdeceb964c9785930c57abc2ddbce0cd7466ba31
2023-07-04 20:35:51,345 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.568842S
2023-07-04 20:35:51,346 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60244/test?loggerLevel=OFF)
2023-07-04 20:35:51,350 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:35:51,352 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@323d09e7{/__admin,null,AVAILABLE}
2023-07-04 20:35:51,352 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:35:51,352 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@672c8149{/,null,AVAILABLE}
2023-07-04 20:35:51,352 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@71644fdf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:51,353 INFO o.e.j.s.Server [Test worker] Started Server@45fdd899{STARTING}[11.0.15,sto=1000] @18275ms
2023-07-04 20:35:51,394 INFO o.e.j.s.Server [Test worker] Stopped Server@45fdd899{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:51,394 INFO o.e.j.s.Server [Test worker] Shutdown Server@45fdd899{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:35:51,395 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@71644fdf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:35:51,395 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@672c8149{/,null,STOPPED}
2023-07-04 20:35:51,396 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@323d09e7{/__admin,null,STOPPED}
2023-07-04 20:35:51,610 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:35:51,610 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-07-04 20:35:51,621 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:35:51,622 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:35:51,636 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:35:51,636 INFO o.h.t.s.i.SchemaDropperImpl$DelayedDropActionImpl [SpringApplicationShutdownHook] HHH000477: Starting delayed evictData of schema as part of SessionFactory shut-down'
2023-07-04 20:35:51,653 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:35:51,654 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:36:41,866 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:36:41,941 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:36:42,474 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:36:42,489 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:36:42,494 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:36:42,494 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:36:42,499 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:42,506 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1457ms
2023-07-04 20:36:42,982 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:36:42,991 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:36:43,001 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 25883 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:36:43,001 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:36:43,001 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:36:43,024 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:43,024 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:43,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:43,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:36:43,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:43,025 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:43,522 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:36:43,523 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:36:43,627 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 100 ms. Found 2 JPA repository interfaces.
2023-07-04 20:36:43,643 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:36:43,644 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:36:43,655 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:36:43,655 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:36:43,655 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-04 20:36:43,868 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:36:43,933 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:36:43,959 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:36:44,161 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:36:44,368 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:36:44,441 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5cff6d1d
2023-07-04 20:36:44,442 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:36:44,520 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:36:44,610 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:36:44,901 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:36:44,970 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:36:44,975 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:36:44,975 INFO l.util [Test worker] Run:                          0
2023-07-04 20:36:44,976 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:36:44,976 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:36:44,976 INFO l.util [Test worker] -------------------------------
2023-07-04 20:36:44,976 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:36:44,976 INFO l.util [Test worker] Update summary generated
2023-07-04 20:36:44,979 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:36:44,982 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:36:44,983 INFO l.command [Test worker] Command execution complete
2023-07-04 20:36:45,048 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:36:45,094 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:36:45,095 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:36:45,180 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:36:45,264 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:36:45,290 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@62284954
2023-07-04 20:36:45,440 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:36:45,920 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:36:45,922 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:36:46,149 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:36:46,598 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:36:46,677 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:36:47,049 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14cd9288, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4433e4e2, org.springframework.security.web.context.SecurityContextHolderFilter@2a621df3, org.springframework.security.web.header.HeaderWriterFilter@33dbd53, org.springframework.security.web.authentication.logout.LogoutFilter@164fba04, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@10683f87, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7a9ad451, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@78682201, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@435a2e1f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1bdaa13c, org.springframework.security.web.session.ConcurrentSessionFilter@244ba147, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1f600254, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27ca3040, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77d01d83, org.springframework.security.web.access.ExceptionTranslationFilter@726bbe64, org.springframework.security.web.access.intercept.AuthorizationFilter@4f2a0651]
2023-07-04 20:36:47,548 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.01 seconds (process running for 6.5)
2023-07-04 20:36:47,926 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:47,926 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:47,929 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:47,930 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:36:47,930 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:36:48,458 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:36:48,459 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40ea0f55{/__admin,null,AVAILABLE}
2023-07-04 20:36:48,460 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:36:48,460 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@66b46edd{/,null,AVAILABLE}
2023-07-04 20:36:48,460 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4f67d2b2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:48,461 INFO o.e.j.s.Server [Test worker] Started Server@1ffc6aa8{STARTING}[11.0.15,sto=1000] @7412ms
2023-07-04 20:36:48,574 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:36:48,578 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 25883 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:36:48,579 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:36:48,579 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:36:48,581 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:48,581 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@402b10af uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:48,582 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:48,582 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:36:48,582 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:48,582 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1e81ebc8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:48,872 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:36:48,877 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:36:49,024 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32c5e664, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ad168b5, org.springframework.security.web.context.SecurityContextHolderFilter@79a9a3a2, org.springframework.security.web.header.HeaderWriterFilter@6433611f, org.springframework.security.web.authentication.logout.LogoutFilter@3155bf8c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7649dcbd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6afcb427, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@60160088, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2c4e5c05, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@583b844, org.springframework.security.web.session.ConcurrentSessionFilter@1aec9516, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d309058, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52742778, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5541ea3c, org.springframework.security.web.access.ExceptionTranslationFilter@504081be, org.springframework.security.web.access.intercept.AuthorizationFilter@1c19c305]
2023-07-04 20:36:49,087 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:36:49,087 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:36:49,088 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:36:49,175 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.711 seconds (process running for 8.127)
2023-07-04 20:36:49,415 INFO o.e.j.s.Server [Test worker] Stopped Server@1ffc6aa8{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:49,415 INFO o.e.j.s.Server [Test worker] Shutdown Server@1ffc6aa8{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:49,416 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4f67d2b2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:49,417 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@66b46edd{/,null,STOPPED}
2023-07-04 20:36:49,417 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40ea0f55{/__admin,null,STOPPED}
2023-07-04 20:36:49,433 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:36:49,434 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3540fec8{/__admin,null,AVAILABLE}
2023-07-04 20:36:49,434 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:36:49,434 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@64829e16{/,null,AVAILABLE}
2023-07-04 20:36:49,435 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@f709952{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:49,435 INFO o.e.j.s.Server [Test worker] Started Server@55150964{STARTING}[11.0.15,sto=1000] @8386ms
2023-07-04 20:36:49,509 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:36:49,512 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 25883 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:36:49,512 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:36:49,512 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:36:49,514 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:49,514 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@391bce40 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:49,515 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:49,515 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:36:49,516 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:49,516 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@fab6218 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:49,718 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:36:49,722 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:36:49,834 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@994d48d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78c3b3ec, org.springframework.security.web.context.SecurityContextHolderFilter@3c30a41b, org.springframework.security.web.header.HeaderWriterFilter@1d932614, org.springframework.security.web.authentication.logout.LogoutFilter@70c3b62b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@43664803, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2e79dcaa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@47f71f50, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@35e246b2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@18bfbcd2, org.springframework.security.web.session.ConcurrentSessionFilter@2931cbd3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@168d5f34, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@122a6877, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67cd2d0a, org.springframework.security.web.access.ExceptionTranslationFilter@45cdfb42, org.springframework.security.web.access.intercept.AuthorizationFilter@169b16dd]
2023-07-04 20:36:49,872 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:36:49,872 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:36:49,873 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:36:49,886 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.449 seconds (process running for 8.837)
2023-07-04 20:36:49,964 INFO o.e.j.s.Server [Test worker] Stopped Server@55150964{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:49,964 INFO o.e.j.s.Server [Test worker] Shutdown Server@55150964{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:49,965 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@f709952{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:49,965 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@64829e16{/,null,STOPPED}
2023-07-04 20:36:49,965 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3540fec8{/__admin,null,STOPPED}
2023-07-04 20:36:49,976 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:36:49,977 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15e89472{/__admin,null,AVAILABLE}
2023-07-04 20:36:49,978 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:36:49,978 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@dcf0fa4{/,null,AVAILABLE}
2023-07-04 20:36:49,978 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@23c0d01c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:49,978 INFO o.e.j.s.Server [Test worker] Started Server@6d82d1bc{STARTING}[11.0.15,sto=1000] @8930ms
2023-07-04 20:36:50,041 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:36:50,043 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 25883 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:36:50,043 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:36:50,043 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:36:50,045 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:50,045 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27a067d6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:50,045 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:50,045 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:36:50,045 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:50,045 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56785e55 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:50,241 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:36:50,316 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@30a06273, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51413e47, org.springframework.security.web.context.SecurityContextHolderFilter@10047379, org.springframework.security.web.header.HeaderWriterFilter@7896b4ae, org.springframework.security.web.authentication.logout.LogoutFilter@3ae62308, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7d538a7a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@762618bb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@37cc352e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@265a074d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@17640714, org.springframework.security.web.session.ConcurrentSessionFilter@390eca81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@243161cb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@694f8227, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41d72593, org.springframework.security.web.access.ExceptionTranslationFilter@70c88923, org.springframework.security.web.access.intercept.AuthorizationFilter@593bda0e]
2023-07-04 20:36:50,351 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:36:50,351 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:36:50,351 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:36:50,367 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.386 seconds (process running for 9.318)
2023-07-04 20:36:50,392 INFO o.e.j.s.Server [Test worker] Stopped Server@6d82d1bc{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:50,392 INFO o.e.j.s.Server [Test worker] Shutdown Server@6d82d1bc{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:50,393 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@23c0d01c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:50,393 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@dcf0fa4{/,null,STOPPED}
2023-07-04 20:36:50,393 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15e89472{/__admin,null,STOPPED}
2023-07-04 20:36:50,419 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:36:50,442 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:36:50,469 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:36:50,613 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:36:50,882 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:36:50,883 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:36:50,907 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:36:50,952 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:36:51,725 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:36:51,816 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: f5bf95ca34c603c0c44884f21edb2fb02ce63dc4fd73d149c3e403dcfc9fd9da
2023-07-04 20:36:52,261 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.350503S
2023-07-04 20:36:52,265 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:36:52,266 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:36:52,266 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:36:52,266 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:36:52,295 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 127df924640e2fd25d8afc4de616f08cf252bea4a1833e28b3a5e2dc9af8d9d6
2023-07-04 20:36:53,946 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.67979S
2023-07-04 20:36:53,947 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60266/test?loggerLevel=OFF)
2023-07-04 20:36:53,953 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:36:53,954 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@500bae0b{/__admin,null,AVAILABLE}
2023-07-04 20:36:53,955 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:36:53,955 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7dcd2603{/,null,AVAILABLE}
2023-07-04 20:36:53,956 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@24b190df{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:53,956 INFO o.e.j.s.Server [Test worker] Started Server@21002025{STARTING}[11.0.15,sto=1000] @12908ms
2023-07-04 20:36:54,008 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:36:54,013 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 25883 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:36:54,013 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:36:54,013 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:36:54,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:54,018 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48d2348a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:54,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:54,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:36:54,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:36:54,018 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5b391bd2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:36:54,100 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:36:54,100 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:36:54,113 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2023-07-04 20:36:54,153 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:36:54,236 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@45983773
2023-07-04 20:36:54,237 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:36:54,253 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:36:54,297 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:36:54,388 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:36:54,396 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:36:54,494 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:36:54,494 INFO l.util [Test worker] Run:                          5
2023-07-04 20:36:54,494 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:36:54,494 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:36:54,494 INFO l.util [Test worker] -------------------------------
2023-07-04 20:36:54,494 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:36:54,494 INFO l.util [Test worker] Update summary generated
2023-07-04 20:36:54,499 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:36:54,507 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:36:54,508 INFO l.command [Test worker] Command execution complete
2023-07-04 20:36:54,521 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:36:54,527 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:36:54,527 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:36:54,528 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@139ea015
2023-07-04 20:36:54,543 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:36:54,576 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:36:54,577 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:36:54,692 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.732 seconds (process running for 13.644)
2023-07-04 20:36:54,754 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:36:54,754 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  ???????: 15
2023-07-04 20:36:54,820 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:36:54,820 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  ???????: 68
2023-07-04 20:36:54,824 INFO o.e.j.s.Server [Test worker] Stopped Server@21002025{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:54,824 INFO o.e.j.s.Server [Test worker] Shutdown Server@21002025{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:54,825 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@24b190df{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:54,825 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7dcd2603{/,null,STOPPED}
2023-07-04 20:36:54,825 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@500bae0b{/__admin,null,STOPPED}
2023-07-04 20:36:54,828 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:36:54,831 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:36:54,832 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:36:54,904 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: cf8a18c5f1c4c561347ddd63ccf01035383287752c5e78cc3817eda8bf1ae2ad
2023-07-04 20:36:56,410 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.577439S
2023-07-04 20:36:56,410 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60278/test?loggerLevel=OFF)
2023-07-04 20:36:56,413 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:36:56,414 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4735e7d9{/__admin,null,AVAILABLE}
2023-07-04 20:36:56,414 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:36:56,414 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@72810bac{/,null,AVAILABLE}
2023-07-04 20:36:56,415 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7a5073f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:56,415 INFO o.e.j.s.Server [Test worker] Started Server@2958c9d7{STARTING}[11.0.15,sto=1000] @15366ms
2023-07-04 20:36:56,428 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:36:56,428 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 64
2023-07-04 20:36:56,447 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:36:56,447 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 119
2023-07-04 20:36:56,454 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:36:56,455 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 15
2023-07-04 20:36:56,458 INFO o.e.j.s.Server [Test worker] Stopped Server@2958c9d7{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:56,458 INFO o.e.j.s.Server [Test worker] Shutdown Server@2958c9d7{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:36:56,459 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7a5073f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:36:56,459 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@72810bac{/,null,STOPPED}
2023-07-04 20:36:56,459 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4735e7d9{/__admin,null,STOPPED}
2023-07-04 20:36:56,663 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:36:56,665 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:36:56,666 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:36:56,678 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:36:56,679 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:36:56,679 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:37:31,283 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:37:31,333 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:37:31,690 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:37:31,700 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:37:31,704 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:37:31,704 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:37:31,707 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:31,713 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @965ms
2023-07-04 20:37:32,035 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:37:32,045 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:37:32,052 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 26061 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:37:32,052 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:37:32,052 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:37:32,069 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:32,069 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:32,069 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:32,069 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:37:32,069 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:32,069 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:32,408 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:37:32,409 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:37:32,481 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 69 ms. Found 2 JPA repository interfaces.
2023-07-04 20:37:32,490 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:37:32,491 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:37:32,499 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:37:32,499 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:37:32,499 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 20:37:32,642 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:37:32,695 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:37:32,714 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:37:32,857 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:37:32,990 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:37:33,049 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@293ba26c
2023-07-04 20:37:33,050 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:37:33,107 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:37:33,166 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:37:33,373 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:37:33,422 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:37:33,426 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:37:33,426 INFO l.util [Test worker] Run:                          0
2023-07-04 20:37:33,426 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:37:33,426 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:37:33,426 INFO l.util [Test worker] -------------------------------
2023-07-04 20:37:33,426 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:37:33,427 INFO l.util [Test worker] Update summary generated
2023-07-04 20:37:33,429 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:37:33,431 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:37:33,431 INFO l.command [Test worker] Command execution complete
2023-07-04 20:37:33,480 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:37:33,510 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:37:33,511 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:37:33,569 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:37:33,634 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:37:33,652 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6b862f17
2023-07-04 20:37:33,755 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:37:34,083 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:37:34,091 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:34,092 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:37:34,092 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:34,092 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:37:34,092 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:34,092 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:37:34,093 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:34,093 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:37:34,093 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:34,093 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:37:34,114 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:37:34,115 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:37:34,270 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:37:34,581 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:37:34,633 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:37:34,905 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@267e36f5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@317d7a5e, org.springframework.security.web.context.SecurityContextHolderFilter@64a96593, org.springframework.security.web.header.HeaderWriterFilter@27688fc6, org.springframework.security.web.authentication.logout.LogoutFilter@6d1bbd00, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@38ab2740, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4463d9b7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c991516, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@a16e4e3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5a13b931, org.springframework.security.web.session.ConcurrentSessionFilter@749e4d40, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2127c46b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eeae9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@904b224, org.springframework.security.web.access.ExceptionTranslationFilter@7d89a1ce, org.springframework.security.web.access.intercept.AuthorizationFilter@24d815da]
2023-07-04 20:37:35,262 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.526 seconds (process running for 4.514)
2023-07-04 20:37:35,564 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:35,565 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:35,566 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:35,567 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:37:35,567 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:37:35,900 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:37:35,900 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6dd8e64b{/__admin,null,AVAILABLE}
2023-07-04 20:37:35,901 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:37:35,901 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@a2dc92d{/,null,AVAILABLE}
2023-07-04 20:37:35,901 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@468cbb46{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:35,901 INFO o.e.j.s.Server [Test worker] Started Server@2e86d3c{STARTING}[11.0.15,sto=1000] @5153ms
2023-07-04 20:37:36,019 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:37:36,024 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 26061 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:37:36,024 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:37:36,024 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:37:36,026 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:36,026 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@77e0d62f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:36,026 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:36,026 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:37:36,026 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:36,026 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@607229c7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:36,228 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:37:36,233 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:37:36,328 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56d0048d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62da0f49, org.springframework.security.web.context.SecurityContextHolderFilter@42898c45, org.springframework.security.web.header.HeaderWriterFilter@5a9529a, org.springframework.security.web.authentication.logout.LogoutFilter@343cb1af, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@907a731, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@58e7de77, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@700a8854, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@79b3937a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4a86103, org.springframework.security.web.session.ConcurrentSessionFilter@dbfa9d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46c0ad2d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9320aed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20c411ea, org.springframework.security.web.access.ExceptionTranslationFilter@5cab0cdd, org.springframework.security.web.access.intercept.AuthorizationFilter@480dce26]
2023-07-04 20:37:36,368 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:37:36,368 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:37:36,369 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:37:36,430 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.527 seconds (process running for 5.682)
2023-07-04 20:37:36,589 INFO o.e.j.s.Server [Test worker] Stopped Server@2e86d3c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:36,589 INFO o.e.j.s.Server [Test worker] Shutdown Server@2e86d3c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:36,590 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@468cbb46{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:36,590 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@a2dc92d{/,null,STOPPED}
2023-07-04 20:37:36,590 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6dd8e64b{/__admin,null,STOPPED}
2023-07-04 20:37:36,602 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:37:36,603 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3537caca{/__admin,null,AVAILABLE}
2023-07-04 20:37:36,603 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:37:36,603 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@20337a79{/,null,AVAILABLE}
2023-07-04 20:37:36,603 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1ba9cb25{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:36,603 INFO o.e.j.s.Server [Test worker] Started Server@141cc645{STARTING}[11.0.15,sto=1000] @5855ms
2023-07-04 20:37:36,653 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:37:36,655 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 26061 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:37:36,655 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:37:36,655 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:37:36,656 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:36,657 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7dc26ace uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:36,657 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:36,657 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:37:36,657 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:36,657 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6a6beec0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:36,808 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:37:36,810 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:37:36,884 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4568499e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11de1abe, org.springframework.security.web.context.SecurityContextHolderFilter@721e1bdf, org.springframework.security.web.header.HeaderWriterFilter@6c56e004, org.springframework.security.web.authentication.logout.LogoutFilter@678cf97e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@28af99b4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@28e8c2d6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e9fb3b7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@eb2f0ab, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7fce8421, org.springframework.security.web.session.ConcurrentSessionFilter@6d05a0a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15ffcd0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e725977, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cef8264, org.springframework.security.web.access.ExceptionTranslationFilter@66f02ece, org.springframework.security.web.access.intercept.AuthorizationFilter@22c73577]
2023-07-04 20:37:36,909 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:37:36,909 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:37:36,910 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:37:36,918 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.313 seconds (process running for 6.17)
2023-07-04 20:37:36,976 INFO o.e.j.s.Server [Test worker] Stopped Server@141cc645{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:36,976 INFO o.e.j.s.Server [Test worker] Shutdown Server@141cc645{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:36,976 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1ba9cb25{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:36,976 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@20337a79{/,null,STOPPED}
2023-07-04 20:37:36,977 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3537caca{/__admin,null,STOPPED}
2023-07-04 20:37:36,985 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:37:36,986 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7d3e88a{/__admin,null,AVAILABLE}
2023-07-04 20:37:36,986 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:37:36,986 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@61e35ca3{/,null,AVAILABLE}
2023-07-04 20:37:36,986 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@22249b41{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:36,986 INFO o.e.j.s.Server [Test worker] Started Server@2dd85faa{STARTING}[11.0.15,sto=1000] @6238ms
2023-07-04 20:37:37,031 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:37:37,032 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 26061 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:37:37,032 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:37:37,032 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:37:37,034 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:37,034 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@614eceb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:37,034 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:37,034 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:37:37,034 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:37,034 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@45fc4c95 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:37,171 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:37:37,221 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@649f48f6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@56961224, org.springframework.security.web.context.SecurityContextHolderFilter@55f48623, org.springframework.security.web.header.HeaderWriterFilter@14d2b5bf, org.springframework.security.web.authentication.logout.LogoutFilter@34c1c7ea, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@22520d2c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1816701b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2a3d8a59, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@70cfc5ed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7dab2645, org.springframework.security.web.session.ConcurrentSessionFilter@12932c18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ac9f8d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7b37d57f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b8214eb, org.springframework.security.web.access.ExceptionTranslationFilter@33638e3f, org.springframework.security.web.access.intercept.AuthorizationFilter@7f762353]
2023-07-04 20:37:37,244 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:37:37,244 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:37:37,244 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:37:37,254 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.266 seconds (process running for 6.506)
2023-07-04 20:37:37,272 INFO o.e.j.s.Server [Test worker] Stopped Server@2dd85faa{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:37,272 INFO o.e.j.s.Server [Test worker] Shutdown Server@2dd85faa{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:37,272 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@22249b41{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:37,273 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@61e35ca3{/,null,STOPPED}
2023-07-04 20:37:37,273 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7d3e88a{/__admin,null,STOPPED}
2023-07-04 20:37:37,295 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:37:37,309 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:37:37,329 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:37:37,431 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:37:37,627 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:37:37,628 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:37:37,640 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:37:37,680 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:37:38,275 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:37:38,346 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 801d5f6a089af8ac447b7b63597d43926a544d2435086cded8556b47753aa2c5
2023-07-04 20:37:38,688 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.044974S
2023-07-04 20:37:38,692 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:37:38,692 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:37:38,692 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:37:38,692 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:37:38,733 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 44d5df66feb22e465c3cfd28c01b380f79348237a441094079acdb8ece6a139a
2023-07-04 20:37:39,900 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.208252S
2023-07-04 20:37:39,901 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60303/test?loggerLevel=OFF)
2023-07-04 20:37:39,909 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:37:39,911 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@687980fc{/__admin,null,AVAILABLE}
2023-07-04 20:37:39,911 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:37:39,911 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3203d5{/,null,AVAILABLE}
2023-07-04 20:37:39,912 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@45d39ccd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:39,912 INFO o.e.j.s.Server [Test worker] Started Server@5c76bbf5{STARTING}[11.0.15,sto=1000] @9164ms
2023-07-04 20:37:39,949 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:37:39,952 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 26061 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:37:39,952 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:37:39,952 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:37:39,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:39,954 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@32e2e611 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:39,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:39,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:37:39,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:37:39,954 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@70f04941 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:37:40,005 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:37:40,005 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:37:40,013 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-04 20:37:40,042 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:37:40,095 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7908c1f0
2023-07-04 20:37:40,095 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:37:40,108 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:37:40,136 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:37:40,201 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:37:40,207 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:37:40,266 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:37:40,266 INFO l.util [Test worker] Run:                          5
2023-07-04 20:37:40,266 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:37:40,266 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:37:40,266 INFO l.util [Test worker] -------------------------------
2023-07-04 20:37:40,266 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:37:40,266 INFO l.util [Test worker] Update summary generated
2023-07-04 20:37:40,270 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:37:40,276 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:37:40,277 INFO l.command [Test worker] Command execution complete
2023-07-04 20:37:40,286 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:37:40,289 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:37:40,289 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:37:40,290 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@66860e08
2023-07-04 20:37:40,308 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:37:40,328 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:37:40,330 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:40,330 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:37:40,331 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:40,331 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:37:40,331 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:40,331 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:37:40,332 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:40,332 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:37:40,333 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:37:40,333 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:37:40,340 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:37:40,341 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:37:40,402 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.488 seconds (process running for 9.655)
2023-07-04 20:37:40,496 INFO o.e.j.s.Server [Test worker] Stopped Server@5c76bbf5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:40,496 INFO o.e.j.s.Server [Test worker] Shutdown Server@5c76bbf5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:40,497 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@45d39ccd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:40,497 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3203d5{/,null,STOPPED}
2023-07-04 20:37:40,497 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@687980fc{/__admin,null,STOPPED}
2023-07-04 20:37:40,500 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:37:40,501 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:37:40,502 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:37:40,545 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 7d968c6a434de756b9b2d908fb151e0029d7437fab9bb4e7e75f3ac466772592
2023-07-04 20:37:41,615 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.113436S
2023-07-04 20:37:41,616 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60315/test?loggerLevel=OFF)
2023-07-04 20:37:41,618 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:37:41,619 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37a4fc71{/__admin,null,AVAILABLE}
2023-07-04 20:37:41,619 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:37:41,619 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@70c36cc7{/,null,AVAILABLE}
2023-07-04 20:37:41,619 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@575fffc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:41,619 INFO o.e.j.s.Server [Test worker] Started Server@6e18d3f9{STARTING}[11.0.15,sto=1000] @10872ms
2023-07-04 20:37:41,651 INFO o.e.j.s.Server [Test worker] Stopped Server@6e18d3f9{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:41,652 INFO o.e.j.s.Server [Test worker] Shutdown Server@6e18d3f9{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:37:41,652 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@575fffc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:37:41,652 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@70c36cc7{/,null,STOPPED}
2023-07-04 20:37:41,652 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37a4fc71{/__admin,null,STOPPED}
2023-07-04 20:37:41,795 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:37:41,796 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:37:41,797 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:37:41,807 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:37:41,807 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:37:41,808 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:47:54,029 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:47:54,078 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:47:54,613 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:47:54,623 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:47:54,626 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:47:54,626 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:47:54,629 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:47:54,637 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1139ms
2023-07-04 20:47:54,959 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:47:54,965 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:47:54,972 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 27386 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:47:54,972 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:47:54,972 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:47:54,984 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:54,985 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:47:54,985 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:54,985 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:47:54,985 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:54,985 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:47:55,329 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:47:55,330 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:47:55,400 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2023-07-04 20:47:55,411 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:47:55,411 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:47:55,419 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:47:55,419 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:47:55,419 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 20:47:55,559 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:47:55,602 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:47:55,622 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:47:55,762 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:47:55,904 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:47:55,960 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@293ba26c
2023-07-04 20:47:55,961 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:47:56,026 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:47:56,091 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:47:56,296 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:47:56,342 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:47:56,346 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:47:56,346 INFO l.util [Test worker] Run:                          0
2023-07-04 20:47:56,346 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:47:56,347 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:47:56,347 INFO l.util [Test worker] -------------------------------
2023-07-04 20:47:56,347 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:47:56,347 INFO l.util [Test worker] Update summary generated
2023-07-04 20:47:56,349 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:47:56,351 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:47:56,352 INFO l.command [Test worker] Command execution complete
2023-07-04 20:47:56,406 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:47:56,428 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:47:56,429 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:47:56,483 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:47:56,545 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:47:56,561 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6b862f17
2023-07-04 20:47:56,672 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:47:57,004 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:47:57,045 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:47:57,046 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:47:57,201 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:47:57,508 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:47:57,555 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:47:57,810 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c991516, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a01358f, org.springframework.security.web.context.SecurityContextHolderFilter@2c15515e, org.springframework.security.web.header.HeaderWriterFilter@7d89a1ce, org.springframework.security.web.authentication.logout.LogoutFilter@45072949, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@46bb8cba, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1257e0fd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119db52f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1eeae9d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1bf18ca8, org.springframework.security.web.session.ConcurrentSessionFilter@4bb2da93, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b018f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65dfce2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41854000, org.springframework.security.web.access.ExceptionTranslationFilter@7eb0c144, org.springframework.security.web.access.intercept.AuthorizationFilter@60651b10]
2023-07-04 20:47:58,152 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.495 seconds (process running for 4.655)
2023-07-04 20:47:58,466 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:47:58,466 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:47:58,468 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:47:58,469 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:47:58,469 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:47:58,802 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:47:58,803 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6818550d{/__admin,null,AVAILABLE}
2023-07-04 20:47:58,803 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:47:58,803 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@11216e2e{/,null,AVAILABLE}
2023-07-04 20:47:58,804 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6bb5270e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:47:58,804 INFO o.e.j.s.Server [Test worker] Started Server@34923f7f{STARTING}[11.0.15,sto=1000] @5307ms
2023-07-04 20:47:58,879 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:47:58,881 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 27386 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:47:58,881 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:47:58,881 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:47:58,883 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:58,883 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@78a9991a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:47:58,883 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:58,883 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:47:58,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:58,884 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@528a7eea uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:47:59,085 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:47:59,089 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:47:59,179 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2dc0a0a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@480dce26, org.springframework.security.web.context.SecurityContextHolderFilter@3f36e502, org.springframework.security.web.header.HeaderWriterFilter@ee5579f, org.springframework.security.web.authentication.logout.LogoutFilter@42898c45, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@79b3937a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7756d3ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@343cb1af, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5a9529a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@907a731, org.springframework.security.web.session.ConcurrentSessionFilter@32ad7ecc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7856f5e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cab0cdd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58e7de77, org.springframework.security.web.access.ExceptionTranslationFilter@5262b8a3, org.springframework.security.web.access.intercept.AuthorizationFilter@9320aed]
2023-07-04 20:47:59,223 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:47:59,223 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:47:59,224 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:47:59,284 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.477 seconds (process running for 5.787)
2023-07-04 20:47:59,438 INFO o.e.j.s.Server [Test worker] Stopped Server@34923f7f{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:47:59,438 INFO o.e.j.s.Server [Test worker] Shutdown Server@34923f7f{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:47:59,438 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6bb5270e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:47:59,438 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@11216e2e{/,null,STOPPED}
2023-07-04 20:47:59,439 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6818550d{/__admin,null,STOPPED}
2023-07-04 20:47:59,449 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:47:59,451 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@331bd9f2{/__admin,null,AVAILABLE}
2023-07-04 20:47:59,451 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:47:59,451 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d8f4623{/,null,AVAILABLE}
2023-07-04 20:47:59,451 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2419f457{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:47:59,451 INFO o.e.j.s.Server [Test worker] Started Server@69668de7{STARTING}[11.0.15,sto=1000] @5954ms
2023-07-04 20:47:59,507 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:47:59,509 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 27386 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:47:59,509 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:47:59,509 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:47:59,511 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:59,511 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a4b0c9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:47:59,511 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:59,511 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:47:59,511 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:59,511 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7dc26ace uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:47:59,652 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:47:59,655 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:47:59,724 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@678cf97e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b69ad19, org.springframework.security.web.context.SecurityContextHolderFilter@575baeea, org.springframework.security.web.header.HeaderWriterFilter@61b33ef7, org.springframework.security.web.authentication.logout.LogoutFilter@6d05a0a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4e725977, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@eb2f0ab, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@cf0d241, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@66f02ece, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@22c73577, org.springframework.security.web.session.ConcurrentSessionFilter@6801e8ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79ef07b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@153daff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@28af99b4, org.springframework.security.web.access.ExceptionTranslationFilter@3912e10b, org.springframework.security.web.access.intercept.AuthorizationFilter@15ffcd0c]
2023-07-04 20:47:59,748 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:47:59,748 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:47:59,748 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:47:59,755 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.302 seconds (process running for 6.258)
2023-07-04 20:47:59,810 INFO o.e.j.s.Server [Test worker] Stopped Server@69668de7{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:47:59,810 INFO o.e.j.s.Server [Test worker] Shutdown Server@69668de7{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:47:59,811 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2419f457{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:47:59,812 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d8f4623{/,null,STOPPED}
2023-07-04 20:47:59,812 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@331bd9f2{/__admin,null,STOPPED}
2023-07-04 20:47:59,820 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:47:59,821 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5233090a{/__admin,null,AVAILABLE}
2023-07-04 20:47:59,821 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:47:59,821 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6cd27d52{/,null,AVAILABLE}
2023-07-04 20:47:59,822 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@75a1841a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:47:59,822 INFO o.e.j.s.Server [Test worker] Started Server@3cc7ed87{STARTING}[11.0.15,sto=1000] @6325ms
2023-07-04 20:47:59,867 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:47:59,868 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 27386 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:47:59,868 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:47:59,868 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:47:59,870 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:59,870 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3bb728d1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:47:59,871 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:59,871 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:47:59,871 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:47:59,871 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@551d933f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:48:00,004 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:48:00,051 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@71986020, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f762353, org.springframework.security.web.context.SecurityContextHolderFilter@24645461, org.springframework.security.web.header.HeaderWriterFilter@44810123, org.springframework.security.web.authentication.logout.LogoutFilter@55f48623, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@70cfc5ed, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@17b9049, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34c1c7ea, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@14d2b5bf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@22520d2c, org.springframework.security.web.session.ConcurrentSessionFilter@430c9347, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fa710f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33638e3f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1816701b, org.springframework.security.web.access.ExceptionTranslationFilter@c5ae854, org.springframework.security.web.access.intercept.AuthorizationFilter@7b37d57f]
2023-07-04 20:48:00,072 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:48:00,072 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:48:00,072 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:48:00,080 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.257 seconds (process running for 6.583)
2023-07-04 20:48:00,097 INFO o.e.j.s.Server [Test worker] Stopped Server@3cc7ed87{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:48:00,097 INFO o.e.j.s.Server [Test worker] Shutdown Server@3cc7ed87{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:48:00,097 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@75a1841a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:48:00,097 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6cd27d52{/,null,STOPPED}
2023-07-04 20:48:00,098 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5233090a{/__admin,null,STOPPED}
2023-07-04 20:48:00,120 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:48:00,134 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:48:00,156 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:48:00,262 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:48:00,532 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:48:00,533 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:48:00,572 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:48:00,594 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:48:01,449 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:48:01,848 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: b8da043249717232e55594d321b46fbaf418b8bd5bc34e038225697b12c6d840
2023-07-04 20:48:02,503 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.928658S
2023-07-04 20:48:02,510 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:48:02,513 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:48:02,514 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:48:02,514 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:48:02,541 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: aa19f12653bc6598a1679d42b4fd0fc1757d29781155fbf521029d5f3f63e1a2
2023-07-04 20:48:03,691 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.176729S
2023-07-04 20:48:03,692 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60383/test?loggerLevel=OFF)
2023-07-04 20:48:03,695 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:48:03,696 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@687980fc{/__admin,null,AVAILABLE}
2023-07-04 20:48:03,696 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:48:03,696 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3203d5{/,null,AVAILABLE}
2023-07-04 20:48:03,696 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@45d39ccd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:48:03,696 INFO o.e.j.s.Server [Test worker] Started Server@5c76bbf5{STARTING}[11.0.15,sto=1000] @10199ms
2023-07-04 20:48:03,730 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:48:03,732 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 27386 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:48:03,732 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:48:03,732 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:48:03,733 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:48:03,733 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@32e2e611 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:48:03,733 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:48:03,733 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:48:03,733 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:48:03,733 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@70f04941 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:48:03,789 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:48:03,790 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:48:03,799 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2023-07-04 20:48:03,828 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:48:03,880 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7908c1f0
2023-07-04 20:48:03,880 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:48:03,887 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:48:03,919 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:48:03,982 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:48:03,989 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:48:04,052 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:48:04,052 INFO l.util [Test worker] Run:                          5
2023-07-04 20:48:04,052 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:48:04,052 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:48:04,052 INFO l.util [Test worker] -------------------------------
2023-07-04 20:48:04,052 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:48:04,052 INFO l.util [Test worker] Update summary generated
2023-07-04 20:48:04,056 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:48:04,062 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:48:04,063 INFO l.command [Test worker] Command execution complete
2023-07-04 20:48:04,071 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:48:04,074 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:48:04,074 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:48:04,075 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2beba1c9
2023-07-04 20:48:04,087 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:48:04,106 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:48:04,108 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:48:04,109 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:48:04,110 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:48:04,110 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:48:04,111 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:48:04,111 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:48:04,112 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:48:04,112 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:48:04,113 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:48:04,113 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:48:04,121 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:48:04,121 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:48:04,177 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.478 seconds (process running for 10.68)
2023-07-04 20:48:04,277 INFO o.e.j.s.Server [Test worker] Stopped Server@5c76bbf5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:48:04,278 INFO o.e.j.s.Server [Test worker] Shutdown Server@5c76bbf5{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:48:04,278 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@45d39ccd{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:48:04,278 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3203d5{/,null,STOPPED}
2023-07-04 20:48:04,278 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@687980fc{/__admin,null,STOPPED}
2023-07-04 20:48:04,281 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:48:04,282 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:48:04,283 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:48:04,327 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 3d1773e4b55dfb919b0966844c27cfe02f04ae21bd032d1431db3e0002600f80
2023-07-04 20:48:05,532 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.248782S
2023-07-04 20:48:05,532 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60395/test?loggerLevel=OFF)
2023-07-04 20:48:05,534 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:48:05,535 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7c0bf685{/__admin,null,AVAILABLE}
2023-07-04 20:48:05,535 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:48:05,535 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58072e51{/,null,AVAILABLE}
2023-07-04 20:48:05,535 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4ec68825{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:48:05,536 INFO o.e.j.s.Server [Test worker] Started Server@69ef1429{STARTING}[11.0.15,sto=1000] @12039ms
2023-07-04 20:48:05,569 INFO o.e.j.s.Server [Test worker] Stopped Server@69ef1429{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:48:05,569 INFO o.e.j.s.Server [Test worker] Shutdown Server@69ef1429{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:48:05,570 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4ec68825{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:48:05,570 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58072e51{/,null,STOPPED}
2023-07-04 20:48:05,570 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7c0bf685{/__admin,null,STOPPED}
2023-07-04 20:48:05,752 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:48:05,753 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:48:05,754 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:48:05,782 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:48:05,783 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:48:05,783 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:49:15,907 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:49:15,955 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:49:16,317 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:49:16,326 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:49:16,331 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:49:16,331 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:49:16,334 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:16,339 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @955ms
2023-07-04 20:49:16,661 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:49:16,667 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:49:16,675 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 27629 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:49:16,675 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:49:16,675 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:49:16,688 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:16,688 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:16,688 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:16,688 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:49:16,688 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:16,688 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:17,036 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:49:17,037 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:49:17,108 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2023-07-04 20:49:17,116 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:49:17,117 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:49:17,124 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:49:17,125 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:49:17,125 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 20:49:17,250 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:49:17,295 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:49:17,317 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:49:17,448 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:49:17,590 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:49:17,638 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@315365ef
2023-07-04 20:49:17,639 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:49:17,698 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:49:17,757 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:49:17,956 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:49:18,005 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:49:18,009 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:49:18,009 INFO l.util [Test worker] Run:                          0
2023-07-04 20:49:18,009 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:49:18,009 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:49:18,009 INFO l.util [Test worker] -------------------------------
2023-07-04 20:49:18,009 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:49:18,009 INFO l.util [Test worker] Update summary generated
2023-07-04 20:49:18,011 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:49:18,014 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:49:18,014 INFO l.command [Test worker] Command execution complete
2023-07-04 20:49:18,066 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:49:18,095 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:49:18,096 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:49:18,149 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:49:18,210 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:49:18,225 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6c7f3af6
2023-07-04 20:49:18,327 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:49:18,653 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:49:18,689 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:49:18,692 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:49:18,849 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:49:19,198 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:49:19,251 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:49:19,501 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e46f5c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a99aa17, org.springframework.security.web.context.SecurityContextHolderFilter@7a977d23, org.springframework.security.web.header.HeaderWriterFilter@6d1bbd00, org.springframework.security.web.authentication.logout.LogoutFilter@41854000, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12ceff30, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2d550996, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@682fec32, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@25de3ccc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@e64ee56, org.springframework.security.web.session.ConcurrentSessionFilter@24d815da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1785e670, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24f3e945, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6456fcc4, org.springframework.security.web.access.ExceptionTranslationFilter@45072949, org.springframework.security.web.access.intercept.AuthorizationFilter@6fcb2e2d]
2023-07-04 20:49:19,837 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.474 seconds (process running for 4.453)
2023-07-04 20:49:20,129 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:20,129 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:20,131 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:20,133 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:49:20,133 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:49:20,459 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:49:20,460 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7524241d{/__admin,null,AVAILABLE}
2023-07-04 20:49:20,461 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:49:20,461 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@164b28c4{/,null,AVAILABLE}
2023-07-04 20:49:20,461 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@25af5c7f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:20,461 INFO o.e.j.s.Server [Test worker] Started Server@3faec175{STARTING}[11.0.15,sto=1000] @5077ms
2023-07-04 20:49:20,536 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:49:20,538 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 27629 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:49:20,538 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:49:20,538 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:49:20,539 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:20,540 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3248a82c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:20,540 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:20,540 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:49:20,540 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:20,540 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4bf30a35 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:20,746 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:49:20,750 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:49:20,842 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f6f80bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@733ced51, org.springframework.security.web.context.SecurityContextHolderFilter@32640b6d, org.springframework.security.web.header.HeaderWriterFilter@7842ad22, org.springframework.security.web.authentication.logout.LogoutFilter@62e06e2e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5a70dfe7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3b805b99, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7bf28545, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@690406d0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4a593c3c, org.springframework.security.web.session.ConcurrentSessionFilter@3de2e589, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e26eed3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43e07d88, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@25ee509f, org.springframework.security.web.access.ExceptionTranslationFilter@1a70d5df, org.springframework.security.web.access.intercept.AuthorizationFilter@6bd7f3d4]
2023-07-04 20:49:20,885 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:49:20,885 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:49:20,886 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:49:20,940 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.476 seconds (process running for 5.556)
2023-07-04 20:49:21,108 INFO o.e.j.s.Server [Test worker] Stopped Server@3faec175{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:21,108 INFO o.e.j.s.Server [Test worker] Shutdown Server@3faec175{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:21,109 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@25af5c7f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:21,109 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@164b28c4{/,null,STOPPED}
2023-07-04 20:49:21,109 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7524241d{/__admin,null,STOPPED}
2023-07-04 20:49:21,121 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:49:21,122 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@43fe629a{/__admin,null,AVAILABLE}
2023-07-04 20:49:21,122 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:49:21,122 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@e158c25{/,null,AVAILABLE}
2023-07-04 20:49:21,123 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5631baf5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:21,123 INFO o.e.j.s.Server [Test worker] Started Server@341df52{STARTING}[11.0.15,sto=1000] @5739ms
2023-07-04 20:49:21,170 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:49:21,171 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 27629 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:49:21,171 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:49:21,171 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:49:21,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:21,173 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@692cea53 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:21,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:21,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:49:21,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:21,173 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@703aca0d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:21,315 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:49:21,318 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:49:21,386 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c3cdf38, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29667d2e, org.springframework.security.web.context.SecurityContextHolderFilter@74562f15, org.springframework.security.web.header.HeaderWriterFilter@6360463, org.springframework.security.web.authentication.logout.LogoutFilter@13ea5530, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@68d9a4dd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@29db3f23, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@322ece6d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b5b5ac9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@59b47d06, org.springframework.security.web.session.ConcurrentSessionFilter@394ba4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b18d1ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d3bd9e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dad9dfb, org.springframework.security.web.access.ExceptionTranslationFilter@197cc9a1, org.springframework.security.web.access.intercept.AuthorizationFilter@31b1e3ab]
2023-07-04 20:49:21,411 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:49:21,411 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:49:21,411 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:49:21,419 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.295 seconds (process running for 6.036)
2023-07-04 20:49:21,475 INFO o.e.j.s.Server [Test worker] Stopped Server@341df52{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:21,475 INFO o.e.j.s.Server [Test worker] Shutdown Server@341df52{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:21,476 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5631baf5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:21,476 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@e158c25{/,null,STOPPED}
2023-07-04 20:49:21,476 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@43fe629a{/__admin,null,STOPPED}
2023-07-04 20:49:21,484 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:49:21,485 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1ebc4539{/__admin,null,AVAILABLE}
2023-07-04 20:49:21,485 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:49:21,485 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c21497b{/,null,AVAILABLE}
2023-07-04 20:49:21,486 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@64342f87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:21,486 INFO o.e.j.s.Server [Test worker] Started Server@56984e92{STARTING}[11.0.15,sto=1000] @6102ms
2023-07-04 20:49:21,528 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:49:21,529 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 27629 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:49:21,529 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:49:21,530 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:49:21,531 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:21,531 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4d957f5a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:21,531 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:21,531 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:49:21,531 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:21,531 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b3e2f54 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:21,671 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:49:21,719 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e86f9ba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28b11473, org.springframework.security.web.context.SecurityContextHolderFilter@419ae488, org.springframework.security.web.header.HeaderWriterFilter@39e89589, org.springframework.security.web.authentication.logout.LogoutFilter@38f2eee5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1cf9430a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@335303b6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25becefb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6d2d6e48, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@354ec60, org.springframework.security.web.session.ConcurrentSessionFilter@4b74fb68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c57fc78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ee7aa6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@504e23e7, org.springframework.security.web.access.ExceptionTranslationFilter@16b578a3, org.springframework.security.web.access.intercept.AuthorizationFilter@4ce2e026]
2023-07-04 20:49:21,742 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:49:21,742 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:49:21,742 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:49:21,751 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.264 seconds (process running for 6.368)
2023-07-04 20:49:21,769 INFO o.e.j.s.Server [Test worker] Stopped Server@56984e92{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:21,769 INFO o.e.j.s.Server [Test worker] Shutdown Server@56984e92{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:21,769 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@64342f87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:21,769 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c21497b{/,null,STOPPED}
2023-07-04 20:49:21,769 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1ebc4539{/__admin,null,STOPPED}
2023-07-04 20:49:21,803 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:49:21,912 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:49:22,114 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:49:22,115 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:49:22,129 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:49:22,151 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:49:22,734 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:49:22,807 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 78dd0fa54b9ecc18c516712b0b75d4f20acd4f87f7fd50b9912d52a458f6ecc1
2023-07-04 20:49:23,216 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.083789S
2023-07-04 20:49:23,220 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:49:23,220 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:49:23,221 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:49:23,221 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:49:23,244 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: c36d1de4d46ca026d6ec7da8cb64600b21c11ba6367ded55d283720159de3b41
2023-07-04 20:49:24,317 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.096281S
2023-07-04 20:49:24,318 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60418/test?loggerLevel=OFF)
2023-07-04 20:49:24,323 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:49:24,337 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:49:24,340 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:49:24,341 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@54db0281{/__admin,null,AVAILABLE}
2023-07-04 20:49:24,341 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:49:24,341 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@54595220{/,null,AVAILABLE}
2023-07-04 20:49:24,342 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@306e1ba2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:24,342 INFO o.e.j.s.Server [Test worker] Started Server@8ebfdbf{STARTING}[11.0.15,sto=1000] @8958ms
2023-07-04 20:49:24,374 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:49:24,377 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 27629 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:49:24,377 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:49:24,377 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:49:24,378 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:24,378 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7166a6f7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:24,378 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:24,378 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:49:24,378 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:49:24,378 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50a9fa29 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:49:24,425 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:49:24,425 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:49:24,434 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 20:49:24,459 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:49:24,518 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@61c9e646
2023-07-04 20:49:24,519 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:49:24,528 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:49:24,556 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:49:24,623 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:49:24,632 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:49:24,701 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:49:24,701 INFO l.util [Test worker] Run:                          5
2023-07-04 20:49:24,701 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:49:24,701 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:49:24,701 INFO l.util [Test worker] -------------------------------
2023-07-04 20:49:24,701 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:49:24,702 INFO l.util [Test worker] Update summary generated
2023-07-04 20:49:24,706 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:49:24,714 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:49:24,715 INFO l.command [Test worker] Command execution complete
2023-07-04 20:49:24,727 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:49:24,730 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:49:24,731 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:49:24,731 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@38019e
2023-07-04 20:49:24,752 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:49:24,776 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:49:24,778 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:49:24,778 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:49:24,779 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:49:24,779 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:49:24,780 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:49:24,780 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:49:24,781 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:49:24,781 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:49:24,781 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:49:24,781 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:49:24,793 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:49:24,793 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:49:24,857 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.513 seconds (process running for 9.473)
2023-07-04 20:49:24,953 INFO o.e.j.s.Server [Test worker] Stopped Server@8ebfdbf{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:24,953 INFO o.e.j.s.Server [Test worker] Shutdown Server@8ebfdbf{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:49:24,954 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@306e1ba2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:24,954 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@54595220{/,null,STOPPED}
2023-07-04 20:49:24,954 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@54db0281{/__admin,null,STOPPED}
2023-07-04 20:49:25,151 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:49:25,175 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 20267418cad0a03d5235fd41e9369dc228c3cc26b59b4009fce6b952e196e4ac
2023-07-04 20:49:26,215 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.063423S
2023-07-04 20:49:26,215 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60430/test?loggerLevel=OFF)
2023-07-04 20:49:26,216 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:49:26,218 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:49:26,221 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:49:26,222 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41bd7cb1{/__admin,null,AVAILABLE}
2023-07-04 20:49:26,222 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:49:26,222 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4856c017{/,null,AVAILABLE}
2023-07-04 20:49:26,222 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2bba7bd9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:49:26,222 INFO o.e.j.s.Server [Test worker] Started Server@27e3bf50{STARTING}[11.0.15,sto=1000] @10839ms
2023-07-04 20:49:26,224 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@61c9e646 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,225 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@257e54b2 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,225 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@4e25b492 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,225 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@612070f5 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,225 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@5d9dcca0 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,226 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@6a6b06a4 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,226 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@1c6c059e (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,226 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@559100ea (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,226 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@3fbcb4c1 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:26,226 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@6e22f6ba (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 20:49:56,234 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 20:49:56,240 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30006ms.
2023-07-04 20:49:56,241 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60418 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 20:49:56,245 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@2bcc4898]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30006ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60418 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 20:50:26,287 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 20:50:26,293 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30014ms.
2023-07-04 20:50:26,293 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60418 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 20:50:26,295 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@69f5a73c]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30014ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30014ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60418 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 20:50:56,336 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 20:50:56,344 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30004ms.
2023-07-04 20:50:56,344 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60418 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 20:50:56,346 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@5694b601]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30004ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30004ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60418 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 20:50:56,362 INFO o.e.j.s.Server [Test worker] Stopped Server@27e3bf50{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:50:56,362 INFO o.e.j.s.Server [Test worker] Shutdown Server@27e3bf50{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:50:56,364 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2bba7bd9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:50:56,365 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4856c017{/,null,STOPPED}
2023-07-04 20:50:56,365 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41bd7cb1{/__admin,null,STOPPED}
2023-07-04 20:50:56,997 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:50:56,999 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:50:57,000 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:50:57,016 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:50:57,017 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:51:01,513 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:51:51,627 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:51:51,675 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:51:52,171 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:51:52,180 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:51:52,183 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:51:52,183 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:51:52,186 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:52,191 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1093ms
2023-07-04 20:51:52,509 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:51:52,516 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:51:52,523 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 28006 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:51:52,523 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:51:52,523 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:51:52,535 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:52,535 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:52,535 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:52,535 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:51:52,536 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:52,536 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:52,879 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:51:52,879 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:51:52,952 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 69 ms. Found 2 JPA repository interfaces.
2023-07-04 20:51:52,961 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:51:52,961 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:51:52,972 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:51:52,972 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:51:52,972 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-04 20:51:53,121 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:51:53,171 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:51:53,192 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:51:53,333 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:51:53,472 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:51:53,524 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62cb977a
2023-07-04 20:51:53,525 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:51:53,580 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:51:53,644 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:51:53,853 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:51:53,901 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:51:53,905 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:51:53,905 INFO l.util [Test worker] Run:                          0
2023-07-04 20:51:53,905 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:51:53,905 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:51:53,905 INFO l.util [Test worker] -------------------------------
2023-07-04 20:51:53,905 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:51:53,905 INFO l.util [Test worker] Update summary generated
2023-07-04 20:51:53,907 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:51:53,909 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:51:53,909 INFO l.command [Test worker] Command execution complete
2023-07-04 20:51:53,960 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:51:53,990 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:51:53,991 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:51:54,044 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:51:54,101 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:51:54,115 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@446dc997
2023-07-04 20:51:54,213 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:51:54,533 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:51:54,573 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:51:54,733 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:51:55,039 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:51:55,080 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:51:55,347 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@346dec80, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@143f4d52, org.springframework.security.web.context.SecurityContextHolderFilter@2d550996, org.springframework.security.web.header.HeaderWriterFilter@2265792c, org.springframework.security.web.authentication.logout.LogoutFilter@3bd8032e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4dbeba8e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6b1be058, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@37d9db26, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4a5939cb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@69a245d6, org.springframework.security.web.session.ConcurrentSessionFilter@52fb37d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ad32e52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e46f5c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@226e4e59, org.springframework.security.web.access.ExceptionTranslationFilter@3342ec79, org.springframework.security.web.access.intercept.AuthorizationFilter@651a4c4]
2023-07-04 20:51:55,673 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.461 seconds (process running for 4.576)
2023-07-04 20:51:55,973 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:55,973 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:55,975 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:55,976 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:51:55,976 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:51:56,304 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:51:56,305 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3cce689c{/__admin,null,AVAILABLE}
2023-07-04 20:51:56,305 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:51:56,305 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@218cf600{/,null,AVAILABLE}
2023-07-04 20:51:56,305 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36dada39{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:56,306 INFO o.e.j.s.Server [Test worker] Started Server@ef76bed{STARTING}[11.0.15,sto=1000] @5208ms
2023-07-04 20:51:56,378 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:51:56,381 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 28006 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:51:56,381 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:51:56,381 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:51:56,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:56,383 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@675fe8de uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:56,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:56,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:51:56,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:56,383 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@420da96b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:56,584 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:51:56,588 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:51:56,672 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@751c8972, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fe15694, org.springframework.security.web.context.SecurityContextHolderFilter@63cb03ba, org.springframework.security.web.header.HeaderWriterFilter@7445d24, org.springframework.security.web.authentication.logout.LogoutFilter@7f7872c5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@60734e93, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5c21f602, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2321035, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6b9e3249, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5ca3308c, org.springframework.security.web.session.ConcurrentSessionFilter@25df80f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1717167e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@321fc4c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4e023095, org.springframework.security.web.access.ExceptionTranslationFilter@7220d10c, org.springframework.security.web.access.intercept.AuthorizationFilter@291bd851]
2023-07-04 20:51:56,711 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:51:56,711 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:51:56,712 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:51:56,764 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.456 seconds (process running for 5.667)
2023-07-04 20:51:56,925 INFO o.e.j.s.Server [Test worker] Stopped Server@ef76bed{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:56,925 INFO o.e.j.s.Server [Test worker] Shutdown Server@ef76bed{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:56,926 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36dada39{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:56,926 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@218cf600{/,null,STOPPED}
2023-07-04 20:51:56,926 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3cce689c{/__admin,null,STOPPED}
2023-07-04 20:51:56,937 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:51:56,939 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@14075727{/__admin,null,AVAILABLE}
2023-07-04 20:51:56,939 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:51:56,939 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@703aca0d{/,null,AVAILABLE}
2023-07-04 20:51:56,939 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@50f0d09c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:56,939 INFO o.e.j.s.Server [Test worker] Started Server@514b8ddc{STARTING}[11.0.15,sto=1000] @5842ms
2023-07-04 20:51:56,990 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:51:56,992 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 28006 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:51:56,992 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:51:56,992 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:51:56,993 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:56,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@23bd16f6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:56,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:56,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:51:56,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:56,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@104f223d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:57,139 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:51:57,142 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:51:57,207 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f4452bb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@aad1828, org.springframework.security.web.context.SecurityContextHolderFilter@4d5d8bdb, org.springframework.security.web.header.HeaderWriterFilter@2a805829, org.springframework.security.web.authentication.logout.LogoutFilter@79ddeff4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@77544d06, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6160ae57, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17896612, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@73f9b9a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6e5b0d3c, org.springframework.security.web.session.ConcurrentSessionFilter@4006d0cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@59a0d7fd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@71499df0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@323e4f13, org.springframework.security.web.access.ExceptionTranslationFilter@51c8a421, org.springframework.security.web.access.intercept.AuthorizationFilter@3fdefb7b]
2023-07-04 20:51:57,229 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:51:57,230 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:51:57,231 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:51:57,238 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.296 seconds (process running for 6.14)
2023-07-04 20:51:57,292 INFO o.e.j.s.Server [Test worker] Stopped Server@514b8ddc{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:57,292 INFO o.e.j.s.Server [Test worker] Shutdown Server@514b8ddc{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:57,293 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@50f0d09c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:57,293 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@703aca0d{/,null,STOPPED}
2023-07-04 20:51:57,293 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@14075727{/__admin,null,STOPPED}
2023-07-04 20:51:57,302 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:51:57,302 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@79acc359{/__admin,null,AVAILABLE}
2023-07-04 20:51:57,303 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:51:57,303 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@32b90410{/,null,AVAILABLE}
2023-07-04 20:51:57,303 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2ffe548c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:57,303 INFO o.e.j.s.Server [Test worker] Started Server@500cd576{STARTING}[11.0.15,sto=1000] @6206ms
2023-07-04 20:51:57,346 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:51:57,348 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 28006 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:51:57,348 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:51:57,348 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:51:57,349 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:57,349 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79c5a74c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:57,349 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:57,349 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:51:57,349 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:51:57,349 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f8cddfc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:51:57,495 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:51:57,538 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62ae5e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@21622e1, org.springframework.security.web.context.SecurityContextHolderFilter@13d98e0, org.springframework.security.web.header.HeaderWriterFilter@41971628, org.springframework.security.web.authentication.logout.LogoutFilter@1a9baca7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2f457fa2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@68fc0079, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19f7107e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1648577d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@ae11512, org.springframework.security.web.session.ConcurrentSessionFilter@2838f58c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c3921, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79b35952, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bb480d0, org.springframework.security.web.access.ExceptionTranslationFilter@4798d907, org.springframework.security.web.access.intercept.AuthorizationFilter@2da64c8d]
2023-07-04 20:51:57,557 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:51:57,557 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:51:57,557 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:51:57,565 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.26 seconds (process running for 6.468)
2023-07-04 20:51:57,583 INFO o.e.j.s.Server [Test worker] Stopped Server@500cd576{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:57,583 INFO o.e.j.s.Server [Test worker] Shutdown Server@500cd576{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:51:57,583 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2ffe548c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:51:57,583 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@32b90410{/,null,STOPPED}
2023-07-04 20:51:57,583 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@79acc359{/__admin,null,STOPPED}
2023-07-04 20:51:57,603 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:51:57,613 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:51:57,632 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:51:57,731 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:51:57,938 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:51:57,939 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:51:57,957 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:51:57,984 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:51:58,563 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:51:58,634 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: f6ab4259a8e5adbcfb8b7426c7255065c4e542f85fb7952b85599e30e7cc4b05
2023-07-04 20:51:58,944 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT0.984793S
2023-07-04 20:51:58,949 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:51:58,949 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:51:58,949 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:51:58,949 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:51:58,976 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: c1f547410a5f96d2cc417f6cc371ea736df6645615e43805504e772c6ecb8c48
2023-07-04 20:52:00,087 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.137411S
2023-07-04 20:52:00,088 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60484/test?loggerLevel=OFF)
2023-07-04 20:52:00,091 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:52:00,092 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ec7e41d{/__admin,null,AVAILABLE}
2023-07-04 20:52:00,093 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:52:00,093 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e12ea7f{/,null,AVAILABLE}
2023-07-04 20:52:00,093 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3d3a30e5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:52:00,093 INFO o.e.j.s.Server [Test worker] Started Server@3f36b79d{STARTING}[11.0.15,sto=1000] @8996ms
2023-07-04 20:52:00,134 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:52:00,137 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 28006 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:52:00,137 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:52:00,137 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:52:00,138 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:52:00,138 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@247dc925 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:52:00,138 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:52:00,138 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:52:00,138 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:52:00,138 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@67488c90 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:52:00,191 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:52:00,191 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:52:00,199 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-04 20:52:00,223 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:52:00,287 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1ca680b0
2023-07-04 20:52:00,288 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:52:00,300 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:52:00,336 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:52:00,396 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:52:00,404 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:52:00,464 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:52:00,464 INFO l.util [Test worker] Run:                          5
2023-07-04 20:52:00,464 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:52:00,464 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:52:00,464 INFO l.util [Test worker] -------------------------------
2023-07-04 20:52:00,464 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:52:00,464 INFO l.util [Test worker] Update summary generated
2023-07-04 20:52:00,469 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:52:00,475 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:52:00,477 INFO l.command [Test worker] Command execution complete
2023-07-04 20:52:00,485 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:52:00,488 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:52:00,488 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:52:00,489 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2b437232
2023-07-04 20:52:00,500 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:52:00,519 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:52:00,543 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:52:00,599 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.504 seconds (process running for 9.502)
2023-07-04 20:52:00,691 INFO o.e.j.s.Server [Test worker] Stopped Server@3f36b79d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:52:00,691 INFO o.e.j.s.Server [Test worker] Shutdown Server@3f36b79d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:52:00,697 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3d3a30e5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:52:00,698 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e12ea7f{/,null,STOPPED}
2023-07-04 20:52:00,698 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ec7e41d{/__admin,null,STOPPED}
2023-07-04 20:52:00,700 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:52:00,702 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:52:00,702 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:52:00,742 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 418a6097b49f2d8f9c13f1d0e0a3a70852e396f68e47d78f6a6620150623277a
2023-07-04 20:52:01,808 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.105139S
2023-07-04 20:52:01,808 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60496/test?loggerLevel=OFF)
2023-07-04 20:52:01,810 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:52:01,811 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2c7221d1{/__admin,null,AVAILABLE}
2023-07-04 20:52:01,811 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:52:01,811 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2b5509e2{/,null,AVAILABLE}
2023-07-04 20:52:01,811 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3369366d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:52:01,811 INFO o.e.j.s.Server [Test worker] Started Server@64aa224d{STARTING}[11.0.15,sto=1000] @10714ms
2023-07-04 20:52:01,843 INFO o.e.j.s.Server [Test worker] Stopped Server@64aa224d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:52:01,843 INFO o.e.j.s.Server [Test worker] Shutdown Server@64aa224d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:52:01,843 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3369366d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:52:01,843 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2b5509e2{/,null,STOPPED}
2023-07-04 20:52:01,844 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2c7221d1{/__admin,null,STOPPED}
2023-07-04 20:52:01,981 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:52:01,982 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:52:01,983 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:52:01,991 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:52:01,991 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:52:01,991 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:52:45,646 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:52:46,030 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:52:48,414 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:52:48,454 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5382184b{/__admin,null,AVAILABLE}
2023-07-04 20:52:48,470 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:52:48,470 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31e739bf{/,null,AVAILABLE}
2023-07-04 20:52:48,488 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7a4d582c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:52:48,507 INFO o.e.j.s.Server [Test worker] Started Server@7c241a9f{STARTING}[11.0.15,sto=1000] @7127ms
2023-07-04 20:52:50,899 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:52:50,940 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:52:50,979 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 28163 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:52:50,979 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:52:50,980 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:52:51,169 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:52:51,171 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7ef41ca2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:52:51,172 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:52:51,172 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:52:51,172 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:52:51,172 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6164e137 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:52:53,825 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:52:53,828 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:52:54,144 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 301 ms. Found 2 JPA repository interfaces.
2023-07-04 20:52:54,215 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:52:54,217 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:52:54,253 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:52:54,254 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:52:54,254 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-07-04 20:52:55,132 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:52:55,625 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:52:55,728 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:52:57,836 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:52:58,027 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@f3e6876
2023-07-04 20:52:58,030 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:52:58,281 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:52:58,592 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:52:59,304 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:52:59,471 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:52:59,503 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:52:59,504 INFO l.util [Test worker] Run:                          0
2023-07-04 20:52:59,505 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:52:59,505 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:52:59,505 INFO l.util [Test worker] -------------------------------
2023-07-04 20:52:59,505 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:52:59,506 INFO l.util [Test worker] Update summary generated
2023-07-04 20:52:59,513 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:52:59,527 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:52:59,527 INFO l.command [Test worker] Command execution complete
2023-07-04 20:52:59,798 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:52:59,891 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:52:59,894 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:53:00,125 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:53:00,363 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:53:00,433 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@54d5500e
2023-07-04 20:53:00,863 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:53:02,239 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:53:02,374 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:53:03,052 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:53:04,562 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:53:04,780 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:53:06,120 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55b12c21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5762dc14, org.springframework.security.web.context.SecurityContextHolderFilter@3c31169f, org.springframework.security.web.header.HeaderWriterFilter@30c9ab3f, org.springframework.security.web.authentication.logout.LogoutFilter@463aa3da, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@270741c2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5c432e40, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@289d98a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@172194b9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@30ba29cf, org.springframework.security.web.session.ConcurrentSessionFilter@3ad9012f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b6bf8c1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@717b5af1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@552da55b, org.springframework.security.web.access.ExceptionTranslationFilter@22bd3618, org.springframework.security.web.access.intercept.AuthorizationFilter@643afff3]
2023-07-04 20:53:07,790 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 19.132 seconds (process running for 26.411)
2023-07-04 20:53:08,827 INFO o.e.j.s.Server [Test worker] Stopped Server@7c241a9f{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:08,830 INFO o.e.j.s.Server [Test worker] Shutdown Server@7c241a9f{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:08,843 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7a4d582c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:08,854 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@31e739bf{/,null,STOPPED}
2023-07-04 20:53:08,856 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5382184b{/__admin,null,STOPPED}
2023-07-04 20:53:10,683 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:53:10,690 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@352f9163{/__admin,null,AVAILABLE}
2023-07-04 20:53:10,693 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:53:10,693 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@10ed3435{/,null,AVAILABLE}
2023-07-04 20:53:10,694 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4d0f58a9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:10,696 INFO o.e.j.s.Server [Test worker] Started Server@11b023ba{STARTING}[11.0.15,sto=1000] @29317ms
2023-07-04 20:53:11,004 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:53:11,012 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 28163 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:53:11,012 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:53:11,013 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:53:11,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:11,028 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@70d577e9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:11,028 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:11,028 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:53:11,028 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:11,028 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@508835bc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:11,838 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:53:11,863 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:53:12,192 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fe03311, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@549bae75, org.springframework.security.web.context.SecurityContextHolderFilter@7fdfa8c2, org.springframework.security.web.header.HeaderWriterFilter@7c26f301, org.springframework.security.web.authentication.logout.LogoutFilter@171fd7e5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@343047c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6a0a5b0e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@291be813, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3bb27579, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6cf14dc3, org.springframework.security.web.session.ConcurrentSessionFilter@3c7da546, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21c1fb2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6a34aaec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a5c6b3e, org.springframework.security.web.access.ExceptionTranslationFilter@78e4c48b, org.springframework.security.web.access.intercept.AuthorizationFilter@7082d3e2]
2023-07-04 20:53:12,329 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:53:12,330 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:53:12,331 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:53:12,507 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 1.803 seconds (process running for 31.128)
2023-07-04 20:53:13,092 INFO o.e.j.s.Server [Test worker] Stopped Server@11b023ba{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:13,092 INFO o.e.j.s.Server [Test worker] Shutdown Server@11b023ba{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:13,093 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4d0f58a9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:13,095 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@10ed3435{/,null,STOPPED}
2023-07-04 20:53:13,095 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@352f9163{/__admin,null,STOPPED}
2023-07-04 20:53:13,131 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:53:13,133 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4b99dcc8{/__admin,null,AVAILABLE}
2023-07-04 20:53:13,134 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:53:13,134 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f448d3d{/,null,AVAILABLE}
2023-07-04 20:53:13,134 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4798d907{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:13,135 INFO o.e.j.s.Server [Test worker] Started Server@3f504d20{STARTING}[11.0.15,sto=1000] @31756ms
2023-07-04 20:53:13,255 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:53:13,258 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 28163 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:53:13,259 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:53:13,259 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:53:13,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:13,262 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@34545f5f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:13,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:13,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:53:13,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:13,262 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4d168798 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:13,703 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:53:13,717 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:53:13,884 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6434c4c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@786a411b, org.springframework.security.web.context.SecurityContextHolderFilter@3a6aa97f, org.springframework.security.web.header.HeaderWriterFilter@362e225, org.springframework.security.web.authentication.logout.LogoutFilter@264f5eda, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@695ea38f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@353b89f0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34480422, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@33deeb18, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@11f723ef, org.springframework.security.web.session.ConcurrentSessionFilter@518b3e15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f4aade8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bad01ee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65ea5ce7, org.springframework.security.web.access.ExceptionTranslationFilter@2306d66c, org.springframework.security.web.access.intercept.AuthorizationFilter@31fc2a08]
2023-07-04 20:53:13,932 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:53:13,932 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:53:13,933 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:53:13,944 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.805 seconds (process running for 32.565)
2023-07-04 20:53:14,178 INFO o.e.j.s.Server [Test worker] Stopped Server@3f504d20{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:14,179 INFO o.e.j.s.Server [Test worker] Shutdown Server@3f504d20{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:14,180 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4798d907{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:14,180 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f448d3d{/,null,STOPPED}
2023-07-04 20:53:14,181 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4b99dcc8{/__admin,null,STOPPED}
2023-07-04 20:53:14,202 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:53:14,204 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4b5d1d0c{/__admin,null,AVAILABLE}
2023-07-04 20:53:14,205 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:53:14,205 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@9a86873{/,null,AVAILABLE}
2023-07-04 20:53:14,205 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@50f7521d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:14,205 INFO o.e.j.s.Server [Test worker] Started Server@537bdff0{STARTING}[11.0.15,sto=1000] @32826ms
2023-07-04 20:53:14,319 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:53:14,324 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 28163 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:53:14,324 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:53:14,324 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:53:14,329 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:14,329 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3620d182 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:14,329 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:14,329 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:53:14,329 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:14,329 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@64a12381 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:14,688 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:53:14,790 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2207bca1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66946979, org.springframework.security.web.context.SecurityContextHolderFilter@24112ec4, org.springframework.security.web.header.HeaderWriterFilter@3ff906e9, org.springframework.security.web.authentication.logout.LogoutFilter@50f80fd8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7b67e60e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bf1b075, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1d430022, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@13a91c02, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@800fc6, org.springframework.security.web.session.ConcurrentSessionFilter@5e4a068f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a6082b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d591f58, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5475de4, org.springframework.security.web.access.ExceptionTranslationFilter@4e8007e2, org.springframework.security.web.access.intercept.AuthorizationFilter@5e1c2cff]
2023-07-04 20:53:14,829 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:53:14,829 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:53:14,829 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:53:14,841 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.633 seconds (process running for 33.462)
2023-07-04 20:53:14,897 INFO o.e.j.s.Server [Test worker] Stopped Server@537bdff0{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:14,897 INFO o.e.j.s.Server [Test worker] Shutdown Server@537bdff0{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:14,898 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@50f7521d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:14,899 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@9a86873{/,null,STOPPED}
2023-07-04 20:53:14,899 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4b5d1d0c{/__admin,null,STOPPED}
2023-07-04 20:53:15,021 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:53:15,057 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:53:15,161 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:53:15,688 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:53:16,353 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:53:16,371 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:53:16,441 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:53:16,573 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:53:17,303 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:53:17,660 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 580fafb5f1693523e0e462f26b22baf841a613fcf4c7666cfd02063793d6be5f
2023-07-04 20:53:18,481 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.00427S
2023-07-04 20:53:18,496 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:53:18,496 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:53:18,498 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:53:18,501 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:53:18,535 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f017cb2ac21030bd6b2aa42f18135e4cec4f2c06df5b8a74c8c47856545167d3
2023-07-04 20:53:19,682 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.182098S
2023-07-04 20:53:19,688 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60527/test?loggerLevel=OFF)
2023-07-04 20:53:19,746 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:53:19,753 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6e9f87f8{/__admin,null,AVAILABLE}
2023-07-04 20:53:19,755 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:53:19,756 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57c175f0{/,null,AVAILABLE}
2023-07-04 20:53:19,757 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5988e435{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:19,761 INFO o.e.j.s.Server [Test worker] Started Server@3cb24241{STARTING}[11.0.15,sto=1000] @38382ms
2023-07-04 20:53:20,080 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:53:20,091 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 28163 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:53:20,091 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:53:20,091 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:53:20,100 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:20,100 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@647499bb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:20,100 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:20,100 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:53:20,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:53:20,101 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@615ef430 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:53:20,401 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:53:20,401 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:53:20,434 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 32 ms. Found 2 JPA repository interfaces.
2023-07-04 20:53:20,608 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:53:20,812 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6d9dba8d
2023-07-04 20:53:20,814 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:53:20,839 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:53:20,992 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:53:21,227 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:53:21,241 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:53:21,457 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:53:21,458 INFO l.util [Test worker] Run:                          5
2023-07-04 20:53:21,458 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:53:21,458 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:53:21,458 INFO l.util [Test worker] -------------------------------
2023-07-04 20:53:21,458 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:53:21,460 INFO l.util [Test worker] Update summary generated
2023-07-04 20:53:21,474 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:53:21,492 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:53:21,494 INFO l.command [Test worker] Command execution complete
2023-07-04 20:53:21,545 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:53:21,566 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:53:21,567 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:53:21,570 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@58ff0c7b
2023-07-04 20:53:21,611 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:53:21,755 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:53:21,823 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:53:22,008 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 2.211 seconds (process running for 40.629)
2023-07-04 20:53:22,457 INFO o.e.j.s.Server [Test worker] Stopped Server@3cb24241{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:22,458 INFO o.e.j.s.Server [Test worker] Shutdown Server@3cb24241{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:22,459 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5988e435{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:22,464 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57c175f0{/,null,STOPPED}
2023-07-04 20:53:22,464 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6e9f87f8{/__admin,null,STOPPED}
2023-07-04 20:53:22,498 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:53:22,512 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:53:22,516 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:53:22,604 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 5811f332d45b536b9c7da6ba5cc544784dbf772eab6d57674563de7bfd0b2de8
2023-07-04 20:53:23,914 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.398627S
2023-07-04 20:53:23,915 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60539/test?loggerLevel=OFF)
2023-07-04 20:53:23,957 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:53:23,964 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1bc3ff34{/__admin,null,AVAILABLE}
2023-07-04 20:53:23,964 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:53:23,964 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@71ce1174{/,null,AVAILABLE}
2023-07-04 20:53:23,966 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@59139fb7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:23,967 INFO o.e.j.s.Server [Test worker] Started Server@189a2927{STARTING}[11.0.15,sto=1000] @42588ms
2023-07-04 20:53:24,232 INFO o.e.j.s.Server [Test worker] Stopped Server@189a2927{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:24,233 INFO o.e.j.s.Server [Test worker] Shutdown Server@189a2927{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:53:24,239 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@59139fb7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:53:24,240 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@71ce1174{/,null,STOPPED}
2023-07-04 20:53:24,243 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1bc3ff34{/__admin,null,STOPPED}
2023-07-04 20:53:25,348 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-07-04 20:53:25,370 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:53:25,378 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:53:25,384 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:53:25,445 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:53:25,448 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:53:25,452 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:54:25,056 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:54:25,535 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:54:25,798 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:54:26,402 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:54:27,091 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:54:27,103 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:54:27,156 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:54:27,270 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:54:27,915 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:54:28,179 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 5b37132ddc34f34995e0cbf7a4586868a6a2ce8c859fdba3c100bf7492f65ec8
2023-07-04 20:54:29,071 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.898202S
2023-07-04 20:54:29,089 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:54:29,089 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:54:29,091 INFO o.t.DockerClientFactory [Test worker] ✔︎ Docker server version should be at least 1.6.0
2023-07-04 20:54:29,093 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:54:29,139 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 15c9c015f723cdd20303aa8dadc53b26c01271b36bdf24239b26fc1994bec236
2023-07-04 20:54:30,231 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.137588S
2023-07-04 20:54:30,239 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60546/test?loggerLevel=OFF)
2023-07-04 20:54:32,390 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:54:32,432 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@e881e46{/__admin,null,AVAILABLE}
2023-07-04 20:54:32,452 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:54:32,452 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58aa5c94{/,null,AVAILABLE}
2023-07-04 20:54:32,466 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@50cbcca7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:54:32,485 INFO o.e.j.s.Server [Test worker] Started Server@f9b8129{STARTING}[11.0.15,sto=1000] @10625ms
2023-07-04 20:54:34,510 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:54:34,607 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:54:34,639 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 28418 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:54:34,640 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:54:34,640 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:54:34,668 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:34,670 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3cb49121 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:54:34,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:34,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:54:34,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:34,670 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6edb1e9c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:54:36,077 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:54:36,081 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:54:36,372 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 277 ms. Found 2 JPA repository interfaces.
2023-07-04 20:54:37,207 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:54:37,533 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@36696821
2023-07-04 20:54:37,536 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:54:37,999 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:54:38,408 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:54:39,227 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:54:39,249 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:54:39,448 INFO l.command [Test worker] Using deploymentId: 8493279261
2023-07-04 20:54:39,478 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:54:39,600 INFO l.changelog [Test worker] Table comment created
2023-07-04 20:54:39,604 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 32ms
2023-07-04 20:54:39,633 INFO l.changelog [Test worker] Table news created
2023-07-04 20:54:39,634 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 14ms
2023-07-04 20:54:39,653 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 20:54:39,654 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 13ms
2023-07-04 20:54:39,664 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,668 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,671 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,674 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,678 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,683 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,687 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,695 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,701 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,705 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,710 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,712 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,715 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,729 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,732 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,735 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,737 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,739 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,741 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,750 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 20:54:39,752 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 92ms
2023-07-04 20:54:39,780 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,784 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,786 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,788 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,791 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,796 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,798 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,801 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,804 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,808 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,812 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,817 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,820 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,822 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,823 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,825 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,830 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,833 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,835 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,837 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,838 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,841 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,847 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,852 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,854 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,856 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,858 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,859 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,863 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,865 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,867 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,868 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,871 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,873 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,875 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,876 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,878 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,881 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,883 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,885 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 20:54:39,886 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 117ms
2023-07-04 20:54:39,899 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:54:39,901 INFO l.util [Test worker] Run:                          5
2023-07-04 20:54:39,902 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:54:39,902 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:54:39,902 INFO l.util [Test worker] -------------------------------
2023-07-04 20:54:39,902 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:54:39,904 INFO l.util [Test worker] Update summary generated
2023-07-04 20:54:39,905 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:54:39,911 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:54:39,928 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:54:39,930 INFO l.command [Test worker] Command execution complete
2023-07-04 20:54:40,194 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:54:40,295 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:54:40,299 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:54:40,609 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:54:41,014 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:54:41,138 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2b3fd4d2
2023-07-04 20:54:41,568 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:54:42,650 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:54:42,657 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:54:43,231 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:54:44,352 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 11.66 seconds (process running for 22.493)
2023-07-04 20:54:46,079 INFO o.e.j.s.Server [Test worker] Stopped Server@f9b8129{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:54:46,085 INFO o.e.j.s.Server [Test worker] Shutdown Server@f9b8129{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:54:46,096 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@50cbcca7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:54:46,099 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58aa5c94{/,null,STOPPED}
2023-07-04 20:54:46,100 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@e881e46{/__admin,null,STOPPED}
2023-07-04 20:54:46,118 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:54:46,144 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:54:46,149 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:54:46,284 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 02c2463973d01ef5d44a16cf0989e853f2e66666053921cf1e672f40cfee6a5a
2023-07-04 20:54:47,511 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.364097S
2023-07-04 20:54:47,512 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60558/test?loggerLevel=OFF)
2023-07-04 20:54:47,538 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:54:47,543 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@761bac58{/__admin,null,AVAILABLE}
2023-07-04 20:54:47,544 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:54:47,544 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@354e6aaa{/,null,AVAILABLE}
2023-07-04 20:54:47,545 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4c9a434f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:54:47,547 INFO o.e.j.s.Server [Test worker] Started Server@61938fae{STARTING}[11.0.15,sto=1000] @25688ms
2023-07-04 20:54:47,887 INFO o.e.j.s.Server [Test worker] Stopped Server@61938fae{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:54:47,887 INFO o.e.j.s.Server [Test worker] Shutdown Server@61938fae{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:54:47,889 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4c9a434f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:54:47,890 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@354e6aaa{/,null,STOPPED}
2023-07-04 20:54:47,890 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@761bac58{/__admin,null,STOPPED}
2023-07-04 20:54:47,906 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:54:47,943 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:54:47,972 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:54:47,974 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d388611{/__admin,null,AVAILABLE}
2023-07-04 20:54:47,975 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:54:47,975 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6371c6ee{/,null,AVAILABLE}
2023-07-04 20:54:47,976 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@43bc1d67{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:54:47,977 INFO o.e.j.s.Server [Test worker] Started Server@4a5c29dc{STARTING}[11.0.15,sto=1000] @26118ms
2023-07-04 20:54:48,331 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:54:48,348 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 28418 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:54:48,349 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:54:48,349 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:54:48,357 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:48,357 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@198fb504 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:54:48,357 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:48,357 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:54:48,357 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:48,357 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4a9f02f4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:54:49,585 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:54:49,585 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:54:49,616 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-07-04 20:54:49,647 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:54:49,650 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:54:49,681 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:54:49,681 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:54:49,681 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-07-04 20:54:49,961 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:54:50,086 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:54:50,164 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:54:51,836 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:54:51,895 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@136e1533
2023-07-04 20:54:51,899 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:54:51,927 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:54:52,070 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:54:52,640 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:54:52,735 INFO l.command [Test worker] Using deploymentId: 8493292668
2023-07-04 20:54:52,756 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:54:52,758 INFO l.util [Test worker] Run:                          0
2023-07-04 20:54:52,759 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:54:52,759 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:54:52,759 INFO l.util [Test worker] -------------------------------
2023-07-04 20:54:52,759 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:54:52,762 INFO l.util [Test worker] Update summary generated
2023-07-04 20:54:52,763 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 20:54:52,771 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:54:52,794 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:54:52,796 INFO l.command [Test worker] Command execution complete
2023-07-04 20:54:53,045 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:54:53,077 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:54:53,079 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:54:53,083 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1e7c3465
2023-07-04 20:54:53,138 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:54:53,416 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:54:53,418 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:54:54,821 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:54:54,979 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:54:56,189 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15b078f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37c3c6ab, org.springframework.security.web.context.SecurityContextHolderFilter@4bf7b385, org.springframework.security.web.header.HeaderWriterFilter@8f5dcbc, org.springframework.security.web.authentication.logout.LogoutFilter@63ab7cfb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@fe618cc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@33963f9a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@300f34aa, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@101c3833, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@47671179, org.springframework.security.web.session.ConcurrentSessionFilter@11d7d941, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ef93968, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@708f0dd6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@603af797, org.springframework.security.web.access.ExceptionTranslationFilter@5dbe891a, org.springframework.security.web.access.intercept.AuthorizationFilter@308254c3]
2023-07-04 20:54:57,500 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 9.493 seconds (process running for 35.642)
2023-07-04 20:54:57,550 INFO o.e.j.s.Server [Test worker] Stopped Server@4a5c29dc{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:54:57,550 INFO o.e.j.s.Server [Test worker] Shutdown Server@4a5c29dc{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:54:57,552 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@43bc1d67{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:54:57,553 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6371c6ee{/,null,STOPPED}
2023-07-04 20:54:57,554 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d388611{/__admin,null,STOPPED}
2023-07-04 20:54:59,123 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:54:59,149 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@69fb4b2{/__admin,null,AVAILABLE}
2023-07-04 20:54:59,151 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:54:59,151 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@47376146{/,null,AVAILABLE}
2023-07-04 20:54:59,159 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@34fb622b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:54:59,162 INFO o.e.j.s.Server [Test worker] Started Server@26984ff0{STARTING}[11.0.15,sto=1000] @37304ms
2023-07-04 20:54:59,635 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:54:59,661 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 28418 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:54:59,662 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:54:59,662 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:54:59,686 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:59,686 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2cfbb062 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:54:59,686 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:59,687 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:54:59,687 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:54:59,687 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@47f16e92 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:55:00,818 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:55:00,847 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:55:01,192 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@433cec3b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c5c64d6, org.springframework.security.web.context.SecurityContextHolderFilter@5c4d43ee, org.springframework.security.web.header.HeaderWriterFilter@131fafba, org.springframework.security.web.authentication.logout.LogoutFilter@3a6a0909, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4227a705, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@286fcc09, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4675f5b0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6f93ae4c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6a05f8d0, org.springframework.security.web.session.ConcurrentSessionFilter@2021b349, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c09eeea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4285e6ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b44855, org.springframework.security.web.access.ExceptionTranslationFilter@77e0ea9f, org.springframework.security.web.access.intercept.AuthorizationFilter@25240d08]
2023-07-04 20:55:01,417 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:55:01,417 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:55:01,419 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:55:01,631 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.455 seconds (process running for 39.773)
2023-07-04 20:55:02,345 INFO o.e.j.s.Server [Test worker] Stopped Server@26984ff0{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:55:02,345 INFO o.e.j.s.Server [Test worker] Shutdown Server@26984ff0{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:55:02,347 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@34fb622b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:55:02,348 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@47376146{/,null,STOPPED}
2023-07-04 20:55:02,348 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@69fb4b2{/__admin,null,STOPPED}
2023-07-04 20:55:02,389 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:55:02,392 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7b386293{/__admin,null,AVAILABLE}
2023-07-04 20:55:02,393 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:55:02,393 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6228deac{/,null,AVAILABLE}
2023-07-04 20:55:02,393 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@218c547f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:55:02,394 INFO o.e.j.s.Server [Test worker] Started Server@22740b64{STARTING}[11.0.15,sto=1000] @40535ms
2023-07-04 20:55:02,547 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:55:02,558 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 28418 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:55:02,558 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:55:02,558 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:55:02,562 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:55:02,562 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@287f0369 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:55:02,562 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:55:02,562 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:55:02,562 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:55:02,562 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@78863bf8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:55:02,952 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:55:02,961 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:55:03,154 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47f644f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@503f9a4c, org.springframework.security.web.context.SecurityContextHolderFilter@237bf540, org.springframework.security.web.header.HeaderWriterFilter@4010aa86, org.springframework.security.web.authentication.logout.LogoutFilter@7a55eed5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@775c1043, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@22aa6b3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@61e4f1cb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@55faaed1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@21bdd0c3, org.springframework.security.web.session.ConcurrentSessionFilter@25b995d6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@79854a9e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c848bb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67911796, org.springframework.security.web.access.ExceptionTranslationFilter@1559ffbe, org.springframework.security.web.access.intercept.AuthorizationFilter@62989583]
2023-07-04 20:55:03,194 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:55:03,195 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:55:03,195 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:55:03,205 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.801 seconds (process running for 41.347)
2023-07-04 20:55:03,431 INFO o.e.j.s.Server [Test worker] Stopped Server@22740b64{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:55:03,431 INFO o.e.j.s.Server [Test worker] Shutdown Server@22740b64{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:55:03,434 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@218c547f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:55:03,434 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6228deac{/,null,STOPPED}
2023-07-04 20:55:03,435 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7b386293{/__admin,null,STOPPED}
2023-07-04 20:55:03,460 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-04 20:55:03,463 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3c7045f5{/__admin,null,AVAILABLE}
2023-07-04 20:55:03,463 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:55:03,463 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3daad86d{/,null,AVAILABLE}
2023-07-04 20:55:03,465 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1feb4e09{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:55:03,465 INFO o.e.j.s.Server [Test worker] Started Server@6246a249{STARTING}[11.0.15,sto=1000] @41607ms
2023-07-04 20:55:03,587 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:55:03,600 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 28418 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:55:03,600 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:55:03,600 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:55:03,605 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:55:03,605 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71ff6f39 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:55:03,605 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:55:03,605 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:55:03,606 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:55:03,606 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4ef0df44 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:55:04,244 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:55:04,387 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1325cc1d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b0f3b5, org.springframework.security.web.context.SecurityContextHolderFilter@3f867060, org.springframework.security.web.header.HeaderWriterFilter@168fe53c, org.springframework.security.web.authentication.logout.LogoutFilter@101bd174, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@16508af6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@588e6939, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70fa9afe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4923426f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2a5c851b, org.springframework.security.web.session.ConcurrentSessionFilter@25424432, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17385b89, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ef7ea57, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ed5d7c4, org.springframework.security.web.access.ExceptionTranslationFilter@310332b3, org.springframework.security.web.access.intercept.AuthorizationFilter@29c2418]
2023-07-04 20:55:04,433 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:55:04,434 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:55:04,434 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:55:04,448 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.976 seconds (process running for 42.59)
2023-07-04 20:55:04,536 INFO o.e.j.s.Server [Test worker] Stopped Server@6246a249{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:55:04,538 INFO o.e.j.s.Server [Test worker] Shutdown Server@6246a249{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:55:04,541 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1feb4e09{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:55:04,541 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3daad86d{/,null,STOPPED}
2023-07-04 20:55:04,542 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3c7045f5{/__admin,null,STOPPED}
2023-07-04 20:55:05,086 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:55:05,092 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:55:05,099 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:55:05,114 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-07-04 20:55:05,117 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:55:05,118 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:55:05,126 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:56:11,908 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:56:11,957 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:56:12,323 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:56:12,335 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:56:12,338 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:56:12,339 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:56:12,342 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:12,347 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @971ms
2023-07-04 20:56:12,671 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:56:12,677 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:56:12,684 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 28795 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:56:12,684 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:56:12,684 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:56:12,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:12,699 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:12,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:12,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:56:12,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:12,699 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:13,049 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:56:13,050 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:56:13,118 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 2 JPA repository interfaces.
2023-07-04 20:56:13,128 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:56:13,129 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:56:13,137 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:56:13,137 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:56:13,137 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 20:56:13,286 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:56:13,336 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:56:13,356 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:56:13,496 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:56:13,637 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:56:13,692 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@293ba26c
2023-07-04 20:56:13,693 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:56:13,749 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:56:13,814 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:56:14,032 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:56:14,078 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:56:14,082 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:56:14,082 INFO l.util [Test worker] Run:                          0
2023-07-04 20:56:14,082 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:56:14,082 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:56:14,082 INFO l.util [Test worker] -------------------------------
2023-07-04 20:56:14,082 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:56:14,083 INFO l.util [Test worker] Update summary generated
2023-07-04 20:56:14,084 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:56:14,087 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:56:14,088 INFO l.command [Test worker] Command execution complete
2023-07-04 20:56:14,127 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:56:14,160 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:56:14,162 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:56:14,213 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:56:14,267 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:56:14,281 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6b862f17
2023-07-04 20:56:14,393 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:56:14,711 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:56:14,712 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:56:14,867 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:56:15,175 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:56:15,225 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:56:15,494 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@35bd146b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@458c58e3, org.springframework.security.web.context.SecurityContextHolderFilter@c3745ae, org.springframework.security.web.header.HeaderWriterFilter@f4352c6, org.springframework.security.web.authentication.logout.LogoutFilter@564c0e38, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@173158e8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bc93bcb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7c698549, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@45f854e9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3cb1a148, org.springframework.security.web.session.ConcurrentSessionFilter@1962f55, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47dcb3bd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66716c60, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6910e725, org.springframework.security.web.access.ExceptionTranslationFilter@652e4bb6, org.springframework.security.web.access.intercept.AuthorizationFilter@78682201]
2023-07-04 20:56:15,831 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.462 seconds (process running for 4.455)
2023-07-04 20:56:16,137 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:16,138 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:16,139 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:16,140 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:56:16,140 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:56:16,477 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:56:16,478 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@785e65cd{/__admin,null,AVAILABLE}
2023-07-04 20:56:16,479 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:56:16,479 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@27d74f45{/,null,AVAILABLE}
2023-07-04 20:56:16,479 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@604201a0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:16,479 INFO o.e.j.s.Server [Test worker] Started Server@683cd50d{STARTING}[11.0.15,sto=1000] @5103ms
2023-07-04 20:56:16,561 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:56:16,563 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 28795 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:56:16,563 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:56:16,563 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:56:16,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:16,566 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4ae35819 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:16,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:16,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:56:16,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:16,566 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@d1b5363 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:16,816 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:56:16,820 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:56:16,915 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42690139, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c19c305, org.springframework.security.web.context.SecurityContextHolderFilter@21ebf946, org.springframework.security.web.header.HeaderWriterFilter@3399d3b0, org.springframework.security.web.authentication.logout.LogoutFilter@79a9a3a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2c4e5c05, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@18ce4e9d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3155bf8c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6433611f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7649dcbd, org.springframework.security.web.session.ConcurrentSessionFilter@4caf1d14, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d39c3fa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@504081be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6afcb427, org.springframework.security.web.access.ExceptionTranslationFilter@671d7871, org.springframework.security.web.access.intercept.AuthorizationFilter@52742778]
2023-07-04 20:56:16,961 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:56:16,961 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:56:16,962 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:56:17,025 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.544 seconds (process running for 5.649)
2023-07-04 20:56:17,203 INFO o.e.j.s.Server [Test worker] Stopped Server@683cd50d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:17,203 INFO o.e.j.s.Server [Test worker] Shutdown Server@683cd50d{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:17,204 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@604201a0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:17,204 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@27d74f45{/,null,STOPPED}
2023-07-04 20:56:17,204 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@785e65cd{/__admin,null,STOPPED}
2023-07-04 20:56:17,216 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:56:17,217 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@49b71061{/__admin,null,AVAILABLE}
2023-07-04 20:56:17,217 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:56:17,217 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@20b6b918{/,null,AVAILABLE}
2023-07-04 20:56:17,217 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@583739e2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:17,217 INFO o.e.j.s.Server [Test worker] Started Server@6ee7e602{STARTING}[11.0.15,sto=1000] @5841ms
2023-07-04 20:56:17,265 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:56:17,267 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 28795 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:56:17,267 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:56:17,267 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:56:17,268 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:17,268 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1936fe56 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:17,268 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:17,268 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:56:17,268 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:17,268 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43b551ce uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:17,417 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:56:17,419 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:56:17,496 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@316b0194, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@169b16dd, org.springframework.security.web.context.SecurityContextHolderFilter@2412009d, org.springframework.security.web.header.HeaderWriterFilter@5cd16573, org.springframework.security.web.authentication.logout.LogoutFilter@3c30a41b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@35e246b2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@c4b2c69, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70c3b62b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d932614, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@43664803, org.springframework.security.web.session.ConcurrentSessionFilter@251fa32c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12e0fe90, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45cdfb42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e79dcaa, org.springframework.security.web.access.ExceptionTranslationFilter@3b71b6b1, org.springframework.security.web.access.intercept.AuthorizationFilter@122a6877]
2023-07-04 20:56:17,521 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:56:17,521 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:56:17,521 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:56:17,529 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.31 seconds (process running for 6.153)
2023-07-04 20:56:17,584 INFO o.e.j.s.Server [Test worker] Stopped Server@6ee7e602{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:17,584 INFO o.e.j.s.Server [Test worker] Shutdown Server@6ee7e602{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:17,585 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@583739e2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:17,585 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@20b6b918{/,null,STOPPED}
2023-07-04 20:56:17,586 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@49b71061{/__admin,null,STOPPED}
2023-07-04 20:56:17,593 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:56:17,594 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7357a52e{/__admin,null,AVAILABLE}
2023-07-04 20:56:17,595 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:56:17,595 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15e422e{/,null,AVAILABLE}
2023-07-04 20:56:17,595 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@50adedaa{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:17,595 INFO o.e.j.s.Server [Test worker] Started Server@7c9e0b8b{STARTING}[11.0.15,sto=1000] @6219ms
2023-07-04 20:56:17,645 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:56:17,647 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 28795 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:56:17,647 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:56:17,647 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:56:17,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:17,649 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58735597 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:17,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:17,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:56:17,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:17,649 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ca0ccb6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:17,803 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:56:17,851 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f2dd0c9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@593bda0e, org.springframework.security.web.context.SecurityContextHolderFilter@9d91005, org.springframework.security.web.header.HeaderWriterFilter@6d3f3553, org.springframework.security.web.authentication.logout.LogoutFilter@10047379, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@265a074d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@15f63744, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3ae62308, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7896b4ae, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d538a7a, org.springframework.security.web.session.ConcurrentSessionFilter@43b97de1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64c9bd44, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@70c88923, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@762618bb, org.springframework.security.web.access.ExceptionTranslationFilter@693089ab, org.springframework.security.web.access.intercept.AuthorizationFilter@694f8227]
2023-07-04 20:56:17,873 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:56:17,873 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:56:17,874 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:56:17,883 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.286 seconds (process running for 6.507)
2023-07-04 20:56:17,902 INFO o.e.j.s.Server [Test worker] Stopped Server@7c9e0b8b{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:17,902 INFO o.e.j.s.Server [Test worker] Shutdown Server@7c9e0b8b{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:17,902 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@50adedaa{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:17,903 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15e422e{/,null,STOPPED}
2023-07-04 20:56:17,903 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7357a52e{/__admin,null,STOPPED}
2023-07-04 20:56:17,925 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:56:17,940 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:56:17,960 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:56:18,068 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:56:18,284 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:56:18,285 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:56:18,309 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:56:18,331 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:56:19,221 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:56:19,403 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: e96793caf2079ff897fecdc0aca6e8f9b3f1a1f3ece409f78e66e6af01220698
2023-07-04 20:56:19,991 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.679313S
2023-07-04 20:56:20,011 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:56:20,011 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:56:20,012 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:56:20,012 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:56:20,053 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a9eb1138df5e95c46746306936a2b668d4ec591ee09bdc0cd7a53ba5a0780905
2023-07-04 20:56:21,137 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.125473S
2023-07-04 20:56:21,138 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60595/test?loggerLevel=OFF)
2023-07-04 20:56:21,142 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:56:21,143 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@a3b336a{/__admin,null,AVAILABLE}
2023-07-04 20:56:21,143 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:56:21,143 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@262d6ef0{/,null,AVAILABLE}
2023-07-04 20:56:21,144 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5fa957c2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:21,144 INFO o.e.j.s.Server [Test worker] Started Server@a58f9a6{STARTING}[11.0.15,sto=1000] @9768ms
2023-07-04 20:56:21,180 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:56:21,182 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 28795 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:56:21,182 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:56:21,182 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:56:21,184 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:21,184 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2ed250fa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:21,184 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:21,184 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:56:21,184 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:56:21,184 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@49e666e2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:56:21,245 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:56:21,245 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:56:21,255 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2023-07-04 20:56:21,289 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:56:21,355 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@2ad077c8
2023-07-04 20:56:21,356 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:56:21,368 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:56:21,402 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:56:21,464 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:56:21,471 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:56:21,536 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:56:21,536 INFO l.util [Test worker] Run:                          5
2023-07-04 20:56:21,536 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:56:21,536 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:56:21,536 INFO l.util [Test worker] -------------------------------
2023-07-04 20:56:21,536 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:56:21,536 INFO l.util [Test worker] Update summary generated
2023-07-04 20:56:21,540 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:56:21,552 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:56:21,553 INFO l.command [Test worker] Command execution complete
2023-07-04 20:56:21,570 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:56:21,575 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:56:21,575 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:56:21,576 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@9405aad
2023-07-04 20:56:21,608 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:56:21,630 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:56:21,630 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:56:21,695 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.549 seconds (process running for 10.32)
2023-07-04 20:56:21,741 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:56:21,742 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  ???????: 15
2023-07-04 20:56:21,802 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:56:21,802 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "comment" does not exist
  ???????: 68
2023-07-04 20:56:21,806 INFO o.e.j.s.Server [Test worker] Stopped Server@a58f9a6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:21,806 INFO o.e.j.s.Server [Test worker] Shutdown Server@a58f9a6{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:21,808 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5fa957c2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:21,810 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@262d6ef0{/,null,STOPPED}
2023-07-04 20:56:21,810 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@a3b336a{/__admin,null,STOPPED}
2023-07-04 20:56:21,822 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:56:21,824 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:56:21,825 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:56:21,915 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ff7303836876aab7dd3cbb6d9c5a7de30df46a4e8a8200c6c00f9f05a0203530
2023-07-04 20:56:23,065 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.240597S
2023-07-04 20:56:23,066 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60607/test?loggerLevel=OFF)
2023-07-04 20:56:23,069 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:56:23,070 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@73129907{/__admin,null,AVAILABLE}
2023-07-04 20:56:23,070 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:56:23,070 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@62754600{/,null,AVAILABLE}
2023-07-04 20:56:23,070 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2b15284d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:23,070 INFO o.e.j.s.Server [Test worker] Started Server@17d17822{STARTING}[11.0.15,sto=1000] @11695ms
2023-07-04 20:56:23,080 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:56:23,080 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 64
2023-07-04 20:56:23,097 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:56:23,097 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 119
2023-07-04 20:56:23,103 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 42P01
2023-07-04 20:56:23,103 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ERROR: relation "news" does not exist
  ???????: 15
2023-07-04 20:56:23,106 INFO o.e.j.s.Server [Test worker] Stopped Server@17d17822{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:23,106 INFO o.e.j.s.Server [Test worker] Shutdown Server@17d17822{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:56:23,107 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2b15284d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:56:23,108 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@62754600{/,null,STOPPED}
2023-07-04 20:56:23,108 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@73129907{/__admin,null,STOPPED}
2023-07-04 20:56:23,295 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:56:23,296 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:56:23,297 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:56:23,309 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:56:23,309 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:56:23,310 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 20:58:14,536 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:58:14,589 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 20:58:14,958 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:58:14,969 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 20:58:14,973 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:58:14,973 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 20:58:14,976 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:14,981 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @980ms
2023-07-04 20:58:15,303 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 20:58:15,310 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:58:15,317 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 29383 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:58:15,317 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:58:15,317 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:58:15,330 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:15,330 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:15,330 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:15,330 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:58:15,330 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:15,330 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:15,679 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:58:15,679 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:58:15,751 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2023-07-04 20:58:15,759 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:58:15,760 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 20:58:15,768 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:58:15,768 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 20:58:15,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 20:58:15,892 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 20:58:15,939 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:58:15,961 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 20:58:16,095 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 20:58:16,239 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 20:58:16,294 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5df7ae0a
2023-07-04 20:58:16,294 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 20:58:16,364 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:58:16,426 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:58:16,630 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:58:16,677 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:58:16,683 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:58:16,684 INFO l.util [Test worker] Run:                          0
2023-07-04 20:58:16,684 INFO l.util [Test worker] Previously run:               5
2023-07-04 20:58:16,684 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:58:16,684 INFO l.util [Test worker] -------------------------------
2023-07-04 20:58:16,684 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:58:16,684 INFO l.util [Test worker] Update summary generated
2023-07-04 20:58:16,686 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:58:16,689 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:58:16,689 INFO l.command [Test worker] Command execution complete
2023-07-04 20:58:16,735 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:58:16,764 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 20:58:16,765 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 20:58:16,817 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:58:16,885 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:58:16,904 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@440d45c5
2023-07-04 20:58:17,009 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:58:17,330 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:58:17,371 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:58:17,373 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:58:17,524 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 20:58:17,842 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 20:58:17,898 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:58:18,155 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7eb0c144, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11cb348c, org.springframework.security.web.context.SecurityContextHolderFilter@1571a63a, org.springframework.security.web.header.HeaderWriterFilter@d0da1d6, org.springframework.security.web.authentication.logout.LogoutFilter@778c5658, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@524d00e7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@15652e7e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5a83be9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5c664da9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1465d125, org.springframework.security.web.session.ConcurrentSessionFilter@4fba033c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@599bda7e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1af1aae9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d6cdebb, org.springframework.security.web.access.ExceptionTranslationFilter@6e6d544, org.springframework.security.web.access.intercept.AuthorizationFilter@24fa43f8]
2023-07-04 20:58:18,503 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.5 seconds (process running for 4.502)
2023-07-04 20:58:18,804 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:18,804 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:18,806 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:18,807 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 20:58:18,807 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 20:58:19,142 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:58:19,143 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37b5203{/__admin,null,AVAILABLE}
2023-07-04 20:58:19,143 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:58:19,143 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6065f14f{/,null,AVAILABLE}
2023-07-04 20:58:19,143 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@39dc0721{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:19,144 INFO o.e.j.s.Server [Test worker] Started Server@434a641c{STARTING}[11.0.15,sto=1000] @5143ms
2023-07-04 20:58:19,217 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:58:19,221 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 29383 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:58:19,221 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:58:19,221 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:58:19,223 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:19,223 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7787a602 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:19,223 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:19,223 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:58:19,223 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:19,223 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@63f566a0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:19,417 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:58:19,421 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:58:19,508 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2a76555a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51b8d7f1, org.springframework.security.web.context.SecurityContextHolderFilter@3bbb450b, org.springframework.security.web.header.HeaderWriterFilter@625d356e, org.springframework.security.web.authentication.logout.LogoutFilter@164c4eca, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@67e38ad7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@132da2ff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@ab02c2d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@15c3939b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2f7cbd63, org.springframework.security.web.session.ConcurrentSessionFilter@a84c987, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@325a18b9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39a7bdd9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24a63de5, org.springframework.security.web.access.ExceptionTranslationFilter@753f8af7, org.springframework.security.web.access.intercept.AuthorizationFilter@1bd7762f]
2023-07-04 20:58:19,552 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:58:19,552 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:58:19,553 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 20:58:19,605 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.459 seconds (process running for 5.604)
2023-07-04 20:58:19,772 INFO o.e.j.s.Server [Test worker] Stopped Server@434a641c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:19,772 INFO o.e.j.s.Server [Test worker] Shutdown Server@434a641c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:19,773 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@39dc0721{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:19,773 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6065f14f{/,null,STOPPED}
2023-07-04 20:58:19,773 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37b5203{/__admin,null,STOPPED}
2023-07-04 20:58:19,784 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:58:19,785 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@791fd82b{/__admin,null,AVAILABLE}
2023-07-04 20:58:19,785 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:58:19,785 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1e79a4f7{/,null,AVAILABLE}
2023-07-04 20:58:19,786 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@408708d5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:19,786 INFO o.e.j.s.Server [Test worker] Started Server@3467986{STARTING}[11.0.15,sto=1000] @5785ms
2023-07-04 20:58:19,832 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:58:19,834 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 29383 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:58:19,834 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:58:19,834 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:58:19,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:19,835 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@20337a79 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:19,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:19,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:58:19,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:19,835 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5631baf5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:19,971 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 20:58:19,973 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:58:20,041 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21c1fb2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a34aaec, org.springframework.security.web.context.SecurityContextHolderFilter@2b55799f, org.springframework.security.web.header.HeaderWriterFilter@5e562067, org.springframework.security.web.authentication.logout.LogoutFilter@3a4f4a81, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7c26f301, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3c7da546, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7fdfa8c2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@9a8b7d3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3bb27579, org.springframework.security.web.session.ConcurrentSessionFilter@690d8a06, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63ca10f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cf051f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39a95375, org.springframework.security.web.access.ExceptionTranslationFilter@3b4e6329, org.springframework.security.web.access.intercept.AuthorizationFilter@78e4c48b]
2023-07-04 20:58:20,065 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:58:20,065 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:58:20,065 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:58:20,072 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.285 seconds (process running for 6.071)
2023-07-04 20:58:20,126 INFO o.e.j.s.Server [Test worker] Stopped Server@3467986{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:20,126 INFO o.e.j.s.Server [Test worker] Shutdown Server@3467986{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:20,128 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@408708d5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:20,128 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1e79a4f7{/,null,STOPPED}
2023-07-04 20:58:20,128 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@791fd82b{/__admin,null,STOPPED}
2023-07-04 20:58:20,136 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:58:20,137 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@16352a9f{/__admin,null,AVAILABLE}
2023-07-04 20:58:20,137 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:58:20,137 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@714bd7ad{/,null,AVAILABLE}
2023-07-04 20:58:20,137 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@509e3c03{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:20,137 INFO o.e.j.s.Server [Test worker] Started Server@9f7c1c{STARTING}[11.0.15,sto=1000] @6136ms
2023-07-04 20:58:20,180 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:58:20,182 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 29383 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:58:20,182 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:58:20,182 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:58:20,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:20,183 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@55b2cdcb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:20,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:20,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:58:20,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:20,183 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@305c8bf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:20,309 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 20:58:20,356 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5080dc92, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@236d434f, org.springframework.security.web.context.SecurityContextHolderFilter@3f7e77ee, org.springframework.security.web.header.HeaderWriterFilter@66df0533, org.springframework.security.web.authentication.logout.LogoutFilter@7af59617, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@56c4bb46, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@57caa7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3d8b888f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6551611e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1dd1a777, org.springframework.security.web.session.ConcurrentSessionFilter@2d9b7ff9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d2bca33, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1343b038, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7cff9bb2, org.springframework.security.web.access.ExceptionTranslationFilter@53cc256f, org.springframework.security.web.access.intercept.AuthorizationFilter@1a8eed09]
2023-07-04 20:58:20,377 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 20:58:20,377 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 20:58:20,377 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 20:58:20,386 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.247 seconds (process running for 6.385)
2023-07-04 20:58:20,403 INFO o.e.j.s.Server [Test worker] Stopped Server@9f7c1c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:20,403 INFO o.e.j.s.Server [Test worker] Shutdown Server@9f7c1c{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:20,403 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@509e3c03{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:20,403 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@714bd7ad{/,null,STOPPED}
2023-07-04 20:58:20,404 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@16352a9f{/__admin,null,STOPPED}
2023-07-04 20:58:20,423 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:58:20,438 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 20:58:20,458 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 20:58:20,568 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 20:58:20,868 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 20:58:20,869 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 20:58:20,884 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 20:58:20,977 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 20:58:21,820 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 20:58:22,289 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 094899d4596029f10b3b547b452616aff087e04f80a6c3d820ba4bf4e1ddfdc8
2023-07-04 20:58:23,020 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.130505S
2023-07-04 20:58:23,024 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 20:58:23,024 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 20:58:23,024 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 20:58:23,024 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:58:23,049 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2e26ed11fca0150b646e8557a9434e3163bd6cc181b72865461cf4b68b76cd15
2023-07-04 20:58:24,142 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.117836S
2023-07-04 20:58:24,143 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60630/test?loggerLevel=OFF)
2023-07-04 20:58:24,146 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:58:24,147 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@32140024{/__admin,null,AVAILABLE}
2023-07-04 20:58:24,147 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:58:24,147 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@399daaa9{/,null,AVAILABLE}
2023-07-04 20:58:24,147 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@13b84cf9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:24,147 INFO o.e.j.s.Server [Test worker] Started Server@508ddde{STARTING}[11.0.15,sto=1000] @10147ms
2023-07-04 20:58:24,185 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 20:58:24,187 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 29383 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 20:58:24,187 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 20:58:24,187 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 20:58:24,189 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:24,189 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50fededc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:24,189 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:24,189 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 20:58:24,189 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 20:58:24,189 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f6b7959 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 20:58:24,235 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 20:58:24,235 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 20:58:24,243 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-04 20:58:24,269 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 20:58:24,321 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5e54f7df
2023-07-04 20:58:24,321 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 20:58:24,328 INFO l.database [Test worker] Set default schema name to public
2023-07-04 20:58:24,361 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 20:58:24,417 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 20:58:24,427 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 20:58:24,491 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 20:58:24,491 INFO l.util [Test worker] Run:                          5
2023-07-04 20:58:24,491 INFO l.util [Test worker] Previously run:               0
2023-07-04 20:58:24,491 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 20:58:24,491 INFO l.util [Test worker] -------------------------------
2023-07-04 20:58:24,491 INFO l.util [Test worker] Total change sets:            5

2023-07-04 20:58:24,491 INFO l.util [Test worker] Update summary generated
2023-07-04 20:58:24,495 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:58:24,504 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 20:58:24,505 INFO l.command [Test worker] Command execution complete
2023-07-04 20:58:24,514 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 20:58:24,517 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:58:24,517 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 20:58:24,518 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@788fdf40
2023-07-04 20:58:24,533 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 20:58:24,554 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 20:58:24,556 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:58:24,556 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 20:58:24,557 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:58:24,557 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 20:58:24,558 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:58:24,558 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 20:58:24,559 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:58:24,559 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 20:58:24,560 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 20:58:24,560 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 20:58:24,573 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 20:58:24,573 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:58:24,632 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.482 seconds (process running for 10.631)
2023-07-04 20:58:24,736 INFO o.e.j.s.Server [Test worker] Stopped Server@508ddde{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:24,736 INFO o.e.j.s.Server [Test worker] Shutdown Server@508ddde{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:24,736 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@13b84cf9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:24,737 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@399daaa9{/,null,STOPPED}
2023-07-04 20:58:24,737 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@32140024{/__admin,null,STOPPED}
2023-07-04 20:58:24,739 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 20:58:24,741 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 20:58:24,741 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 20:58:24,783 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ef87f9e83760151b19ad7cf6d91ac4f9591513cd10b059d1a498fee10186c6ac
2023-07-04 20:58:25,871 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.129729S
2023-07-04 20:58:25,871 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60642/test?loggerLevel=OFF)
2023-07-04 20:58:25,873 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 20:58:25,874 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7faf6a72{/__admin,null,AVAILABLE}
2023-07-04 20:58:25,874 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 20:58:25,874 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4358fa9{/,null,AVAILABLE}
2023-07-04 20:58:25,874 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@172a93b2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:25,875 INFO o.e.j.s.Server [Test worker] Started Server@2b37a0dd{STARTING}[11.0.15,sto=1000] @11874ms
2023-07-04 20:58:25,904 INFO o.e.j.s.Server [Test worker] Stopped Server@2b37a0dd{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:25,905 INFO o.e.j.s.Server [Test worker] Shutdown Server@2b37a0dd{STOPPING}[11.0.15,sto=1000]
2023-07-04 20:58:25,905 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@172a93b2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 20:58:25,905 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4358fa9{/,null,STOPPED}
2023-07-04 20:58:25,905 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7faf6a72{/__admin,null,STOPPED}
2023-07-04 20:58:26,058 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:58:26,059 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 20:58:26,060 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 20:58:26,072 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 20:58:26,072 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 20:58:26,072 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:04:27,701 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:04:27,751 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:04:28,332 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:04:28,343 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40c2ce52{/__admin,null,AVAILABLE}
2023-07-04 21:04:28,347 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:04:28,347 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@13e5d243{/,null,AVAILABLE}
2023-07-04 21:04:28,350 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4adc663e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:28,354 INFO o.e.j.s.Server [Test worker] Started Server@b73433{STARTING}[11.0.15,sto=1000] @1196ms
2023-07-04 21:04:28,680 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:04:28,687 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:04:28,693 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 30189 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:04:28,693 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:04:28,693 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:04:28,706 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:28,706 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@451e2fa9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:28,706 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:28,706 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:04:28,706 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:28,706 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@226d5af0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:29,055 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:04:29,056 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:04:29,124 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 2 JPA repository interfaces.
2023-07-04 21:04:29,132 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:04:29,133 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:04:29,141 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:04:29,141 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:04:29,141 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:04:29,275 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:04:29,324 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:04:29,343 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:04:29,482 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:04:29,620 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:04:29,682 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2fca9fae
2023-07-04 21:04:29,683 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:04:29,747 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:04:29,816 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:04:30,026 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:04:30,071 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:04:30,075 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:04:30,075 INFO l.util [Test worker] Run:                          0
2023-07-04 21:04:30,076 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:04:30,076 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:04:30,076 INFO l.util [Test worker] -------------------------------
2023-07-04 21:04:30,076 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:04:30,076 INFO l.util [Test worker] Update summary generated
2023-07-04 21:04:30,078 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:04:30,080 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:04:30,080 INFO l.command [Test worker] Command execution complete
2023-07-04 21:04:30,133 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:04:30,156 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:04:30,157 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:04:30,211 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:04:30,266 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:04:30,281 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4ff3ca23
2023-07-04 21:04:30,387 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:04:30,717 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:04:30,752 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:04:30,753 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:04:30,912 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:04:31,227 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:04:31,272 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:04:31,532 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f92ee1b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15d67d0f, org.springframework.security.web.context.SecurityContextHolderFilter@749e4d40, org.springframework.security.web.header.HeaderWriterFilter@11cb348c, org.springframework.security.web.authentication.logout.LogoutFilter@44c073bd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@53c6c1e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@25de3ccc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6ebdbe96, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2127c46b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@38ab2740, org.springframework.security.web.session.ConcurrentSessionFilter@27688fc6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b274a1c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b018f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4463d9b7, org.springframework.security.web.access.ExceptionTranslationFilter@6a9781fd, org.springframework.security.web.access.intercept.AuthorizationFilter@6d1bbd00]
2023-07-04 21:04:31,896 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.52 seconds (process running for 4.737)
2023-07-04 21:04:32,206 INFO o.e.j.s.Server [Test worker] Stopped Server@b73433{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:32,206 INFO o.e.j.s.Server [Test worker] Shutdown Server@b73433{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:32,207 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4adc663e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:32,208 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@13e5d243{/,null,STOPPED}
2023-07-04 21:04:32,208 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40c2ce52{/__admin,null,STOPPED}
2023-07-04 21:04:32,543 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:04:32,544 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e9feb92{/__admin,null,AVAILABLE}
2023-07-04 21:04:32,544 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:04:32,544 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15a54f36{/,null,AVAILABLE}
2023-07-04 21:04:32,545 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6dcdf58b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:32,545 INFO o.e.j.s.Server [Test worker] Started Server@733fc5af{STARTING}[11.0.15,sto=1000] @5386ms
2023-07-04 21:04:32,619 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:04:32,623 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 30189 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:04:32,623 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:04:32,623 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:04:32,625 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:32,625 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@798cf0a0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:32,625 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:32,625 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:04:32,625 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:32,625 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4404dee7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:32,839 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:04:32,842 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:04:32,928 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e26eed3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43e07d88, org.springframework.security.web.context.SecurityContextHolderFilter@eb52295, org.springframework.security.web.header.HeaderWriterFilter@19a98be6, org.springframework.security.web.authentication.logout.LogoutFilter@48b1ba91, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7842ad22, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3de2e589, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@32640b6d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60e50c6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@690406d0, org.springframework.security.web.session.ConcurrentSessionFilter@325c63a9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23d7dad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@579e30b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ba947fe, org.springframework.security.web.access.ExceptionTranslationFilter@7516aa4, org.springframework.security.web.access.intercept.AuthorizationFilter@1a70d5df]
2023-07-04 21:04:32,968 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:04:32,969 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:04:32,969 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:04:33,043 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.496 seconds (process running for 5.884)
2023-07-04 21:04:33,199 INFO o.e.j.s.Server [Test worker] Stopped Server@733fc5af{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:33,199 INFO o.e.j.s.Server [Test worker] Shutdown Server@733fc5af{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:33,200 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6dcdf58b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:33,200 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15a54f36{/,null,STOPPED}
2023-07-04 21:04:33,200 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e9feb92{/__admin,null,STOPPED}
2023-07-04 21:04:33,210 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:04:33,211 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@771e08ed{/__admin,null,AVAILABLE}
2023-07-04 21:04:33,212 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:04:33,212 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@182a5c56{/,null,AVAILABLE}
2023-07-04 21:04:33,212 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3425709a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:33,212 INFO o.e.j.s.Server [Test worker] Started Server@298550b4{STARTING}[11.0.15,sto=1000] @6053ms
2023-07-04 21:04:33,253 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:04:33,255 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 30189 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:04:33,255 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:04:33,255 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:04:33,257 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:33,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48d4189e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:33,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:33,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:04:33,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:33,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@540c96e2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:33,404 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:04:33,406 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:04:33,473 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70fd626f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b1e3ab, org.springframework.security.web.context.SecurityContextHolderFilter@452811e3, org.springframework.security.web.header.HeaderWriterFilter@2d991631, org.springframework.security.web.authentication.logout.LogoutFilter@74562f15, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1b5b5ac9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5eb0f030, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13ea5530, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6360463, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@68d9a4dd, org.springframework.security.web.session.ConcurrentSessionFilter@6a8ebb66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cb17098, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@197cc9a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29db3f23, org.springframework.security.web.access.ExceptionTranslationFilter@7a287117, org.springframework.security.web.access.intercept.AuthorizationFilter@3d3bd9e3]
2023-07-04 21:04:33,496 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:04:33,496 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:04:33,496 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:04:33,503 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.289 seconds (process running for 6.344)
2023-07-04 21:04:33,559 INFO o.e.j.s.Server [Test worker] Stopped Server@298550b4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:33,560 INFO o.e.j.s.Server [Test worker] Shutdown Server@298550b4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:33,561 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3425709a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:33,561 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@182a5c56{/,null,STOPPED}
2023-07-04 21:04:33,561 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@771e08ed{/__admin,null,STOPPED}
2023-07-04 21:04:33,568 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:04:33,570 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1ebc4539{/__admin,null,AVAILABLE}
2023-07-04 21:04:33,570 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:04:33,570 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c21497b{/,null,AVAILABLE}
2023-07-04 21:04:33,570 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@64342f87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:33,570 INFO o.e.j.s.Server [Test worker] Started Server@56984e92{STARTING}[11.0.15,sto=1000] @6412ms
2023-07-04 21:04:33,609 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:04:33,610 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 30189 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:04:33,610 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:04:33,610 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:04:33,611 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:33,612 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4d957f5a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:33,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:33,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:04:33,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:33,612 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b3e2f54 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:33,747 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:04:33,791 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e86f9ba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28b11473, org.springframework.security.web.context.SecurityContextHolderFilter@419ae488, org.springframework.security.web.header.HeaderWriterFilter@39e89589, org.springframework.security.web.authentication.logout.LogoutFilter@38f2eee5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1cf9430a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@335303b6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25becefb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6d2d6e48, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@354ec60, org.springframework.security.web.session.ConcurrentSessionFilter@4b74fb68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c57fc78, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ee7aa6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@504e23e7, org.springframework.security.web.access.ExceptionTranslationFilter@16b578a3, org.springframework.security.web.access.intercept.AuthorizationFilter@4ce2e026]
2023-07-04 21:04:33,813 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:04:33,813 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:04:33,813 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:04:33,821 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.249 seconds (process running for 6.662)
2023-07-04 21:04:33,838 INFO o.e.j.s.Server [Test worker] Stopped Server@56984e92{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:33,838 INFO o.e.j.s.Server [Test worker] Shutdown Server@56984e92{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:33,839 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@64342f87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:33,839 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c21497b{/,null,STOPPED}
2023-07-04 21:04:33,839 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1ebc4539{/__admin,null,STOPPED}
2023-07-04 21:04:33,864 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:04:33,878 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:04:33,898 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:04:34,003 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:04:34,270 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:04:34,271 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:04:34,300 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:04:34,328 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:04:35,197 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:04:35,634 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 47c06cb63b8bf698d21a22cbe00d5bf50055575ff8db0889a5c071d65bf1d498
2023-07-04 21:04:36,413 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.110216S
2023-07-04 21:04:36,417 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:04:36,417 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:04:36,417 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:04:36,420 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:04:36,463 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e6bfacd45368586e7423c0cae7ec2c472c5a8f4bc1d43b0782423c28984e54bd
2023-07-04 21:04:37,560 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.142409S
2023-07-04 21:04:37,561 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60671/test?loggerLevel=OFF)
2023-07-04 21:04:37,564 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:04:37,565 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40b9696a{/__admin,null,AVAILABLE}
2023-07-04 21:04:37,565 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:04:37,565 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@bf0e1c3{/,null,AVAILABLE}
2023-07-04 21:04:37,565 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@47714dd6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:37,565 INFO o.e.j.s.Server [Test worker] Started Server@558c44d4{STARTING}[11.0.15,sto=1000] @10407ms
2023-07-04 21:04:37,598 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:04:37,600 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 30189 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:04:37,600 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:04:37,600 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:04:37,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:37,601 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27c61944 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:37,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:37,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:04:37,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:37,601 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1501b99a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:37,658 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:04:37,659 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:04:37,668 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 21:04:37,689 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:04:37,742 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1c645e05
2023-07-04 21:04:37,742 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:04:37,756 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:04:37,794 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:04:37,856 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:04:37,862 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:04:37,932 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:04:37,932 INFO l.util [Test worker] Run:                          5
2023-07-04 21:04:37,932 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:04:37,932 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:04:37,932 INFO l.util [Test worker] -------------------------------
2023-07-04 21:04:37,932 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:04:37,932 INFO l.util [Test worker] Update summary generated
2023-07-04 21:04:37,937 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:04:37,942 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:04:37,943 INFO l.command [Test worker] Command execution complete
2023-07-04 21:04:37,951 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:04:37,955 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:04:37,955 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:04:37,956 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@53d3faa9
2023-07-04 21:04:37,965 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:04:37,985 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:04:37,987 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:37,987 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:04:37,988 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:37,988 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:04:37,989 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:37,989 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:04:37,990 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:37,990 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:04:37,991 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:37,991 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:04:37,998 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:04:37,998 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:04:38,052 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.485 seconds (process running for 10.893)
2023-07-04 21:04:38,169 INFO o.e.j.s.Server [Test worker] Stopped Server@558c44d4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:38,169 INFO o.e.j.s.Server [Test worker] Shutdown Server@558c44d4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:38,169 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@47714dd6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:38,169 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@bf0e1c3{/,null,STOPPED}
2023-07-04 21:04:38,170 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40b9696a{/__admin,null,STOPPED}
2023-07-04 21:04:38,171 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:04:38,172 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-07-04 21:04:38,216 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-07-04 21:04:38,218 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:04:38,219 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:04:38,220 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:04:38,263 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d6b471e57c9813aa36187cebe3ba7a3fefdf61f3cab6ca10a72aa1a200373d05
2023-07-04 21:04:39,394 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.174462S
2023-07-04 21:04:39,397 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60683/test?loggerLevel=OFF)
2023-07-04 21:04:39,399 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:04:39,400 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@25130f26{/__admin,null,AVAILABLE}
2023-07-04 21:04:39,400 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:04:39,400 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2eb4d9ee{/,null,AVAILABLE}
2023-07-04 21:04:39,400 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2e2d57ea{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:39,400 INFO o.e.j.s.Server [Test worker] Started Server@70c36cc7{STARTING}[11.0.15,sto=1000] @12242ms
2023-07-04 21:04:39,431 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:04:39,432 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 30189 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:04:39,432 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:04:39,432 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:04:39,433 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:39,433 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@331a2d17 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:39,433 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:39,433 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:04:39,433 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:04:39,433 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58c7300 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:04:39,471 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:04:39,471 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:04:39,478 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 2 JPA repository interfaces.
2023-07-04 21:04:39,493 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-07-04 21:04:39,519 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@71878d5a
2023-07-04 21:04:39,519 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-07-04 21:04:39,527 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:04:39,543 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:04:39,575 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:04:39,579 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:04:39,598 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:04:39,598 INFO l.util [Test worker] Run:                          5
2023-07-04 21:04:39,598 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:04:39,598 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:04:39,598 INFO l.util [Test worker] -------------------------------
2023-07-04 21:04:39,598 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:04:39,598 INFO l.util [Test worker] Update summary generated
2023-07-04 21:04:39,602 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:04:39,608 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:04:39,608 INFO l.command [Test worker] Command execution complete
2023-07-04 21:04:39,616 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:04:39,619 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:04:39,619 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:04:39,619 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@30dad9b9
2023-07-04 21:04:39,629 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:04:39,650 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:04:39,651 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:39,651 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:04:39,652 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:39,652 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:04:39,652 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:39,653 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:04:39,653 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:39,653 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:04:39,654 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:04:39,654 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:04:39,664 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:04:39,664 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:04:39,715 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 0.313 seconds (process running for 12.557)
2023-07-04 21:04:39,752 INFO o.e.j.s.Server [Test worker] Stopped Server@70c36cc7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:39,752 INFO o.e.j.s.Server [Test worker] Shutdown Server@70c36cc7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:04:39,753 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2e2d57ea{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:04:39,753 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2eb4d9ee{/,null,STOPPED}
2023-07-04 21:04:39,754 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@25130f26{/__admin,null,STOPPED}
2023-07-04 21:04:39,754 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:04:39,755 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-07-04 21:04:39,780 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-07-04 21:04:39,958 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:04:39,958 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:04:39,959 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:07:39,498 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:07:39,549 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:07:40,108 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:07:40,120 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@66a5755{/__admin,null,AVAILABLE}
2023-07-04 21:07:40,124 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:07:40,124 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@76f881d9{/,null,AVAILABLE}
2023-07-04 21:07:40,128 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4437ac07{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:40,133 INFO o.e.j.s.Server [Test worker] Started Server@642857e0{STARTING}[11.0.15,sto=1000] @1174ms
2023-07-04 21:07:40,464 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:07:40,471 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:07:40,478 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 30661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:07:40,479 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:07:40,479 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:07:40,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:40,494 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@68e2d03e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:40,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:40,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:07:40,494 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:40,494 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@70c29356 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:40,839 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:07:40,840 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:07:40,916 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 73 ms. Found 2 JPA repository interfaces.
2023-07-04 21:07:40,928 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:07:40,928 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:07:40,937 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:07:40,937 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:07:40,937 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:07:41,057 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:07:41,104 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:07:41,125 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:07:41,264 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:07:41,412 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:07:41,472 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1104ad6a
2023-07-04 21:07:41,473 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:07:41,546 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:07:41,616 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:07:41,825 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:07:41,870 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:07:41,875 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:07:41,875 INFO l.util [Test worker] Run:                          0
2023-07-04 21:07:41,875 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:07:41,875 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:07:41,875 INFO l.util [Test worker] -------------------------------
2023-07-04 21:07:41,876 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:07:41,876 INFO l.util [Test worker] Update summary generated
2023-07-04 21:07:41,878 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:07:41,880 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:07:41,881 INFO l.command [Test worker] Command execution complete
2023-07-04 21:07:41,926 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:07:41,954 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:07:41,955 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:07:42,008 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:07:42,066 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:07:42,081 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@65f8933b
2023-07-04 21:07:42,187 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:07:42,518 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:07:42,554 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:07:42,555 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:07:42,711 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:07:43,031 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:07:43,073 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:07:43,343 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e884ee5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b274a1c, org.springframework.security.web.context.SecurityContextHolderFilter@714f1dc4, org.springframework.security.web.header.HeaderWriterFilter@599bda7e, org.springframework.security.web.authentication.logout.LogoutFilter@76b51e5f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@28c776f2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4bb2da93, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@51e1dffa, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4e0d2ddd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2a67ed1f, org.springframework.security.web.session.ConcurrentSessionFilter@5c664da9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b8d2b32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40383b24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c15515e, org.springframework.security.web.access.ExceptionTranslationFilter@4ad3f113, org.springframework.security.web.access.intercept.AuthorizationFilter@70a8ebfc]
2023-07-04 21:07:43,702 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.547 seconds (process running for 4.743)
2023-07-04 21:07:44,002 INFO o.e.j.s.Server [Test worker] Stopped Server@642857e0{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:44,002 INFO o.e.j.s.Server [Test worker] Shutdown Server@642857e0{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:44,004 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4437ac07{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:44,005 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@76f881d9{/,null,STOPPED}
2023-07-04 21:07:44,005 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@66a5755{/__admin,null,STOPPED}
2023-07-04 21:07:44,356 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:07:44,357 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4defc8ca{/__admin,null,AVAILABLE}
2023-07-04 21:07:44,357 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:07:44,357 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6bb5270e{/,null,AVAILABLE}
2023-07-04 21:07:44,357 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7fef7c55{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:44,357 INFO o.e.j.s.Server [Test worker] Started Server@49692c4f{STARTING}[11.0.15,sto=1000] @5399ms
2023-07-04 21:07:44,434 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:07:44,437 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 30661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:07:44,437 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:07:44,437 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:07:44,439 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:44,439 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9162869 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:44,439 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:44,439 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:07:44,439 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:44,439 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@60a781 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:44,661 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:07:44,664 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:07:44,753 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@717a5a92, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f820906, org.springframework.security.web.context.SecurityContextHolderFilter@5b3b21d1, org.springframework.security.web.header.HeaderWriterFilter@61af0834, org.springframework.security.web.authentication.logout.LogoutFilter@a5b556e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@968ebd0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@59c82fb6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4c712f24, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@16a24a66, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27af34df, org.springframework.security.web.session.ConcurrentSessionFilter@747348f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@610febe5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7878a158, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62e23701, org.springframework.security.web.access.ExceptionTranslationFilter@2b722f9c, org.springframework.security.web.access.intercept.AuthorizationFilter@33e1cae2]
2023-07-04 21:07:44,797 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:07:44,797 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:07:44,798 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:07:44,856 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.496 seconds (process running for 5.897)
2023-07-04 21:07:45,017 INFO o.e.j.s.Server [Test worker] Stopped Server@49692c4f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:45,017 INFO o.e.j.s.Server [Test worker] Shutdown Server@49692c4f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:45,018 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7fef7c55{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:45,018 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6bb5270e{/,null,STOPPED}
2023-07-04 21:07:45,018 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4defc8ca{/__admin,null,STOPPED}
2023-07-04 21:07:45,029 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:07:45,030 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15f0d6c7{/__admin,null,AVAILABLE}
2023-07-04 21:07:45,030 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:07:45,030 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@78c93cdc{/,null,AVAILABLE}
2023-07-04 21:07:45,030 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@69b242f9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:45,030 INFO o.e.j.s.Server [Test worker] Started Server@5a365e06{STARTING}[11.0.15,sto=1000] @6072ms
2023-07-04 21:07:45,078 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:07:45,081 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 30661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:07:45,081 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:07:45,081 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:07:45,082 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:45,083 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6edd2ef4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:45,083 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:45,083 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:07:45,083 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:45,083 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2eb37eee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:45,232 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:07:45,234 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:07:45,302 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5961a37e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4182abba, org.springframework.security.web.context.SecurityContextHolderFilter@4fe03311, org.springframework.security.web.header.HeaderWriterFilter@6a0a5b0e, org.springframework.security.web.authentication.logout.LogoutFilter@5d0b5f31, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@433b7810, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@44ce4591, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6b6371a0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1a5c6b3e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@77d68cd6, org.springframework.security.web.session.ConcurrentSessionFilter@291be813, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@549bae75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6cf14dc3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c80dfd, org.springframework.security.web.access.ExceptionTranslationFilter@343047c, org.springframework.security.web.access.intercept.AuthorizationFilter@420e17cd]
2023-07-04 21:07:45,326 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:07:45,326 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:07:45,326 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:07:45,333 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.301 seconds (process running for 6.374)
2023-07-04 21:07:45,395 INFO o.e.j.s.Server [Test worker] Stopped Server@5a365e06{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:45,395 INFO o.e.j.s.Server [Test worker] Shutdown Server@5a365e06{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:45,396 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@69b242f9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:45,396 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@78c93cdc{/,null,STOPPED}
2023-07-04 21:07:45,397 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15f0d6c7{/__admin,null,STOPPED}
2023-07-04 21:07:45,404 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:07:45,405 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@269a73d6{/__admin,null,AVAILABLE}
2023-07-04 21:07:45,405 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:07:45,406 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@78a45ab5{/,null,AVAILABLE}
2023-07-04 21:07:45,406 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@41a055e5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:45,406 INFO o.e.j.s.Server [Test worker] Started Server@506782f4{STARTING}[11.0.15,sto=1000] @6447ms
2023-07-04 21:07:45,448 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:07:45,450 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 30661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:07:45,450 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:07:45,450 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:07:45,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:45,451 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6bbbfc05 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:45,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:45,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:07:45,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:45,451 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1ebc4539 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:45,587 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:07:45,631 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f3ed8bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@220700c1, org.springframework.security.web.context.SecurityContextHolderFilter@58703290, org.springframework.security.web.header.HeaderWriterFilter@73b3dfe9, org.springframework.security.web.authentication.logout.LogoutFilter@61a13ade, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@463b73e1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2e24c632, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d782f9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4fc454d5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2a1a57e5, org.springframework.security.web.session.ConcurrentSessionFilter@59ea19a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bcb8c82, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@466a5285, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10e0c815, org.springframework.security.web.access.ExceptionTranslationFilter@486765f1, org.springframework.security.web.access.intercept.AuthorizationFilter@18c43285]
2023-07-04 21:07:45,652 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:07:45,652 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:07:45,652 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:07:45,660 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.252 seconds (process running for 6.701)
2023-07-04 21:07:45,677 INFO o.e.j.s.Server [Test worker] Stopped Server@506782f4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:45,677 INFO o.e.j.s.Server [Test worker] Shutdown Server@506782f4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:45,678 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@41a055e5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:45,678 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@78a45ab5{/,null,STOPPED}
2023-07-04 21:07:45,678 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@269a73d6{/__admin,null,STOPPED}
2023-07-04 21:07:45,697 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:07:45,707 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:07:45,725 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:07:45,833 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:07:46,060 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:07:46,061 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:07:46,079 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:07:46,119 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:07:46,834 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:07:46,906 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: ed122105f180a18bd310b4324296e13cd578b306ce4c3184d2092658c1f3ba3d
2023-07-04 21:07:47,411 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.328906S
2023-07-04 21:07:47,428 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:07:47,429 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:07:47,429 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:07:47,429 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:07:47,470 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a3f4ad820ccaa2e858460131d2198a94dfde53af651d5d1b58da94363483e2f6
2023-07-04 21:07:48,625 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.195681S
2023-07-04 21:07:48,625 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60712/test?loggerLevel=OFF)
2023-07-04 21:07:48,630 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:07:48,631 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41f958f8{/__admin,null,AVAILABLE}
2023-07-04 21:07:48,631 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:07:48,631 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@d6b8329{/,null,AVAILABLE}
2023-07-04 21:07:48,631 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@692cfa72{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:48,632 INFO o.e.j.s.Server [Test worker] Started Server@3b6d0859{STARTING}[11.0.15,sto=1000] @9673ms
2023-07-04 21:07:48,671 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:07:48,676 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 30661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:07:48,676 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:07:48,676 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:07:48,679 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:48,679 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3203d5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:48,679 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:48,679 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:07:48,679 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:48,679 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16c03f98 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:48,741 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:07:48,741 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:07:48,751 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2023-07-04 21:07:48,777 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:07:48,841 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7b86cf94
2023-07-04 21:07:48,842 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:07:48,851 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:07:48,885 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:07:48,942 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:07:48,949 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:07:49,011 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:07:49,011 INFO l.util [Test worker] Run:                          5
2023-07-04 21:07:49,011 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:07:49,012 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:07:49,012 INFO l.util [Test worker] -------------------------------
2023-07-04 21:07:49,012 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:07:49,012 INFO l.util [Test worker] Update summary generated
2023-07-04 21:07:49,016 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:07:49,022 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:07:49,023 INFO l.command [Test worker] Command execution complete
2023-07-04 21:07:49,032 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:07:49,036 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:07:49,036 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:07:49,037 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4b5951a3
2023-07-04 21:07:49,047 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:07:49,067 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:07:49,069 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:49,069 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:07:49,070 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:49,071 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:07:49,071 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:49,071 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:07:49,072 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:49,072 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:07:49,073 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:49,073 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:07:49,082 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:07:49,082 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:07:49,139 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.504 seconds (process running for 10.18)
2023-07-04 21:07:49,277 INFO o.e.j.s.Server [Test worker] Stopped Server@3b6d0859{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:49,277 INFO o.e.j.s.Server [Test worker] Shutdown Server@3b6d0859{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:49,278 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@692cfa72{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:49,279 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@d6b8329{/,null,STOPPED}
2023-07-04 21:07:49,279 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41f958f8{/__admin,null,STOPPED}
2023-07-04 21:07:49,281 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:07:49,282 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-07-04 21:07:49,294 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-07-04 21:07:49,295 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:07:49,298 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:07:49,298 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:07:49,335 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: c62553a4eaf9e9ef257501559e7218f5f39315b8e2e0f645808688a5e86df2e9
2023-07-04 21:07:50,422 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.123592S
2023-07-04 21:07:50,422 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60723/test?loggerLevel=OFF)
2023-07-04 21:07:50,424 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:07:50,425 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@f096f73{/__admin,null,AVAILABLE}
2023-07-04 21:07:50,425 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:07:50,425 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@22b9796e{/,null,AVAILABLE}
2023-07-04 21:07:50,426 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3162d486{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:50,426 INFO o.e.j.s.Server [Test worker] Started Server@63972697{STARTING}[11.0.15,sto=1000] @11467ms
2023-07-04 21:07:50,453 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:07:50,455 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 30661 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:07:50,455 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:07:50,455 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:07:50,456 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:50,456 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58072e51 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:50,456 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:50,456 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:07:50,456 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:07:50,456 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f04ab10 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:07:50,495 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:07:50,495 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:07:50,502 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 2 JPA repository interfaces.
2023-07-04 21:07:50,517 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-07-04 21:07:50,544 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@76ade9ef
2023-07-04 21:07:50,544 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-07-04 21:07:50,553 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:07:50,571 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:07:50,603 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:07:50,609 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:07:50,626 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:07:50,626 INFO l.util [Test worker] Run:                          5
2023-07-04 21:07:50,626 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:07:50,626 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:07:50,626 INFO l.util [Test worker] -------------------------------
2023-07-04 21:07:50,626 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:07:50,626 INFO l.util [Test worker] Update summary generated
2023-07-04 21:07:50,629 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:07:50,634 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:07:50,635 INFO l.command [Test worker] Command execution complete
2023-07-04 21:07:50,642 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:07:50,645 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:07:50,645 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:07:50,645 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7d9b2878
2023-07-04 21:07:50,654 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:07:50,672 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:07:50,673 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:50,673 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:07:50,674 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:50,674 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:07:50,675 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:50,675 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:07:50,675 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:50,675 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:07:50,676 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:07:50,676 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:07:50,682 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:07:50,682 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:07:50,728 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 0.3 seconds (process running for 11.769)
2023-07-04 21:07:50,786 INFO o.e.j.s.Server [Test worker] Stopped Server@63972697{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:50,786 INFO o.e.j.s.Server [Test worker] Shutdown Server@63972697{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:07:50,786 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3162d486{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:07:50,787 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@22b9796e{/,null,STOPPED}
2023-07-04 21:07:50,787 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@f096f73{/__admin,null,STOPPED}
2023-07-04 21:07:50,788 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:07:50,788 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-07-04 21:07:50,799 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-07-04 21:07:50,952 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:07:50,952 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:07:50,952 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:16:00,813 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:16:00,861 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:16:01,362 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:16:01,371 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@32eae6f2{/__admin,null,AVAILABLE}
2023-07-04 21:16:01,375 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:16:01,375 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@f0020b1{/,null,AVAILABLE}
2023-07-04 21:16:01,378 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1a22e0ef{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:01,383 INFO o.e.j.s.Server [Test worker] Started Server@65a9ea3c{STARTING}[11.0.15,sto=1000] @1105ms
2023-07-04 21:16:01,712 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:16:01,717 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:16:01,724 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 31684 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:16:01,724 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:16:01,724 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:16:01,737 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:01,737 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@785ed99c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:01,737 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:01,737 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:16:01,737 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:01,737 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@106c988 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:02,080 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:16:02,081 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:16:02,157 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 73 ms. Found 2 JPA repository interfaces.
2023-07-04 21:16:02,165 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:16:02,165 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:16:02,173 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:16:02,173 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:16:02,173 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:16:02,296 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:16:02,343 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:16:02,362 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:16:02,499 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:16:02,643 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:16:02,707 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@36dc6b9
2023-07-04 21:16:02,708 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:16:02,774 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:16:02,837 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:16:03,060 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:16:03,108 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:16:03,112 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:16:03,112 INFO l.util [Test worker] Run:                          0
2023-07-04 21:16:03,112 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:16:03,112 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:16:03,112 INFO l.util [Test worker] -------------------------------
2023-07-04 21:16:03,112 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:16:03,112 INFO l.util [Test worker] Update summary generated
2023-07-04 21:16:03,114 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:16:03,117 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:16:03,117 INFO l.command [Test worker] Command execution complete
2023-07-04 21:16:03,179 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:16:03,201 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:16:03,202 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:16:03,260 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:16:03,320 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:16:03,341 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7e3b101b
2023-07-04 21:16:03,448 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:16:03,768 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:16:03,806 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:16:03,808 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:16:03,964 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:16:04,272 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:16:04,325 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:16:04,594 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@785d194d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c249eb5, org.springframework.security.web.context.SecurityContextHolderFilter@2ea6687b, org.springframework.security.web.header.HeaderWriterFilter@2c8d537e, org.springframework.security.web.authentication.logout.LogoutFilter@352e8cb3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@43201fd1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@794ca18b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44c073bd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@62ce5261, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1ad7892, org.springframework.security.web.session.ConcurrentSessionFilter@55f77306, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50ed6392, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4be2f788, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d9c448f, org.springframework.security.web.access.ExceptionTranslationFilter@52fe4ef2, org.springframework.security.web.access.intercept.AuthorizationFilter@28c776f2]
2023-07-04 21:16:04,939 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.534 seconds (process running for 4.662)
2023-07-04 21:16:05,237 INFO o.e.j.s.Server [Test worker] Stopped Server@65a9ea3c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:05,237 INFO o.e.j.s.Server [Test worker] Shutdown Server@65a9ea3c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:05,238 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1a22e0ef{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:05,239 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@f0020b1{/,null,STOPPED}
2023-07-04 21:16:05,239 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@32eae6f2{/__admin,null,STOPPED}
2023-07-04 21:16:05,595 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:16:05,596 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@45a1f1d0{/__admin,null,AVAILABLE}
2023-07-04 21:16:05,596 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:16:05,596 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@24fb7b1{/,null,AVAILABLE}
2023-07-04 21:16:05,596 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@39e17209{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:05,597 INFO o.e.j.s.Server [Test worker] Started Server@46e5c331{STARTING}[11.0.15,sto=1000] @5319ms
2023-07-04 21:16:05,673 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:16:05,676 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 31684 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:16:05,676 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:16:05,676 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:16:05,678 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:05,678 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f3737bd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:05,678 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:05,678 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:16:05,678 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:05,678 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6d27fe0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:05,874 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:16:05,878 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:16:05,972 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61af0834, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@747348f1, org.springframework.security.web.context.SecurityContextHolderFilter@128160af, org.springframework.security.web.header.HeaderWriterFilter@74b11f35, org.springframework.security.web.authentication.logout.LogoutFilter@2a76555a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@24a63de5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3ce270ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2b722f9c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@132da2ff, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5b3b21d1, org.springframework.security.web.session.ConcurrentSessionFilter@164c4eca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bd7762f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67e38ad7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@610febe5, org.springframework.security.web.access.ExceptionTranslationFilter@15c3939b, org.springframework.security.web.access.intercept.AuthorizationFilter@2f7cbd63]
2023-07-04 21:16:06,011 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:16:06,011 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:16:06,012 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:16:06,067 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.468 seconds (process running for 5.79)
2023-07-04 21:16:06,220 INFO o.e.j.s.Server [Test worker] Stopped Server@46e5c331{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:06,220 INFO o.e.j.s.Server [Test worker] Shutdown Server@46e5c331{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:06,221 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@39e17209{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:06,221 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@24fb7b1{/,null,STOPPED}
2023-07-04 21:16:06,221 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@45a1f1d0{/__admin,null,STOPPED}
2023-07-04 21:16:06,232 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:16:06,233 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3467986{/__admin,null,AVAILABLE}
2023-07-04 21:16:06,234 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:16:06,234 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@26e197cd{/,null,AVAILABLE}
2023-07-04 21:16:06,234 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@431e67f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:06,234 INFO o.e.j.s.Server [Test worker] Started Server@7f411735{STARTING}[11.0.15,sto=1000] @5957ms
2023-07-04 21:16:06,283 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:16:06,284 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 31684 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:16:06,284 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:16:06,284 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:16:06,286 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:06,286 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@87f336d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:06,286 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:06,286 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:16:06,286 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:06,286 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@379ebfa0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:06,431 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:16:06,433 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:16:06,500 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@171fd7e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58337c20, org.springframework.security.web.context.SecurityContextHolderFilter@931aef8, org.springframework.security.web.header.HeaderWriterFilter@cf051f1, org.springframework.security.web.authentication.logout.LogoutFilter@3c7da546, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6a34aaec, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3bb27579, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@39a95375, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@78e4c48b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7082d3e2, org.springframework.security.web.session.ConcurrentSessionFilter@9a8b7d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a4f4a81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34beebe0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@343047c, org.springframework.security.web.access.ExceptionTranslationFilter@63ca10f7, org.springframework.security.web.access.intercept.AuthorizationFilter@21c1fb2e]
2023-07-04 21:16:06,523 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:16:06,523 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:16:06,523 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:16:06,530 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.294 seconds (process running for 6.252)
2023-07-04 21:16:06,586 INFO o.e.j.s.Server [Test worker] Stopped Server@7f411735{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:06,586 INFO o.e.j.s.Server [Test worker] Shutdown Server@7f411735{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:06,587 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@431e67f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:06,587 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@26e197cd{/,null,STOPPED}
2023-07-04 21:16:06,587 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3467986{/__admin,null,STOPPED}
2023-07-04 21:16:06,596 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:16:06,597 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@16352a9f{/__admin,null,AVAILABLE}
2023-07-04 21:16:06,597 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:16:06,597 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@714bd7ad{/,null,AVAILABLE}
2023-07-04 21:16:06,597 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@509e3c03{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:06,597 INFO o.e.j.s.Server [Test worker] Started Server@9f7c1c{STARTING}[11.0.15,sto=1000] @6320ms
2023-07-04 21:16:06,645 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:16:06,646 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 31684 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:16:06,646 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:16:06,646 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:16:06,648 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:06,648 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@55b2cdcb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:06,648 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:06,648 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:16:06,648 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:06,648 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@305c8bf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:06,783 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:16:06,827 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1dd1a777, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cff9bb2, org.springframework.security.web.context.SecurityContextHolderFilter@1343b038, org.springframework.security.web.header.HeaderWriterFilter@3f7e77ee, org.springframework.security.web.authentication.logout.LogoutFilter@1a8eed09, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d8b888f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5080dc92, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@236d434f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7af59617, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2acdacf3, org.springframework.security.web.session.ConcurrentSessionFilter@d2bca33, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6551611e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@295cab5d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6373f5de, org.springframework.security.web.access.ExceptionTranslationFilter@2d9b7ff9, org.springframework.security.web.access.intercept.AuthorizationFilter@57caa7]
2023-07-04 21:16:06,847 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:16:06,847 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:16:06,847 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:16:06,855 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.256 seconds (process running for 6.578)
2023-07-04 21:16:06,875 INFO o.e.j.s.Server [Test worker] Stopped Server@9f7c1c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:06,875 INFO o.e.j.s.Server [Test worker] Shutdown Server@9f7c1c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:06,875 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@509e3c03{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:06,876 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@714bd7ad{/,null,STOPPED}
2023-07-04 21:16:06,876 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@16352a9f{/__admin,null,STOPPED}
2023-07-04 21:16:06,895 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:16:06,905 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:16:06,925 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:16:07,035 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:16:07,313 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:16:07,314 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:16:07,339 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:16:07,360 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:16:08,261 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:16:08,711 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: fbbc211710034b487a64ff3aa90f9858ae8bb76284ae8a5364f870f151202227
2023-07-04 21:16:09,468 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.126226S
2023-07-04 21:16:09,473 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:16:09,473 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:16:09,473 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:16:09,474 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:16:09,513 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: c705ae5886b92f29d4e6cf960459a9ff8e38a1cdbc8702dd4efbeea3694838f1
2023-07-04 21:16:10,674 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.200277S
2023-07-04 21:16:10,675 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60913/test?loggerLevel=OFF)
2023-07-04 21:16:10,679 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:16:10,680 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@76cc7e87{/__admin,null,AVAILABLE}
2023-07-04 21:16:10,680 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:16:10,680 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58114bf0{/,null,AVAILABLE}
2023-07-04 21:16:10,680 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@206185b3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:10,680 INFO o.e.j.s.Server [Test worker] Started Server@7f8a2f71{STARTING}[11.0.15,sto=1000] @10403ms
2023-07-04 21:16:10,719 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:16:10,721 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 31684 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:16:10,721 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:16:10,721 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:16:10,722 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:10,722 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@52ac965f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:10,722 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:10,722 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:16:10,722 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:16:10,722 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@399b5121 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:16:10,791 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:16:10,791 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:16:10,802 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-04 21:16:10,824 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:16:10,885 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@62733827
2023-07-04 21:16:10,885 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:16:10,897 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:16:10,935 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:16:10,994 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:16:11,001 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:16:11,068 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:16:11,068 INFO l.util [Test worker] Run:                          5
2023-07-04 21:16:11,068 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:16:11,068 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:16:11,068 INFO l.util [Test worker] -------------------------------
2023-07-04 21:16:11,068 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:16:11,069 INFO l.util [Test worker] Update summary generated
2023-07-04 21:16:11,074 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:16:11,081 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:16:11,083 INFO l.command [Test worker] Command execution complete
2023-07-04 21:16:11,093 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:16:11,097 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:16:11,097 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:16:11,098 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@728685c8
2023-07-04 21:16:11,109 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:16:11,132 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:16:11,134 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:16:11,134 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:16:11,135 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:16:11,135 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:16:11,136 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:16:11,136 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:16:11,136 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:16:11,136 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:16:11,137 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:16:11,137 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:16:11,145 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:16:11,145 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:16:11,204 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.521 seconds (process running for 10.927)
2023-07-04 21:16:11,310 INFO o.e.j.s.Server [Test worker] Stopped Server@7f8a2f71{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:11,310 INFO o.e.j.s.Server [Test worker] Shutdown Server@7f8a2f71{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:16:11,311 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@206185b3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:11,311 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58114bf0{/,null,STOPPED}
2023-07-04 21:16:11,311 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@76cc7e87{/__admin,null,STOPPED}
2023-07-04 21:16:11,523 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:16:11,525 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:16:11,526 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:16:11,549 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a391931795bb3284e49596c6d675ea03c6da63a4fe853b1f5a64e8ca6443e0df
2023-07-04 21:16:12,636 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.109523S
2023-07-04 21:16:12,636 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60925/test?loggerLevel=OFF)
2023-07-04 21:16:12,638 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:16:12,639 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3162d486{/__admin,null,AVAILABLE}
2023-07-04 21:16:12,639 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:16:12,639 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4ca8b1a4{/,null,AVAILABLE}
2023-07-04 21:16:12,639 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7d24645{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:16:12,639 INFO o.e.j.s.Server [Test worker] Started Server@34243ccd{STARTING}[11.0.15,sto=1000] @12362ms
2023-07-04 21:16:12,641 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@62733827 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,642 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@4358fa9 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,642 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@3961c19f (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,642 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@ad9f257 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,642 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@3e491e95 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,643 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@125c79dc (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,643 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@77cf68c6 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,643 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@422b1292 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,643 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@6c9696c5 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:12,643 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@575fffc (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:16:42,659 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:16:42,665 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30009ms.
2023-07-04 21:16:42,665 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60913 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:16:42,693 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@4d45b947]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30009ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30009ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60913 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:17:12,732 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:17:12,741 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30014ms.
2023-07-04 21:17:12,741 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60913 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:17:12,744 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@118e6543]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30014ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30014ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60913 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:17:42,812 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:17:42,836 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30032ms.
2023-07-04 21:17:42,836 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60913 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:17:42,838 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@27e3bf50]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30032ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30032ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60913 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:17:42,852 INFO o.e.j.s.Server [Test worker] Stopped Server@34243ccd{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:17:42,852 INFO o.e.j.s.Server [Test worker] Shutdown Server@34243ccd{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:17:42,855 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7d24645{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:17:42,855 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4ca8b1a4{/,null,STOPPED}
2023-07-04 21:17:42,856 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3162d486{/__admin,null,STOPPED}
2023-07-04 21:17:43,611 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:17:43,614 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:17:43,616 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:17:43,631 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:17:43,631 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:17:47,971 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:18:23,300 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:18:23,347 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:18:23,878 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:18:23,888 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@60e06f7d{/__admin,null,AVAILABLE}
2023-07-04 21:18:23,892 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:18:23,892 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d858300{/,null,AVAILABLE}
2023-07-04 21:18:23,895 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@53311681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:23,901 INFO o.e.j.s.Server [Test worker] Started Server@39ee94de{STARTING}[11.0.15,sto=1000] @1150ms
2023-07-04 21:18:24,225 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:18:24,234 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:18:24,242 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 32048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:18:24,242 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:18:24,242 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:18:24,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:24,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@236c098 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:24,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:24,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:18:24,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:24,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@755a7218 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:24,598 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:18:24,599 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:18:24,672 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.
2023-07-04 21:18:24,680 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:18:24,681 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:18:24,689 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:18:24,689 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:18:24,689 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:18:24,816 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:18:24,863 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:18:24,884 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:18:25,050 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:18:25,193 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:18:25,250 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3f030217
2023-07-04 21:18:25,251 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:18:25,314 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:18:25,378 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:18:25,583 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:18:25,624 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:18:25,631 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:18:25,631 INFO l.util [Test worker] Run:                          0
2023-07-04 21:18:25,631 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:18:25,632 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:18:25,632 INFO l.util [Test worker] -------------------------------
2023-07-04 21:18:25,632 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:18:25,632 INFO l.util [Test worker] Update summary generated
2023-07-04 21:18:25,634 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:18:25,636 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:18:25,636 INFO l.command [Test worker] Command execution complete
2023-07-04 21:18:25,682 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:18:25,713 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:18:25,714 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:18:25,770 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:18:25,829 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:18:25,847 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@69815126
2023-07-04 21:18:25,952 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:18:26,278 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:18:26,316 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:18:26,317 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:18:26,478 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:18:26,782 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:18:26,838 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:18:27,106 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e125be1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@781ebe48, org.springframework.security.web.context.SecurityContextHolderFilter@3e5080ce, org.springframework.security.web.header.HeaderWriterFilter@2e884ee5, org.springframework.security.web.authentication.logout.LogoutFilter@452895aa, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@904b224, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5e9ae46f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4efca68, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6c249eb5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@46ead542, org.springframework.security.web.session.ConcurrentSessionFilter@65dfce2f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7b0c4127, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ddc077b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3342ec79, org.springframework.security.web.access.ExceptionTranslationFilter@51e1dffa, org.springframework.security.web.access.intercept.AuthorizationFilter@51173c3a]
2023-07-04 21:18:27,452 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.528 seconds (process running for 4.701)
2023-07-04 21:18:27,754 INFO o.e.j.s.Server [Test worker] Stopped Server@39ee94de{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:27,754 INFO o.e.j.s.Server [Test worker] Shutdown Server@39ee94de{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:27,756 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@53311681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:27,757 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d858300{/,null,STOPPED}
2023-07-04 21:18:27,757 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@60e06f7d{/__admin,null,STOPPED}
2023-07-04 21:18:28,080 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:18:28,081 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@768f12db{/__admin,null,AVAILABLE}
2023-07-04 21:18:28,082 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:18:28,082 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@63f566a0{/,null,AVAILABLE}
2023-07-04 21:18:28,082 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@fd0515a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:28,082 INFO o.e.j.s.Server [Test worker] Started Server@5af87c49{STARTING}[11.0.15,sto=1000] @5332ms
2023-07-04 21:18:28,181 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:18:28,184 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 32048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:18:28,184 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:18:28,184 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:18:28,186 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:28,186 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f52313c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:28,186 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:28,186 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:18:28,187 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:28,187 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7c1048a9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:28,383 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:18:28,386 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:18:28,482 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44f464d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@393a535, org.springframework.security.web.context.SecurityContextHolderFilter@343cb1af, org.springframework.security.web.header.HeaderWriterFilter@79b3937a, org.springframework.security.web.authentication.logout.LogoutFilter@700a8854, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4a86103, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@20c411ea, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@76669d13, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@907a731, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@358afec, org.springframework.security.web.session.ConcurrentSessionFilter@7756d3ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2dc0a0a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@480dce26, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41143491, org.springframework.security.web.access.ExceptionTranslationFilter@9320aed, org.springframework.security.web.access.intercept.AuthorizationFilter@62da0f49]
2023-07-04 21:18:28,524 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:18:28,524 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:18:28,525 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:18:28,577 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.492 seconds (process running for 5.827)
2023-07-04 21:18:28,737 INFO o.e.j.s.Server [Test worker] Stopped Server@5af87c49{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:28,737 INFO o.e.j.s.Server [Test worker] Shutdown Server@5af87c49{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:28,738 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@fd0515a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:28,739 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@63f566a0{/,null,STOPPED}
2023-07-04 21:18:28,739 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@768f12db{/__admin,null,STOPPED}
2023-07-04 21:18:28,750 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:18:28,751 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6cbad7b3{/__admin,null,AVAILABLE}
2023-07-04 21:18:28,751 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:18:28,751 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@389a070e{/,null,AVAILABLE}
2023-07-04 21:18:28,751 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3131c1cb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:28,752 INFO o.e.j.s.Server [Test worker] Started Server@4184aa78{STARTING}[11.0.15,sto=1000] @6001ms
2023-07-04 21:18:28,802 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:18:28,804 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 32048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:18:28,804 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:18:28,804 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:18:28,805 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:28,805 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6e10c0a6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:28,805 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:28,805 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:18:28,805 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:28,805 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@57184af3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:28,946 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:18:28,949 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:18:29,019 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bcc14de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aa6fef3, org.springframework.security.web.context.SecurityContextHolderFilter@cf0d241, org.springframework.security.web.header.HeaderWriterFilter@4e725977, org.springframework.security.web.authentication.logout.LogoutFilter@28e8c2d6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@11de1abe, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7fce8421, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5cef8264, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@22c73577, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@31429a0a, org.springframework.security.web.session.ConcurrentSessionFilter@eb2f0ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@678cf97e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b69ad19, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@119ec2e4, org.springframework.security.web.access.ExceptionTranslationFilter@15ffcd0c, org.springframework.security.web.access.intercept.AuthorizationFilter@4568499e]
2023-07-04 21:18:29,043 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:18:29,043 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:18:29,044 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:18:29,050 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.297 seconds (process running for 6.3)
2023-07-04 21:18:29,106 INFO o.e.j.s.Server [Test worker] Stopped Server@4184aa78{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:29,106 INFO o.e.j.s.Server [Test worker] Shutdown Server@4184aa78{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:29,108 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3131c1cb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:29,108 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@389a070e{/,null,STOPPED}
2023-07-04 21:18:29,108 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6cbad7b3{/__admin,null,STOPPED}
2023-07-04 21:18:29,116 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:18:29,116 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@72c55bf{/__admin,null,AVAILABLE}
2023-07-04 21:18:29,117 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:18:29,117 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@305c8bf{/,null,AVAILABLE}
2023-07-04 21:18:29,117 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@57ddbe75{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:29,117 INFO o.e.j.s.Server [Test worker] Started Server@26b01fae{STARTING}[11.0.15,sto=1000] @6367ms
2023-07-04 21:18:29,161 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:18:29,162 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 32048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:18:29,162 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:18:29,163 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:18:29,164 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:29,164 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@551f927f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:29,164 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:29,164 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:18:29,164 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:29,164 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41be1997 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:29,305 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:18:29,351 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4325123b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67189d14, org.springframework.security.web.context.SecurityContextHolderFilter@34c1c7ea, org.springframework.security.web.header.HeaderWriterFilter@70cfc5ed, org.springframework.security.web.authentication.logout.LogoutFilter@2a3d8a59, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7dab2645, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3b8214eb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25c42395, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@22520d2c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4c96f850, org.springframework.security.web.session.ConcurrentSessionFilter@17b9049, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71986020, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f762353, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@484ab2dc, org.springframework.security.web.access.ExceptionTranslationFilter@7b37d57f, org.springframework.security.web.access.intercept.AuthorizationFilter@56961224]
2023-07-04 21:18:29,375 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:18:29,375 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:18:29,375 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:18:29,384 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.265 seconds (process running for 6.633)
2023-07-04 21:18:29,402 INFO o.e.j.s.Server [Test worker] Stopped Server@26b01fae{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:29,402 INFO o.e.j.s.Server [Test worker] Shutdown Server@26b01fae{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:29,403 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@57ddbe75{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:29,403 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@305c8bf{/,null,STOPPED}
2023-07-04 21:18:29,403 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@72c55bf{/__admin,null,STOPPED}
2023-07-04 21:18:29,423 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:18:29,437 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:18:29,456 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:18:29,572 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:18:29,787 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:18:29,788 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:18:29,804 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:18:29,826 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:18:30,705 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:18:30,773 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 002605fdb84604a0adf14233653aec2dc36dcccce805a83b325ab39c1a91b088
2023-07-04 21:18:31,225 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.418163S
2023-07-04 21:18:31,229 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:18:31,229 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:18:31,230 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:18:31,230 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:18:31,249 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ab52f297a26ebe571be2517998dd3a01143a9698f8b4ec053aa6aa1008adcb14
2023-07-04 21:18:32,333 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.102915S
2023-07-04 21:18:32,333 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60973/test?loggerLevel=OFF)
2023-07-04 21:18:32,338 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:18:32,339 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@51f76744{/__admin,null,AVAILABLE}
2023-07-04 21:18:32,339 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:18:32,339 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5dcb3e4a{/,null,AVAILABLE}
2023-07-04 21:18:32,340 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@567422e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:32,344 INFO o.e.j.s.Server [Test worker] Started Server@5eae33f2{STARTING}[11.0.15,sto=1000] @9593ms
2023-07-04 21:18:32,382 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:18:32,384 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 32048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:18:32,385 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:18:32,385 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:18:32,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:32,386 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6171125d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:32,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:32,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:18:32,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:32,386 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1ed88a33 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:32,442 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:18:32,442 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:18:32,452 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-04 21:18:32,485 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:18:32,550 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@6db89763
2023-07-04 21:18:32,550 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:18:32,564 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:18:32,601 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:18:32,659 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:18:32,665 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:18:32,726 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:18:32,726 INFO l.util [Test worker] Run:                          5
2023-07-04 21:18:32,726 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:18:32,726 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:18:32,726 INFO l.util [Test worker] -------------------------------
2023-07-04 21:18:32,726 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:18:32,726 INFO l.util [Test worker] Update summary generated
2023-07-04 21:18:32,730 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:18:32,735 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:18:32,736 INFO l.command [Test worker] Command execution complete
2023-07-04 21:18:32,744 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:18:32,749 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:18:32,749 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:18:32,750 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@54d06bc6
2023-07-04 21:18:32,760 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:18:32,783 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:18:32,785 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:32,785 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:18:32,786 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:32,786 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:18:32,787 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:32,787 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:18:32,788 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:32,788 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:18:32,789 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:32,789 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:18:32,795 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:18:32,795 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:18:32,861 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.514 seconds (process running for 10.11)
2023-07-04 21:18:32,968 INFO o.e.j.s.Server [Test worker] Stopped Server@5eae33f2{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:32,968 INFO o.e.j.s.Server [Test worker] Shutdown Server@5eae33f2{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:32,969 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@567422e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:32,969 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5dcb3e4a{/,null,STOPPED}
2023-07-04 21:18:32,970 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@51f76744{/__admin,null,STOPPED}
2023-07-04 21:18:33,168 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:18:33,169 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-07-04 21:18:33,315 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-07-04 21:18:33,317 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:18:33,319 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:18:33,320 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:18:33,338 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: cf6954bf2b433fc8e1eaeccbdb677919ce3eff93c07e72fc20fb831140a300c0
2023-07-04 21:18:34,368 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.047654S
2023-07-04 21:18:34,368 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60988/test?loggerLevel=OFF)
2023-07-04 21:18:34,370 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:18:34,371 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41d294ff{/__admin,null,AVAILABLE}
2023-07-04 21:18:34,371 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:18:34,371 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@71644fdf{/,null,AVAILABLE}
2023-07-04 21:18:34,371 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@837ef79{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:34,371 INFO o.e.j.s.Server [Test worker] Started Server@68ba4819{STARTING}[11.0.15,sto=1000] @11621ms
2023-07-04 21:18:34,421 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:18:34,422 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 32048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:18:34,422 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:18:34,422 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:18:34,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:34,424 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5a3b5af uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:34,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:34,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:18:34,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:18:34,424 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@331a2d17 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:18:34,466 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:18:34,466 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:18:34,473 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 2 JPA repository interfaces.
2023-07-04 21:18:34,490 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-07-04 21:18:34,518 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@57c175f0
2023-07-04 21:18:34,518 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-07-04 21:18:34,526 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:18:34,543 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:18:34,574 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:18:34,578 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:18:34,596 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:18:34,596 INFO l.util [Test worker] Run:                          5
2023-07-04 21:18:34,597 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:18:34,597 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:18:34,597 INFO l.util [Test worker] -------------------------------
2023-07-04 21:18:34,597 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:18:34,597 INFO l.util [Test worker] Update summary generated
2023-07-04 21:18:34,601 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:18:34,607 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:18:34,608 INFO l.command [Test worker] Command execution complete
2023-07-04 21:18:34,615 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:18:34,618 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:18:34,618 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:18:34,619 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@56563440
2023-07-04 21:18:34,629 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:18:34,648 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:18:34,649 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:34,649 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:18:34,649 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:34,649 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:18:34,650 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:34,650 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:18:34,650 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:34,650 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:18:34,651 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:18:34,651 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:18:34,657 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:18:34,657 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:18:34,704 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 0.332 seconds (process running for 11.954)
2023-07-04 21:18:34,747 INFO o.e.j.s.Server [Test worker] Stopped Server@68ba4819{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:34,747 INFO o.e.j.s.Server [Test worker] Shutdown Server@68ba4819{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:18:34,749 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@837ef79{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:18:34,749 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@71644fdf{/,null,STOPPED}
2023-07-04 21:18:34,749 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41d294ff{/__admin,null,STOPPED}
2023-07-04 21:18:34,903 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:18:34,904 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-07-04 21:18:34,928 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-07-04 21:18:35,111 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:18:35,111 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:18:35,112 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:21:47,489 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:21:47,539 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:21:48,072 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:21:48,083 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@60e06f7d{/__admin,null,AVAILABLE}
2023-07-04 21:21:48,087 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:21:48,087 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d858300{/,null,AVAILABLE}
2023-07-04 21:21:48,090 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@53311681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:48,095 INFO o.e.j.s.Server [Test worker] Started Server@39ee94de{STARTING}[11.0.15,sto=1000] @1143ms
2023-07-04 21:21:48,417 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:21:48,423 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:48,430 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:48,430 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:48,430 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:48,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:48,446 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@236c098 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:48,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:48,447 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:48,447 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:48,447 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@755a7218 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:48,789 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:21:48,790 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:21:48,861 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2023-07-04 21:21:48,870 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:21:48,870 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:21:48,878 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:21:48,878 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:21:48,878 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:21:49,007 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:21:49,053 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:21:49,075 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:21:49,215 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:21:49,353 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:21:49,409 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5cff6d1d
2023-07-04 21:21:49,410 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:21:49,483 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:21:49,542 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:21:49,743 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:21:49,789 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:21:49,793 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:21:49,793 INFO l.util [Test worker] Run:                          0
2023-07-04 21:21:49,793 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:21:49,793 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:21:49,793 INFO l.util [Test worker] -------------------------------
2023-07-04 21:21:49,793 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:21:49,794 INFO l.util [Test worker] Update summary generated
2023-07-04 21:21:49,795 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:21:49,798 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:21:49,798 INFO l.command [Test worker] Command execution complete
2023-07-04 21:21:49,845 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:21:49,874 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:21:49,875 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:21:49,938 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:21:50,009 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:21:50,024 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@62284954
2023-07-04 21:21:50,133 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:21:50,456 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:21:50,505 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:21:50,506 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:21:50,655 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:21:50,962 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:21:51,018 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:21:51,275 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@904b224, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e9ae46f, org.springframework.security.web.context.SecurityContextHolderFilter@2aea50a6, org.springframework.security.web.header.HeaderWriterFilter@28c776f2, org.springframework.security.web.authentication.logout.LogoutFilter@50a65fb9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7a01358f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1bf18ca8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41854000, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@794ca18b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4efca68, org.springframework.security.web.session.ConcurrentSessionFilter@2a67ed1f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e7535a4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a3e5552, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@437231f5, org.springframework.security.web.access.ExceptionTranslationFilter@2de77ecf, org.springframework.security.web.access.intercept.AuthorizationFilter@24fc59e3]
2023-07-04 21:21:51,630 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.513 seconds (process running for 4.679)
2023-07-04 21:21:51,934 INFO o.e.j.s.Server [Test worker] Stopped Server@39ee94de{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:51,934 INFO o.e.j.s.Server [Test worker] Shutdown Server@39ee94de{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:51,937 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@53311681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:51,938 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d858300{/,null,STOPPED}
2023-07-04 21:21:51,938 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@60e06f7d{/__admin,null,STOPPED}
2023-07-04 21:21:52,261 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:21:52,262 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@513f965e{/__admin,null,AVAILABLE}
2023-07-04 21:21:52,262 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:21:52,262 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2affcf6b{/,null,AVAILABLE}
2023-07-04 21:21:52,262 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5bb7e5d7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:52,263 INFO o.e.j.s.Server [Test worker] Started Server@56f8032{STARTING}[11.0.15,sto=1000] @5311ms
2023-07-04 21:21:52,335 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:52,337 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:52,337 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:52,337 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:52,340 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:52,340 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4404dee7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:52,340 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:52,340 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:52,340 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:52,340 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@722dd1df uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:52,584 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:21:52,588 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:21:52,678 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ba947fe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62e06e2e, org.springframework.security.web.context.SecurityContextHolderFilter@60e50c6, org.springframework.security.web.header.HeaderWriterFilter@23d7dad, org.springframework.security.web.authentication.logout.LogoutFilter@7842ad22, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2e26eed3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@43e07d88, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@690406d0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6e0c20b8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@222c53c7, org.springframework.security.web.session.ConcurrentSessionFilter@579e30b7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21886b18, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48b1ba91, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6bd7f3d4, org.springframework.security.web.access.ExceptionTranslationFilter@eb52295, org.springframework.security.web.access.intercept.AuthorizationFilter@32640b6d]
2023-07-04 21:21:52,720 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:21:52,720 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:21:52,721 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:21:52,779 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.514 seconds (process running for 5.828)
2023-07-04 21:21:52,942 INFO o.e.j.s.Server [Test worker] Stopped Server@56f8032{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:52,942 INFO o.e.j.s.Server [Test worker] Shutdown Server@56f8032{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:52,943 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5bb7e5d7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:52,944 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2affcf6b{/,null,STOPPED}
2023-07-04 21:21:52,944 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@513f965e{/__admin,null,STOPPED}
2023-07-04 21:21:52,955 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:21:52,956 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@29ed425e{/__admin,null,AVAILABLE}
2023-07-04 21:21:52,956 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:21:52,956 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@356b37dd{/,null,AVAILABLE}
2023-07-04 21:21:52,956 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@389a070e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:52,956 INFO o.e.j.s.Server [Test worker] Started Server@43fe629a{STARTING}[11.0.15,sto=1000] @6005ms
2023-07-04 21:21:53,007 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:53,009 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:53,009 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:53,009 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:53,010 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:53,010 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41566d56 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:53,010 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:53,011 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:53,011 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:53,011 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@75a9e1ad uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:53,167 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:21:53,170 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:21:53,236 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70fd626f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31b1e3ab, org.springframework.security.web.context.SecurityContextHolderFilter@452811e3, org.springframework.security.web.header.HeaderWriterFilter@2d991631, org.springframework.security.web.authentication.logout.LogoutFilter@74562f15, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1b5b5ac9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5eb0f030, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13ea5530, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6360463, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@68d9a4dd, org.springframework.security.web.session.ConcurrentSessionFilter@6a8ebb66, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cb17098, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@197cc9a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29db3f23, org.springframework.security.web.access.ExceptionTranslationFilter@7a287117, org.springframework.security.web.access.intercept.AuthorizationFilter@3d3bd9e3]
2023-07-04 21:21:53,259 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:21:53,259 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:21:53,259 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:21:53,266 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.308 seconds (process running for 6.315)
2023-07-04 21:21:53,322 INFO o.e.j.s.Server [Test worker] Stopped Server@43fe629a{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:53,322 INFO o.e.j.s.Server [Test worker] Shutdown Server@43fe629a{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:53,323 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@389a070e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:53,323 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@356b37dd{/,null,STOPPED}
2023-07-04 21:21:53,324 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@29ed425e{/__admin,null,STOPPED}
2023-07-04 21:21:53,332 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:21:53,332 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1ebc4539{/__admin,null,AVAILABLE}
2023-07-04 21:21:53,333 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:21:53,333 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c21497b{/,null,AVAILABLE}
2023-07-04 21:21:53,333 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@64342f87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:53,333 INFO o.e.j.s.Server [Test worker] Started Server@56984e92{STARTING}[11.0.15,sto=1000] @6382ms
2023-07-04 21:21:53,383 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:53,385 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:53,385 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:53,385 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:53,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:53,386 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4d957f5a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:53,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:53,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:53,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:53,386 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b3e2f54 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:53,523 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:21:53,566 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cf9430a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@335303b6, org.springframework.security.web.context.SecurityContextHolderFilter@16b578a3, org.springframework.security.web.header.HeaderWriterFilter@5494cf4b, org.springframework.security.web.authentication.logout.LogoutFilter@1ee7aa6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@38f2eee5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4abb8817, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ce2e026, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@419ae488, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@25becefb, org.springframework.security.web.session.ConcurrentSessionFilter@127302ec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39e89589, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b74fb68, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e86f9ba, org.springframework.security.web.access.ExceptionTranslationFilter@475d15e1, org.springframework.security.web.access.intercept.AuthorizationFilter@7b0579c1]
2023-07-04 21:21:53,587 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:21:53,587 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:21:53,587 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:21:53,595 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.26 seconds (process running for 6.643)
2023-07-04 21:21:53,612 INFO o.e.j.s.Server [Test worker] Stopped Server@56984e92{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:53,612 INFO o.e.j.s.Server [Test worker] Shutdown Server@56984e92{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:53,612 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@64342f87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:53,612 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c21497b{/,null,STOPPED}
2023-07-04 21:21:53,613 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1ebc4539{/__admin,null,STOPPED}
2023-07-04 21:21:53,631 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:21:53,645 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:21:53,662 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:21:53,767 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:21:53,950 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:21:53,951 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:21:53,970 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:21:53,992 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:21:54,807 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:21:54,879 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: fa7bda2fa19a19424f72fe69b6459cfb79e35a73083ee5c71ea201747ad45c86
2023-07-04 21:21:55,296 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.322963S
2023-07-04 21:21:55,301 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:21:55,301 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:21:55,302 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:21:55,302 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:21:55,324 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d638dc9d3c7b0002666a46cfdc7633cedbd481bf7f259e5b6200c2a58a9b6769
2023-07-04 21:21:56,421 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.119456S
2023-07-04 21:21:56,422 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61025/test?loggerLevel=OFF)
2023-07-04 21:21:56,427 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:21:56,428 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2ddbc030{/__admin,null,AVAILABLE}
2023-07-04 21:21:56,429 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:21:56,429 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2c660e1a{/,null,AVAILABLE}
2023-07-04 21:21:56,429 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6f66d1ee{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:56,430 INFO o.e.j.s.Server [Test worker] Started Server@50fededc{STARTING}[11.0.15,sto=1000] @9478ms
2023-07-04 21:21:56,488 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:56,491 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:56,491 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:56,491 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:56,492 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:56,492 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3d3a30e5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:56,492 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:56,492 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:56,493 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:56,493 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@30c8f117 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:56,545 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:21:56,545 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:21:56,556 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2023-07-04 21:21:56,586 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:21:56,636 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@4254821c
2023-07-04 21:21:56,636 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:21:56,644 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:21:56,678 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:21:56,741 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:21:56,745 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:21:56,807 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:21:56,807 INFO l.util [Test worker] Run:                          5
2023-07-04 21:21:56,807 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:21:56,807 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:21:56,807 INFO l.util [Test worker] -------------------------------
2023-07-04 21:21:56,807 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:21:56,807 INFO l.util [Test worker] Update summary generated
2023-07-04 21:21:56,811 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:21:56,817 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:21:56,818 INFO l.command [Test worker] Command execution complete
2023-07-04 21:21:56,826 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:21:56,830 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:21:56,830 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:21:56,831 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6216fce3
2023-07-04 21:21:56,840 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:21:56,860 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:21:56,862 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:21:56,862 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:21:56,863 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:21:56,863 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:21:56,864 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:21:56,864 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:21:56,865 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:21:56,865 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:21:56,866 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:21:56,866 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:21:56,873 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:21:56,873 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:21:56,933 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.5 seconds (process running for 9.982)
2023-07-04 21:21:57,028 INFO o.e.j.s.Server [Test worker] Stopped Server@50fededc{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:57,028 INFO o.e.j.s.Server [Test worker] Shutdown Server@50fededc{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:57,030 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6f66d1ee{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:57,030 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2c660e1a{/,null,STOPPED}
2023-07-04 21:21:57,030 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2ddbc030{/__admin,null,STOPPED}
2023-07-04 21:21:57,217 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:21:57,218 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-07-04 21:21:57,383 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-07-04 21:21:57,385 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:21:57,387 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:21:57,389 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:21:57,393 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4af4d738{/__admin,null,AVAILABLE}
2023-07-04 21:21:57,396 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:21:57,396 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6931e110{/,null,AVAILABLE}
2023-07-04 21:21:57,396 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@30c338c8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:57,397 INFO o.e.j.s.Server [Test worker] Started Server@70691683{STARTING}[11.0.15,sto=1000] @10445ms
2023-07-04 21:21:57,423 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:57,424 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:57,424 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:57,424 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:57,425 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,425 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2d2ffced uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:57,425 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,425 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:57,425 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,425 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58b32a24 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:57,459 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
2023-07-04 21:21:57,465 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-04 21:21:57,473 ERROR o.s.b.SpringApplication [Test worker] Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219)
	at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514)
	... 110 common frames omitted
Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started
	at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)
	at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:161)
	at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:93)
	at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 116 common frames omitted
2023-07-04 21:21:57,476 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@d036aad]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@3773cfeb testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4dae054b, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1004a7cb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@173b9122, [ImportsContextCustomizer@2b834e4f key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70e29e14, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@42a9a63e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@518cce73], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219)
	at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514)
	... 110 common frames omitted
Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started
	at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)
	at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:161)
	at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:93)
	at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 116 common frames omitted
2023-07-04 21:21:57,506 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:57,507 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:57,507 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:57,507 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:57,508 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,508 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@45d7ba13 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:57,508 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,508 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:57,508 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,508 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e96ad97 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:57,531 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
2023-07-04 21:21:57,531 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-04 21:21:57,532 ERROR o.s.b.SpringApplication [Test worker] Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219)
	at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514)
	... 110 common frames omitted
Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started
	at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)
	at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:161)
	at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:93)
	at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 116 common frames omitted
2023-07-04 21:21:57,533 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@6634bfeb]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@3773cfeb testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4dae054b, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1004a7cb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@173b9122, [ImportsContextCustomizer@2b834e4f key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70e29e14, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@42a9a63e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@518cce73], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219)
	at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514)
	... 110 common frames omitted
Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started
	at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)
	at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:161)
	at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:93)
	at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 116 common frames omitted
2023-07-04 21:21:57,563 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:21:57,565 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 32521 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:21:57,565 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:21:57,565 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:21:57,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,566 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2df593ac uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:57,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:21:57,566 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:21:57,566 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@8ea6dac uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:21:57,594 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
2023-07-04 21:21:57,594 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-04 21:21:57,596 ERROR o.s.b.SpringApplication [Test worker] Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219)
	at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514)
	... 110 common frames omitted
Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started
	at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)
	at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:161)
	at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:93)
	at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 116 common frames omitted
2023-07-04 21:21:57,598 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@6c9837e0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@3773cfeb testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@4dae054b, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1004a7cb, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@173b9122, [ImportsContextCustomizer@2b834e4f key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70e29e14, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@42a9a63e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@518cce73], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to process import candidates for configuration class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:524)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.lambda$processGroupImports$1(ConfigurationClassParser.java:726)
	at java.base/java.lang.Iterable.forEach(Iterable.java:75)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorGroupingHandler.processGroupImports(ConfigurationClassParser.java:723)
	at org.springframework.context.annotation.ConfigurationClassParser$DeferredImportSelectorHandler.process(ConfigurationClassParser.java:694)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:182)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseConfiguration
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)
	at org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:219)
	at org.springframework.context.annotation.ConfigurationClassParser.processMemberClasses(ConfigurationClassParser.java:365)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:265)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.processImports(ConfigurationClassParser.java:514)
	... 110 common frames omitted
Caused by: java.lang.IllegalStateException: Mapped port can only be obtained after the container is started
	at org.testcontainers.shaded.com.google.common.base.Preconditions.checkState(Preconditions.java:174)
	at org.testcontainers.containers.ContainerState.getMappedPort(ContainerState.java:161)
	at org.testcontainers.containers.PostgreSQLContainer.getJdbcUrl(PostgreSQLContainer.java:93)
	at org.springframework.test.context.support.DynamicValuesPropertySource.getProperty(DynamicValuesPropertySource.java:43)
	at org.springframework.core.env.PropertySourcesPropertyResolver.getProperty(PropertySourcesPropertyResolver.java:85)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:123)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.findPropertyValue(ConfigurationPropertySourcesPropertyResolver.java:97)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:74)
	at org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver.getProperty(ConfigurationPropertySourcesPropertyResolver.java:60)
	at org.springframework.core.env.AbstractEnvironment.getProperty(AbstractEnvironment.java:552)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.hasDataSourceUrlProperty(DataSourceAutoConfiguration.java:156)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration$EmbeddedDatabaseCondition.getMatchOutcome(DataSourceAutoConfiguration.java:139)
	at org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)
	... 116 common frames omitted
2023-07-04 21:21:57,602 INFO o.e.j.s.Server [Test worker] Stopped Server@70691683{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:57,602 INFO o.e.j.s.Server [Test worker] Shutdown Server@70691683{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:21:57,604 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@30c338c8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:21:57,604 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6931e110{/,null,STOPPED}
2023-07-04 21:21:57,604 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4af4d738{/__admin,null,STOPPED}
2023-07-04 21:21:57,753 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:21:57,754 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:21:57,754 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:25:09,753 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:25:09,815 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:25:10,410 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:25:10,423 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:25:10,427 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:25:10,427 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:25:10,430 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:10,436 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @1361ms
2023-07-04 21:25:10,762 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:25:10,768 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:25:10,776 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 33011 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:25:10,776 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:25:10,776 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:25:10,794 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:10,794 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:10,795 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:10,795 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:25:10,795 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:10,795 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:11,218 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:25:11,219 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:25:11,302 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 79 ms. Found 2 JPA repository interfaces.
2023-07-04 21:25:11,312 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:25:11,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:25:11,323 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:25:11,323 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:25:11,323 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-04 21:25:11,483 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:25:11,530 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:25:11,550 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:25:11,716 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:25:11,885 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:25:11,958 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2f98fe6f
2023-07-04 21:25:11,958 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:25:12,022 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:25:12,092 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:25:12,302 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:25:12,363 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:25:12,368 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:25:12,368 INFO l.util [Test worker] Run:                          0
2023-07-04 21:25:12,368 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:25:12,368 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:25:12,368 INFO l.util [Test worker] -------------------------------
2023-07-04 21:25:12,368 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:25:12,369 INFO l.util [Test worker] Update summary generated
2023-07-04 21:25:12,371 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:25:12,374 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:25:12,374 INFO l.command [Test worker] Command execution complete
2023-07-04 21:25:12,418 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:25:12,453 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:25:12,454 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:25:12,515 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:25:12,583 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:25:12,601 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1b3a1e42
2023-07-04 21:25:12,738 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:25:13,090 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:25:13,141 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:25:13,303 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:25:13,641 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:25:13,696 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:25:14,028 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c7ac542, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@13676beb, org.springframework.security.web.context.SecurityContextHolderFilter@6fcb2e2d, org.springframework.security.web.header.HeaderWriterFilter@1257e0fd, org.springframework.security.web.authentication.logout.LogoutFilter@21da6808, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@36598d1d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@651a4c4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@136fea21, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2265792c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@50242325, org.springframework.security.web.session.ConcurrentSessionFilter@41854000, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1cbd2c1a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3342ec79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@697607a5, org.springframework.security.web.access.ExceptionTranslationFilter@53c6c1e6, org.springframework.security.web.access.intercept.AuthorizationFilter@5a1dda88]
2023-07-04 21:25:14,521 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 4.062 seconds (process running for 5.445)
2023-07-04 21:25:14,932 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:14,932 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:14,935 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:14,937 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:25:14,937 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:25:15,690 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:25:15,693 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e2e653d{/__admin,null,AVAILABLE}
2023-07-04 21:25:15,696 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:25:15,697 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5bfe65df{/,null,AVAILABLE}
2023-07-04 21:25:15,697 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1bdbf918{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:15,698 INFO o.e.j.s.Server [Test worker] Started Server@607229c7{STARTING}[11.0.15,sto=1000] @6623ms
2023-07-04 21:25:15,840 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:25:15,858 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 33011 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:25:15,859 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:25:15,859 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:25:15,863 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:15,863 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2f832f81 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:15,863 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:15,863 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:25:15,863 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:15,863 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@12d0699d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:16,262 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:25:16,266 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:25:16,431 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@10320992, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2adc9300, org.springframework.security.web.context.SecurityContextHolderFilter@19dfeb17, org.springframework.security.web.header.HeaderWriterFilter@7f180c74, org.springframework.security.web.authentication.logout.LogoutFilter@3c844476, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2eb28cd8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@308bca8c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@707d4078, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3948f7b9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@446de37d, org.springframework.security.web.session.ConcurrentSessionFilter@1e1e53f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ae125f2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5525ff76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e891508, org.springframework.security.web.access.ExceptionTranslationFilter@8cf705e, org.springframework.security.web.access.intercept.AuthorizationFilter@382b008d]
2023-07-04 21:25:16,492 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:25:16,494 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:25:16,496 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:25:16,594 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.885 seconds (process running for 7.519)
2023-07-04 21:25:16,845 INFO o.e.j.s.Server [Test worker] Stopped Server@607229c7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:16,846 INFO o.e.j.s.Server [Test worker] Shutdown Server@607229c7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:16,858 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1bdbf918{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:16,858 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5bfe65df{/,null,STOPPED}
2023-07-04 21:25:16,859 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e2e653d{/__admin,null,STOPPED}
2023-07-04 21:25:16,873 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:25:16,875 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@371ce753{/__admin,null,AVAILABLE}
2023-07-04 21:25:16,876 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:25:16,876 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@370babf4{/,null,AVAILABLE}
2023-07-04 21:25:16,877 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f91d389{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:16,877 INFO o.e.j.s.Server [Test worker] Started Server@43defae6{STARTING}[11.0.15,sto=1000] @7802ms
2023-07-04 21:25:16,944 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:25:16,947 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 33011 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:25:16,947 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:25:16,947 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:25:16,949 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:16,949 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4a0d46d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:16,949 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:16,950 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:25:16,950 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:16,950 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@512b5339 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:17,233 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:25:17,238 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:25:17,355 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27a38107, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52eaa71c, org.springframework.security.web.context.SecurityContextHolderFilter@6cd4b0da, org.springframework.security.web.header.HeaderWriterFilter@46296315, org.springframework.security.web.authentication.logout.LogoutFilter@306f7658, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@d0f1671, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@46196c3e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2358a9f9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e5501b7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5f1f59e3, org.springframework.security.web.session.ConcurrentSessionFilter@4432c7bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61b4da5c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c882cb4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@396e2498, org.springframework.security.web.access.ExceptionTranslationFilter@60bdba16, org.springframework.security.web.access.intercept.AuthorizationFilter@be1f3d6]
2023-07-04 21:25:17,394 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:25:17,394 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:25:17,396 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:25:17,419 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.54 seconds (process running for 8.344)
2023-07-04 21:25:17,543 INFO o.e.j.s.Server [Test worker] Stopped Server@43defae6{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:17,543 INFO o.e.j.s.Server [Test worker] Shutdown Server@43defae6{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:17,544 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f91d389{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:17,544 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@370babf4{/,null,STOPPED}
2023-07-04 21:25:17,544 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@371ce753{/__admin,null,STOPPED}
2023-07-04 21:25:17,557 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:25:17,558 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@614eceb{/__admin,null,AVAILABLE}
2023-07-04 21:25:17,559 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:25:17,559 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1e3d947d{/,null,AVAILABLE}
2023-07-04 21:25:17,559 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@314ba270{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:17,560 INFO o.e.j.s.Server [Test worker] Started Server@56c8c77e{STARTING}[11.0.15,sto=1000] @8484ms
2023-07-04 21:25:17,645 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:25:17,649 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 33011 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:25:17,650 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:25:17,650 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:25:17,652 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:17,652 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a09c65 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:17,652 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:17,652 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:25:17,652 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:17,652 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@52fc2577 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:17,825 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:25:17,878 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@338e70c8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f9a4e75, org.springframework.security.web.context.SecurityContextHolderFilter@1cfbcd9f, org.springframework.security.web.header.HeaderWriterFilter@466f2aaf, org.springframework.security.web.authentication.logout.LogoutFilter@67c8dfea, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6f2a705c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4ebcd5dc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5357ce45, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@56208ee4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2720786f, org.springframework.security.web.session.ConcurrentSessionFilter@519910b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70207dcb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f251b32, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ae8bf28, org.springframework.security.web.access.ExceptionTranslationFilter@67517ccf, org.springframework.security.web.access.intercept.AuthorizationFilter@52565dea]
2023-07-04 21:25:17,905 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:25:17,905 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:25:17,905 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:25:17,916 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.351 seconds (process running for 8.841)
2023-07-04 21:25:17,938 INFO o.e.j.s.Server [Test worker] Stopped Server@56c8c77e{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:17,938 INFO o.e.j.s.Server [Test worker] Shutdown Server@56c8c77e{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:17,938 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@314ba270{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:17,939 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1e3d947d{/,null,STOPPED}
2023-07-04 21:25:17,939 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@614eceb{/__admin,null,STOPPED}
2023-07-04 21:25:17,961 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:25:17,991 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:25:17,997 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:25:17,998 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7599111e{/__admin,null,AVAILABLE}
2023-07-04 21:25:17,999 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:25:17,999 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57368c72{/,null,AVAILABLE}
2023-07-04 21:25:17,999 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@111698ac{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:18,000 INFO o.e.j.s.Server [Test worker] Started Server@6448398f{STARTING}[11.0.15,sto=1000] @8924ms
2023-07-04 21:25:18,027 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:25:18,202 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:25:18,656 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:25:18,657 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:25:18,709 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:25:18,763 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:25:19,996 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:25:20,565 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: e4a36d37e92e2488055a71b1deee85a41adc95ccb8ba572003a5b6e79f046642
2023-07-04 21:25:21,501 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.787516S
2023-07-04 21:25:21,509 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:25:21,510 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:25:21,510 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:25:21,512 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:25:21,565 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 6efef46120dfdcaf7bd051b9a42043c5736a058b863aaeece64d569fdb6bd1b1
2023-07-04 21:25:23,325 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.813962S
2023-07-04 21:25:23,335 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61094/test?loggerLevel=OFF)
2023-07-04 21:25:23,420 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:25:23,424 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 33011 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:25:23,424 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:25:23,424 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:25:23,427 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:23,427 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f1dbd13 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:23,427 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:23,427 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:25:23,427 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:25:23,427 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2359b4fe uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:25:23,543 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:25:23,543 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:25:23,558 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 14 ms. Found 2 JPA repository interfaces.
2023-07-04 21:25:23,595 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:25:23,682 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5c0d967e
2023-07-04 21:25:23,682 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:25:23,707 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:25:23,770 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:25:23,856 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:25:23,874 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:25:23,983 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:25:23,983 INFO l.util [Test worker] Run:                          5
2023-07-04 21:25:23,983 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:25:23,983 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:25:23,983 INFO l.util [Test worker] -------------------------------
2023-07-04 21:25:23,983 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:25:23,984 INFO l.util [Test worker] Update summary generated
2023-07-04 21:25:23,992 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:25:24,002 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:25:24,003 INFO l.command [Test worker] Command execution complete
2023-07-04 21:25:24,016 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:25:24,022 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:25:24,022 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:25:24,024 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@51d9be0b
2023-07-04 21:25:24,051 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:25:24,084 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:25:24,114 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:25:24,207 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.866 seconds (process running for 15.132)
2023-07-04 21:25:24,346 INFO o.e.j.s.Server [Test worker] Stopped Server@6448398f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:24,346 INFO o.e.j.s.Server [Test worker] Shutdown Server@6448398f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:25:24,348 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@111698ac{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:24,349 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57368c72{/,null,STOPPED}
2023-07-04 21:25:24,349 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7599111e{/__admin,null,STOPPED}
2023-07-04 21:25:24,683 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:25:24,691 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:25:24,700 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:25:24,702 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@729f1db0{/__admin,null,AVAILABLE}
2023-07-04 21:25:24,702 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:25:24,702 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@331a2d17{/,null,AVAILABLE}
2023-07-04 21:25:24,702 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@529df2e7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:25:24,702 INFO o.e.j.s.Server [Test worker] Started Server@318fdc27{STARTING}[11.0.15,sto=1000] @15627ms
2023-07-04 21:25:24,703 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:25:24,730 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 94c031c62714df8206b4d51e90334b9c9d8517a5b8d851e25d0eee7f43678797
2023-07-04 21:25:26,311 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.607699S
2023-07-04 21:25:26,312 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61114/test?loggerLevel=OFF)
2023-07-04 21:25:26,319 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@5c0d967e (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,320 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@257e54b2 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,320 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@4e25b492 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,320 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@612070f5 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,321 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@5d9dcca0 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,321 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@6a6b06a4 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,321 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@1c6c059e (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,321 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@559100ea (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,321 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@3fbcb4c1 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:26,321 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@6e22f6ba (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:25:56,331 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:25:56,337 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30007ms.
2023-07-04 21:25:56,340 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:61094 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:25:56,351 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@26a190fd]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30007ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30007ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:61094 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:26:26,383 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:26:26,388 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30005ms.
2023-07-04 21:26:26,388 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:61094 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:26:26,390 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@59fc62ff]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30005ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30005ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:61094 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:26:56,432 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:26:56,440 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30005ms.
2023-07-04 21:26:56,441 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:61094 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:26:56,443 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@2603c822]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30005ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30005ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:61094 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:26:56,473 INFO o.e.j.s.Server [Test worker] Stopped Server@318fdc27{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:26:56,474 INFO o.e.j.s.Server [Test worker] Shutdown Server@318fdc27{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:26:56,476 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@529df2e7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:26:56,477 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@331a2d17{/,null,STOPPED}
2023-07-04 21:26:56,477 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@729f1db0{/__admin,null,STOPPED}
2023-07-04 21:26:56,992 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:26:56,996 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:26:57,000 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:26:57,013 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:26:57,014 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:27:01,588 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:29:27,945 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:29:28,001 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:29:28,526 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:29:28,535 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:29:28,538 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:29:28,538 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:29:28,541 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:28,551 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @1151ms
2023-07-04 21:29:28,872 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:29:28,877 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:29:28,884 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 33610 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:29:28,884 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:29:28,884 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:29:28,896 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:28,897 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:28,897 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:28,897 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:29:28,897 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:28,897 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:29,242 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:29:29,242 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:29:29,311 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 2 JPA repository interfaces.
2023-07-04 21:29:29,319 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:29:29,320 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:29:29,327 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:29:29,328 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:29:29,328 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:29:29,465 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:29:29,511 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:29:29,529 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:29:29,667 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:29:29,813 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:29:29,872 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2f98fe6f
2023-07-04 21:29:29,873 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:29:29,945 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:29:30,025 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:29:30,233 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:29:30,284 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:29:30,293 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:29:30,293 INFO l.util [Test worker] Run:                          0
2023-07-04 21:29:30,293 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:29:30,293 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:29:30,293 INFO l.util [Test worker] -------------------------------
2023-07-04 21:29:30,293 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:29:30,294 INFO l.util [Test worker] Update summary generated
2023-07-04 21:29:30,296 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:29:30,300 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:29:30,300 INFO l.command [Test worker] Command execution complete
2023-07-04 21:29:30,363 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:29:30,385 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:29:30,386 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:29:30,442 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:29:30,496 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:29:30,510 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1b3a1e42
2023-07-04 21:29:30,615 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:29:30,936 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:29:30,974 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:29:30,976 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:29:31,129 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:29:31,438 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:29:31,484 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:29:31,749 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7060c1cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d9ad64f, org.springframework.security.web.context.SecurityContextHolderFilter@1d502d6c, org.springframework.security.web.header.HeaderWriterFilter@62ce5261, org.springframework.security.web.authentication.logout.LogoutFilter@1e7535a4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7a977d23, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51173c3a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1785e670, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2e884ee5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6844b46a, org.springframework.security.web.session.ConcurrentSessionFilter@7eb0c144, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@226715da, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51e1dffa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53c6c1e6, org.springframework.security.web.access.ExceptionTranslationFilter@4be2f788, org.springframework.security.web.access.intercept.AuthorizationFilter@794ca18b]
2023-07-04 21:29:32,084 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.51 seconds (process running for 4.684)
2023-07-04 21:29:32,387 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:32,387 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:32,394 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:32,396 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:29:32,396 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:29:32,730 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:29:32,731 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4f7ef133{/__admin,null,AVAILABLE}
2023-07-04 21:29:32,731 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:29:32,731 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d4493cc{/,null,AVAILABLE}
2023-07-04 21:29:32,732 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@301f6e51{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:32,732 INFO o.e.j.s.Server [Test worker] Started Server@50c20924{STARTING}[11.0.15,sto=1000] @5332ms
2023-07-04 21:29:32,813 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:29:32,815 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 33610 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:29:32,815 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:29:32,815 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:29:32,817 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:32,817 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5747a07c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:32,817 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:32,817 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:29:32,817 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:32,817 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@c9ec20e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:33,027 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:29:33,031 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:29:33,119 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5f3e07b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1229de5e, org.springframework.security.web.context.SecurityContextHolderFilter@30dd7cc5, org.springframework.security.web.header.HeaderWriterFilter@41ef5f05, org.springframework.security.web.authentication.logout.LogoutFilter@7b41ae7e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@181ab814, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6eded737, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44667128, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4349ce6c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@a56d443, org.springframework.security.web.session.ConcurrentSessionFilter@6e8ab407, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43f41fe0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@785877ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d4e0b10, org.springframework.security.web.access.ExceptionTranslationFilter@62e23701, org.springframework.security.web.access.intercept.AuthorizationFilter@4d2acd3c]
2023-07-04 21:29:33,160 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:29:33,162 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:29:33,162 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:29:33,228 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.494 seconds (process running for 5.829)
2023-07-04 21:29:33,390 INFO o.e.j.s.Server [Test worker] Stopped Server@50c20924{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:33,390 INFO o.e.j.s.Server [Test worker] Shutdown Server@50c20924{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:33,391 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@301f6e51{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:33,391 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d4493cc{/,null,STOPPED}
2023-07-04 21:29:33,391 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4f7ef133{/__admin,null,STOPPED}
2023-07-04 21:29:33,402 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:29:33,404 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@78c93cdc{/__admin,null,AVAILABLE}
2023-07-04 21:29:33,404 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:29:33,404 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7609b7c5{/,null,AVAILABLE}
2023-07-04 21:29:33,404 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@508ea8c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:33,404 INFO o.e.j.s.Server [Test worker] Started Server@1d03099a{STARTING}[11.0.15,sto=1000] @6005ms
2023-07-04 21:29:33,453 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:29:33,455 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 33610 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:29:33,455 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:29:33,455 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:29:33,456 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:33,457 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@15f4dffe uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:33,457 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:33,457 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:29:33,457 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:33,457 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7fe915ca uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:33,607 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:29:33,609 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:29:33,678 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@342dc6d4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d5bd2f, org.springframework.security.web.context.SecurityContextHolderFilter@77d68cd6, org.springframework.security.web.header.HeaderWriterFilter@5961a37e, org.springframework.security.web.authentication.logout.LogoutFilter@37e4c18, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3e97cdeb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4f7848ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7124d407, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@76d8a94, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3965b638, org.springframework.security.web.session.ConcurrentSessionFilter@4182abba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c80dfd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53e62429, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e36d9ff, org.springframework.security.web.access.ExceptionTranslationFilter@6b6371a0, org.springframework.security.web.access.intercept.AuthorizationFilter@a89f8b7]
2023-07-04 21:29:33,700 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:29:33,700 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:29:33,700 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:29:33,707 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.301 seconds (process running for 6.307)
2023-07-04 21:29:33,762 INFO o.e.j.s.Server [Test worker] Stopped Server@1d03099a{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:33,762 INFO o.e.j.s.Server [Test worker] Shutdown Server@1d03099a{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:33,763 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@508ea8c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:33,763 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7609b7c5{/,null,STOPPED}
2023-07-04 21:29:33,764 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@78c93cdc{/__admin,null,STOPPED}
2023-07-04 21:29:33,771 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:29:33,772 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@75a1841a{/__admin,null,AVAILABLE}
2023-07-04 21:29:33,772 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:29:33,772 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3d746c8f{/,null,AVAILABLE}
2023-07-04 21:29:33,773 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@131879fc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:33,773 INFO o.e.j.s.Server [Test worker] Started Server@1b00f13{STARTING}[11.0.15,sto=1000] @6373ms
2023-07-04 21:29:33,817 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:29:33,818 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 33610 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:29:33,818 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:29:33,818 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:29:33,820 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:33,820 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@80d38af uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:33,820 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:33,820 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:29:33,820 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:33,820 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79b5a9e6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:33,988 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:29:34,034 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6f6c01d9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7229e508, org.springframework.security.web.context.SecurityContextHolderFilter@2e24c632, org.springframework.security.web.header.HeaderWriterFilter@18c43285, org.springframework.security.web.authentication.logout.LogoutFilter@10e0c815, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b94d98d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2da20e8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@647564c2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@220700c1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4fc26399, org.springframework.security.web.session.ConcurrentSessionFilter@463b73e1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d782f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f3ed8bc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@de4dd7, org.springframework.security.web.access.ExceptionTranslationFilter@75cbb215, org.springframework.security.web.access.intercept.AuthorizationFilter@43491b7e]
2023-07-04 21:29:34,053 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:29:34,053 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:29:34,054 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:29:34,062 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.287 seconds (process running for 6.662)
2023-07-04 21:29:34,078 INFO o.e.j.s.Server [Test worker] Stopped Server@1b00f13{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:34,078 INFO o.e.j.s.Server [Test worker] Shutdown Server@1b00f13{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:34,079 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@131879fc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:34,079 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3d746c8f{/,null,STOPPED}
2023-07-04 21:29:34,079 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@75a1841a{/__admin,null,STOPPED}
2023-07-04 21:29:34,100 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:29:34,115 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:29:34,118 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:29:34,119 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@45d3a77e{/__admin,null,AVAILABLE}
2023-07-04 21:29:34,119 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:29:34,119 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@f4416fc{/,null,AVAILABLE}
2023-07-04 21:29:34,119 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@65ff5d53{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:34,119 INFO o.e.j.s.Server [Test worker] Started Server@3433da8f{STARTING}[11.0.15,sto=1000] @6720ms
2023-07-04 21:29:34,137 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:29:34,244 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:29:34,479 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:29:34,480 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:29:34,517 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:29:34,539 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:29:35,393 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:29:35,918 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 8a2e9606f0c8ca8a87794bd941c2b403768e26a9f4f037cd5ad5d7c522500a10
2023-07-04 21:29:36,741 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.220483S
2023-07-04 21:29:36,751 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:29:36,751 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:29:36,752 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:29:36,752 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:29:36,785 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e475ded9f74987bfec43d1065fb836b2057576324b2fb57ea401834a9975503a
2023-07-04 21:29:37,925 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.172905S
2023-07-04 21:29:37,926 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61187/test?loggerLevel=OFF)
2023-07-04 21:29:37,989 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:29:37,992 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 33610 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:29:37,992 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:29:37,992 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:29:37,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:37,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3203d5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:37,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:37,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:29:37,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:29:37,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16c03f98 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:29:38,051 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:29:38,052 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:29:38,060 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 21:29:38,083 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:29:38,134 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@59996bfc
2023-07-04 21:29:38,135 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:29:38,143 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:29:38,171 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:29:38,232 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:29:38,237 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:29:38,295 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:29:38,296 INFO l.util [Test worker] Run:                          5
2023-07-04 21:29:38,296 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:29:38,296 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:29:38,296 INFO l.util [Test worker] -------------------------------
2023-07-04 21:29:38,296 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:29:38,296 INFO l.util [Test worker] Update summary generated
2023-07-04 21:29:38,299 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:29:38,304 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:29:38,304 INFO l.command [Test worker] Command execution complete
2023-07-04 21:29:38,313 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:29:38,317 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:29:38,317 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:29:38,318 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@310e8b74
2023-07-04 21:29:38,327 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:29:38,347 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:29:38,349 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:29:38,349 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 21:29:38,350 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:29:38,350 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 21:29:38,351 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:29:38,351 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 21:29:38,351 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:29:38,351 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 21:29:38,352 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 21:29:38,352 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 21:29:38,358 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 21:29:38,359 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:29:38,418 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.489 seconds (process running for 11.018)
2023-07-04 21:29:38,519 INFO o.e.j.s.Server [Test worker] Stopped Server@3433da8f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:38,519 INFO o.e.j.s.Server [Test worker] Shutdown Server@3433da8f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:38,525 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@65ff5d53{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:38,526 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@f4416fc{/,null,STOPPED}
2023-07-04 21:29:38,526 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@45d3a77e{/__admin,null,STOPPED}
2023-07-04 21:29:38,528 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:29:38,529 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:29:38,531 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:29:38,532 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4e7100a4{/__admin,null,AVAILABLE}
2023-07-04 21:29:38,533 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:29:38,533 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1a6e20e2{/,null,AVAILABLE}
2023-07-04 21:29:38,533 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@400e5893{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:38,533 INFO o.e.j.s.Server [Test worker] Started Server@3162d486{STARTING}[11.0.15,sto=1000] @11133ms
2023-07-04 21:29:38,533 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:29:38,573 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: c00fea4a14540100b885ce4663804196da871ac5a3f5f1a88dfa0d7593914aa5
2023-07-04 21:29:39,750 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.216335S
2023-07-04 21:29:39,750 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61199/test?loggerLevel=OFF)
2023-07-04 21:29:39,780 INFO o.e.j.s.Server [Test worker] Stopped Server@3162d486{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:39,780 INFO o.e.j.s.Server [Test worker] Shutdown Server@3162d486{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:29:39,781 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@400e5893{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:29:39,781 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1a6e20e2{/,null,STOPPED}
2023-07-04 21:29:39,781 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4e7100a4{/__admin,null,STOPPED}
2023-07-04 21:29:39,935 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:29:39,936 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:29:39,936 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:29:39,945 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:29:39,945 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:29:39,946 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:31:44,529 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:31:44,578 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:31:45,130 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:31:45,141 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:31:45,145 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:31:45,145 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:31:45,149 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:45,154 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @1156ms
2023-07-04 21:31:45,482 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:31:45,490 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:31:45,496 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 33970 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:31:45,496 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:31:45,497 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:31:45,509 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:45,509 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:45,509 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:45,509 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:31:45,509 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:45,509 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:45,855 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:31:45,855 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:31:45,924 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2023-07-04 21:31:45,935 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:31:45,936 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:31:45,947 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:31:45,947 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:31:45,947 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:31:46,085 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:31:46,128 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:31:46,146 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:31:46,293 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:31:46,427 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:31:46,486 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@36dc6b9
2023-07-04 21:31:46,487 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:31:46,554 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:31:46,618 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:31:46,828 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:31:46,873 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:31:46,877 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:31:46,877 INFO l.util [Test worker] Run:                          0
2023-07-04 21:31:46,878 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:31:46,878 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:31:46,878 INFO l.util [Test worker] -------------------------------
2023-07-04 21:31:46,878 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:31:46,878 INFO l.util [Test worker] Update summary generated
2023-07-04 21:31:46,880 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:31:46,883 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:31:46,883 INFO l.command [Test worker] Command execution complete
2023-07-04 21:31:46,939 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:31:46,960 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:31:46,961 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:31:47,013 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:31:47,069 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:31:47,083 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7e3b101b
2023-07-04 21:31:47,187 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:31:47,513 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:31:47,560 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:31:47,708 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:31:48,010 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:31:48,055 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:31:48,321 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60651b10, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5769eb7b, org.springframework.security.web.context.SecurityContextHolderFilter@1435103b, org.springframework.security.web.header.HeaderWriterFilter@62e9a6cc, org.springframework.security.web.authentication.logout.LogoutFilter@3460165f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6c249eb5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1ad7892, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7d9c448f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@287e35df, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@16bee5fe, org.springframework.security.web.session.ConcurrentSessionFilter@70bfc7d5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f77131b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15652e7e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74873b07, org.springframework.security.web.access.ExceptionTranslationFilter@24fa43f8, org.springframework.security.web.access.intercept.AuthorizationFilter@7b274a1c]
2023-07-04 21:31:48,685 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.508 seconds (process running for 4.687)
2023-07-04 21:31:48,985 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:48,986 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:48,987 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:48,989 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:31:48,989 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:31:49,323 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:31:49,324 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6dd8e64b{/__admin,null,AVAILABLE}
2023-07-04 21:31:49,324 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:31:49,324 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@a2dc92d{/,null,AVAILABLE}
2023-07-04 21:31:49,325 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@468cbb46{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:49,325 INFO o.e.j.s.Server [Test worker] Started Server@2e86d3c{STARTING}[11.0.15,sto=1000] @5328ms
2023-07-04 21:31:49,399 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:31:49,401 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 33970 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:31:49,401 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:31:49,401 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:31:49,403 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:49,403 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@77e0d62f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:49,403 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:49,403 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:31:49,403 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:49,403 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@607229c7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:49,616 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:31:49,620 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:31:49,708 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2dc0a0a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@480dce26, org.springframework.security.web.context.SecurityContextHolderFilter@3f36e502, org.springframework.security.web.header.HeaderWriterFilter@ee5579f, org.springframework.security.web.authentication.logout.LogoutFilter@42898c45, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@79b3937a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7756d3ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@343cb1af, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5a9529a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@907a731, org.springframework.security.web.session.ConcurrentSessionFilter@32ad7ecc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7856f5e7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5cab0cdd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58e7de77, org.springframework.security.web.access.ExceptionTranslationFilter@5262b8a3, org.springframework.security.web.access.intercept.AuthorizationFilter@9320aed]
2023-07-04 21:31:49,751 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:31:49,752 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:31:49,752 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:31:49,806 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.479 seconds (process running for 5.809)
2023-07-04 21:31:50,000 INFO o.e.j.s.Server [Test worker] Stopped Server@2e86d3c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:50,000 INFO o.e.j.s.Server [Test worker] Shutdown Server@2e86d3c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:50,000 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@468cbb46{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:50,001 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@a2dc92d{/,null,STOPPED}
2023-07-04 21:31:50,001 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6dd8e64b{/__admin,null,STOPPED}
2023-07-04 21:31:50,013 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:31:50,014 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5e4332d1{/__admin,null,AVAILABLE}
2023-07-04 21:31:50,015 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:31:50,015 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e2544e9{/,null,AVAILABLE}
2023-07-04 21:31:50,015 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@76d3e05b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:50,015 INFO o.e.j.s.Server [Test worker] Started Server@68e36b84{STARTING}[11.0.15,sto=1000] @6018ms
2023-07-04 21:31:50,061 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:31:50,063 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 33970 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:31:50,063 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:31:50,063 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:31:50,065 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:50,065 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@440f55ad uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:50,065 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:50,065 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:31:50,065 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:50,065 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ea5e6f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:50,211 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:31:50,214 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:31:50,288 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@eb2f0ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cf0d241, org.springframework.security.web.context.SecurityContextHolderFilter@61b33ef7, org.springframework.security.web.header.HeaderWriterFilter@2dd246ff, org.springframework.security.web.authentication.logout.LogoutFilter@66f02ece, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@721e1bdf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@15ffcd0c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e725977, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@79ef07b3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@678cf97e, org.springframework.security.web.session.ConcurrentSessionFilter@3912e10b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6801e8ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@575baeea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b69ad19, org.springframework.security.web.access.ExceptionTranslationFilter@34f7b98b, org.springframework.security.web.access.intercept.AuthorizationFilter@6d05a0a2]
2023-07-04 21:31:50,312 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:31:50,312 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:31:50,313 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:31:50,321 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.304 seconds (process running for 6.324)
2023-07-04 21:31:50,384 INFO o.e.j.s.Server [Test worker] Stopped Server@68e36b84{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:50,384 INFO o.e.j.s.Server [Test worker] Shutdown Server@68e36b84{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:50,386 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@76d3e05b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:50,386 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e2544e9{/,null,STOPPED}
2023-07-04 21:31:50,386 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5e4332d1{/__admin,null,STOPPED}
2023-07-04 21:31:50,394 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:31:50,395 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@35ba45ee{/__admin,null,AVAILABLE}
2023-07-04 21:31:50,395 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:31:50,395 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37107ea0{/,null,AVAILABLE}
2023-07-04 21:31:50,395 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@377db4f4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:50,395 INFO o.e.j.s.Server [Test worker] Started Server@2a906344{STARTING}[11.0.15,sto=1000] @6398ms
2023-07-04 21:31:50,436 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:31:50,438 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 33970 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:31:50,438 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:31:50,438 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:31:50,440 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:50,440 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7caeba34 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:50,440 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:50,440 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:31:50,440 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:50,440 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56c8c77e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:50,577 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:31:50,624 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b37d57f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70cfc5ed, org.springframework.security.web.context.SecurityContextHolderFilter@1c4f7807, org.springframework.security.web.header.HeaderWriterFilter@328f4387, org.springframework.security.web.authentication.logout.LogoutFilter@7fa710f1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12932c18, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@55f48623, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ac9f8d4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@430c9347, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@17b9049, org.springframework.security.web.session.ConcurrentSessionFilter@6e0d30e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c5ae854, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44810123, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@34c1c7ea, org.springframework.security.web.access.ExceptionTranslationFilter@fb3e6dc, org.springframework.security.web.access.intercept.AuthorizationFilter@14d2b5bf]
2023-07-04 21:31:50,648 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:31:50,648 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:31:50,648 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:31:50,658 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.261 seconds (process running for 6.66)
2023-07-04 21:31:50,675 INFO o.e.j.s.Server [Test worker] Stopped Server@2a906344{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:50,675 INFO o.e.j.s.Server [Test worker] Shutdown Server@2a906344{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:50,675 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@377db4f4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:50,676 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37107ea0{/,null,STOPPED}
2023-07-04 21:31:50,676 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@35ba45ee{/__admin,null,STOPPED}
2023-07-04 21:31:50,694 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:31:50,709 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:31:50,712 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:31:50,713 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5ff6431a{/__admin,null,AVAILABLE}
2023-07-04 21:31:50,713 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:31:50,713 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6366056e{/,null,AVAILABLE}
2023-07-04 21:31:50,714 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1af4dbba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:50,714 INFO o.e.j.s.Server [Test worker] Started Server@3967c51d{STARTING}[11.0.15,sto=1000] @6717ms
2023-07-04 21:31:50,731 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:31:50,839 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:31:51,062 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:31:51,063 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:31:51,078 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:31:51,099 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:31:51,913 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:31:51,984 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: b15c6a6e85117226a014a6979d236314f64cb86420e013dc63e2cf70f3252003
2023-07-04 21:31:52,673 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.59204S
2023-07-04 21:31:52,691 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:31:52,691 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:31:52,691 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:31:52,691 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:31:52,715 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 91a67a93187c0af6163362cab7c001591e2044c86ae574a87fe626529b93ae39
2023-07-04 21:31:53,813 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.121162S
2023-07-04 21:31:53,813 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61225/test?loggerLevel=OFF)
2023-07-04 21:31:53,853 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:31:53,855 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 33970 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:31:53,855 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:31:53,855 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:31:53,856 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:53,856 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@26c3b371 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:53,856 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:53,856 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:31:53,856 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:31:53,857 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7408e122 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:31:53,908 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:31:53,911 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:31:53,919 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 21:31:53,942 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:31:53,996 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3102ccd1
2023-07-04 21:31:53,996 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:31:54,004 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:31:54,044 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:31:54,113 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:31:54,121 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:31:54,185 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:31:54,186 INFO l.util [Test worker] Run:                          5
2023-07-04 21:31:54,186 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:31:54,186 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:31:54,186 INFO l.util [Test worker] -------------------------------
2023-07-04 21:31:54,186 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:31:54,186 INFO l.util [Test worker] Update summary generated
2023-07-04 21:31:54,190 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:31:54,196 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:31:54,197 INFO l.command [Test worker] Command execution complete
2023-07-04 21:31:54,206 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:31:54,210 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:31:54,210 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:31:54,211 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@a468be8
2023-07-04 21:31:54,221 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:31:54,244 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:31:54,270 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:31:54,357 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.541 seconds (process running for 10.36)
2023-07-04 21:31:54,473 INFO o.e.j.s.Server [Test worker] Stopped Server@3967c51d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:54,473 INFO o.e.j.s.Server [Test worker] Shutdown Server@3967c51d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:54,475 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1af4dbba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:54,475 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6366056e{/,null,STOPPED}
2023-07-04 21:31:54,475 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5ff6431a{/__admin,null,STOPPED}
2023-07-04 21:31:54,477 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:31:54,479 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:31:54,482 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:31:54,483 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@422b1292{/__admin,null,AVAILABLE}
2023-07-04 21:31:54,483 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:31:54,483 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37389825{/,null,AVAILABLE}
2023-07-04 21:31:54,483 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@75b05370{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:54,483 INFO o.e.j.s.Server [Test worker] Started Server@6c9696c5{STARTING}[11.0.15,sto=1000] @10486ms
2023-07-04 21:31:54,484 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:31:54,521 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 1357547ddb94f8831aeb33c825f51d02f076bc1ef9629b37d926022d9e550624
2023-07-04 21:31:55,712 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.227863S
2023-07-04 21:31:55,712 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61237/test?loggerLevel=OFF)
2023-07-04 21:31:55,744 INFO o.e.j.s.Server [Test worker] Stopped Server@6c9696c5{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:55,744 INFO o.e.j.s.Server [Test worker] Shutdown Server@6c9696c5{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:31:55,745 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@75b05370{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:31:55,745 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37389825{/,null,STOPPED}
2023-07-04 21:31:55,745 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@422b1292{/__admin,null,STOPPED}
2023-07-04 21:31:55,897 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:31:55,898 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:31:55,899 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:31:55,909 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:31:55,909 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:31:55,910 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:32:43,220 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:32:43,269 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:32:43,617 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:32:43,626 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:32:43,629 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:32:43,629 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:32:43,633 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:43,639 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @937ms
2023-07-04 21:32:43,958 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:32:43,968 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:32:43,976 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 34164 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:32:43,977 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:32:43,977 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:32:43,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:43,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:43,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:43,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:32:43,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:43,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:44,343 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:32:44,344 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:32:44,411 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 65 ms. Found 2 JPA repository interfaces.
2023-07-04 21:32:44,420 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:32:44,420 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:32:44,428 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:32:44,428 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:32:44,428 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:32:44,555 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:32:44,602 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:32:44,620 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:32:44,763 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:32:44,908 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:32:44,979 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6a905513
2023-07-04 21:32:44,980 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:32:45,035 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:32:45,094 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:32:45,292 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:32:45,336 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:32:45,344 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:32:45,344 INFO l.util [Test worker] Run:                          0
2023-07-04 21:32:45,344 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:32:45,344 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:32:45,344 INFO l.util [Test worker] -------------------------------
2023-07-04 21:32:45,344 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:32:45,344 INFO l.util [Test worker] Update summary generated
2023-07-04 21:32:45,346 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:32:45,349 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:32:45,349 INFO l.command [Test worker] Command execution complete
2023-07-04 21:32:45,403 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:32:45,429 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:32:45,430 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:32:45,486 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:32:45,541 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:32:45,555 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@13515709
2023-07-04 21:32:45,665 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:32:45,989 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:32:46,036 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:32:46,193 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:32:46,508 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:32:46,556 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:32:46,826 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@33015d51, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c7ac542, org.springframework.security.web.context.SecurityContextHolderFilter@437231f5, org.springframework.security.web.header.HeaderWriterFilter@46bb8cba, org.springframework.security.web.authentication.logout.LogoutFilter@2a94a702, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@249334b9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@36598d1d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@651a4c4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@56e7f92f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@13676beb, org.springframework.security.web.session.ConcurrentSessionFilter@1bf18ca8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66fb1627, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46ead542, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50242325, org.springframework.security.web.access.ExceptionTranslationFilter@6844b46a, org.springframework.security.web.access.intercept.AuthorizationFilter@5f016147]
2023-07-04 21:32:47,172 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.511 seconds (process running for 4.471)
2023-07-04 21:32:47,470 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:47,470 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:47,472 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:47,473 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:32:47,473 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:32:47,811 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:32:47,812 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f52313c{/__admin,null,AVAILABLE}
2023-07-04 21:32:47,812 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:32:47,812 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3b95678b{/,null,AVAILABLE}
2023-07-04 21:32:47,812 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@c9ec20e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:47,813 INFO o.e.j.s.Server [Test worker] Started Server@5bddcaef{STARTING}[11.0.15,sto=1000] @5111ms
2023-07-04 21:32:47,888 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:32:47,891 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 34164 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:32:47,891 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:32:47,891 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:32:47,894 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:47,894 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4b5998c2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:47,894 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:47,894 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:32:47,894 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:47,894 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@36c1b50d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:48,125 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:32:48,129 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:32:48,222 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2adc9300, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@446de37d, org.springframework.security.web.context.SecurityContextHolderFilter@6ae125f2, org.springframework.security.web.header.HeaderWriterFilter@1e1e53f8, org.springframework.security.web.authentication.logout.LogoutFilter@46a0c2df, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@308bca8c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@707d4078, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@10320992, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f2924d4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5e891508, org.springframework.security.web.session.ConcurrentSessionFilter@19dfeb17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5525ff76, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3948f7b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e77e9d2, org.springframework.security.web.access.ExceptionTranslationFilter@7f180c74, org.springframework.security.web.access.intercept.AuthorizationFilter@2eb28cd8]
2023-07-04 21:32:48,265 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:32:48,265 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:32:48,266 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:32:48,327 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.512 seconds (process running for 5.625)
2023-07-04 21:32:48,497 INFO o.e.j.s.Server [Test worker] Stopped Server@5bddcaef{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:48,497 INFO o.e.j.s.Server [Test worker] Shutdown Server@5bddcaef{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:48,498 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@c9ec20e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:48,498 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3b95678b{/,null,STOPPED}
2023-07-04 21:32:48,498 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f52313c{/__admin,null,STOPPED}
2023-07-04 21:32:48,510 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:32:48,511 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7dc26ace{/__admin,null,AVAILABLE}
2023-07-04 21:32:48,511 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:32:48,511 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@22d12034{/,null,AVAILABLE}
2023-07-04 21:32:48,512 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4c29f8aa{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:48,512 INFO o.e.j.s.Server [Test worker] Started Server@509c1d50{STARTING}[11.0.15,sto=1000] @5810ms
2023-07-04 21:32:48,562 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:32:48,563 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 34164 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:32:48,563 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:32:48,563 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:32:48,565 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:48,565 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@402af74 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:48,565 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:48,565 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:32:48,565 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:48,565 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e97864f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:48,717 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:32:48,719 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:32:48,802 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52eaa71c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f1f59e3, org.springframework.security.web.context.SecurityContextHolderFilter@61b4da5c, org.springframework.security.web.header.HeaderWriterFilter@4432c7bd, org.springframework.security.web.authentication.logout.LogoutFilter@1daf016d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@46196c3e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2358a9f9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@27a38107, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@77ce24c7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@396e2498, org.springframework.security.web.session.ConcurrentSessionFilter@6cd4b0da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c882cb4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5501b7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fe310b, org.springframework.security.web.access.ExceptionTranslationFilter@46296315, org.springframework.security.web.access.intercept.AuthorizationFilter@d0f1671]
2023-07-04 21:32:48,828 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:32:48,828 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:32:48,828 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:32:48,837 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.322 seconds (process running for 6.135)
2023-07-04 21:32:48,890 INFO o.e.j.s.Server [Test worker] Stopped Server@509c1d50{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:48,890 INFO o.e.j.s.Server [Test worker] Shutdown Server@509c1d50{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:48,891 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4c29f8aa{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:48,891 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@22d12034{/,null,STOPPED}
2023-07-04 21:32:48,891 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7dc26ace{/__admin,null,STOPPED}
2023-07-04 21:32:48,899 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:32:48,900 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@551d933f{/__admin,null,AVAILABLE}
2023-07-04 21:32:48,900 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:32:48,900 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2ffe548c{/,null,AVAILABLE}
2023-07-04 21:32:48,901 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79b5a9e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:48,901 INFO o.e.j.s.Server [Test worker] Started Server@4df0be5e{STARTING}[11.0.15,sto=1000] @6199ms
2023-07-04 21:32:48,949 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:32:48,952 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 34164 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:32:48,952 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:32:48,952 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:32:48,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:48,954 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@38b6b4fb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:48,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:48,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:32:48,954 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:48,954 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7aa9b038 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:49,106 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:32:49,155 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f9a4e75, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2720786f, org.springframework.security.web.context.SecurityContextHolderFilter@70207dcb, org.springframework.security.web.header.HeaderWriterFilter@519910b2, org.springframework.security.web.authentication.logout.LogoutFilter@53b4aa, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4ebcd5dc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5357ce45, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@338e70c8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1475268a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4ae8bf28, org.springframework.security.web.session.ConcurrentSessionFilter@1cfbcd9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f251b32, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56208ee4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@aa09e8d, org.springframework.security.web.access.ExceptionTranslationFilter@466f2aaf, org.springframework.security.web.access.intercept.AuthorizationFilter@6f2a705c]
2023-07-04 21:32:49,176 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:32:49,176 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:32:49,177 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:32:49,186 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.284 seconds (process running for 6.484)
2023-07-04 21:32:49,204 INFO o.e.j.s.Server [Test worker] Stopped Server@4df0be5e{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:49,204 INFO o.e.j.s.Server [Test worker] Shutdown Server@4df0be5e{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:49,204 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79b5a9e6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:49,205 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2ffe548c{/,null,STOPPED}
2023-07-04 21:32:49,205 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@551d933f{/__admin,null,STOPPED}
2023-07-04 21:32:49,225 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:32:49,241 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:32:49,259 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:32:49,362 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:32:49,568 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:32:49,569 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:32:49,586 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:32:49,608 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:32:50,227 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:32:50,296 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 948540ddd3e4ced77c12530be3f5a7536e183c17d4c09ac5c721abb6bb3b2fea
2023-07-04 21:32:50,648 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.059088S
2023-07-04 21:32:50,659 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:32:50,659 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:32:50,660 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:32:50,660 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:32:50,686 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 53189cd16bf35ca056587341071883da7deb741815cdfcced804badf1f6cc416
2023-07-04 21:32:51,804 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.144127S
2023-07-04 21:32:51,805 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61258/test?loggerLevel=OFF)
2023-07-04 21:32:51,809 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:32:51,810 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1597d021{/__admin,null,AVAILABLE}
2023-07-04 21:32:51,810 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:32:51,810 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6d223cb2{/,null,AVAILABLE}
2023-07-04 21:32:51,810 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@54ff3774{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:51,810 INFO o.e.j.s.Server [Test worker] Started Server@26c3b371{STARTING}[11.0.15,sto=1000] @9109ms
2023-07-04 21:32:51,854 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:32:51,856 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 34164 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:32:51,856 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:32:51,856 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:32:51,858 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:51,858 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9f2a220 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:51,859 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:51,859 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:32:51,859 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:32:51,859 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f36b79d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:32:51,912 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:32:51,912 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:32:51,921 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 21:32:51,951 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:32:52,022 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@54ee31ff
2023-07-04 21:32:52,022 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:32:52,038 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:32:52,077 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:32:52,139 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:32:52,147 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:32:52,225 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:32:52,225 INFO l.util [Test worker] Run:                          5
2023-07-04 21:32:52,225 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:32:52,225 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:32:52,225 INFO l.util [Test worker] -------------------------------
2023-07-04 21:32:52,225 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:32:52,225 INFO l.util [Test worker] Update summary generated
2023-07-04 21:32:52,235 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:32:52,243 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:32:52,244 INFO l.command [Test worker] Command execution complete
2023-07-04 21:32:52,253 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:32:52,257 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:32:52,258 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:32:52,259 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1346d3ae
2023-07-04 21:32:52,272 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:32:52,294 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:32:52,316 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:32:52,377 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.564 seconds (process running for 9.676)
2023-07-04 21:32:52,471 INFO o.e.j.s.Server [Test worker] Stopped Server@26c3b371{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:52,471 INFO o.e.j.s.Server [Test worker] Shutdown Server@26c3b371{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:52,472 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@54ff3774{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:52,472 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6d223cb2{/,null,STOPPED}
2023-07-04 21:32:52,472 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1597d021{/__admin,null,STOPPED}
2023-07-04 21:32:52,474 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:32:52,476 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:32:52,477 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:32:52,513 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e22973dcaa0d552727bc02d5d6703034ac4e97aac5478957b798319959b0efb0
2023-07-04 21:32:53,646 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.168786S
2023-07-04 21:32:53,646 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:61270/test?loggerLevel=OFF)
2023-07-04 21:32:53,649 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:32:53,650 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2bba7bd9{/__admin,null,AVAILABLE}
2023-07-04 21:32:53,650 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:32:53,650 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6da51e86{/,null,AVAILABLE}
2023-07-04 21:32:53,650 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4f04ab10{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:53,651 INFO o.e.j.s.Server [Test worker] Started Server@4ddecf15{STARTING}[11.0.15,sto=1000] @10949ms
2023-07-04 21:32:53,686 INFO o.e.j.s.Server [Test worker] Stopped Server@4ddecf15{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:53,687 INFO o.e.j.s.Server [Test worker] Shutdown Server@4ddecf15{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:32:53,687 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4f04ab10{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:32:53,687 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6da51e86{/,null,STOPPED}
2023-07-04 21:32:53,687 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2bba7bd9{/__admin,null,STOPPED}
2023-07-04 21:32:53,835 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:32:53,836 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:32:53,837 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:32:53,846 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:32:53,846 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:32:53,847 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:41:36,517 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:41:36,572 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:41:37,132 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:41:37,142 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:41:37,145 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:41:37,146 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:41:37,149 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:37,153 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @1186ms
2023-07-04 21:41:37,483 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:41:37,491 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:41:37,497 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 35279 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:41:37,497 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:41:37,497 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:41:37,510 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:37,510 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:37,510 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:37,510 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:41:37,510 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:37,510 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:37,927 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:41:37,928 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:41:38,001 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.
2023-07-04 21:41:38,010 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:41:38,011 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:41:38,022 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:41:38,022 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:41:38,022 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:41:38,152 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:41:38,198 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:41:38,217 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:41:38,357 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:41:38,363 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:41:38,507 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:41:38,591 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2faae7f6
2023-07-04 21:41:38,592 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:41:38,713 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:41:38,801 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:41:39,078 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:41:39,125 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:41:39,129 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:41:39,129 INFO l.util [Test worker] Run:                          0
2023-07-04 21:41:39,129 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:41:39,129 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:41:39,129 INFO l.util [Test worker] -------------------------------
2023-07-04 21:41:39,129 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:41:39,130 INFO l.util [Test worker] Update summary generated
2023-07-04 21:41:39,131 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:41:39,134 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:41:39,134 INFO l.command [Test worker] Command execution complete
2023-07-04 21:41:39,217 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:41:39,243 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:41:39,244 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:41:39,307 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:41:39,365 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:41:39,380 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@381ed137
2023-07-04 21:41:39,503 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:41:39,899 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:41:39,972 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:41:40,160 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:41:40,477 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:41:40,532 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:41:40,826 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@54af73bd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fd38a68, org.springframework.security.web.context.SecurityContextHolderFilter@5e9ae46f, org.springframework.security.web.header.HeaderWriterFilter@6ebdbe96, org.springframework.security.web.authentication.logout.LogoutFilter@6c4ffcf0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1544bf85, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1801a55a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@249334b9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@62b26bef, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@33015d51, org.springframework.security.web.session.ConcurrentSessionFilter@5c991516, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@437231f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e125be1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c7ac542, org.springframework.security.web.access.ExceptionTranslationFilter@7060c1cb, org.springframework.security.web.access.intercept.AuthorizationFilter@682fec32]
2023-07-04 21:41:41,178 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 4.002 seconds (process running for 5.211)
2023-07-04 21:41:41,486 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:41,486 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:41,488 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:41,489 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:41:41,490 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:41:41,835 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:41:41,837 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3a09b982{/__admin,null,AVAILABLE}
2023-07-04 21:41:41,838 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:41:41,838 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7a2299ea{/,null,AVAILABLE}
2023-07-04 21:41:41,838 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5747a07c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:41,838 INFO o.e.j.s.Server [Test worker] Started Server@528a7eea{STARTING}[11.0.15,sto=1000] @5871ms
2023-07-04 21:41:41,917 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:41:41,920 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 35279 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:41:41,920 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:41:41,920 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:41:41,923 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:41,923 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4b16145 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:41,923 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:41,923 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:41:41,923 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:41,923 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4b5998c2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:42,129 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:41:42,132 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:41:42,227 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@382b008d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eb28cd8, org.springframework.security.web.context.SecurityContextHolderFilter@606cf551, org.springframework.security.web.header.HeaderWriterFilter@acfadee, org.springframework.security.web.authentication.logout.LogoutFilter@6ae125f2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5f2924d4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3c844476, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@46a0c2df, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1e1e53f8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@308bca8c, org.springframework.security.web.session.ConcurrentSessionFilter@eddf758, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8cf705e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f180c74, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@707d4078, org.springframework.security.web.access.ExceptionTranslationFilter@22d94240, org.springframework.security.web.access.intercept.AuthorizationFilter@3948f7b9]
2023-07-04 21:41:42,273 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:41:42,273 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:41:42,274 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:41:42,333 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.492 seconds (process running for 6.366)
2023-07-04 21:41:42,496 INFO o.e.j.s.Server [Test worker] Stopped Server@528a7eea{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:42,496 INFO o.e.j.s.Server [Test worker] Shutdown Server@528a7eea{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:42,496 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5747a07c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:42,497 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7a2299ea{/,null,STOPPED}
2023-07-04 21:41:42,497 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3a09b982{/__admin,null,STOPPED}
2023-07-04 21:41:42,512 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:41:42,513 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1a4b0c9b{/__admin,null,AVAILABLE}
2023-07-04 21:41:42,513 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:41:42,513 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@50dd2e86{/,null,AVAILABLE}
2023-07-04 21:41:42,513 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2aeef1ca{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:42,513 INFO o.e.j.s.Server [Test worker] Started Server@122b07f1{STARTING}[11.0.15,sto=1000] @6546ms
2023-07-04 21:41:42,561 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:41:42,562 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 35279 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:41:42,562 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:41:42,562 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:41:42,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:42,564 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@75078835 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:42,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:42,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:41:42,564 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:42,564 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@402af74 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:42,707 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:41:42,709 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:41:42,783 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@be1f3d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d0f1671, org.springframework.security.web.context.SecurityContextHolderFilter@9443150, org.springframework.security.web.header.HeaderWriterFilter@494defe3, org.springframework.security.web.authentication.logout.LogoutFilter@61b4da5c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@77ce24c7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@306f7658, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1daf016d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4432c7bd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@46196c3e, org.springframework.security.web.session.ConcurrentSessionFilter@39b775d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60bdba16, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@46296315, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2358a9f9, org.springframework.security.web.access.ExceptionTranslationFilter@50c73af4, org.springframework.security.web.access.intercept.AuthorizationFilter@3e5501b7]
2023-07-04 21:41:42,807 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:41:42,807 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:41:42,808 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:41:42,819 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.304 seconds (process running for 6.852)
2023-07-04 21:41:42,876 INFO o.e.j.s.Server [Test worker] Stopped Server@122b07f1{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:42,876 INFO o.e.j.s.Server [Test worker] Shutdown Server@122b07f1{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:42,877 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2aeef1ca{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:42,877 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@50dd2e86{/,null,STOPPED}
2023-07-04 21:41:42,877 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1a4b0c9b{/__admin,null,STOPPED}
2023-07-04 21:41:42,886 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:41:42,887 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3bb728d1{/__admin,null,AVAILABLE}
2023-07-04 21:41:42,887 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:41:42,887 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b4bdee3{/,null,AVAILABLE}
2023-07-04 21:41:42,887 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@80d38af{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:42,887 INFO o.e.j.s.Server [Test worker] Started Server@4a332d23{STARTING}[11.0.15,sto=1000] @6920ms
2023-07-04 21:41:42,929 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:41:42,931 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 35279 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:41:42,931 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:41:42,931 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:41:42,932 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:42,932 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f3bc185 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:42,932 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:42,932 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:41:42,932 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:42,932 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@38b6b4fb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:43,080 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:41:43,129 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52565dea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f2a705c, org.springframework.security.web.context.SecurityContextHolderFilter@2b6cd876, org.springframework.security.web.header.HeaderWriterFilter@8f52d5f, org.springframework.security.web.authentication.logout.LogoutFilter@70207dcb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1475268a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@67c8dfea, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53b4aa, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@519910b2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4ebcd5dc, org.springframework.security.web.session.ConcurrentSessionFilter@7d3d4b83, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@67517ccf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@466f2aaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5357ce45, org.springframework.security.web.access.ExceptionTranslationFilter@47716014, org.springframework.security.web.access.intercept.AuthorizationFilter@56208ee4]
2023-07-04 21:41:43,151 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:41:43,152 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:41:43,152 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:41:43,161 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.272 seconds (process running for 7.194)
2023-07-04 21:41:43,179 INFO o.e.j.s.Server [Test worker] Stopped Server@4a332d23{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:43,179 INFO o.e.j.s.Server [Test worker] Shutdown Server@4a332d23{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:43,179 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@80d38af{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:43,179 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b4bdee3{/,null,STOPPED}
2023-07-04 21:41:43,179 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3bb728d1{/__admin,null,STOPPED}
2023-07-04 21:41:43,202 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:41:43,212 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:41:43,231 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:41:43,339 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:41:43,605 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:41:43,606 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:41:43,647 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:41:43,668 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:41:44,536 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:41:44,979 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: ca55d47d5359787e4ccc3e4b0da2cdde5294929d0a629dce34f70cddb608ed9d
2023-07-04 21:41:45,607 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.956544S
2023-07-04 21:41:45,637 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:41:45,637 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:41:45,637 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:41:45,638 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:41:45,688 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: b00e4aa1dc1cea77f10a6d945903aa41b967b8e3298dd149cade51024a8bae7b
2023-07-04 21:41:46,874 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.236587S
2023-07-04 21:41:46,875 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:49906/test?loggerLevel=OFF)
2023-07-04 21:41:46,879 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:41:46,880 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d7f6ec1{/__admin,null,AVAILABLE}
2023-07-04 21:41:46,880 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:41:46,880 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1ed88a33{/,null,AVAILABLE}
2023-07-04 21:41:46,881 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1aba0267{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:46,881 INFO o.e.j.s.Server [Test worker] Started Server@47714dd6{STARTING}[11.0.15,sto=1000] @10914ms
2023-07-04 21:41:46,919 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:41:46,922 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 35279 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:41:46,922 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:41:46,922 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:41:46,925 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:46,925 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e47eb95 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:46,925 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:46,925 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:41:46,925 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:41:46,925 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@68674144 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:41:46,987 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:41:46,987 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:41:47,002 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 15 ms. Found 2 JPA repository interfaces.
2023-07-04 21:41:47,030 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:41:47,079 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@312bcb28
2023-07-04 21:41:47,079 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:41:47,087 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:41:47,121 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:41:47,176 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:41:47,181 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:41:47,249 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:41:47,249 INFO l.util [Test worker] Run:                          5
2023-07-04 21:41:47,249 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:41:47,249 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:41:47,249 INFO l.util [Test worker] -------------------------------
2023-07-04 21:41:47,249 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:41:47,249 INFO l.util [Test worker] Update summary generated
2023-07-04 21:41:47,253 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:41:47,257 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:41:47,258 INFO l.command [Test worker] Command execution complete
2023-07-04 21:41:47,267 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:41:47,272 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:41:47,272 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:41:47,278 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@66645fd2
2023-07-04 21:41:47,294 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:41:47,317 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:41:47,334 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:41:47,394 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.51 seconds (process running for 11.427)
2023-07-04 21:41:47,491 INFO o.e.j.s.Server [Test worker] Stopped Server@47714dd6{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:47,491 INFO o.e.j.s.Server [Test worker] Shutdown Server@47714dd6{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:47,492 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1aba0267{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:47,492 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1ed88a33{/,null,STOPPED}
2023-07-04 21:41:47,493 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d7f6ec1{/__admin,null,STOPPED}
2023-07-04 21:41:47,494 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:41:47,496 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:41:47,497 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:41:47,587 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 0c526ebb9cabc853fee1231726630b5e2a576ec8396b62b74525a0629ed60a9d
2023-07-04 21:41:48,732 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.235316S
2023-07-04 21:41:48,732 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:49952/test?loggerLevel=OFF)
2023-07-04 21:41:48,735 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:41:48,736 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@418068a7{/__admin,null,AVAILABLE}
2023-07-04 21:41:48,736 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:41:48,736 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@27e3bf50{/,null,AVAILABLE}
2023-07-04 21:41:48,736 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@118e6543{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:48,736 INFO o.e.j.s.Server [Test worker] Started Server@14a78f54{STARTING}[11.0.15,sto=1000] @12769ms
2023-07-04 21:41:48,772 INFO o.e.j.s.Server [Test worker] Stopped Server@14a78f54{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:48,772 INFO o.e.j.s.Server [Test worker] Shutdown Server@14a78f54{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:41:48,773 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@118e6543{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:41:48,773 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@27e3bf50{/,null,STOPPED}
2023-07-04 21:41:48,773 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@418068a7{/__admin,null,STOPPED}
2023-07-04 21:41:48,944 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:41:48,945 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:41:48,946 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:41:48,959 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:41:48,960 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:41:48,962 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:42:45,368 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:42:45,418 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:42:45,781 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:42:45,790 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:42:45,794 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:42:45,795 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:42:45,799 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:45,804 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @985ms
2023-07-04 21:42:46,127 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:42:46,135 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:42:46,141 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 35504 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:42:46,141 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:42:46,142 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:42:46,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:46,155 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:46,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:46,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:42:46,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:46,155 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:46,513 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:42:46,514 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:42:46,588 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.
2023-07-04 21:42:46,600 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:42:46,601 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:42:46,608 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:42:46,609 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:42:46,609 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:42:46,743 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:42:46,793 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:42:46,810 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:42:46,945 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:42:46,949 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:42:47,090 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:42:47,154 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@544733a4
2023-07-04 21:42:47,155 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:42:47,216 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:42:47,282 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:42:47,502 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:42:47,554 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:42:47,558 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:42:47,558 INFO l.util [Test worker] Run:                          0
2023-07-04 21:42:47,558 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:42:47,558 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:42:47,558 INFO l.util [Test worker] -------------------------------
2023-07-04 21:42:47,558 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:42:47,559 INFO l.util [Test worker] Update summary generated
2023-07-04 21:42:47,560 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:42:47,563 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:42:47,563 INFO l.command [Test worker] Command execution complete
2023-07-04 21:42:47,607 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:42:47,637 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:42:47,638 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:42:47,690 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:42:47,754 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:42:47,772 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@e8ef60b
2023-07-04 21:42:47,875 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:42:48,200 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:42:48,246 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:42:48,405 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:42:48,864 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:42:48,924 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:42:49,191 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3261b8bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f854741, org.springframework.security.web.context.SecurityContextHolderFilter@3c72031c, org.springframework.security.web.header.HeaderWriterFilter@794ca18b, org.springframework.security.web.authentication.logout.LogoutFilter@46bb8cba, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1d2fd73c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@24602d7a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@52fb37d7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@51173c3a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@60a64104, org.springframework.security.web.session.ConcurrentSessionFilter@7d9c448f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@452895aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41eab601, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12ceff30, org.springframework.security.web.access.ExceptionTranslationFilter@4a3e5552, org.springframework.security.web.access.intercept.AuthorizationFilter@1bf18ca8]
2023-07-04 21:42:49,539 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.713 seconds (process running for 4.72)
2023-07-04 21:42:49,839 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:49,840 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:49,842 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:49,843 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:42:49,843 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:42:50,219 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:42:50,220 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e9feb92{/__admin,null,AVAILABLE}
2023-07-04 21:42:50,220 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:42:50,220 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15a54f36{/,null,AVAILABLE}
2023-07-04 21:42:50,221 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6dcdf58b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:50,221 INFO o.e.j.s.Server [Test worker] Started Server@733fc5af{STARTING}[11.0.15,sto=1000] @5402ms
2023-07-04 21:42:50,295 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:42:50,298 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 35504 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:42:50,298 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:42:50,298 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:42:50,301 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:50,301 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@798cf0a0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:50,301 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:50,301 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:42:50,301 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:50,301 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4404dee7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:50,522 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:42:50,533 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:42:50,631 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7842ad22, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3de2e589, org.springframework.security.web.context.SecurityContextHolderFilter@7516aa4, org.springframework.security.web.header.HeaderWriterFilter@9b44d4f, org.springframework.security.web.authentication.logout.LogoutFilter@579e30b7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@48b1ba91, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6e0c20b8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a70d5df, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@eb52295, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@32640b6d, org.springframework.security.web.session.ConcurrentSessionFilter@d863a65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19a98be6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@325c63a9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e26eed3, org.springframework.security.web.access.ExceptionTranslationFilter@451b7faf, org.springframework.security.web.access.intercept.AuthorizationFilter@21886b18]
2023-07-04 21:42:50,678 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:42:50,679 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:42:50,679 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:42:50,736 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.513 seconds (process running for 5.918)
2023-07-04 21:42:50,896 INFO o.e.j.s.Server [Test worker] Stopped Server@733fc5af{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:50,896 INFO o.e.j.s.Server [Test worker] Shutdown Server@733fc5af{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:50,897 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6dcdf58b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:50,897 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15a54f36{/,null,STOPPED}
2023-07-04 21:42:50,897 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e9feb92{/__admin,null,STOPPED}
2023-07-04 21:42:50,908 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:42:50,910 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@35dba0b4{/__admin,null,AVAILABLE}
2023-07-04 21:42:50,910 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:42:50,910 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@36b085da{/,null,AVAILABLE}
2023-07-04 21:42:50,910 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6d425496{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:50,910 INFO o.e.j.s.Server [Test worker] Started Server@58f0acce{STARTING}[11.0.15,sto=1000] @6092ms
2023-07-04 21:42:50,963 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:42:50,965 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 35504 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:42:50,965 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:42:50,965 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:42:50,966 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:50,967 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@492a7467 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:50,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:50,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:42:50,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:50,967 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48d4189e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:51,123 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:42:51,125 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:42:51,200 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@197cc9a1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6360463, org.springframework.security.web.context.SecurityContextHolderFilter@3e843b50, org.springframework.security.web.header.HeaderWriterFilter@2a6b4454, org.springframework.security.web.authentication.logout.LogoutFilter@587efefa, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6a8ebb66, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@452811e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7cb17098, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58d1e6ed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@394ba4f, org.springframework.security.web.session.ConcurrentSessionFilter@1dcc928b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5149d71b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21707082, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74562f15, org.springframework.security.web.access.ExceptionTranslationFilter@96cd9d2, org.springframework.security.web.access.intercept.AuthorizationFilter@2d991631]
2023-07-04 21:42:51,226 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:42:51,226 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:42:51,226 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:42:51,235 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.323 seconds (process running for 6.416)
2023-07-04 21:42:51,290 INFO o.e.j.s.Server [Test worker] Stopped Server@58f0acce{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:51,290 INFO o.e.j.s.Server [Test worker] Shutdown Server@58f0acce{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:51,291 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6d425496{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:51,292 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@36b085da{/,null,STOPPED}
2023-07-04 21:42:51,292 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@35dba0b4{/__admin,null,STOPPED}
2023-07-04 21:42:51,300 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:42:51,301 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@573a43f4{/__admin,null,AVAILABLE}
2023-07-04 21:42:51,302 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:42:51,302 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@56984e92{/,null,AVAILABLE}
2023-07-04 21:42:51,302 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@9b64076{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:51,302 INFO o.e.j.s.Server [Test worker] Started Server@15c882e8{STARTING}[11.0.15,sto=1000] @6484ms
2023-07-04 21:42:51,349 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:42:51,351 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 35504 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:42:51,351 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:42:51,351 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:42:51,353 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:51,353 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@b1fdcf8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:51,353 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:51,353 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:42:51,353 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:51,353 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@127cbd8b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:51,503 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:42:51,556 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@127302ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16b578a3, org.springframework.security.web.context.SecurityContextHolderFilter@69d510a6, org.springframework.security.web.header.HeaderWriterFilter@6b19f4b8, org.springframework.security.web.authentication.logout.LogoutFilter@446782b2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3fd762bb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@475d15e1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5494cf4b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@54bb1786, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@39e89589, org.springframework.security.web.session.ConcurrentSessionFilter@5b0c28d0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a5379e1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ecbe827, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b74fb68, org.springframework.security.web.access.ExceptionTranslationFilter@6628b1ac, org.springframework.security.web.access.intercept.AuthorizationFilter@7957eec3]
2023-07-04 21:42:51,578 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:42:51,578 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:42:51,579 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:42:51,589 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.285 seconds (process running for 6.77)
2023-07-04 21:42:51,606 INFO o.e.j.s.Server [Test worker] Stopped Server@15c882e8{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:51,606 INFO o.e.j.s.Server [Test worker] Shutdown Server@15c882e8{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:51,607 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@9b64076{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:51,607 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@56984e92{/,null,STOPPED}
2023-07-04 21:42:51,607 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@573a43f4{/__admin,null,STOPPED}
2023-07-04 21:42:51,625 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:42:51,641 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:42:51,662 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:42:51,772 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:42:51,995 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:42:51,996 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:42:52,012 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:42:52,034 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:42:52,785 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:42:52,857 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 3b0369f896d4a4d02441c27fb797afb7c71d0e00355dc7567e20a09af3b171f1
2023-07-04 21:42:53,523 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.507729S
2023-07-04 21:42:53,527 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:42:53,527 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:42:53,528 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:42:53,528 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:42:53,594 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 90927b9dfaee392f52d4b551273282fe0b437d1a4f0a25701217be82b1b40605
2023-07-04 21:42:54,750 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.221941S
2023-07-04 21:42:54,750 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:51097/test?loggerLevel=OFF)
2023-07-04 21:42:54,754 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:42:54,755 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4c28095f{/__admin,null,AVAILABLE}
2023-07-04 21:42:54,755 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:42:54,755 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1aba0267{/,null,AVAILABLE}
2023-07-04 21:42:54,755 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@183839f4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:54,756 INFO o.e.j.s.Server [Test worker] Started Server@687980fc{STARTING}[11.0.15,sto=1000] @9937ms
2023-07-04 21:42:54,792 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:42:54,795 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 35504 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:42:54,795 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:42:54,795 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:42:54,796 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:54,796 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3d79168b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:54,796 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:54,796 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:42:54,796 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:42:54,796 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41997a02 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:42:54,853 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:42:54,853 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:42:54,867 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 14 ms. Found 2 JPA repository interfaces.
2023-07-04 21:42:54,902 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:42:54,957 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@187271bf
2023-07-04 21:42:54,958 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:42:54,966 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:42:55,002 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:42:55,061 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:42:55,066 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:42:55,128 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:42:55,128 INFO l.util [Test worker] Run:                          5
2023-07-04 21:42:55,128 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:42:55,128 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:42:55,128 INFO l.util [Test worker] -------------------------------
2023-07-04 21:42:55,128 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:42:55,128 INFO l.util [Test worker] Update summary generated
2023-07-04 21:42:55,132 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:42:55,137 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:42:55,138 INFO l.command [Test worker] Command execution complete
2023-07-04 21:42:55,148 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:42:55,152 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:42:55,152 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:42:55,153 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4490b985
2023-07-04 21:42:55,164 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:42:55,188 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:42:55,206 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:42:55,284 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.525 seconds (process running for 10.465)
2023-07-04 21:42:55,391 INFO o.e.j.s.Server [Test worker] Stopped Server@687980fc{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:55,391 INFO o.e.j.s.Server [Test worker] Shutdown Server@687980fc{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:55,393 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@183839f4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:55,393 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1aba0267{/,null,STOPPED}
2023-07-04 21:42:55,393 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4c28095f{/__admin,null,STOPPED}
2023-07-04 21:42:55,395 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:42:55,397 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:42:55,397 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:42:55,470 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2be2cb2b76bd2ff6882da5efe37dff8c6b9006e2e97b78529b11dd5a331ab52a
2023-07-04 21:42:56,678 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.280773S
2023-07-04 21:42:56,678 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:51143/test?loggerLevel=OFF)
2023-07-04 21:42:56,682 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:42:56,683 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3062c0d4{/__admin,null,AVAILABLE}
2023-07-04 21:42:56,683 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:42:56,683 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4858e6c0{/,null,AVAILABLE}
2023-07-04 21:42:56,683 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1c1f9e3a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:56,683 INFO o.e.j.s.Server [Test worker] Started Server@58072e51{STARTING}[11.0.15,sto=1000] @11865ms
2023-07-04 21:42:56,720 INFO o.e.j.s.Server [Test worker] Stopped Server@58072e51{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:56,720 INFO o.e.j.s.Server [Test worker] Shutdown Server@58072e51{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:42:56,720 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1c1f9e3a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:42:56,721 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4858e6c0{/,null,STOPPED}
2023-07-04 21:42:56,721 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3062c0d4{/__admin,null,STOPPED}
2023-07-04 21:42:56,864 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:42:56,865 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:42:56,866 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:42:56,876 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:42:56,877 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:42:56,877 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:45:01,952 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:45:02,001 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:45:02,383 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:45:02,393 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:45:02,397 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:45:02,397 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:45:02,401 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:02,406 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @993ms
2023-07-04 21:45:02,731 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:45:02,737 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:45:02,747 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 35909 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:45:02,747 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:45:02,747 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:45:02,760 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:02,760 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:02,760 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:02,760 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:45:02,761 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:02,761 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:03,112 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:45:03,113 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:45:03,184 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2023-07-04 21:45:03,193 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:45:03,193 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:45:03,201 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:45:03,201 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:45:03,201 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:45:03,328 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:45:03,376 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:45:03,393 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:45:03,533 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:45:03,539 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:45:03,688 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:45:03,746 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1e6e29d6
2023-07-04 21:45:03,746 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:45:03,809 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:45:03,874 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:45:04,116 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:45:04,167 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:45:04,176 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:45:04,176 INFO l.util [Test worker] Run:                          0
2023-07-04 21:45:04,176 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:45:04,176 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:45:04,176 INFO l.util [Test worker] -------------------------------
2023-07-04 21:45:04,176 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:45:04,177 INFO l.util [Test worker] Update summary generated
2023-07-04 21:45:04,178 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:45:04,183 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:45:04,183 INFO l.command [Test worker] Command execution complete
2023-07-04 21:45:04,228 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:45:04,259 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:45:04,260 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:45:04,317 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:45:04,378 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:45:04,393 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1a370c7c
2023-07-04 21:45:04,507 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:45:04,833 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:45:04,889 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:45:05,049 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:45:05,371 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:45:05,417 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:45:05,680 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c991516, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a01358f, org.springframework.security.web.context.SecurityContextHolderFilter@2c15515e, org.springframework.security.web.header.HeaderWriterFilter@7d89a1ce, org.springframework.security.web.authentication.logout.LogoutFilter@45072949, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@46bb8cba, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1257e0fd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@119db52f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1eeae9d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1bf18ca8, org.springframework.security.web.session.ConcurrentSessionFilter@4bb2da93, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b018f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65dfce2f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41854000, org.springframework.security.web.access.ExceptionTranslationFilter@7eb0c144, org.springframework.security.web.access.intercept.AuthorizationFilter@60651b10]
2023-07-04 21:45:06,037 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.606 seconds (process running for 4.625)
2023-07-04 21:45:06,335 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:06,335 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:06,337 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:06,337 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:45:06,338 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:45:06,766 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:45:06,768 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41621744{/__admin,null,AVAILABLE}
2023-07-04 21:45:06,769 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:45:06,769 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3aa1669a{/,null,AVAILABLE}
2023-07-04 21:45:06,769 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@77a9ea73{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:06,770 INFO o.e.j.s.Server [Test worker] Started Server@5c2022c8{STARTING}[11.0.15,sto=1000] @5357ms
2023-07-04 21:45:06,852 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:45:06,856 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 35909 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:45:06,856 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:45:06,856 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:45:06,857 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:06,858 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3cce689c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:06,858 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:06,858 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:45:06,858 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:06,858 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50d9b736 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:07,076 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:45:07,082 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:45:07,183 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a70d5df, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7842ad22, org.springframework.security.web.context.SecurityContextHolderFilter@d863a65, org.springframework.security.web.header.HeaderWriterFilter@451b7faf, org.springframework.security.web.authentication.logout.LogoutFilter@23d7dad, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@21886b18, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@48b1ba91, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e0c20b8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@325c63a9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3de2e589, org.springframework.security.web.session.ConcurrentSessionFilter@9b44d4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7516aa4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19a98be6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32640b6d, org.springframework.security.web.access.ExceptionTranslationFilter@79fe746d, org.springframework.security.web.access.intercept.AuthorizationFilter@60e50c6]
2023-07-04 21:45:07,229 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:45:07,229 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:45:07,229 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:45:07,283 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.51 seconds (process running for 5.871)
2023-07-04 21:45:07,451 INFO o.e.j.s.Server [Test worker] Stopped Server@5c2022c8{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:07,451 INFO o.e.j.s.Server [Test worker] Shutdown Server@5c2022c8{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:07,451 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@77a9ea73{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:07,451 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3aa1669a{/,null,STOPPED}
2023-07-04 21:45:07,451 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41621744{/__admin,null,STOPPED}
2023-07-04 21:45:07,462 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:45:07,464 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58f0acce{/__admin,null,AVAILABLE}
2023-07-04 21:45:07,464 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:45:07,464 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2aeef1ca{/,null,AVAILABLE}
2023-07-04 21:45:07,464 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3e2544e9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:07,465 INFO o.e.j.s.Server [Test worker] Started Server@6edd2ef4{STARTING}[11.0.15,sto=1000] @6052ms
2023-07-04 21:45:07,513 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:45:07,515 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 35909 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:45:07,515 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:45:07,515 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:45:07,516 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:07,516 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@714d1962 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:07,516 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:07,516 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:45:07,516 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:07,516 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4cfe2c78 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:07,659 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:45:07,661 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:45:07,730 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@452811e3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cb17098, org.springframework.security.web.context.SecurityContextHolderFilter@2a6b4454, org.springframework.security.web.header.HeaderWriterFilter@35a2c933, org.springframework.security.web.authentication.logout.LogoutFilter@58d1e6ed, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7a287117, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2d991631, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a8ebb66, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5149d71b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@197cc9a1, org.springframework.security.web.session.ConcurrentSessionFilter@96cd9d2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dcc928b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e843b50, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6360463, org.springframework.security.web.access.ExceptionTranslationFilter@654a4b51, org.springframework.security.web.access.intercept.AuthorizationFilter@587efefa]
2023-07-04 21:45:07,757 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:45:07,757 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:45:07,758 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:45:07,765 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.299 seconds (process running for 6.353)
2023-07-04 21:45:07,817 INFO o.e.j.s.Server [Test worker] Stopped Server@6edd2ef4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:07,817 INFO o.e.j.s.Server [Test worker] Shutdown Server@6edd2ef4{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:07,818 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3e2544e9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:07,818 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2aeef1ca{/,null,STOPPED}
2023-07-04 21:45:07,818 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58f0acce{/__admin,null,STOPPED}
2023-07-04 21:45:07,826 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:45:07,827 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ecd59a3{/__admin,null,AVAILABLE}
2023-07-04 21:45:07,827 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:45:07,827 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@74642e97{/,null,AVAILABLE}
2023-07-04 21:45:07,828 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cd27d52{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:07,828 INFO o.e.j.s.Server [Test worker] Started Server@5bf17128{STARTING}[11.0.15,sto=1000] @6415ms
2023-07-04 21:45:07,872 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:45:07,873 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 35909 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:45:07,874 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:45:07,874 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:45:07,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:07,875 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e431c8b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:07,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:07,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:45:07,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:07,875 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79acc359 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:08,012 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:45:08,061 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3fd762bb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@475d15e1, org.springframework.security.web.context.SecurityContextHolderFilter@6628b1ac, org.springframework.security.web.header.HeaderWriterFilter@461c6f, org.springframework.security.web.authentication.logout.LogoutFilter@6ecbe827, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@446782b2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@755cc0c9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7957eec3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@69d510a6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5494cf4b, org.springframework.security.web.session.ConcurrentSessionFilter@7b69204f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b19f4b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b0c28d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@127302ec, org.springframework.security.web.access.ExceptionTranslationFilter@2315d524, org.springframework.security.web.access.intercept.AuthorizationFilter@15aa7d97]
2023-07-04 21:45:08,083 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:45:08,083 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:45:08,083 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:45:08,092 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.263 seconds (process running for 6.679)
2023-07-04 21:45:08,110 INFO o.e.j.s.Server [Test worker] Stopped Server@5bf17128{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:08,110 INFO o.e.j.s.Server [Test worker] Shutdown Server@5bf17128{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:08,110 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cd27d52{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:08,110 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@74642e97{/,null,STOPPED}
2023-07-04 21:45:08,111 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ecd59a3{/__admin,null,STOPPED}
2023-07-04 21:45:08,130 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:45:08,145 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:45:08,162 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:45:08,270 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:45:08,559 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:45:08,560 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:45:08,589 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:45:08,614 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:45:09,409 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:45:09,497 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 2b82f34471b55f5ddc148e135fa3cb8e9c1f1e1844ba938ce9afd20f5d9011c1
2023-07-04 21:45:10,325 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.732514S
2023-07-04 21:45:10,329 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:45:10,329 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:45:10,330 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:45:10,330 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:45:10,354 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: dd239df8fc3d9434c8d9e3a55b0d41118d30a2614c659aa1233572683d379a2d
2023-07-04 21:45:11,504 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.174193S
2023-07-04 21:45:11,505 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:53476/test?loggerLevel=OFF)
2023-07-04 21:45:11,509 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:45:11,510 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@602b0e5d{/__admin,null,AVAILABLE}
2023-07-04 21:45:11,510 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:45:11,510 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@54ff3774{/,null,AVAILABLE}
2023-07-04 21:45:11,510 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@721fadb4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:11,510 INFO o.e.j.s.Server [Test worker] Started Server@b08dae5{STARTING}[11.0.15,sto=1000] @10098ms
2023-07-04 21:45:11,548 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:45:11,550 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 35909 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:45:11,551 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:45:11,551 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:45:11,552 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:11,552 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@25fd3379 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:11,552 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:11,552 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:45:11,552 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:45:11,552 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@64eedae0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:45:11,613 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:45:11,613 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:45:11,625 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 2 JPA repository interfaces.
2023-07-04 21:45:11,654 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:45:11,719 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3c616237
2023-07-04 21:45:11,719 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:45:11,730 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:45:11,769 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:45:11,828 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:45:11,835 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:45:11,903 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:45:11,903 INFO l.util [Test worker] Run:                          5
2023-07-04 21:45:11,903 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:45:11,903 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:45:11,904 INFO l.util [Test worker] -------------------------------
2023-07-04 21:45:11,904 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:45:11,904 INFO l.util [Test worker] Update summary generated
2023-07-04 21:45:11,907 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:45:11,914 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:45:11,915 INFO l.command [Test worker] Command execution complete
2023-07-04 21:45:11,925 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:45:11,929 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:45:11,929 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:45:11,931 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@25e92583
2023-07-04 21:45:11,948 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:45:11,975 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:45:12,001 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:45:12,079 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.566 seconds (process running for 10.667)
2023-07-04 21:45:12,213 INFO o.e.j.s.Server [Test worker] Stopped Server@b08dae5{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:12,213 INFO o.e.j.s.Server [Test worker] Shutdown Server@b08dae5{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:12,214 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@721fadb4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:12,214 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@54ff3774{/,null,STOPPED}
2023-07-04 21:45:12,214 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@602b0e5d{/__admin,null,STOPPED}
2023-07-04 21:45:12,216 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:45:12,279 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 9729bc88d6a4aaf763041036ed79a6f7998be610d45e9ee66c8d36c956455586
2023-07-04 21:45:13,468 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.252413S
2023-07-04 21:45:13,468 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:53522/test?loggerLevel=OFF)
2023-07-04 21:45:13,471 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:45:13,472 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f3261{/__admin,null,AVAILABLE}
2023-07-04 21:45:13,472 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:45:13,472 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3faff6a1{/,null,AVAILABLE}
2023-07-04 21:45:13,472 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1b7886ee{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:13,473 INFO o.e.j.s.Server [Test worker] Started Server@59cab57f{STARTING}[11.0.15,sto=1000] @12060ms
2023-07-04 21:45:13,475 INFO o.e.j.s.Server [Test worker] Stopped Server@59cab57f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:13,475 INFO o.e.j.s.Server [Test worker] Shutdown Server@59cab57f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:45:13,476 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1b7886ee{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:45:13,476 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3faff6a1{/,null,STOPPED}
2023-07-04 21:45:13,476 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f3261{/__admin,null,STOPPED}
2023-07-04 21:45:13,635 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:45:13,637 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:45:13,637 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:45:13,648 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:45:13,648 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:45:13,648 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:46:28,801 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:46:28,935 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:46:29,853 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:46:29,864 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:46:29,875 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:46:29,876 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:46:29,887 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:29,907 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @2534ms
2023-07-04 21:46:30,544 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:46:30,553 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:46:30,561 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 36185 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:46:30,561 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:46:30,561 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:46:30,576 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:30,577 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2c06b113 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:30,577 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:30,577 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:46:30,577 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:30,577 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ceb7701 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:31,053 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:46:31,054 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:46:31,144 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 85 ms. Found 2 JPA repository interfaces.
2023-07-04 21:46:31,161 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:46:31,161 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:46:31,170 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:46:31,170 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:46:31,170 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:46:31,298 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:46:31,344 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:46:31,365 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:46:31,524 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:46:31,531 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:46:31,690 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:46:31,786 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1104ad6a
2023-07-04 21:46:31,787 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:46:31,865 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:46:31,934 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:46:32,150 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:46:32,192 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:46:32,195 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:46:32,196 INFO l.util [Test worker] Run:                          0
2023-07-04 21:46:32,196 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:46:32,196 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:46:32,196 INFO l.util [Test worker] -------------------------------
2023-07-04 21:46:32,196 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:46:32,196 INFO l.util [Test worker] Update summary generated
2023-07-04 21:46:32,198 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:46:32,200 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:46:32,201 INFO l.command [Test worker] Command execution complete
2023-07-04 21:46:32,264 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:46:32,300 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:46:32,301 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:46:32,378 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:46:32,482 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:46:32,507 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@65f8933b
2023-07-04 21:46:32,643 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:46:33,063 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:46:33,112 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:46:33,277 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:46:33,597 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:46:33,644 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:46:33,928 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@249334b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36598d1d, org.springframework.security.web.context.SecurityContextHolderFilter@55a0cc83, org.springframework.security.web.header.HeaderWriterFilter@7060c1cb, org.springframework.security.web.authentication.logout.LogoutFilter@4977e352, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3bd8032e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@39613474, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@660d78b7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4e125be1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@651a4c4, org.springframework.security.web.session.ConcurrentSessionFilter@119db52f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@317d7a5e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4efca68, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@136fea21, org.springframework.security.web.access.ExceptionTranslationFilter@1785e670, org.springframework.security.web.access.intercept.AuthorizationFilter@3261b8bf]
2023-07-04 21:46:34,324 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 4.371 seconds (process running for 6.95)
2023-07-04 21:46:34,638 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:34,638 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:34,640 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:34,641 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:46:34,641 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:46:34,988 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:46:34,989 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ef76bed{/__admin,null,AVAILABLE}
2023-07-04 21:46:34,990 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:46:34,990 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@79c26be5{/,null,AVAILABLE}
2023-07-04 21:46:34,990 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1fffd548{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:34,990 INFO o.e.j.s.Server [Test worker] Started Server@b41d473{STARTING}[11.0.15,sto=1000] @7617ms
2023-07-04 21:46:35,083 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:46:35,087 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 36185 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:46:35,087 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:46:35,087 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:46:35,096 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:35,096 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6bee9e29 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:35,096 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:35,096 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:46:35,096 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:35,096 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@524105bc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:35,301 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:46:35,305 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:46:35,393 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@291bd851, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60734e93, org.springframework.security.web.context.SecurityContextHolderFilter@383fddb3, org.springframework.security.web.header.HeaderWriterFilter@22caeb7f, org.springframework.security.web.authentication.logout.LogoutFilter@1717167e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@50732a53, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f7872c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@330da803, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@25df80f7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5c21f602, org.springframework.security.web.session.ConcurrentSessionFilter@7adb0c4f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7220d10c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7445d24, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2321035, org.springframework.security.web.access.ExceptionTranslationFilter@59226ee6, org.springframework.security.web.access.intercept.AuthorizationFilter@6b9e3249]
2023-07-04 21:46:35,437 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:46:35,437 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:46:35,438 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:46:35,498 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.506 seconds (process running for 8.125)
2023-07-04 21:46:35,652 INFO o.e.j.s.Server [Test worker] Stopped Server@b41d473{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:35,652 INFO o.e.j.s.Server [Test worker] Shutdown Server@b41d473{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:35,653 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1fffd548{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:35,653 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@79c26be5{/,null,STOPPED}
2023-07-04 21:46:35,653 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ef76bed{/__admin,null,STOPPED}
2023-07-04 21:46:35,663 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:46:35,665 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@714d1962{/__admin,null,AVAILABLE}
2023-07-04 21:46:35,665 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:46:35,665 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@45a2d27c{/,null,AVAILABLE}
2023-07-04 21:46:35,665 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@69e06a38{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:35,666 INFO o.e.j.s.Server [Test worker] Started Server@e94908c{STARTING}[11.0.15,sto=1000] @8292ms
2023-07-04 21:46:35,709 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:46:35,711 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 36185 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:46:35,711 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:46:35,711 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:46:35,713 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:35,713 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3922d85c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:35,713 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:35,713 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:46:35,713 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:35,713 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1e2200ee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:35,863 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:46:35,866 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:46:35,937 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@261ddbf5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79ddeff4, org.springframework.security.web.context.SecurityContextHolderFilter@cb42dee, org.springframework.security.web.header.HeaderWriterFilter@ed974d0, org.springframework.security.web.authentication.logout.LogoutFilter@2a805829, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@59a0d7fd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@71499df0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@73f9b9a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7cbe3d05, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@44465b22, org.springframework.security.web.session.ConcurrentSessionFilter@47884230, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c98e574, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79a269c3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3fdefb7b, org.springframework.security.web.access.ExceptionTranslationFilter@20f21dd9, org.springframework.security.web.access.intercept.AuthorizationFilter@4d5d8bdb]
2023-07-04 21:46:35,961 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:46:35,961 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:46:35,961 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:46:35,968 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.3 seconds (process running for 8.595)
2023-07-04 21:46:36,021 INFO o.e.j.s.Server [Test worker] Stopped Server@e94908c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:36,021 INFO o.e.j.s.Server [Test worker] Shutdown Server@e94908c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:36,022 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@69e06a38{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:36,022 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@45a2d27c{/,null,STOPPED}
2023-07-04 21:46:36,023 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@714d1962{/__admin,null,STOPPED}
2023-07-04 21:46:36,030 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:46:36,031 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6301175a{/__admin,null,AVAILABLE}
2023-07-04 21:46:36,031 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:46:36,031 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@11c60dee{/,null,AVAILABLE}
2023-07-04 21:46:36,031 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@41be1997{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:36,032 INFO o.e.j.s.Server [Test worker] Started Server@308d1ec0{STARTING}[11.0.15,sto=1000] @8658ms
2023-07-04 21:46:36,069 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:46:36,071 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 36185 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:46:36,071 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:46:36,071 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:46:36,072 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:36,072 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@355ca6c0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:36,072 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:36,072 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:46:36,072 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:36,072 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@747252dd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:36,212 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:46:36,256 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c3921, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@79b35952, org.springframework.security.web.context.SecurityContextHolderFilter@798828e9, org.springframework.security.web.header.HeaderWriterFilter@70bba4d1, org.springframework.security.web.authentication.logout.LogoutFilter@12ef753b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@41971628, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2838f58c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@13d98e0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@548afb9a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1648577d, org.springframework.security.web.session.ConcurrentSessionFilter@2cb8287, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@273b3afc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a0b8fe6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bdf37cc, org.springframework.security.web.access.ExceptionTranslationFilter@246f4044, org.springframework.security.web.access.intercept.AuthorizationFilter@4798d907]
2023-07-04 21:46:36,277 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:46:36,277 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:46:36,277 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:46:36,285 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.252 seconds (process running for 8.912)
2023-07-04 21:46:36,302 INFO o.e.j.s.Server [Test worker] Stopped Server@308d1ec0{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:36,302 INFO o.e.j.s.Server [Test worker] Shutdown Server@308d1ec0{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:36,303 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@41be1997{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:36,303 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@11c60dee{/,null,STOPPED}
2023-07-04 21:46:36,303 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6301175a{/__admin,null,STOPPED}
2023-07-04 21:46:36,324 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:46:36,337 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:46:36,357 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:46:36,469 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:46:36,771 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:46:36,772 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:46:36,791 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:46:36,818 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:46:37,651 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:46:38,089 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 8ef104dc2ad1af148d7988ab41eef2d2a73227dee6233efe17ee939e672a20f9
2023-07-04 21:46:39,259 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.464528S
2023-07-04 21:46:39,277 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:46:39,277 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:46:39,278 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:46:39,278 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:46:39,301 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: eb5c2669b0998bc87d505b255cf85a49bf2c62a84c041deb17a2434371dc1316
2023-07-04 21:46:40,533 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.254931S
2023-07-04 21:46:40,535 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:55014/test?loggerLevel=OFF)
2023-07-04 21:46:40,540 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:46:40,541 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@64eedae0{/__admin,null,AVAILABLE}
2023-07-04 21:46:40,541 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:46:40,541 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6511ed25{/,null,AVAILABLE}
2023-07-04 21:46:40,541 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5b95e840{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:40,542 INFO o.e.j.s.Server [Test worker] Started Server@7c8241eb{STARTING}[11.0.15,sto=1000] @13169ms
2023-07-04 21:46:40,582 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:46:40,585 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 36185 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:46:40,585 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:46:40,585 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:46:40,586 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:40,586 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3ca1fde uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:40,586 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:40,586 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:46:40,587 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:46:40,587 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7b591f4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:46:40,645 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:46:40,645 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:46:40,656 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-04 21:46:40,694 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:46:40,744 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@55dfdcd0
2023-07-04 21:46:40,744 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:46:40,752 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:46:40,785 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:46:40,849 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:46:40,856 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:46:40,917 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:46:40,918 INFO l.util [Test worker] Run:                          5
2023-07-04 21:46:40,918 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:46:40,918 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:46:40,918 INFO l.util [Test worker] -------------------------------
2023-07-04 21:46:40,918 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:46:40,918 INFO l.util [Test worker] Update summary generated
2023-07-04 21:46:40,922 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:46:40,928 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:46:40,929 INFO l.command [Test worker] Command execution complete
2023-07-04 21:46:40,938 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:46:40,942 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:46:40,942 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:46:40,943 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4d9aaed2
2023-07-04 21:46:40,954 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:46:40,979 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:46:40,998 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:46:41,071 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.526 seconds (process running for 13.698)
2023-07-04 21:46:41,176 INFO o.e.j.s.Server [Test worker] Stopped Server@7c8241eb{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:41,176 INFO o.e.j.s.Server [Test worker] Shutdown Server@7c8241eb{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:41,176 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5b95e840{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:41,177 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6511ed25{/,null,STOPPED}
2023-07-04 21:46:41,177 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@64eedae0{/__admin,null,STOPPED}
2023-07-04 21:46:41,353 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:46:41,381 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 9bfbea2dd60ca5adec70a07ca3c9f9e050ec568bcba303105ed493197f1c4192
2023-07-04 21:46:42,523 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.170141S
2023-07-04 21:46:42,523 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:55062/test?loggerLevel=OFF)
2023-07-04 21:46:42,528 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:46:42,528 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@66d9a929{/__admin,null,AVAILABLE}
2023-07-04 21:46:42,529 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:46:42,529 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3c4f0087{/,null,AVAILABLE}
2023-07-04 21:46:42,529 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@422b1292{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:42,529 INFO o.e.j.s.Server [Test worker] Started Server@478fdd4e{STARTING}[11.0.15,sto=1000] @15156ms
2023-07-04 21:46:42,531 INFO o.e.j.s.Server [Test worker] Stopped Server@478fdd4e{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:42,531 INFO o.e.j.s.Server [Test worker] Shutdown Server@478fdd4e{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:46:42,532 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@422b1292{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:46:42,532 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3c4f0087{/,null,STOPPED}
2023-07-04 21:46:42,532 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@66d9a929{/__admin,null,STOPPED}
2023-07-04 21:46:42,879 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:46:42,880 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:46:42,881 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:46:42,890 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:46:42,891 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:46:42,891 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:47:32,244 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:47:32,297 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:47:32,709 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:47:32,720 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,AVAILABLE}
2023-07-04 21:47:32,724 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:47:32,725 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7980cf2c{/,null,AVAILABLE}
2023-07-04 21:47:32,728 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:32,734 INFO o.e.j.s.Server [Test worker] Started Server@3aaa3c39{STARTING}[11.0.15,sto=1000] @1027ms
2023-07-04 21:47:33,123 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:47:33,131 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:47:33,139 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 36423 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:47:33,139 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:47:33,139 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:47:33,156 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:33,156 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a64cb0c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:33,156 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:33,156 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:47:33,156 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:33,156 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e193ef5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:33,510 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:47:33,511 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:47:33,583 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 69 ms. Found 2 JPA repository interfaces.
2023-07-04 21:47:33,590 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:47:33,591 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:47:33,598 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:47:33,599 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:47:33,599 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:47:33,719 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:47:33,764 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:47:33,785 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:47:33,966 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:47:33,974 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:47:34,134 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:47:34,191 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@522f74a1
2023-07-04 21:47:34,192 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:47:34,259 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:47:34,319 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:47:34,538 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:47:34,593 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:47:34,597 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:47:34,597 INFO l.util [Test worker] Run:                          0
2023-07-04 21:47:34,597 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:47:34,597 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:47:34,597 INFO l.util [Test worker] -------------------------------
2023-07-04 21:47:34,597 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:47:34,598 INFO l.util [Test worker] Update summary generated
2023-07-04 21:47:34,600 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:47:34,602 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:47:34,602 INFO l.command [Test worker] Command execution complete
2023-07-04 21:47:34,658 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:47:34,682 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:47:34,683 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:47:34,737 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:47:34,804 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:47:34,818 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3217e970
2023-07-04 21:47:34,950 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:47:35,290 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:47:35,340 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:47:35,490 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:47:35,805 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:47:35,857 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:47:36,118 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50235133, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f1e530c, org.springframework.security.web.context.SecurityContextHolderFilter@5fa851ac, org.springframework.security.web.header.HeaderWriterFilter@904b224, org.springframework.security.web.authentication.logout.LogoutFilter@6456fcc4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@382d820, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@64d11323, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2be71a78, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3261b8bf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1e31cf9b, org.springframework.security.web.session.ConcurrentSessionFilter@46ead542, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4977e352, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52fb37d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13ed9738, org.springframework.security.web.access.ExceptionTranslationFilter@41854000, org.springframework.security.web.access.intercept.AuthorizationFilter@16ec7988]
2023-07-04 21:47:36,479 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.722 seconds (process running for 4.771)
2023-07-04 21:47:36,782 INFO o.e.j.s.Server [Test worker] Stopped Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:36,783 INFO o.e.j.s.Server [Test worker] Shutdown Server@3aaa3c39{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:36,785 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@173a6728{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:36,786 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7980cf2c{/,null,STOPPED}
2023-07-04 21:47:36,786 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f96f020{/__admin,null,STOPPED}
2023-07-04 21:47:37,109 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:47:37,110 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4a9f517b{/__admin,null,AVAILABLE}
2023-07-04 21:47:37,110 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:47:37,110 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4b5998c2{/,null,AVAILABLE}
2023-07-04 21:47:37,110 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@65c40060{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:37,111 INFO o.e.j.s.Server [Test worker] Started Server@629e9bbe{STARTING}[11.0.15,sto=1000] @5403ms
2023-07-04 21:47:37,208 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:47:37,216 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 36423 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:47:37,216 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:47:37,216 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:47:37,222 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:37,222 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@15fc044d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:37,222 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:37,222 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:47:37,223 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:37,223 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3df7184 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:37,415 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:47:37,419 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:47:37,513 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1acb7cf0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57e92236, org.springframework.security.web.context.SecurityContextHolderFilter@40afaed9, org.springframework.security.web.header.HeaderWriterFilter@5a14cfa4, org.springframework.security.web.authentication.logout.LogoutFilter@1919c877, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1fba5aad, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4837635d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@472ea479, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6afe49f5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@24378e1d, org.springframework.security.web.session.ConcurrentSessionFilter@1f76b33a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c2e5c75, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40bbcdbb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1608fb8e, org.springframework.security.web.access.ExceptionTranslationFilter@5fc4773e, org.springframework.security.web.access.intercept.AuthorizationFilter@1ff84804]
2023-07-04 21:47:37,555 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:47:37,555 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:47:37,555 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:47:37,605 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.492 seconds (process running for 5.898)
2023-07-04 21:47:37,759 INFO o.e.j.s.Server [Test worker] Stopped Server@629e9bbe{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:37,760 INFO o.e.j.s.Server [Test worker] Shutdown Server@629e9bbe{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:37,760 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@65c40060{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:37,761 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4b5998c2{/,null,STOPPED}
2023-07-04 21:47:37,761 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4a9f517b{/__admin,null,STOPPED}
2023-07-04 21:47:37,775 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:47:37,776 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@e36bbb9{/__admin,null,AVAILABLE}
2023-07-04 21:47:37,777 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:47:37,777 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@43687954{/,null,AVAILABLE}
2023-07-04 21:47:37,777 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@e94908c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:37,777 INFO o.e.j.s.Server [Test worker] Started Server@550b68f7{STARTING}[11.0.15,sto=1000] @6070ms
2023-07-04 21:47:37,827 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:47:37,828 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 36423 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:47:37,828 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:47:37,829 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:47:37,830 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:37,830 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@25e1ca37 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:37,830 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:37,830 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:47:37,830 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:37,830 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@641ae uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:37,971 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:47:37,974 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:47:38,045 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2103697b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59f84f8c, org.springframework.security.web.context.SecurityContextHolderFilter@323e4f13, org.springframework.security.web.header.HeaderWriterFilter@aad1828, org.springframework.security.web.authentication.logout.LogoutFilter@440c71e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3c888166, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3e72c9de, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@bb3b9e5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1b98f595, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@71ec5154, org.springframework.security.web.session.ConcurrentSessionFilter@6e5b0d3c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f920265, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d1c2fe7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6786a21d, org.springframework.security.web.access.ExceptionTranslationFilter@5f4452bb, org.springframework.security.web.access.intercept.AuthorizationFilter@1487c3b3]
2023-07-04 21:47:38,070 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:47:38,070 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:47:38,071 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:47:38,078 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.299 seconds (process running for 6.371)
2023-07-04 21:47:38,136 INFO o.e.j.s.Server [Test worker] Stopped Server@550b68f7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:38,136 INFO o.e.j.s.Server [Test worker] Shutdown Server@550b68f7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:38,137 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@e94908c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:38,137 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@43687954{/,null,STOPPED}
2023-07-04 21:47:38,137 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@e36bbb9{/__admin,null,STOPPED}
2023-07-04 21:47:38,145 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:47:38,146 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7b216b10{/__admin,null,AVAILABLE}
2023-07-04 21:47:38,146 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:47:38,146 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@28c27def{/,null,AVAILABLE}
2023-07-04 21:47:38,147 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@168cffde{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:38,147 INFO o.e.j.s.Server [Test worker] Started Server@477f3b7d{STARTING}[11.0.15,sto=1000] @6439ms
2023-07-04 21:47:38,189 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:47:38,190 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 36423 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:47:38,191 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:47:38,191 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:47:38,192 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:38,192 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@53413a1a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:38,192 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:38,192 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:47:38,192 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:38,192 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f50d590 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:38,331 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:47:38,377 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@636a9d18, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4123121, org.springframework.security.web.context.SecurityContextHolderFilter@19f7107e, org.springframework.security.web.header.HeaderWriterFilter@2f457fa2, org.springframework.security.web.authentication.logout.LogoutFilter@7a602de2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@44a4676b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3f504d20, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6690629e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ae11512, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@399655ce, org.springframework.security.web.session.ConcurrentSessionFilter@68fc0079, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62ae5e9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21622e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c7744f0, org.springframework.security.web.access.ExceptionTranslationFilter@2da64c8d, org.springframework.security.web.access.intercept.AuthorizationFilter@4b99dcc8]
2023-07-04 21:47:38,398 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:47:38,398 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:47:38,398 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:47:38,407 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.258 seconds (process running for 6.699)
2023-07-04 21:47:38,426 INFO o.e.j.s.Server [Test worker] Stopped Server@477f3b7d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:38,426 INFO o.e.j.s.Server [Test worker] Shutdown Server@477f3b7d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:38,427 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@168cffde{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:38,427 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@28c27def{/,null,STOPPED}
2023-07-04 21:47:38,427 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7b216b10{/__admin,null,STOPPED}
2023-07-04 21:47:38,449 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:47:38,458 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:47:38,476 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:47:38,582 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:47:38,771 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:47:38,772 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:47:38,790 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:47:38,813 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:47:39,641 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:47:39,715 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 5525c684a2c990d7db0b8ed68dd03455ee8aa05d78dc4be9cf953a722fe59ebb
2023-07-04 21:47:40,270 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.476576S
2023-07-04 21:47:40,279 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:47:40,279 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:47:40,280 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:47:40,281 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:47:40,317 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 16ef05ea14fcb71713914ec935bfe9eab7396c05705f73c78ee6407cd2b39f3e
2023-07-04 21:47:41,665 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.384991S
2023-07-04 21:47:41,666 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56102/test?loggerLevel=OFF)
2023-07-04 21:47:41,672 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:47:41,673 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6511ed25{/__admin,null,AVAILABLE}
2023-07-04 21:47:41,673 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:47:41,673 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@59c4148c{/,null,AVAILABLE}
2023-07-04 21:47:41,673 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@38903fa5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:41,673 INFO o.e.j.s.Server [Test worker] Started Server@10089762{STARTING}[11.0.15,sto=1000] @9966ms
2023-07-04 21:47:41,774 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:47:41,780 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 36423 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:47:41,780 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:47:41,780 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:47:41,782 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:41,783 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@aac61f0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:41,783 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:41,783 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:47:41,783 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:47:41,783 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@59f91ee8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:47:41,909 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:47:41,909 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:47:41,933 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 23 ms. Found 2 JPA repository interfaces.
2023-07-04 21:47:41,973 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:47:42,063 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@47032d02
2023-07-04 21:47:42,064 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:47:42,075 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:47:42,131 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:47:42,258 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:47:42,265 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:47:42,423 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:47:42,423 INFO l.util [Test worker] Run:                          5
2023-07-04 21:47:42,423 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:47:42,423 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:47:42,424 INFO l.util [Test worker] -------------------------------
2023-07-04 21:47:42,424 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:47:42,425 INFO l.util [Test worker] Update summary generated
2023-07-04 21:47:42,434 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:47:42,448 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:47:42,450 INFO l.command [Test worker] Command execution complete
2023-07-04 21:47:42,468 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:47:42,478 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:47:42,479 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:47:42,482 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@628fe6aa
2023-07-04 21:47:42,512 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:47:42,563 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:47:42,616 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:47:42,806 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 1.129 seconds (process running for 11.098)
2023-07-04 21:47:43,153 INFO o.e.j.s.Server [Test worker] Stopped Server@10089762{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:43,154 INFO o.e.j.s.Server [Test worker] Shutdown Server@10089762{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:43,156 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@38903fa5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:43,158 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@59c4148c{/,null,STOPPED}
2023-07-04 21:47:43,158 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6511ed25{/__admin,null,STOPPED}
2023-07-04 21:47:44,149 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:47:44,326 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 3ed9f16850a8a858481d7f3a9dddff7913faeccb6b541498edec53229b5db61f
2023-07-04 21:47:47,293 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT3.144433S
2023-07-04 21:47:47,298 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56184/test?loggerLevel=OFF)
2023-07-04 21:47:47,319 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:47:47,322 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@69ef1429{/__admin,null,AVAILABLE}
2023-07-04 21:47:47,323 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:47:47,323 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4be5469e{/,null,AVAILABLE}
2023-07-04 21:47:47,324 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@c3e363{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:47,324 INFO o.e.j.s.Server [Test worker] Started Server@1f537655{STARTING}[11.0.15,sto=1000] @15617ms
2023-07-04 21:47:47,334 INFO o.e.j.s.Server [Test worker] Stopped Server@1f537655{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:47,334 INFO o.e.j.s.Server [Test worker] Shutdown Server@1f537655{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:47:47,338 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@c3e363{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:47:47,338 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4be5469e{/,null,STOPPED}
2023-07-04 21:47:47,339 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@69ef1429{/__admin,null,STOPPED}
2023-07-04 21:47:48,032 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:47:48,034 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:47:48,036 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:47:48,060 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:47:48,060 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:47:48,062 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:48:29,641 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:48:29,691 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:48:30,232 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:48:30,243 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@12a470dd{/__admin,null,AVAILABLE}
2023-07-04 21:48:30,247 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:48:30,247 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4b0bd001{/,null,AVAILABLE}
2023-07-04 21:48:30,251 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@31ddb930{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:30,256 INFO o.e.j.s.Server [Test worker] Started Server@2577a95d{STARTING}[11.0.15,sto=1000] @1146ms
2023-07-04 21:48:30,573 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:48:30,579 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:48:30,586 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 36646 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:48:30,586 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:48:30,586 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:48:30,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:30,601 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5bfc79cb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:30,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:30,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:48:30,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:30,601 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@545d2560 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:30,950 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:48:30,950 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:48:31,018 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 64 ms. Found 2 JPA repository interfaces.
2023-07-04 21:48:31,026 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:48:31,027 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:48:31,035 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:48:31,035 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:48:31,035 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:48:31,164 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:48:31,212 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:48:31,233 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:48:31,375 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:48:31,381 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:48:31,525 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:48:31,583 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@7d0312a
2023-07-04 21:48:31,584 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:48:31,652 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:48:31,714 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:48:31,925 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:48:31,971 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:48:31,975 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:48:31,975 INFO l.util [Test worker] Run:                          0
2023-07-04 21:48:31,975 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:48:31,975 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:48:31,975 INFO l.util [Test worker] -------------------------------
2023-07-04 21:48:31,975 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:48:31,975 INFO l.util [Test worker] Update summary generated
2023-07-04 21:48:31,977 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:48:31,980 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:48:31,980 INFO l.command [Test worker] Command execution complete
2023-07-04 21:48:32,025 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:48:32,054 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:48:32,055 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:48:32,109 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:48:32,165 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:48:32,180 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3c5797c6
2023-07-04 21:48:32,289 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:48:32,613 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:48:32,663 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:48:32,825 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:48:33,141 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:48:33,188 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:48:33,458 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@308508ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@324bb7fb, org.springframework.security.web.context.SecurityContextHolderFilter@7060c1cb, org.springframework.security.web.header.HeaderWriterFilter@74873b07, org.springframework.security.web.authentication.logout.LogoutFilter@4efca68, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6e46f5c1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3a99aa17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e64ee56, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@15d67d0f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@315f4718, org.springframework.security.web.session.ConcurrentSessionFilter@5973e4ec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6844b46a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2317b0cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61ad4b83, org.springframework.security.web.access.ExceptionTranslationFilter@4f01d2ea, org.springframework.security.web.access.intercept.AuthorizationFilter@6fd364a3]
2023-07-04 21:48:33,800 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.52 seconds (process running for 4.69)
2023-07-04 21:48:34,104 INFO o.e.j.s.Server [Test worker] Stopped Server@2577a95d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:34,104 INFO o.e.j.s.Server [Test worker] Shutdown Server@2577a95d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:34,105 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@31ddb930{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:34,107 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4b0bd001{/,null,STOPPED}
2023-07-04 21:48:34,107 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@12a470dd{/__admin,null,STOPPED}
2023-07-04 21:48:34,448 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:48:34,449 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5bfe65df{/__admin,null,AVAILABLE}
2023-07-04 21:48:34,449 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:48:34,449 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@798cf0a0{/,null,AVAILABLE}
2023-07-04 21:48:34,449 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@edc900a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:34,449 INFO o.e.j.s.Server [Test worker] Started Server@2d0529f2{STARTING}[11.0.15,sto=1000] @5339ms
2023-07-04 21:48:34,523 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:48:34,527 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 36646 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:48:34,527 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:48:34,527 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:48:34,529 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:34,530 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@72a4b564 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:34,530 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:34,530 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:48:34,530 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:34,530 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@600dfbca uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:34,747 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:48:34,751 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:48:34,842 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@579e30b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60e50c6, org.springframework.security.web.context.SecurityContextHolderFilter@302f998a, org.springframework.security.web.header.HeaderWriterFilter@7ee44e51, org.springframework.security.web.authentication.logout.LogoutFilter@d863a65, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@325c63a9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@eb52295, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@23d7dad, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@451b7faf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@21886b18, org.springframework.security.web.session.ConcurrentSessionFilter@1eb45da0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@25b4304c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79fe746d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48b1ba91, org.springframework.security.web.access.ExceptionTranslationFilter@3885b162, org.springframework.security.web.access.intercept.AuthorizationFilter@19a98be6]
2023-07-04 21:48:34,889 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:48:34,889 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:48:34,890 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:48:34,956 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.504 seconds (process running for 5.846)
2023-07-04 21:48:35,112 INFO o.e.j.s.Server [Test worker] Stopped Server@2d0529f2{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:35,112 INFO o.e.j.s.Server [Test worker] Shutdown Server@2d0529f2{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:35,113 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@edc900a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:35,113 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@798cf0a0{/,null,STOPPED}
2023-07-04 21:48:35,113 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5bfe65df{/__admin,null,STOPPED}
2023-07-04 21:48:35,124 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:48:35,124 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5589b8ed{/__admin,null,AVAILABLE}
2023-07-04 21:48:35,125 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:48:35,125 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@43fe629a{/,null,AVAILABLE}
2023-07-04 21:48:35,125 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4184aa78{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:35,126 INFO o.e.j.s.Server [Test worker] Started Server@6197fa5f{STARTING}[11.0.15,sto=1000] @6015ms
2023-07-04 21:48:35,176 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:48:35,178 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 36646 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:48:35,178 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:48:35,178 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:48:35,180 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:35,180 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@660afeb2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:35,180 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:35,180 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:48:35,180 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:35,180 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@14075727 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:35,323 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:48:35,326 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:48:35,398 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7c80dfd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53e62429, org.springframework.security.web.context.SecurityContextHolderFilter@1a5c6b3e, org.springframework.security.web.header.HeaderWriterFilter@549bae75, org.springframework.security.web.authentication.logout.LogoutFilter@433b7810, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5961a37e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4182abba, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@77d68cd6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3b729e06, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@76d8a94, org.springframework.security.web.session.ConcurrentSessionFilter@6cf14dc3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54eabbdf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d0b5f31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@449e0693, org.springframework.security.web.access.ExceptionTranslationFilter@4fe03311, org.springframework.security.web.access.intercept.AuthorizationFilter@6b6371a0]
2023-07-04 21:48:35,422 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:48:35,422 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:48:35,423 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:48:35,430 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.302 seconds (process running for 6.319)
2023-07-04 21:48:35,487 INFO o.e.j.s.Server [Test worker] Stopped Server@6197fa5f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:35,487 INFO o.e.j.s.Server [Test worker] Shutdown Server@6197fa5f{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:35,488 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4184aa78{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:35,488 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@43fe629a{/,null,STOPPED}
2023-07-04 21:48:35,488 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5589b8ed{/__admin,null,STOPPED}
2023-07-04 21:48:35,496 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:48:35,497 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@49588fc8{/__admin,null,AVAILABLE}
2023-07-04 21:48:35,497 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:48:35,497 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@46aa79a3{/,null,AVAILABLE}
2023-07-04 21:48:35,497 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5ffd29e8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:35,497 INFO o.e.j.s.Server [Test worker] Started Server@6c2e56b8{STARTING}[11.0.15,sto=1000] @6387ms
2023-07-04 21:48:35,539 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:48:35,540 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 36646 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:48:35,540 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:48:35,540 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:48:35,542 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:35,542 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7de09d35 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:35,542 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:35,542 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:48:35,542 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:48:35,542 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74642e97 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:48:35,696 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:48:35,743 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55986028, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e4ca02, org.springframework.security.web.context.SecurityContextHolderFilter@79895a73, org.springframework.security.web.header.HeaderWriterFilter@41d6e344, org.springframework.security.web.authentication.logout.LogoutFilter@1a50f575, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@10a89001, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@dce343c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e85002b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7a5bc003, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d7761d6, org.springframework.security.web.session.ConcurrentSessionFilter@56f135f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53600a30, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@255a1fdb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3bb5b20b, org.springframework.security.web.access.ExceptionTranslationFilter@9247cfe, org.springframework.security.web.access.intercept.AuthorizationFilter@4bfe0b18]
2023-07-04 21:48:35,766 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:48:35,766 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:48:35,766 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:48:35,774 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.275 seconds (process running for 6.664)
2023-07-04 21:48:35,792 INFO o.e.j.s.Server [Test worker] Stopped Server@6c2e56b8{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:35,792 INFO o.e.j.s.Server [Test worker] Shutdown Server@6c2e56b8{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:35,793 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5ffd29e8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:35,793 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@46aa79a3{/,null,STOPPED}
2023-07-04 21:48:35,793 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@49588fc8{/__admin,null,STOPPED}
2023-07-04 21:48:35,827 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:48:35,937 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:48:36,153 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:48:36,153 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:48:36,170 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:48:36,195 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:48:37,024 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:48:37,098 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: af9580b8a903fabc84bdd62afa8ad2a0e5852d3f9f112d0254d15048c014da9b
2023-07-04 21:48:37,513 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.339619S
2023-07-04 21:48:37,530 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:48:37,530 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:48:37,530 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:48:37,531 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:48:37,557 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ea86e845bff0d026643560a2cf58ea64eec38d812be98cde9fb864d3bb0d831b
2023-07-04 21:48:38,685 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.154292S
2023-07-04 21:48:38,686 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57119/test?loggerLevel=OFF)
2023-07-04 21:48:38,691 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:48:38,692 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@611ddac3{/__admin,null,AVAILABLE}
2023-07-04 21:48:38,692 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:48:38,692 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@f9b0bfb{/,null,AVAILABLE}
2023-07-04 21:48:38,692 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6793247f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:38,692 INFO o.e.j.s.Server [Test worker] Started Server@389732e5{STARTING}[11.0.15,sto=1000] @9582ms
2023-07-04 21:48:38,697 INFO o.e.j.s.Server [Test worker] Stopped Server@389732e5{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:38,697 INFO o.e.j.s.Server [Test worker] Shutdown Server@389732e5{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:38,698 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6793247f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:38,698 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@f9b0bfb{/,null,STOPPED}
2023-07-04 21:48:38,698 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@611ddac3{/__admin,null,STOPPED}
2023-07-04 21:48:38,853 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:48:38,875 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f1dcebbd80337c5f44184d610e69a92e8b0c31e115ba3b2c50d901b4ea96f926
2023-07-04 21:48:39,935 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.082484S
2023-07-04 21:48:39,935 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57137/test?loggerLevel=OFF)
2023-07-04 21:48:39,938 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:48:39,939 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@870cde1{/__admin,null,AVAILABLE}
2023-07-04 21:48:39,939 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:48:39,939 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@482e3301{/,null,AVAILABLE}
2023-07-04 21:48:39,940 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1a3a1b59{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:39,940 INFO o.e.j.s.Server [Test worker] Started Server@179695c7{STARTING}[11.0.15,sto=1000] @10830ms
2023-07-04 21:48:39,942 INFO o.e.j.s.Server [Test worker] Stopped Server@179695c7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:39,942 INFO o.e.j.s.Server [Test worker] Shutdown Server@179695c7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:48:39,943 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1a3a1b59{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:48:39,943 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@482e3301{/,null,STOPPED}
2023-07-04 21:48:39,943 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@870cde1{/__admin,null,STOPPED}
2023-07-04 21:48:40,319 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:48:40,320 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:48:40,322 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:49:04,137 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:49:04,219 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:49:04,861 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:49:04,875 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3440e9cd{/__admin,null,AVAILABLE}
2023-07-04 21:49:04,882 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:49:04,882 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@39f5b723{/,null,AVAILABLE}
2023-07-04 21:49:04,887 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6f911326{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:04,893 INFO o.e.j.s.Server [Test worker] Started Server@5f36c8e3{STARTING}[11.0.15,sto=1000] @1687ms
2023-07-04 21:49:05,540 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:49:05,549 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:49:05,566 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 36804 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:49:05,567 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:49:05,568 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:49:05,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:05,592 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4fea840f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:05,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:05,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:49:05,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:05,592 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@584ca390 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:06,145 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:49:06,146 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:49:06,230 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 81 ms. Found 2 JPA repository interfaces.
2023-07-04 21:49:06,241 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:49:06,242 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:49:06,251 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:49:06,251 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:49:06,252 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-04 21:49:06,410 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:49:06,483 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:49:06,511 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:49:06,685 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:49:06,691 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:49:06,910 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:49:06,988 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4379fe2a
2023-07-04 21:49:06,989 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:49:07,096 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:49:07,195 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:49:07,418 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:49:07,473 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:49:07,477 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:49:07,477 INFO l.util [Test worker] Run:                          0
2023-07-04 21:49:07,477 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:49:07,477 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:49:07,477 INFO l.util [Test worker] -------------------------------
2023-07-04 21:49:07,478 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:49:07,478 INFO l.util [Test worker] Update summary generated
2023-07-04 21:49:07,480 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:49:07,482 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:49:07,482 INFO l.command [Test worker] Command execution complete
2023-07-04 21:49:07,543 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:49:07,579 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:49:07,580 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:49:07,642 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:49:07,702 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:49:07,718 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@dfe2875
2023-07-04 21:49:07,839 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:49:08,345 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:49:08,395 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:49:08,624 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:49:08,994 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:49:09,061 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:49:09,539 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24d815da, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@452895aa, org.springframework.security.web.context.SecurityContextHolderFilter@524d00e7, org.springframework.security.web.header.HeaderWriterFilter@796a1cd1, org.springframework.security.web.authentication.logout.LogoutFilter@76e463d3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4f01d2ea, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@50a65fb9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@60651b10, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@352e8cb3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@8bac10b, org.springframework.security.web.session.ConcurrentSessionFilter@431ac922, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a83be9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@287e35df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24fc59e3, org.springframework.security.web.access.ExceptionTranslationFilter@62e9a6cc, org.springframework.security.web.access.intercept.AuthorizationFilter@14aa12c5]
2023-07-04 21:49:10,104 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.168 seconds (process running for 6.898)
2023-07-04 21:49:10,566 INFO o.e.j.s.Server [Test worker] Stopped Server@5f36c8e3{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:10,567 INFO o.e.j.s.Server [Test worker] Shutdown Server@5f36c8e3{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:10,573 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6f911326{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:10,575 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@39f5b723{/,null,STOPPED}
2023-07-04 21:49:10,576 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3440e9cd{/__admin,null,STOPPED}
2023-07-04 21:49:11,103 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:49:11,104 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@516cb8e1{/__admin,null,AVAILABLE}
2023-07-04 21:49:11,104 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:49:11,104 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4f7ef133{/,null,AVAILABLE}
2023-07-04 21:49:11,105 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7728bed{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:11,105 INFO o.e.j.s.Server [Test worker] Started Server@2eea3595{STARTING}[11.0.15,sto=1000] @7899ms
2023-07-04 21:49:11,203 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:49:11,207 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 36804 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:49:11,207 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:49:11,207 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:49:11,210 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:11,211 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@733fc5af uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:11,211 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:11,211 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:49:11,211 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:11,211 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56f8032 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:11,439 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:49:11,444 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:49:11,545 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66d8d02e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@571802f, org.springframework.security.web.context.SecurityContextHolderFilter@3230a186, org.springframework.security.web.header.HeaderWriterFilter@58f83032, org.springframework.security.web.authentication.logout.LogoutFilter@db05f0e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2478f64c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2bbf85e2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5af2f934, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@66132947, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@523685f6, org.springframework.security.web.session.ConcurrentSessionFilter@22fc3e19, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c3c0916, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@255cc703, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f40fddd, org.springframework.security.web.access.ExceptionTranslationFilter@2165fcfa, org.springframework.security.web.access.intercept.AuthorizationFilter@31b1a4e0]
2023-07-04 21:49:11,589 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:49:11,589 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:49:11,590 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:49:11,659 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.552 seconds (process running for 8.453)
2023-07-04 21:49:11,822 INFO o.e.j.s.Server [Test worker] Stopped Server@2eea3595{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:11,822 INFO o.e.j.s.Server [Test worker] Shutdown Server@2eea3595{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:11,822 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7728bed{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:11,823 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4f7ef133{/,null,STOPPED}
2023-07-04 21:49:11,823 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@516cb8e1{/__admin,null,STOPPED}
2023-07-04 21:49:11,836 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:49:11,836 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@307cea0a{/__admin,null,AVAILABLE}
2023-07-04 21:49:11,837 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:49:11,837 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4b28d94f{/,null,AVAILABLE}
2023-07-04 21:49:11,837 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3af1dda5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:11,837 INFO o.e.j.s.Server [Test worker] Started Server@7d85318a{STARTING}[11.0.15,sto=1000] @8631ms
2023-07-04 21:49:11,887 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:49:11,888 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 36804 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:49:11,888 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:49:11,889 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:49:11,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:11,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1570db98 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:11,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:11,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:49:11,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:11,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4a30fa8f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:12,075 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:49:12,077 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:49:12,149 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31733839, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@11ec85a0, org.springframework.security.web.context.SecurityContextHolderFilter@1da5cb5a, org.springframework.security.web.header.HeaderWriterFilter@1b1d9369, org.springframework.security.web.authentication.logout.LogoutFilter@2f8892c5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@50de1c33, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3babb257, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4c7108ce, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4a3cc680, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@77b3a4c0, org.springframework.security.web.session.ConcurrentSessionFilter@6fdda7fe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fad2065, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@485c7a22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33c0f580, org.springframework.security.web.access.ExceptionTranslationFilter@467c9ad9, org.springframework.security.web.access.intercept.AuthorizationFilter@288aaeaf]
2023-07-04 21:49:12,173 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:49:12,173 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:49:12,173 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:49:12,180 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.341 seconds (process running for 8.974)
2023-07-04 21:49:12,238 INFO o.e.j.s.Server [Test worker] Stopped Server@7d85318a{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:12,238 INFO o.e.j.s.Server [Test worker] Shutdown Server@7d85318a{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:12,239 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3af1dda5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:12,239 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4b28d94f{/,null,STOPPED}
2023-07-04 21:49:12,239 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@307cea0a{/__admin,null,STOPPED}
2023-07-04 21:49:12,247 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:49:12,248 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@529461d3{/__admin,null,AVAILABLE}
2023-07-04 21:49:12,248 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:49:12,248 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@38979c5f{/,null,AVAILABLE}
2023-07-04 21:49:12,249 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5296c192{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:12,249 INFO o.e.j.s.Server [Test worker] Started Server@ca9a408{STARTING}[11.0.15,sto=1000] @9042ms
2023-07-04 21:49:12,292 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:49:12,294 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 36804 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:49:12,294 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:49:12,294 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:49:12,295 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:12,295 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6b3abb75 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:12,295 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:12,295 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:49:12,295 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:49:12,295 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@26378a64 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:49:12,439 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:49:12,486 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@516beb6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c9b0783, org.springframework.security.web.context.SecurityContextHolderFilter@2daa7bf3, org.springframework.security.web.header.HeaderWriterFilter@65b603a3, org.springframework.security.web.authentication.logout.LogoutFilter@156eb4cf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4669fdba, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@26c1f174, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11d264c2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3a9fe0d4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@25f80d35, org.springframework.security.web.session.ConcurrentSessionFilter@c7cddb2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51a862c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@50e43637, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@278e993c, org.springframework.security.web.access.ExceptionTranslationFilter@6918300a, org.springframework.security.web.access.intercept.AuthorizationFilter@2196b8c6]
2023-07-04 21:49:12,507 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:49:12,507 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:49:12,508 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:49:12,516 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.265 seconds (process running for 9.309)
2023-07-04 21:49:12,533 INFO o.e.j.s.Server [Test worker] Stopped Server@ca9a408{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:12,533 INFO o.e.j.s.Server [Test worker] Shutdown Server@ca9a408{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:12,534 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5296c192{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:12,534 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@38979c5f{/,null,STOPPED}
2023-07-04 21:49:12,534 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@529461d3{/__admin,null,STOPPED}
2023-07-04 21:49:12,570 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:49:12,674 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:49:12,873 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:49:12,874 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:49:12,895 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:49:12,920 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:49:13,512 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:49:13,601 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 33dbddae77ab604fbee74ee761f99cc745d42ae81a5697a5297bad0b926748b7
2023-07-04 21:49:14,099 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.200515S
2023-07-04 21:49:14,105 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:49:14,105 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:49:14,106 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:49:14,106 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:49:14,130 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f3457acdc1cf0f5bae3a587a7c48218bd3bee91803c8831bfadbfe5b343a1ae5
2023-07-04 21:49:15,288 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.182769S
2023-07-04 21:49:15,290 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57764/test?loggerLevel=OFF)
2023-07-04 21:49:15,295 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:49:15,296 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@33a45a0b{/__admin,null,AVAILABLE}
2023-07-04 21:49:15,296 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:49:15,296 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2126cfaf{/,null,AVAILABLE}
2023-07-04 21:49:15,296 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@466ae771{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:15,296 INFO o.e.j.s.Server [Test worker] Started Server@32ca93bd{STARTING}[11.0.15,sto=1000] @12090ms
2023-07-04 21:49:15,301 INFO o.e.j.s.Server [Test worker] Stopped Server@32ca93bd{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:15,301 INFO o.e.j.s.Server [Test worker] Shutdown Server@32ca93bd{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:15,302 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@466ae771{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:15,302 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2126cfaf{/,null,STOPPED}
2023-07-04 21:49:15,303 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@33a45a0b{/__admin,null,STOPPED}
2023-07-04 21:49:15,468 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:49:15,527 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ae638623ea8531bfc2fa1c8ea47501a48e160c273b9ef6508ee7da395b68429e
2023-07-04 21:49:16,587 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.119401S
2023-07-04 21:49:16,587 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57784/test?loggerLevel=OFF)
2023-07-04 21:49:16,589 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:49:16,590 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2c0e260{/__admin,null,AVAILABLE}
2023-07-04 21:49:16,590 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:49:16,591 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@572d2320{/,null,AVAILABLE}
2023-07-04 21:49:16,591 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@587f24d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:16,591 INFO o.e.j.s.Server [Test worker] Started Server@63689254{STARTING}[11.0.15,sto=1000] @13385ms
2023-07-04 21:49:16,593 INFO o.e.j.s.Server [Test worker] Stopped Server@63689254{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:16,593 INFO o.e.j.s.Server [Test worker] Shutdown Server@63689254{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:49:16,594 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@587f24d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:49:16,594 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@572d2320{/,null,STOPPED}
2023-07-04 21:49:16,594 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2c0e260{/__admin,null,STOPPED}
2023-07-04 21:49:16,982 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:49:16,983 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:49:16,986 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:51:32,778 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:51:32,828 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:51:33,197 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:51:33,207 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 21:51:33,210 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:51:33,210 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 21:51:33,213 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:33,218 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @985ms
2023-07-04 21:51:33,548 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:51:33,554 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:51:33,561 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 37235 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:51:33,561 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:51:33,561 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:51:33,574 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:33,574 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:33,574 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:33,574 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:51:33,574 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:33,574 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:33,932 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:51:33,933 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:51:34,008 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 72 ms. Found 2 JPA repository interfaces.
2023-07-04 21:51:34,018 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:51:34,019 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:51:34,027 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:51:34,027 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:51:34,027 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:51:34,163 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:51:34,216 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:51:34,250 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:51:34,395 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:51:34,401 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:51:34,544 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:51:34,605 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@eb09112
2023-07-04 21:51:34,606 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:51:34,666 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:51:34,730 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:51:34,954 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:51:34,992 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:51:34,996 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:51:34,996 INFO l.util [Test worker] Run:                          0
2023-07-04 21:51:34,996 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:51:34,996 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:51:34,996 INFO l.util [Test worker] -------------------------------
2023-07-04 21:51:34,996 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:51:34,996 INFO l.util [Test worker] Update summary generated
2023-07-04 21:51:34,998 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:51:35,000 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:51:35,000 INFO l.command [Test worker] Command execution complete
2023-07-04 21:51:35,045 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:51:35,082 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:51:35,083 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:51:35,139 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:51:35,206 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:51:35,222 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@626e5554
2023-07-04 21:51:35,322 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:51:35,649 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:51:35,696 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:51:35,848 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:51:36,166 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:51:36,212 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:51:36,476 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@660d78b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e0c445f, org.springframework.security.web.context.SecurityContextHolderFilter@4463d9b7, org.springframework.security.web.header.HeaderWriterFilter@1785e670, org.springframework.security.web.authentication.logout.LogoutFilter@2265792c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5dc09bca, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@563a32a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@10e25b2a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4efca68, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2536edc3, org.springframework.security.web.session.ConcurrentSessionFilter@25de3ccc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a01358f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@267e36f5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1544bf85, org.springframework.security.web.access.ExceptionTranslationFilter@1f0695ae, org.springframework.security.web.access.intercept.AuthorizationFilter@52fb37d7]
2023-07-04 21:51:36,833 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.588 seconds (process running for 4.6)
2023-07-04 21:51:37,137 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:37,137 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:37,139 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:37,140 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 21:51:37,140 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 21:51:37,491 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:51:37,492 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3cce689c{/__admin,null,AVAILABLE}
2023-07-04 21:51:37,492 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:51:37,492 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@218cf600{/,null,AVAILABLE}
2023-07-04 21:51:37,492 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36dada39{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:37,492 INFO o.e.j.s.Server [Test worker] Started Server@ef76bed{STARTING}[11.0.15,sto=1000] @5259ms
2023-07-04 21:51:37,599 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:51:37,605 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 37235 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:51:37,605 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:51:37,605 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:51:37,607 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:37,607 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@675fe8de uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:37,607 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:37,607 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:51:37,607 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:37,607 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@420da96b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:37,831 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:51:37,836 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:51:37,945 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@60734e93, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c21f602, org.springframework.security.web.context.SecurityContextHolderFilter@7220d10c, org.springframework.security.web.header.HeaderWriterFilter@7adb0c4f, org.springframework.security.web.authentication.logout.LogoutFilter@321fc4c5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7f7872c5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@330da803, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@291bd851, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@63cb03ba, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2321035, org.springframework.security.web.session.ConcurrentSessionFilter@383fddb3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7445d24, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25df80f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@751c8972, org.springframework.security.web.access.ExceptionTranslationFilter@22caeb7f, org.springframework.security.web.access.intercept.AuthorizationFilter@50732a53]
2023-07-04 21:51:37,993 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:51:37,993 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:51:37,994 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:51:38,054 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.56 seconds (process running for 5.821)
2023-07-04 21:51:38,223 INFO o.e.j.s.Server [Test worker] Stopped Server@ef76bed{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:38,223 INFO o.e.j.s.Server [Test worker] Shutdown Server@ef76bed{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:38,224 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36dada39{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:38,224 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@218cf600{/,null,STOPPED}
2023-07-04 21:51:38,225 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3cce689c{/__admin,null,STOPPED}
2023-07-04 21:51:38,239 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:51:38,241 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@714d1962{/__admin,null,AVAILABLE}
2023-07-04 21:51:38,242 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:51:38,242 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@45a2d27c{/,null,AVAILABLE}
2023-07-04 21:51:38,242 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@69e06a38{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:38,243 INFO o.e.j.s.Server [Test worker] Started Server@e94908c{STARTING}[11.0.15,sto=1000] @6009ms
2023-07-04 21:51:38,297 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:51:38,300 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 37235 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:51:38,300 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:51:38,300 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:51:38,302 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:38,302 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3922d85c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:38,302 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:38,302 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:51:38,302 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:38,302 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1e2200ee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:38,467 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:51:38,470 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:51:38,551 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3fdefb7b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77544d06, org.springframework.security.web.context.SecurityContextHolderFilter@7cbe3d05, org.springframework.security.web.header.HeaderWriterFilter@3c98e574, org.springframework.security.web.authentication.logout.LogoutFilter@59a0d7fd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@261ddbf5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79ddeff4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44465b22, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4006d0cb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6160ae57, org.springframework.security.web.session.ConcurrentSessionFilter@79a269c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51c8a421, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a805829, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17896612, org.springframework.security.web.access.ExceptionTranslationFilter@cb42dee, org.springframework.security.web.access.intercept.AuthorizationFilter@73f9b9a]
2023-07-04 21:51:38,577 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:51:38,577 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:51:38,577 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:51:38,585 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.341 seconds (process running for 6.352)
2023-07-04 21:51:38,648 INFO o.e.j.s.Server [Test worker] Stopped Server@e94908c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:38,648 INFO o.e.j.s.Server [Test worker] Shutdown Server@e94908c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:38,649 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@69e06a38{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:38,649 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@45a2d27c{/,null,STOPPED}
2023-07-04 21:51:38,649 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@714d1962{/__admin,null,STOPPED}
2023-07-04 21:51:38,660 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:51:38,661 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@308d1ec0{/__admin,null,AVAILABLE}
2023-07-04 21:51:38,662 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:51:38,662 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6431e18{/,null,AVAILABLE}
2023-07-04 21:51:38,664 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@475f561c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:38,665 INFO o.e.j.s.Server [Test worker] Started Server@79acc359{STARTING}[11.0.15,sto=1000] @6431ms
2023-07-04 21:51:38,734 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:51:38,736 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 37235 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:51:38,736 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:51:38,736 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:51:38,737 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:38,738 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7a73e6b5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:38,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:38,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:51:38,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:38,738 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@728439ce uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:38,899 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:51:38,949 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79010f6f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2da64c8d, org.springframework.security.web.context.SecurityContextHolderFilter@12ef753b, org.springframework.security.web.header.HeaderWriterFilter@548afb9a, org.springframework.security.web.authentication.logout.LogoutFilter@13d98e0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1648577d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7bdf37cc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a9baca7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@41971628, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2f457fa2, org.springframework.security.web.session.ConcurrentSessionFilter@6cfd4e82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@444dac3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4798d907, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68fc0079, org.springframework.security.web.access.ExceptionTranslationFilter@a0b8fe6, org.springframework.security.web.access.intercept.AuthorizationFilter@79b35952]
2023-07-04 21:51:38,972 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:51:38,973 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:51:38,973 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:51:38,983 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.316 seconds (process running for 6.75)
2023-07-04 21:51:39,002 INFO o.e.j.s.Server [Test worker] Stopped Server@79acc359{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:39,002 INFO o.e.j.s.Server [Test worker] Shutdown Server@79acc359{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:39,003 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@475f561c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:39,003 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6431e18{/,null,STOPPED}
2023-07-04 21:51:39,003 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@308d1ec0{/__admin,null,STOPPED}
2023-07-04 21:51:39,023 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:51:39,037 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:51:39,056 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:51:39,168 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:51:39,434 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:51:39,435 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:51:39,452 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:51:39,474 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:51:40,324 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:51:40,765 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 90a0f4aa11441f1e793bc56d9e400ea999f3cf49f8632455c9095ecb91bab8d6
2023-07-04 21:51:41,405 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.950839S
2023-07-04 21:51:41,409 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:51:41,409 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:51:41,410 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:51:41,410 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:51:41,434 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 79f77b25386f87f1d8731395e53abaa50463ee5768d9fae29fed9db02869b3ee
2023-07-04 21:51:42,580 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.170018S
2023-07-04 21:51:42,582 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60315/test?loggerLevel=OFF)
2023-07-04 21:51:42,585 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:51:42,586 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@12b8b7c8{/__admin,null,AVAILABLE}
2023-07-04 21:51:42,586 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:51:42,587 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3cdaf598{/,null,AVAILABLE}
2023-07-04 21:51:42,587 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@52396d1e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:42,587 INFO o.e.j.s.Server [Test worker] Started Server@4f1dbd13{STARTING}[11.0.15,sto=1000] @10353ms
2023-07-04 21:51:42,631 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:51:42,633 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 37235 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:51:42,634 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:51:42,634 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:51:42,636 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:42,637 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a4a86a9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:42,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:42,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:51:42,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:51:42,637 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@68af530a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:51:42,705 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:51:42,706 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:51:42,715 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2023-07-04 21:51:42,745 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:51:42,794 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@393eb225
2023-07-04 21:51:42,794 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:51:42,803 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:51:42,836 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:51:42,890 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:51:42,895 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:51:42,954 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:51:42,954 INFO l.util [Test worker] Run:                          5
2023-07-04 21:51:42,954 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:51:42,954 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:51:42,954 INFO l.util [Test worker] -------------------------------
2023-07-04 21:51:42,954 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:51:42,954 INFO l.util [Test worker] Update summary generated
2023-07-04 21:51:42,957 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:51:42,962 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:51:42,962 INFO l.command [Test worker] Command execution complete
2023-07-04 21:51:42,972 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:51:42,977 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:51:42,977 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:51:42,978 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4eb7521e
2023-07-04 21:51:42,988 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:51:43,013 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:51:43,035 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:51:43,125 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.535 seconds (process running for 10.891)
2023-07-04 21:51:43,224 INFO o.e.j.s.Server [Test worker] Stopped Server@4f1dbd13{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:43,224 INFO o.e.j.s.Server [Test worker] Shutdown Server@4f1dbd13{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:51:43,225 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@52396d1e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:43,225 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3cdaf598{/,null,STOPPED}
2023-07-04 21:51:43,225 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@12b8b7c8{/__admin,null,STOPPED}
2023-07-04 21:51:43,436 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:51:43,438 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:51:43,438 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:51:43,466 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a248c785f41efa73aa3efeafe2b4383b5954e8736c5c80ace7e5cb750f6c500c
2023-07-04 21:51:44,584 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.145685S
2023-07-04 21:51:44,584 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60361/test?loggerLevel=OFF)
2023-07-04 21:51:44,586 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:51:44,587 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1ef13431{/__admin,null,AVAILABLE}
2023-07-04 21:51:44,587 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:51:44,587 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7617e8b5{/,null,AVAILABLE}
2023-07-04 21:51:44,588 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@64aa224d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:51:44,588 INFO o.e.j.s.Server [Test worker] Started Server@360c88f1{STARTING}[11.0.15,sto=1000] @12354ms
2023-07-04 21:51:44,590 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@393eb225 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,590 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@7a15778d (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,591 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@1f7d202 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,591 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@4bd18e68 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,591 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@545ae342 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,591 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@4098b2ec (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,591 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@3a7f08c0 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,591 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@5694b601 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,592 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@48edce83 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:51:44,592 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@1b8e5567 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:52:14,604 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:52:14,610 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30007ms.
2023-07-04 21:52:14,613 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60315 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:52:14,630 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@61ad9bfb]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30007ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30007ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60315 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:52:44,663 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:52:44,669 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30005ms.
2023-07-04 21:52:44,669 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60315 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:52:44,672 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@2e072894]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30005ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30005ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60315 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:53:14,725 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:53:14,735 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30006ms.
2023-07-04 21:53:14,735 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:60315 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:53:14,740 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@21af8370]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30006ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:60315 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:53:14,772 INFO o.e.j.s.Server [Test worker] Stopped Server@360c88f1{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:14,773 INFO o.e.j.s.Server [Test worker] Shutdown Server@360c88f1{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:14,776 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@64aa224d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:14,777 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7617e8b5{/,null,STOPPED}
2023-07-04 21:53:14,777 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1ef13431{/__admin,null,STOPPED}
2023-07-04 21:53:15,532 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:53:15,534 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:53:15,536 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:53:15,554 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:53:15,554 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:53:19,865 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:53:48,122 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:53:48,169 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:53:48,711 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:53:48,723 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 21:53:48,727 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:53:48,727 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 21:53:48,730 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:48,735 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1152ms
2023-07-04 21:53:49,056 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:53:49,064 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:53:49,071 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 37617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:53:49,071 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:53:49,071 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:53:49,084 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:49,084 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:49,084 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:49,084 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:53:49,084 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:49,084 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:49,435 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:53:49,436 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:53:49,506 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 67 ms. Found 2 JPA repository interfaces.
2023-07-04 21:53:49,519 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:53:49,519 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:53:49,527 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:53:49,527 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:53:49,527 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:53:49,654 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:53:49,704 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:53:49,722 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:53:49,855 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:53:49,861 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 21:53:50,028 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:53:50,088 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@577f81a0
2023-07-04 21:53:50,089 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:53:50,151 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:53:50,214 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:53:50,424 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:53:50,460 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:53:50,464 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:53:50,464 INFO l.util [Test worker] Run:                          0
2023-07-04 21:53:50,464 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:53:50,464 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:53:50,464 INFO l.util [Test worker] -------------------------------
2023-07-04 21:53:50,464 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:53:50,465 INFO l.util [Test worker] Update summary generated
2023-07-04 21:53:50,466 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:53:50,469 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:53:50,470 INFO l.command [Test worker] Command execution complete
2023-07-04 21:53:50,515 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:53:50,546 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:53:50,547 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:53:50,601 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:53:50,663 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:53:50,677 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@53d3d604
2023-07-04 21:53:50,777 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:53:51,103 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:53:51,149 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:53:51,303 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:53:51,615 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:53:51,660 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:53:51,929 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@308508ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@324bb7fb, org.springframework.security.web.context.SecurityContextHolderFilter@7060c1cb, org.springframework.security.web.header.HeaderWriterFilter@74873b07, org.springframework.security.web.authentication.logout.LogoutFilter@4efca68, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6e46f5c1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3a99aa17, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e64ee56, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@15d67d0f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@315f4718, org.springframework.security.web.session.ConcurrentSessionFilter@5973e4ec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6844b46a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2317b0cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61ad4b83, org.springframework.security.web.access.ExceptionTranslationFilter@4f01d2ea, org.springframework.security.web.access.intercept.AuthorizationFilter@6fd364a3]
2023-07-04 21:53:52,258 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.502 seconds (process running for 4.675)
2023-07-04 21:53:52,578 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:52,578 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:52,580 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:52,581 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 21:53:52,581 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 21:53:52,920 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:53:52,922 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3aa1669a{/__admin,null,AVAILABLE}
2023-07-04 21:53:52,922 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:53:52,922 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@e35d91b{/,null,AVAILABLE}
2023-07-04 21:53:52,922 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@58d5bdb0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:52,923 INFO o.e.j.s.Server [Test worker] Started Server@40d1d34d{STARTING}[11.0.15,sto=1000] @5340ms
2023-07-04 21:53:53,003 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:53:53,005 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 37617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:53:53,005 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:53:53,005 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:53:53,007 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:53,007 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@218cf600 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:53,007 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:53,007 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:53:53,008 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:53,008 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2957c30c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:53,229 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:53:53,233 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:53:53,322 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@612e1ba2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3693c5b0, org.springframework.security.web.context.SecurityContextHolderFilter@222c53c7, org.springframework.security.web.header.HeaderWriterFilter@7ba947fe, org.springframework.security.web.authentication.logout.LogoutFilter@2f6f80bc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@25ee509f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@76d74efe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@62956310, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3b805b99, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a7fdd22, org.springframework.security.web.session.ConcurrentSessionFilter@62e06e2e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6bd7f3d4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a70dfe7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33bbbc9e, org.springframework.security.web.access.ExceptionTranslationFilter@690406d0, org.springframework.security.web.access.intercept.AuthorizationFilter@4a593c3c]
2023-07-04 21:53:53,368 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:53:53,368 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:53:53,369 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:53:53,432 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.507 seconds (process running for 5.849)
2023-07-04 21:53:53,592 INFO o.e.j.s.Server [Test worker] Stopped Server@40d1d34d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:53,592 INFO o.e.j.s.Server [Test worker] Shutdown Server@40d1d34d{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:53,593 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@58d5bdb0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:53,593 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@e35d91b{/,null,STOPPED}
2023-07-04 21:53:53,593 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3aa1669a{/__admin,null,STOPPED}
2023-07-04 21:53:53,606 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:53:53,607 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4517959f{/__admin,null,AVAILABLE}
2023-07-04 21:53:53,607 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:53:53,607 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@44b5652d{/,null,AVAILABLE}
2023-07-04 21:53:53,607 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6197fa5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:53,608 INFO o.e.j.s.Server [Test worker] Started Server@7f91d389{STARTING}[11.0.15,sto=1000] @6025ms
2023-07-04 21:53:53,664 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:53:53,666 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 37617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:53:53,667 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:53:53,667 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:53:53,668 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:53,669 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7ede650b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:53,669 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:53,669 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:53:53,669 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:53,669 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6cfaed uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:53,821 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:53:53,823 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:53:53,891 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6602d11b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34660ae, org.springframework.security.web.context.SecurityContextHolderFilter@31b1e3ab, org.springframework.security.web.header.HeaderWriterFilter@13ea5530, org.springframework.security.web.authentication.logout.LogoutFilter@29667d2e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@77025469, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6d97c8aa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17b1c453, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@322ece6d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@50c73af4, org.springframework.security.web.session.ConcurrentSessionFilter@70fd626f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68d9a4dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@29db3f23, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@494defe3, org.springframework.security.web.access.ExceptionTranslationFilter@5eb0f030, org.springframework.security.web.access.intercept.AuthorizationFilter@1dad9dfb]
2023-07-04 21:53:53,914 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:53:53,914 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:53:53,914 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:53:53,920 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.311 seconds (process running for 6.337)
2023-07-04 21:53:53,975 INFO o.e.j.s.Server [Test worker] Stopped Server@7f91d389{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:53,975 INFO o.e.j.s.Server [Test worker] Shutdown Server@7f91d389{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:53,977 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6197fa5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:53,977 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@44b5652d{/,null,STOPPED}
2023-07-04 21:53:53,977 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4517959f{/__admin,null,STOPPED}
2023-07-04 21:53:53,985 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:53:53,986 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@314ba270{/__admin,null,AVAILABLE}
2023-07-04 21:53:53,986 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:53:53,986 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ea92986{/,null,AVAILABLE}
2023-07-04 21:53:53,986 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@ecd59a3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:53,986 INFO o.e.j.s.Server [Test worker] Started Server@48df2306{STARTING}[11.0.15,sto=1000] @6403ms
2023-07-04 21:53:54,028 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:53:54,030 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 37617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:53:54,030 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:53:54,030 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:53:54,031 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:54,031 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@32b90410 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:54,031 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:54,031 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:53:54,031 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:54,031 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@740c2895 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:54,205 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:53:54,251 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47716014, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8f52d5f, org.springframework.security.web.context.SecurityContextHolderFilter@1cf9430a, org.springframework.security.web.header.HeaderWriterFilter@4abb8817, org.springframework.security.web.authentication.logout.LogoutFilter@354ec60, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@397ec6bb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1d6d1a18, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3c1d5349, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7e86f9ba, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7d3d4b83, org.springframework.security.web.session.ConcurrentSessionFilter@4ce2e026, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@335303b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25becefb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b6cd876, org.springframework.security.web.access.ExceptionTranslationFilter@38f2eee5, org.springframework.security.web.access.intercept.AuthorizationFilter@19cc4b7d]
2023-07-04 21:53:54,271 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:53:54,271 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:53:54,271 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:53:54,279 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.291 seconds (process running for 6.696)
2023-07-04 21:53:54,297 INFO o.e.j.s.Server [Test worker] Stopped Server@48df2306{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:54,297 INFO o.e.j.s.Server [Test worker] Shutdown Server@48df2306{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:54,297 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@ecd59a3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:54,297 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ea92986{/,null,STOPPED}
2023-07-04 21:53:54,298 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@314ba270{/__admin,null,STOPPED}
2023-07-04 21:53:54,319 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:53:54,333 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:53:54,354 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:53:54,462 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:53:54,673 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:53:54,674 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:53:54,695 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:53:54,718 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:53:55,534 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:53:55,617 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: a7fdde30ea10ed41a0d940657c3b44a0d4de445925de62e49501732c1012ffb9
2023-07-04 21:53:56,171 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.47313S
2023-07-04 21:53:56,175 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:53:56,175 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:53:56,175 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:53:56,175 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:53:56,204 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e7b540fbeeff2c02eaeb5f5c403577203dac884ecb3841eb40d12cc64f05a225
2023-07-04 21:53:57,376 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.201109S
2023-07-04 21:53:57,377 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62689/test?loggerLevel=OFF)
2023-07-04 21:53:57,382 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:53:57,383 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4982963{/__admin,null,AVAILABLE}
2023-07-04 21:53:57,383 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:53:57,383 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@25fd3379{/,null,AVAILABLE}
2023-07-04 21:53:57,383 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@50cd6946{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:57,383 INFO o.e.j.s.Server [Test worker] Started Server@23fb50c7{STARTING}[11.0.15,sto=1000] @9801ms
2023-07-04 21:53:57,418 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:53:57,421 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 37617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:53:57,421 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:53:57,421 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:53:57,422 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:57,422 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4868a657 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:57,422 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:57,422 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:53:57,422 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:53:57,422 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4063c453 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:53:57,474 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:53:57,474 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:53:57,482 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-04 21:53:57,509 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:53:57,570 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@425531c9
2023-07-04 21:53:57,570 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:53:57,578 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:53:57,610 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:53:57,669 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:53:57,676 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:53:57,741 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:53:57,741 INFO l.util [Test worker] Run:                          5
2023-07-04 21:53:57,741 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:53:57,741 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:53:57,741 INFO l.util [Test worker] -------------------------------
2023-07-04 21:53:57,741 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:53:57,741 INFO l.util [Test worker] Update summary generated
2023-07-04 21:53:57,745 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:53:57,755 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:53:57,756 INFO l.command [Test worker] Command execution complete
2023-07-04 21:53:57,765 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:53:57,769 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:53:57,769 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:53:57,769 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@468df75b
2023-07-04 21:53:57,780 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:53:57,804 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:53:57,827 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:53:57,888 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.501 seconds (process running for 10.305)
2023-07-04 21:53:57,985 INFO o.e.j.s.Server [Test worker] Stopped Server@23fb50c7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:57,986 INFO o.e.j.s.Server [Test worker] Shutdown Server@23fb50c7{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:53:57,987 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@50cd6946{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:57,987 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@25fd3379{/,null,STOPPED}
2023-07-04 21:53:57,987 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4982963{/__admin,null,STOPPED}
2023-07-04 21:53:58,208 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:53:58,211 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:53:58,212 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:53:58,232 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 95d470cadc72827277aea6f5910df4203ea86fe6fed97a4e0c878fa366e2183d
2023-07-04 21:53:59,269 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.057684S
2023-07-04 21:53:59,270 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62739/test?loggerLevel=OFF)
2023-07-04 21:53:59,273 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:53:59,275 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@45d32ca3{/__admin,null,AVAILABLE}
2023-07-04 21:53:59,275 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:53:59,275 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@67fd7497{/,null,AVAILABLE}
2023-07-04 21:53:59,276 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4690b662{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:53:59,276 INFO o.e.j.s.Server [Test worker] Started Server@38980d25{STARTING}[11.0.15,sto=1000] @11693ms
2023-07-04 21:53:59,280 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@425531c9 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,284 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@a2345de (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,284 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@4132dadd (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,284 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@68f58a55 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,285 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@154a077e (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,285 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@6811a128 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,285 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@219ea851 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,285 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@79229358 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:53:59,285 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@18a79b9f (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:54:29,299 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:54:29,306 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30010ms.
2023-07-04 21:54:29,310 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:62689 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:54:29,319 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@5587b442]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30010ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30010ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:62689 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:54:59,350 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:54:59,362 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30001ms.
2023-07-04 21:54:59,362 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:62689 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:54:59,371 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@539e714c]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30001ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30001ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:62689 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:55:29,414 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:55:29,424 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30006ms.
2023-07-04 21:55:29,424 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:62689 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:55:29,427 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@5eb837a6]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30006ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:62689 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:55:29,449 INFO o.e.j.s.Server [Test worker] Stopped Server@38980d25{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:55:29,449 INFO o.e.j.s.Server [Test worker] Shutdown Server@38980d25{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:55:29,452 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4690b662{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:55:29,453 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@67fd7497{/,null,STOPPED}
2023-07-04 21:55:29,454 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@45d32ca3{/__admin,null,STOPPED}
2023-07-04 21:55:30,691 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:55:30,693 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:55:30,693 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:55:30,706 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:55:30,706 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:55:33,356 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:57:09,444 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:57:09,492 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:57:10,047 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:57:10,064 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 21:57:10,067 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:57:10,068 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 21:57:10,071 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:10,076 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1175ms
2023-07-04 21:57:10,399 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:57:10,405 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:57:10,411 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 38180 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:57:10,411 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:57:10,412 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:57:10,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:10,424 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:10,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:10,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:57:10,424 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:10,424 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:10,773 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:57:10,774 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:57:10,845 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2023-07-04 21:57:10,855 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:57:10,855 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:57:10,863 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:57:10,863 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:57:10,864 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:57:11,008 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:57:11,060 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:57:11,081 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:57:11,218 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:57:11,365 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:57:11,420 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5df7ae0a
2023-07-04 21:57:11,421 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:57:11,483 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:57:11,548 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:57:11,758 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:57:11,803 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:57:11,807 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:57:11,807 INFO l.util [Test worker] Run:                          0
2023-07-04 21:57:11,807 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:57:11,807 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:57:11,807 INFO l.util [Test worker] -------------------------------
2023-07-04 21:57:11,807 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:57:11,808 INFO l.util [Test worker] Update summary generated
2023-07-04 21:57:11,809 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:57:11,812 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:57:11,812 INFO l.command [Test worker] Command execution complete
2023-07-04 21:57:11,872 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:57:11,893 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:57:11,894 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:57:11,950 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:57:12,012 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:57:12,026 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@440d45c5
2023-07-04 21:57:12,129 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:57:12,455 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:57:12,502 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:57:12,661 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:57:12,963 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:57:13,023 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:57:13,273 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@63e67888, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@308508ec, org.springframework.security.web.context.SecurityContextHolderFilter@24f3e945, org.springframework.security.web.header.HeaderWriterFilter@16bee5fe, org.springframework.security.web.authentication.logout.LogoutFilter@5e9ae46f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4d44f385, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6e46f5c1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a99aa17, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@f92ee1b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@324bb7fb, org.springframework.security.web.session.ConcurrentSessionFilter@1f0695ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d9ad64f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ebdbe96, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@315f4718, org.springframework.security.web.access.ExceptionTranslationFilter@25824720, org.springframework.security.web.access.intercept.AuthorizationFilter@3342ec79]
2023-07-04 21:57:13,621 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.524 seconds (process running for 4.721)
2023-07-04 21:57:13,914 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:13,915 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:13,917 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:13,918 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 21:57:13,918 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 21:57:14,243 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:57:14,244 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1fffd548{/__admin,null,AVAILABLE}
2023-07-04 21:57:14,244 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:57:14,244 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58420a75{/,null,AVAILABLE}
2023-07-04 21:57:14,245 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2e0169d0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:14,245 INFO o.e.j.s.Server [Test worker] Started Server@3b95678b{STARTING}[11.0.15,sto=1000] @5344ms
2023-07-04 21:57:14,317 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:57:14,319 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 38180 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:57:14,319 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:57:14,319 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:57:14,321 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:14,321 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71e4af7b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:14,321 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:14,321 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:57:14,321 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:14,321 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@36840e6c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:14,532 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:57:14,535 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:57:14,629 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ffa9d20, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@215f22d3, org.springframework.security.web.context.SecurityContextHolderFilter@2adc9300, org.springframework.security.web.header.HeaderWriterFilter@707d4078, org.springframework.security.web.authentication.logout.LogoutFilter@3ba05ae6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@35e7799d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@c2972ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1864eba6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5e77e9d2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@66a4904f, org.springframework.security.web.session.ConcurrentSessionFilter@10320992, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@446de37d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e891508, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59226ee6, org.springframework.security.web.access.ExceptionTranslationFilter@308bca8c, org.springframework.security.web.access.intercept.AuthorizationFilter@4ccf7cc6]
2023-07-04 21:57:14,672 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:57:14,672 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:57:14,673 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:57:14,736 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.489 seconds (process running for 5.836)
2023-07-04 21:57:14,897 INFO o.e.j.s.Server [Test worker] Stopped Server@3b95678b{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:14,897 INFO o.e.j.s.Server [Test worker] Shutdown Server@3b95678b{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:14,898 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2e0169d0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:14,899 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58420a75{/,null,STOPPED}
2023-07-04 21:57:14,899 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1fffd548{/__admin,null,STOPPED}
2023-07-04 21:57:14,913 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:57:14,927 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@22d12034{/__admin,null,AVAILABLE}
2023-07-04 21:57:14,927 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:57:14,927 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5e977703{/,null,AVAILABLE}
2023-07-04 21:57:14,929 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1a4b0c9b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:14,930 INFO o.e.j.s.Server [Test worker] Started Server@1e287251{STARTING}[11.0.15,sto=1000] @6029ms
2023-07-04 21:57:14,990 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:57:14,992 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 38180 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:57:14,992 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:57:14,992 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:57:14,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:14,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@54c04642 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:14,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:14,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:57:14,994 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:14,994 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43c58698 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:15,142 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:57:15,145 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:57:15,215 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20f21dd9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ed974d0, org.springframework.security.web.context.SecurityContextHolderFilter@396e2498, org.springframework.security.web.header.HeaderWriterFilter@52eaa71c, org.springframework.security.web.authentication.logout.LogoutFilter@1b599d06, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1e06006f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@49e01f04, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c32f8af, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@20de2518, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@47884230, org.springframework.security.web.session.ConcurrentSessionFilter@5f1f59e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2fe310b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5aba40f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cb42dee, org.springframework.security.web.access.ExceptionTranslationFilter@27a38107, org.springframework.security.web.access.intercept.AuthorizationFilter@122dc222]
2023-07-04 21:57:15,239 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:57:15,239 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:57:15,239 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:57:15,248 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.316 seconds (process running for 6.347)
2023-07-04 21:57:15,301 INFO o.e.j.s.Server [Test worker] Stopped Server@1e287251{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:15,301 INFO o.e.j.s.Server [Test worker] Shutdown Server@1e287251{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:15,302 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1a4b0c9b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:15,302 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5e977703{/,null,STOPPED}
2023-07-04 21:57:15,302 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@22d12034{/__admin,null,STOPPED}
2023-07-04 21:57:15,310 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:57:15,311 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@611aca39{/__admin,null,AVAILABLE}
2023-07-04 21:57:15,312 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:57:15,312 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6301175a{/,null,AVAILABLE}
2023-07-04 21:57:15,312 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4a332d23{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:15,312 INFO o.e.j.s.Server [Test worker] Started Server@4e7148dd{STARTING}[11.0.15,sto=1000] @6412ms
2023-07-04 21:57:15,361 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:57:15,363 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 38180 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:57:15,363 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:57:15,363 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:57:15,364 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:15,364 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@11cd86bd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:15,364 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:15,364 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:57:15,364 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:15,364 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5ce4b8ef uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:15,504 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:57:15,552 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@798828e9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@273b3afc, org.springframework.security.web.context.SecurityContextHolderFilter@5714804a, org.springframework.security.web.header.HeaderWriterFilter@4ae8bf28, org.springframework.security.web.authentication.logout.LogoutFilter@6987b0e8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@246f4044, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@70bba4d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2cb8287, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@72972498, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@a0b8fe6, org.springframework.security.web.session.ConcurrentSessionFilter@aa09e8d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73d379c7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c4d896a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@548afb9a, org.springframework.security.web.access.ExceptionTranslationFilter@2720786f, org.springframework.security.web.access.intercept.AuthorizationFilter@32693a25]
2023-07-04 21:57:15,574 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:57:15,574 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:57:15,574 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:57:15,584 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.27 seconds (process running for 6.684)
2023-07-04 21:57:15,604 INFO o.e.j.s.Server [Test worker] Stopped Server@4e7148dd{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:15,604 INFO o.e.j.s.Server [Test worker] Shutdown Server@4e7148dd{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:15,605 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4a332d23{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:15,605 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6301175a{/,null,STOPPED}
2023-07-04 21:57:15,605 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@611aca39{/__admin,null,STOPPED}
2023-07-04 21:57:15,624 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:57:15,636 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:57:15,659 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:57:15,789 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:57:15,996 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:57:15,997 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:57:16,060 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:57:16,082 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:57:16,943 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:57:17,384 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: bfaf7b01cff5184f808e92e5dc92547404fe079c41636c4a613db95e00f9bea8
2023-07-04 21:57:18,136 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.073823S
2023-07-04 21:57:18,155 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:57:18,155 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:57:18,156 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:57:18,156 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:57:18,185 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: bf7d2cce8706e8add505aa07e1d77fd208e5d7bf519938ccfca737acc57e15b8
2023-07-04 21:57:19,344 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.187983S
2023-07-04 21:57:19,344 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:63414/test?loggerLevel=OFF)
2023-07-04 21:57:19,348 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:57:19,349 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@43dbbaf5{/__admin,null,AVAILABLE}
2023-07-04 21:57:19,349 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:57:19,349 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@59b1a759{/,null,AVAILABLE}
2023-07-04 21:57:19,349 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7c8241eb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:19,350 INFO o.e.j.s.Server [Test worker] Started Server@cb023a3{STARTING}[11.0.15,sto=1000] @10449ms
2023-07-04 21:57:19,402 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:57:19,406 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 38180 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:57:19,406 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:57:19,406 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:57:19,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:19,408 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1f420cc9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:19,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:19,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:57:19,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:57:19,408 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18a0c124 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:57:19,459 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:57:19,459 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:57:19,470 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2023-07-04 21:57:19,493 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:57:19,549 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@72201591
2023-07-04 21:57:19,550 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:57:19,560 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:57:19,593 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:57:19,656 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:57:19,663 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:57:19,761 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:57:19,761 INFO l.util [Test worker] Run:                          5
2023-07-04 21:57:19,761 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:57:19,761 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:57:19,761 INFO l.util [Test worker] -------------------------------
2023-07-04 21:57:19,761 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:57:19,762 INFO l.util [Test worker] Update summary generated
2023-07-04 21:57:19,766 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:57:19,772 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:57:19,773 INFO l.command [Test worker] Command execution complete
2023-07-04 21:57:19,782 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:57:19,785 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:57:19,785 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:57:19,786 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@276996f2
2023-07-04 21:57:19,801 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:57:19,819 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:57:19,847 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:57:19,911 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.559 seconds (process running for 11.011)
2023-07-04 21:57:20,017 INFO o.e.j.s.Server [Test worker] Stopped Server@cb023a3{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:20,017 INFO o.e.j.s.Server [Test worker] Shutdown Server@cb023a3{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:57:20,018 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7c8241eb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:20,018 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@59b1a759{/,null,STOPPED}
2023-07-04 21:57:20,018 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@43dbbaf5{/__admin,null,STOPPED}
2023-07-04 21:57:20,226 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:57:20,228 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:57:20,229 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:57:20,281 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 79b6e5120cd36439fd3572b9f09bd7496896f652949f7a6678103e63934cb292
2023-07-04 21:57:21,400 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.170764S
2023-07-04 21:57:21,400 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:63426/test?loggerLevel=OFF)
2023-07-04 21:57:21,402 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:57:21,405 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3b6635f2{/__admin,null,AVAILABLE}
2023-07-04 21:57:21,406 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:57:21,406 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@69f5a73c{/,null,AVAILABLE}
2023-07-04 21:57:21,406 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@68f58a55{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:57:21,406 INFO o.e.j.s.Server [Test worker] Started Server@1b1b6d65{STARTING}[11.0.15,sto=1000] @12506ms
2023-07-04 21:57:21,408 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@72201591 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,409 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@1863ebc6 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,409 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@23927f47 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,409 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@3964443f (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,409 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@4acd47cf (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,409 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@1a293bbf (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,410 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@6b024be2 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,410 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@7fddeb5 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,410 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@39bcac46 (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:21,410 WARN c.z.h.p.PoolBase [Test worker] HikariPool-2 - Failed to validate connection org.postgresql.jdbc.PgConnection@539e714c (?????????? ??? ???? ???????). Possibly consider using a shorter maxLifetime value.
2023-07-04 21:57:51,424 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:57:51,431 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30007ms.
2023-07-04 21:57:51,434 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:63414 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:57:51,457 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterDate()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@18d1e4d0]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30007ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30007ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:63414 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:58:21,511 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:58:21,517 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30005ms.
2023-07-04 21:58:21,517 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:63414 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:58:21,520 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldFindNewsWithComments()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@2e1c0d3]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30005ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30005ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:63414 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:549)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:58:51,562 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Error: 0, SQLState: 08001
2023-07-04 21:58:51,572 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] HikariPool-2 - Connection is not available, request timed out after 30006ms.
2023-07-04 21:58:51,573 ERROR o.h.e.j.s.SqlExceptionHelper [Test worker] ????????????? ?? ?????? localhost:63414 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
2023-07-04 21:58:51,575 WARN o.s.t.c.TestContextManager [Test worker] Caught exception while invoking 'beforeTestMethod' callback on TestExecutionListener [org.springframework.test.context.transaction.TransactionalTestExecutionListener] for test method [void ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest.shouldSearchNewsHasParameterQuery()] and test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@29ab89fc]
org.springframework.transaction.CannotCreateTransactionException: Could not open JPA EntityManager for transaction
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:466)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.startTransaction(AbstractPlatformTransactionManager.java:400)
	at org.springframework.transaction.support.AbstractPlatformTransactionManager.getTransaction(AbstractPlatformTransactionManager.java:373)
	at org.springframework.test.context.transaction.TransactionContext.startTransaction(TransactionContext.java:103)
	at org.springframework.test.context.transaction.TransactionalTestExecutionListener.beforeTestMethod(TransactionalTestExecutionListener.java:235)
	at org.springframework.test.context.TestContextManager.beforeTestMethod(TestContextManager.java:288)
	at org.springframework.test.context.junit.jupiter.SpringExtension.beforeEach(SpringExtension.java:174)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeEachCallbacks$2(TestMethodTestDescriptor.java:166)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeBeforeMethodsOrCallbacksUntilExceptionOccurs$6(TestMethodTestDescriptor.java:202)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeMethodsOrCallbacksUntilExceptionOccurs(TestMethodTestDescriptor.java:202)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeBeforeEachCallbacks(TestMethodTestDescriptor.java:165)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:132)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.hibernate.exception.JDBCConnectionException: Unable to acquire JDBC Connection [HikariPool-2 - Connection is not available, request timed out after 30006ms.] [n/a]
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:49)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:56)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:108)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:94)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:116)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getPhysicalConnection(LogicalConnectionManagedImpl.java:143)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.getConnectionForTransactionManagement(LogicalConnectionManagedImpl.java:273)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.begin(LogicalConnectionManagedImpl.java:281)
	at org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorImpl$TransactionDriverControlImpl.begin(JdbcResourceLocalTransactionCoordinatorImpl.java:232)
	at org.hibernate.engine.transaction.internal.TransactionImpl.begin(TransactionImpl.java:83)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.beginTransaction(HibernateJpaDialect.java:164)
	at org.springframework.orm.jpa.JpaTransactionManager.doBegin(JpaTransactionManager.java:420)
	... 75 common frames omitted
Caused by: java.sql.SQLTransientConnectionException: HikariPool-2 - Connection is not available, request timed out after 30006ms.
	at com.zaxxer.hikari.pool.HikariPool.createTimeoutException(HikariPool.java:696)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:181)
	at com.zaxxer.hikari.pool.HikariPool.getConnection(HikariPool.java:146)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:128)
	at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122)
	at org.hibernate.internal.NonContextualJdbcConnectionAccess.obtainConnection(NonContextualJdbcConnectionAccess.java:38)
	at org.hibernate.resource.jdbc.internal.LogicalConnectionManagedImpl.acquireConnectionIfNeeded(LogicalConnectionManagedImpl.java:113)
	... 82 common frames omitted
Caused by: org.postgresql.util.PSQLException: ????????????? ?? ?????? localhost:63414 ?????????. ????????? ??? ???? ? ???? ??????? ????????? ? ??? postmaster ????????? TCP/IP-?????????????.
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:342)
	at org.postgresql.core.ConnectionFactory.openConnection(ConnectionFactory.java:54)
	at org.postgresql.jdbc.PgConnection.<init>(PgConnection.java:263)
	at org.postgresql.Driver.makeConnection(Driver.java:443)
	at org.postgresql.Driver.connect(Driver.java:297)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:359)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:201)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:470)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:733)
	at com.zaxxer.hikari.pool.HikariPool$PoolEntryCreator.call(HikariPool.java:712)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)
	at java.base/java.lang.Thread.run(Thread.java:833)
Caused by: java.net.ConnectException: Connection refused
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:672)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:597)
	at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:327)
	at java.base/java.net.Socket.connect(Socket.java:633)
	at org.postgresql.core.PGStream.createSocket(PGStream.java:243)
	at org.postgresql.core.PGStream.<init>(PGStream.java:98)
	at org.postgresql.core.v3.ConnectionFactoryImpl.tryConnect(ConnectionFactoryImpl.java:132)
	at org.postgresql.core.v3.ConnectionFactoryImpl.openConnectionImpl(ConnectionFactoryImpl.java:258)
	... 14 common frames omitted
2023-07-04 21:58:51,617 INFO o.e.j.s.Server [Test worker] Stopped Server@1b1b6d65{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:58:51,617 INFO o.e.j.s.Server [Test worker] Shutdown Server@1b1b6d65{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:58:51,620 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@68f58a55{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:58:51,621 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@69f5a73c{/,null,STOPPED}
2023-07-04 21:58:51,621 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3b6635f2{/__admin,null,STOPPED}
2023-07-04 21:58:52,281 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:58:52,283 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:58:52,284 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:58:52,296 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:58:52,296 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:58:56,697 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 21:59:08,869 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:59:08,919 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 21:59:10,179 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:59:10,188 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 21:59:10,193 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:59:10,193 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 21:59:10,196 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:10,202 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1869ms
2023-07-04 21:59:10,513 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 21:59:10,519 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:59:10,526 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 38503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:59:10,526 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:59:10,526 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:59:10,541 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:10,541 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:10,541 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:10,541 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:59:10,541 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:10,541 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:10,882 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:59:10,883 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:59:10,950 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 64 ms. Found 2 JPA repository interfaces.
2023-07-04 21:59:10,959 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:59:10,959 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 21:59:10,967 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:59:10,967 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 21:59:10,967 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 21:59:11,096 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 21:59:11,142 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:59:11,160 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 21:59:11,300 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 21:59:11,439 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 21:59:11,488 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62cb977a
2023-07-04 21:59:11,489 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 21:59:11,547 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:59:11,610 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:59:11,822 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:59:11,868 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:59:11,871 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:59:11,872 INFO l.util [Test worker] Run:                          0
2023-07-04 21:59:11,872 INFO l.util [Test worker] Previously run:               5
2023-07-04 21:59:11,872 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:59:11,872 INFO l.util [Test worker] -------------------------------
2023-07-04 21:59:11,872 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:59:11,872 INFO l.util [Test worker] Update summary generated
2023-07-04 21:59:11,874 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:59:11,876 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:59:11,876 INFO l.command [Test worker] Command execution complete
2023-07-04 21:59:11,921 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:59:11,950 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 21:59:11,951 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 21:59:12,002 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:59:12,062 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:59:12,076 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@446dc997
2023-07-04 21:59:12,183 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:59:12,502 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:59:12,554 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:59:12,712 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 21:59:13,027 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 21:59:13,070 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:59:13,325 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17c3a3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d2fd73c, org.springframework.security.web.context.SecurityContextHolderFilter@6d1bbd00, org.springframework.security.web.header.HeaderWriterFilter@1eeae9d, org.springframework.security.web.authentication.logout.LogoutFilter@24f3e945, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@56e7f92f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2265792c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5379839c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@8bac10b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@24602d7a, org.springframework.security.web.session.ConcurrentSessionFilter@44c073bd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f01d2ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16bee5fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@52fb37d7, org.springframework.security.web.access.ExceptionTranslationFilter@65dfce2f, org.springframework.security.web.access.intercept.AuthorizationFilter@1257e0fd]
2023-07-04 21:59:13,671 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.448 seconds (process running for 5.339)
2023-07-04 21:59:13,964 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:13,964 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:13,966 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:13,967 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 21:59:13,968 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 21:59:14,297 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:59:14,298 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@78a9991a{/__admin,null,AVAILABLE}
2023-07-04 21:59:14,299 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:59:14,299 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@38e2431b{/,null,AVAILABLE}
2023-07-04 21:59:14,299 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3faec175{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:14,299 INFO o.e.j.s.Server [Test worker] Started Server@2e0169d0{STARTING}[11.0.15,sto=1000] @5967ms
2023-07-04 21:59:14,377 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:59:14,381 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 38503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:59:14,381 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:59:14,381 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:59:14,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:14,383 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@13bf0814 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:14,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:14,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:59:14,383 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:14,383 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b1bf4bf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:14,593 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:59:14,597 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:59:14,684 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ae125f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5525ff76, org.springframework.security.web.context.SecurityContextHolderFilter@3693c5b0, org.springframework.security.web.header.HeaderWriterFilter@62956310, org.springframework.security.web.authentication.logout.LogoutFilter@eddf758, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7f180c74, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1e1e53f8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19dfeb17, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@22d94240, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3948f7b9, org.springframework.security.web.session.ConcurrentSessionFilter@612e1ba2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7a7fdd22, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33bbbc9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5f2924d4, org.springframework.security.web.access.ExceptionTranslationFilter@76d74efe, org.springframework.security.web.access.intercept.AuthorizationFilter@8cf705e]
2023-07-04 21:59:14,729 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:59:14,729 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:59:14,730 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:59:14,786 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.484 seconds (process running for 6.454)
2023-07-04 21:59:14,961 INFO o.e.j.s.Server [Test worker] Stopped Server@2e0169d0{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:14,961 INFO o.e.j.s.Server [Test worker] Shutdown Server@2e0169d0{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:14,962 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3faec175{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:14,963 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@38e2431b{/,null,STOPPED}
2023-07-04 21:59:14,963 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@78a9991a{/__admin,null,STOPPED}
2023-07-04 21:59:14,975 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:59:14,982 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31aacbd7{/__admin,null,AVAILABLE}
2023-07-04 21:59:14,982 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:59:14,983 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6a6beec0{/,null,AVAILABLE}
2023-07-04 21:59:14,983 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36b085da{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:14,983 INFO o.e.j.s.Server [Test worker] Started Server@1a4b0c9b{STARTING}[11.0.15,sto=1000] @6651ms
2023-07-04 21:59:15,044 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:59:15,046 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 38503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:59:15,046 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:59:15,046 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:59:15,047 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:15,047 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@245237eb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:15,048 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:15,048 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:59:15,048 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:15,048 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@75c99797 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:15,193 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 21:59:15,196 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:59:15,266 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e5501b7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77ce24c7, org.springframework.security.web.context.SecurityContextHolderFilter@34660ae, org.springframework.security.web.header.HeaderWriterFilter@17b1c453, org.springframework.security.web.authentication.logout.LogoutFilter@60bdba16, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6cd4b0da, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@61b4da5c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6c882cb4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@39b775d8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@306f7658, org.springframework.security.web.session.ConcurrentSessionFilter@6602d11b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50c73af4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@494defe3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1daf016d, org.springframework.security.web.access.ExceptionTranslationFilter@6d97c8aa, org.springframework.security.web.access.intercept.AuthorizationFilter@4432c7bd]
2023-07-04 21:59:15,290 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:59:15,290 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:59:15,291 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 21:59:15,297 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.311 seconds (process running for 6.965)
2023-07-04 21:59:15,357 INFO o.e.j.s.Server [Test worker] Stopped Server@1a4b0c9b{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:15,357 INFO o.e.j.s.Server [Test worker] Shutdown Server@1a4b0c9b{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:15,358 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36b085da{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:15,358 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6a6beec0{/,null,STOPPED}
2023-07-04 21:59:15,358 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@31aacbd7{/__admin,null,STOPPED}
2023-07-04 21:59:15,366 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:59:15,367 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3bb728d1{/__admin,null,AVAILABLE}
2023-07-04 21:59:15,367 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:59:15,367 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b4bdee3{/,null,AVAILABLE}
2023-07-04 21:59:15,368 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@80d38af{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:15,368 INFO o.e.j.s.Server [Test worker] Started Server@4a332d23{STARTING}[11.0.15,sto=1000] @7036ms
2023-07-04 21:59:15,411 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:59:15,412 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 38503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:59:15,412 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:59:15,413 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:59:15,414 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:15,414 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f3bc185 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:15,414 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:15,414 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:59:15,414 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:15,414 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@38b6b4fb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:15,558 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 21:59:15,603 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67c8dfea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@53b4aa, org.springframework.security.web.context.SecurityContextHolderFilter@8f52d5f, org.springframework.security.web.header.HeaderWriterFilter@3c1d5349, org.springframework.security.web.authentication.logout.LogoutFilter@519910b2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4f251b32, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@56208ee4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1475268a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67517ccf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@52565dea, org.springframework.security.web.session.ConcurrentSessionFilter@47716014, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d3d4b83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b6cd876, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f2a705c, org.springframework.security.web.access.ExceptionTranslationFilter@1d6d1a18, org.springframework.security.web.access.intercept.AuthorizationFilter@70207dcb]
2023-07-04 21:59:15,624 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 21:59:15,624 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 21:59:15,624 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 21:59:15,632 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.263 seconds (process running for 7.3)
2023-07-04 21:59:15,650 INFO o.e.j.s.Server [Test worker] Stopped Server@4a332d23{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:15,650 INFO o.e.j.s.Server [Test worker] Shutdown Server@4a332d23{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:15,650 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@80d38af{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:15,650 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b4bdee3{/,null,STOPPED}
2023-07-04 21:59:15,650 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3bb728d1{/__admin,null,STOPPED}
2023-07-04 21:59:15,670 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:59:15,684 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 21:59:15,703 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 21:59:15,808 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 21:59:16,008 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 21:59:16,008 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 21:59:16,024 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 21:59:16,052 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 21:59:16,649 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 21:59:16,720 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 6c913823b410d08046ff626a5cec1f64f2d6093be3c1c18925e986a3786f6c10
2023-07-04 21:59:17,108 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.081275S
2023-07-04 21:59:17,112 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 21:59:17,112 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 21:59:17,112 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 21:59:17,112 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:59:17,173 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2771c37f2c118b133cb1befce1ae82c2eb4928e6979f892d3eee0b76bf5c474a
2023-07-04 21:59:18,313 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.200612S
2023-07-04 21:59:18,314 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:63475/test?loggerLevel=OFF)
2023-07-04 21:59:18,318 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:59:18,319 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@25f7bd70{/__admin,null,AVAILABLE}
2023-07-04 21:59:18,320 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:59:18,320 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@68989b46{/,null,AVAILABLE}
2023-07-04 21:59:18,320 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6171125d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:18,320 INFO o.e.j.s.Server [Test worker] Started Server@60dac476{STARTING}[11.0.15,sto=1000] @9988ms
2023-07-04 21:59:18,358 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 21:59:18,360 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 38503 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 21:59:18,360 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 21:59:18,360 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 21:59:18,361 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:18,361 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1501b99a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:18,361 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:18,361 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 21:59:18,361 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 21:59:18,361 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6882884b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 21:59:18,419 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 21:59:18,419 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 21:59:18,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 21:59:18,454 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 21:59:18,519 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@76805f32
2023-07-04 21:59:18,519 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 21:59:18,530 INFO l.database [Test worker] Set default schema name to public
2023-07-04 21:59:18,569 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 21:59:18,626 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 21:59:18,633 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 21:59:18,691 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 21:59:18,691 INFO l.util [Test worker] Run:                          5
2023-07-04 21:59:18,691 INFO l.util [Test worker] Previously run:               0
2023-07-04 21:59:18,691 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 21:59:18,691 INFO l.util [Test worker] -------------------------------
2023-07-04 21:59:18,691 INFO l.util [Test worker] Total change sets:            5

2023-07-04 21:59:18,691 INFO l.util [Test worker] Update summary generated
2023-07-04 21:59:18,697 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:59:18,705 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 21:59:18,706 INFO l.command [Test worker] Command execution complete
2023-07-04 21:59:18,715 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 21:59:18,718 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:59:18,718 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 21:59:18,719 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@40a21fe9
2023-07-04 21:59:18,731 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 21:59:18,751 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 21:59:18,774 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:59:18,837 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.513 seconds (process running for 10.505)
2023-07-04 21:59:18,931 INFO o.e.j.s.Server [Test worker] Stopped Server@60dac476{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:18,931 INFO o.e.j.s.Server [Test worker] Shutdown Server@60dac476{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:18,932 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6171125d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:18,932 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@68989b46{/,null,STOPPED}
2023-07-04 21:59:18,932 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@25f7bd70{/__admin,null,STOPPED}
2023-07-04 21:59:18,935 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 21:59:18,936 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 21:59:18,937 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 21:59:18,991 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: bc858e3e7b87c324d3b956a4dfc385abd5801c7ef003508cee5aab82c048fba2
2023-07-04 21:59:20,198 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.260846S
2023-07-04 21:59:20,199 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:63487/test?loggerLevel=OFF)
2023-07-04 21:59:20,201 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 21:59:20,202 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@36ac7956{/__admin,null,AVAILABLE}
2023-07-04 21:59:20,202 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 21:59:20,202 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2d2ffced{/,null,AVAILABLE}
2023-07-04 21:59:20,202 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1d579f90{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:20,203 INFO o.e.j.s.Server [Test worker] Started Server@3eff7ec9{STARTING}[11.0.15,sto=1000] @11871ms
2023-07-04 21:59:20,240 INFO o.e.j.s.Server [Test worker] Stopped Server@3eff7ec9{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:20,240 INFO o.e.j.s.Server [Test worker] Shutdown Server@3eff7ec9{STOPPING}[11.0.15,sto=1000]
2023-07-04 21:59:20,241 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1d579f90{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 21:59:20,241 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2d2ffced{/,null,STOPPED}
2023-07-04 21:59:20,241 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@36ac7956{/__admin,null,STOPPED}
2023-07-04 21:59:20,404 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:59:20,405 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 21:59:20,406 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 21:59:20,416 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 21:59:20,416 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 21:59:20,416 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:00:50,022 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:00:50,077 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:00:50,471 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:00:50,481 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:00:50,485 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:00:50,485 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:00:50,489 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:50,495 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1189ms
2023-07-04 22:00:50,819 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:00:50,824 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:00:50,831 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 38806 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:00:50,831 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:00:50,831 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:00:50,844 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:50,844 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:50,844 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:50,844 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:00:50,844 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:50,844 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:51,220 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:00:51,220 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:00:51,293 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 70 ms. Found 2 JPA repository interfaces.
2023-07-04 22:00:51,301 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:00:51,302 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:00:51,309 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:00:51,309 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:00:51,309 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 22:00:51,437 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:00:51,483 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:00:51,506 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:00:51,645 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:00:51,651 WARN i.n.r.d.DefaultDnsServerAddressStreamProvider [Test worker] Default DNS servers: [/[2001:4860:4860:0:0:0:0:8888]:53, /[2001:4860:4860:0:0:0:0:8844]:53] (Google Public DNS as a fallback)
2023-07-04 22:00:51,792 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:00:51,848 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@59700156
2023-07-04 22:00:51,848 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:00:51,910 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:00:51,979 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:00:52,193 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:00:52,240 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:00:52,244 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:00:52,244 INFO l.util [Test worker] Run:                          0
2023-07-04 22:00:52,244 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:00:52,244 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:00:52,244 INFO l.util [Test worker] -------------------------------
2023-07-04 22:00:52,244 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:00:52,244 INFO l.util [Test worker] Update summary generated
2023-07-04 22:00:52,247 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:00:52,249 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:00:52,250 INFO l.command [Test worker] Command execution complete
2023-07-04 22:00:52,305 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:00:52,345 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:00:52,346 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:00:52,408 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:00:52,467 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:00:52,486 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6d0d5147
2023-07-04 22:00:52,599 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:00:52,959 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:00:53,005 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:00:53,006 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:00:53,167 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:00:53,480 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:00:53,533 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:00:53,810 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6e46f5c1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a99aa17, org.springframework.security.web.context.SecurityContextHolderFilter@7a977d23, org.springframework.security.web.header.HeaderWriterFilter@6d1bbd00, org.springframework.security.web.authentication.logout.LogoutFilter@41854000, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12ceff30, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2d550996, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@682fec32, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@25de3ccc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@e64ee56, org.springframework.security.web.session.ConcurrentSessionFilter@24d815da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1785e670, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24f3e945, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6456fcc4, org.springframework.security.web.access.ExceptionTranslationFilter@45072949, org.springframework.security.web.access.intercept.AuthorizationFilter@6fcb2e2d]
2023-07-04 22:00:54,194 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.675 seconds (process running for 4.888)
2023-07-04 22:00:54,501 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:54,501 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:54,502 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:54,503 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:00:54,503 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:00:54,847 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:00:54,848 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7a2299ea{/__admin,null,AVAILABLE}
2023-07-04 22:00:54,849 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:00:54,849 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f1c9f54{/,null,AVAILABLE}
2023-07-04 22:00:54,849 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@27294098{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:54,849 INFO o.e.j.s.Server [Test worker] Started Server@36dada39{STARTING}[11.0.15,sto=1000] @5544ms
2023-07-04 22:00:54,928 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:00:54,933 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 38806 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:00:54,933 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:00:54,933 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:00:54,937 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:54,937 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71f164d6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:54,938 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:54,938 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:00:54,938 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:54,938 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5fde6b8c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:55,147 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:00:55,151 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:00:55,230 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ccf7cc6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35e7799d, org.springframework.security.web.context.SecurityContextHolderFilter@2eb28cd8, org.springframework.security.web.header.HeaderWriterFilter@46a0c2df, org.springframework.security.web.authentication.logout.LogoutFilter@446de37d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@10fd358f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3ba05ae6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d1739cf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@10320992, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@c2972ad, org.springframework.security.web.session.ConcurrentSessionFilter@382b008d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@308bca8c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@707d4078, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1864eba6, org.springframework.security.web.access.ExceptionTranslationFilter@3c844476, org.springframework.security.web.access.intercept.AuthorizationFilter@5e77e9d2]
2023-07-04 22:00:55,268 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:00:55,268 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:00:55,269 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:00:55,329 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.478 seconds (process running for 6.024)
2023-07-04 22:00:55,488 INFO o.e.j.s.Server [Test worker] Stopped Server@36dada39{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:55,488 INFO o.e.j.s.Server [Test worker] Shutdown Server@36dada39{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:55,489 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@27294098{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:55,489 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f1c9f54{/,null,STOPPED}
2023-07-04 22:00:55,489 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7a2299ea{/__admin,null,STOPPED}
2023-07-04 22:00:55,500 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:00:55,502 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57184af3{/__admin,null,AVAILABLE}
2023-07-04 22:00:55,502 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:00:55,502 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@d5ec8e7{/,null,AVAILABLE}
2023-07-04 22:00:55,503 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1839f0c4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:55,503 INFO o.e.j.s.Server [Test worker] Started Server@50f0d09c{STARTING}[11.0.15,sto=1000] @6197ms
2023-07-04 22:00:55,554 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:00:55,557 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 38806 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:00:55,558 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:00:55,558 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:00:55,559 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:55,559 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@657486c1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:55,559 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:55,559 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:00:55,559 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:55,559 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@492171aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:55,698 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:00:55,700 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:00:55,766 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@122dc222, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e06006f, org.springframework.security.web.context.SecurityContextHolderFilter@2358a9f9, org.springframework.security.web.header.HeaderWriterFilter@d0f1671, org.springframework.security.web.authentication.logout.LogoutFilter@2fe310b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@68dc8f7f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1b599d06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@430ad9be, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5f1f59e3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@49e01f04, org.springframework.security.web.session.ConcurrentSessionFilter@46196c3e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27a38107, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52eaa71c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c32f8af, org.springframework.security.web.access.ExceptionTranslationFilter@be1f3d6, org.springframework.security.web.access.intercept.AuthorizationFilter@20de2518]
2023-07-04 22:00:55,788 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:00:55,789 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:00:55,789 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:00:55,795 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.291 seconds (process running for 6.49)
2023-07-04 22:00:55,846 INFO o.e.j.s.Server [Test worker] Stopped Server@50f0d09c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:55,847 INFO o.e.j.s.Server [Test worker] Shutdown Server@50f0d09c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:55,847 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1839f0c4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:55,848 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@d5ec8e7{/,null,STOPPED}
2023-07-04 22:00:55,848 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57184af3{/__admin,null,STOPPED}
2023-07-04 22:00:55,855 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:00:55,855 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@475f561c{/__admin,null,AVAILABLE}
2023-07-04 22:00:55,856 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:00:55,856 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@aff6d3f{/,null,AVAILABLE}
2023-07-04 22:00:55,856 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@27f23b31{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:55,856 INFO o.e.j.s.Server [Test worker] Started Server@2ffe548c{STARTING}[11.0.15,sto=1000] @6551ms
2023-07-04 22:00:55,898 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:00:55,900 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 38806 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:00:55,900 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:00:55,900 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:00:55,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:55,901 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@416374ec uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:55,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:55,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:00:55,901 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:55,901 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d589727 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:56,036 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:00:56,081 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32693a25, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@246f4044, org.springframework.security.web.context.SecurityContextHolderFilter@f9a4e75, org.springframework.security.web.header.HeaderWriterFilter@5357ce45, org.springframework.security.web.authentication.logout.LogoutFilter@73d379c7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1f2fc50, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6987b0e8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7991726b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@aa09e8d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@70bba4d1, org.springframework.security.web.session.ConcurrentSessionFilter@338e70c8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2720786f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ae8bf28, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2cb8287, org.springframework.security.web.access.ExceptionTranslationFilter@4ebcd5dc, org.springframework.security.web.access.intercept.AuthorizationFilter@72972498]
2023-07-04 22:00:56,101 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:00:56,101 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:00:56,101 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:00:56,108 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.251 seconds (process running for 6.803)
2023-07-04 22:00:56,126 INFO o.e.j.s.Server [Test worker] Stopped Server@2ffe548c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:56,126 INFO o.e.j.s.Server [Test worker] Shutdown Server@2ffe548c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:56,126 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@27f23b31{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:56,126 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@aff6d3f{/,null,STOPPED}
2023-07-04 22:00:56,126 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@475f561c{/__admin,null,STOPPED}
2023-07-04 22:00:56,146 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:00:56,164 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:00:56,183 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:00:56,285 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:00:56,488 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:00:56,489 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:00:56,506 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:00:56,528 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:00:57,138 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:00:57,275 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: f73f52ddda9aa09aefcd5572322c5c4bd083faea0ce310e7fcf748663d252b6b
2023-07-04 22:00:57,649 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.140804S
2023-07-04 22:00:57,657 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:00:57,657 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:00:57,657 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:00:57,658 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:00:57,690 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 695cc258949575449b60e27514eb7ec96ac0f09cf36e717808cd45e808063ea3
2023-07-04 22:00:58,826 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.168137S
2023-07-04 22:00:58,827 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:63520/test?loggerLevel=OFF)
2023-07-04 22:00:58,831 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:00:58,832 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@392aabea{/__admin,null,AVAILABLE}
2023-07-04 22:00:58,832 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:00:58,832 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@43dbbaf5{/,null,AVAILABLE}
2023-07-04 22:00:58,832 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4bdac417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:58,832 INFO o.e.j.s.Server [Test worker] Started Server@3d3a30e5{STARTING}[11.0.15,sto=1000] @9527ms
2023-07-04 22:00:58,871 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:00:58,873 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 38806 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:00:58,873 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:00:58,873 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:00:58,874 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:58,875 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@47a75bc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:58,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:58,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:00:58,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:00:58,875 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7d1a7bd8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:00:58,942 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:00:58,943 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:00:58,951 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 22:00:58,980 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:00:59,045 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5cf8a5c9
2023-07-04 22:00:59,046 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:00:59,056 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:00:59,087 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:00:59,144 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:00:59,150 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:00:59,209 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:00:59,210 INFO l.util [Test worker] Run:                          5
2023-07-04 22:00:59,210 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:00:59,210 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:00:59,210 INFO l.util [Test worker] -------------------------------
2023-07-04 22:00:59,210 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:00:59,210 INFO l.util [Test worker] Update summary generated
2023-07-04 22:00:59,214 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:00:59,220 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:00:59,221 INFO l.command [Test worker] Command execution complete
2023-07-04 22:00:59,229 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:00:59,233 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:00:59,233 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:00:59,234 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6d549137
2023-07-04 22:00:59,245 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:00:59,266 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:00:59,267 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:00:59,267 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:00:59,268 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:00:59,268 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:00:59,269 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:00:59,269 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:00:59,270 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:00:59,270 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:00:59,270 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:00:59,270 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:00:59,277 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:00:59,277 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:00:59,329 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.493 seconds (process running for 10.023)
2023-07-04 22:00:59,440 INFO o.e.j.s.Server [Test worker] Stopped Server@3d3a30e5{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:59,441 INFO o.e.j.s.Server [Test worker] Shutdown Server@3d3a30e5{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:00:59,442 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4bdac417{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:00:59,442 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@43dbbaf5{/,null,STOPPED}
2023-07-04 22:00:59,442 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@392aabea{/__admin,null,STOPPED}
2023-07-04 22:00:59,444 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:00:59,447 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:00:59,447 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:00:59,491 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 503b4713571482a828f370c72b106aaafb3d6fb456e28d9cf094f1dea45b3382
2023-07-04 22:01:00,663 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.215892S
2023-07-04 22:01:00,664 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:63533/test?loggerLevel=OFF)
2023-07-04 22:01:00,667 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:01:00,667 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1403f6d3{/__admin,null,AVAILABLE}
2023-07-04 22:01:00,668 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:01:00,668 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3eff7ec9{/,null,AVAILABLE}
2023-07-04 22:01:00,668 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2d9b4481{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:01:00,668 INFO o.e.j.s.Server [Test worker] Started Server@2bcc4898{STARTING}[11.0.15,sto=1000] @11363ms
2023-07-04 22:01:00,710 INFO o.e.j.s.Server [Test worker] Stopped Server@2bcc4898{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:01:00,710 INFO o.e.j.s.Server [Test worker] Shutdown Server@2bcc4898{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:01:00,711 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2d9b4481{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:01:00,712 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3eff7ec9{/,null,STOPPED}
2023-07-04 22:01:00,712 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1403f6d3{/__admin,null,STOPPED}
2023-07-04 22:01:00,853 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:01:00,854 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:01:00,855 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:01:00,865 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:01:00,865 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:01:00,866 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:15:46,065 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:15:46,117 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:15:46,670 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:15:46,681 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:15:46,685 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:15:46,685 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:15:46,688 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:46,694 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1168ms
2023-07-04 22:15:47,022 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:15:47,029 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:15:47,038 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 40736 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:15:47,038 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:15:47,039 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:15:47,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:47,053 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:47,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:47,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:15:47,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:47,053 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:47,631 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:15:47,634 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:15:47,817 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 173 ms. Found 2 JPA repository interfaces.
2023-07-04 22:15:47,831 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:15:47,831 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:15:47,848 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:15:47,849 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:15:47,849 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-04 22:15:48,095 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:15:48,196 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:15:48,243 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:15:48,487 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:15:48,747 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:15:48,850 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2571bdf4
2023-07-04 22:15:48,851 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:15:48,947 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:15:49,055 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:15:49,406 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:15:49,508 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:15:49,529 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:15:49,529 INFO l.util [Test worker] Run:                          0
2023-07-04 22:15:49,529 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:15:49,529 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:15:49,529 INFO l.util [Test worker] -------------------------------
2023-07-04 22:15:49,529 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:15:49,532 INFO l.util [Test worker] Update summary generated
2023-07-04 22:15:49,538 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:15:49,544 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:15:49,546 INFO l.command [Test worker] Command execution complete
2023-07-04 22:15:49,661 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:15:49,718 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:15:49,720 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:15:49,823 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:15:49,945 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:15:49,982 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@301c0aae
2023-07-04 22:15:50,214 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:15:50,919 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:15:50,972 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:15:50,973 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:15:51,267 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:15:51,769 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:15:51,845 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:15:52,195 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21def2c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45072949, org.springframework.security.web.context.SecurityContextHolderFilter@591ad4b3, org.springframework.security.web.header.HeaderWriterFilter@dc4fa78, org.springframework.security.web.authentication.logout.LogoutFilter@1465d125, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@a16e4e3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7b0c4127, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@43201fd1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2375fe4a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@785d194d, org.springframework.security.web.session.ConcurrentSessionFilter@57e3a1b8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ea6687b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@431ac922, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c249eb5, org.springframework.security.web.access.ExceptionTranslationFilter@7e24d565, org.springframework.security.web.access.intercept.AuthorizationFilter@226715da]
2023-07-04 22:15:52,653 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.934 seconds (process running for 7.126)
2023-07-04 22:15:52,967 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:52,967 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:52,970 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:52,972 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:15:52,972 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:15:53,325 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:15:53,326 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@46e5c331{/__admin,null,AVAILABLE}
2023-07-04 22:15:53,327 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:15:53,327 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@627695fd{/,null,AVAILABLE}
2023-07-04 22:15:53,327 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5132ea9b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:53,327 INFO o.e.j.s.Server [Test worker] Started Server@a8d8d41{STARTING}[11.0.15,sto=1000] @7801ms
2023-07-04 22:15:53,414 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:15:53,417 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 40736 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:15:53,417 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:15:53,418 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:15:53,419 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:53,419 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@63f566a0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:53,419 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:53,419 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:15:53,419 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:53,420 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9a31da0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:53,640 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:15:53,645 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:15:53,744 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b3b21d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@610febe5, org.springframework.security.web.context.SecurityContextHolderFilter@67e38ad7, org.springframework.security.web.header.HeaderWriterFilter@128160af, org.springframework.security.web.authentication.logout.LogoutFilter@2f7cbd63, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2b722f9c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@61af0834, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@747348f1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2a76555a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7878a158, org.springframework.security.web.session.ConcurrentSessionFilter@1bd7762f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@132da2ff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ab02c2d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16a24a66, org.springframework.security.web.access.ExceptionTranslationFilter@164c4eca, org.springframework.security.web.access.intercept.AuthorizationFilter@3ce270ae]
2023-07-04 22:15:53,789 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:15:53,790 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:15:53,790 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:15:53,848 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.519 seconds (process running for 8.321)
2023-07-04 22:15:54,027 INFO o.e.j.s.Server [Test worker] Stopped Server@a8d8d41{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:54,028 INFO o.e.j.s.Server [Test worker] Shutdown Server@a8d8d41{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:54,028 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5132ea9b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:54,028 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@627695fd{/,null,STOPPED}
2023-07-04 22:15:54,029 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@46e5c331{/__admin,null,STOPPED}
2023-07-04 22:15:54,040 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:15:54,042 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7fdbe204{/__admin,null,AVAILABLE}
2023-07-04 22:15:54,042 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:15:54,042 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15f0d6c7{/,null,AVAILABLE}
2023-07-04 22:15:54,043 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@16f0ec50{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:54,044 INFO o.e.j.s.Server [Test worker] Started Server@75f735ff{STARTING}[11.0.15,sto=1000] @8517ms
2023-07-04 22:15:54,092 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:15:54,093 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 40736 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:15:54,093 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:15:54,093 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:15:54,095 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:54,095 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27241127 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:54,095 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:54,095 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:15:54,095 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:54,095 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@17287617 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:54,260 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:15:54,262 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:15:54,339 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@343047c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6a0a5b0e, org.springframework.security.web.context.SecurityContextHolderFilter@78e4c48b, org.springframework.security.web.header.HeaderWriterFilter@3a4f4a81, org.springframework.security.web.authentication.logout.LogoutFilter@6a34aaec, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@171fd7e5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@58337c20, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7082d3e2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7fdfa8c2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@291be813, org.springframework.security.web.session.ConcurrentSessionFilter@34beebe0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c26f301, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c7da546, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fe03311, org.springframework.security.web.access.ExceptionTranslationFilter@931aef8, org.springframework.security.web.access.intercept.AuthorizationFilter@39a95375]
2023-07-04 22:15:54,363 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:15:54,364 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:15:54,364 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:15:54,372 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.327 seconds (process running for 8.846)
2023-07-04 22:15:54,433 INFO o.e.j.s.Server [Test worker] Stopped Server@75f735ff{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:54,433 INFO o.e.j.s.Server [Test worker] Shutdown Server@75f735ff{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:54,434 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@16f0ec50{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:54,434 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15f0d6c7{/,null,STOPPED}
2023-07-04 22:15:54,434 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7fdbe204{/__admin,null,STOPPED}
2023-07-04 22:15:54,443 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:15:54,444 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5ffd29e8{/__admin,null,AVAILABLE}
2023-07-04 22:15:54,444 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:15:54,444 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5eee2617{/,null,AVAILABLE}
2023-07-04 22:15:54,444 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5818021{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:54,445 INFO o.e.j.s.Server [Test worker] Started Server@67b5a089{STARTING}[11.0.15,sto=1000] @8918ms
2023-07-04 22:15:54,491 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:15:54,493 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 40736 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:15:54,493 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:15:54,493 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:15:54,495 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:54,495 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6b86a5a4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:54,495 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:54,495 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:15:54,495 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:54,495 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58c92c02 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:54,665 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:15:54,720 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73090cd8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732b3b00, org.springframework.security.web.context.SecurityContextHolderFilter@74392b01, org.springframework.security.web.header.HeaderWriterFilter@295cab5d, org.springframework.security.web.authentication.logout.LogoutFilter@5080dc92, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7cff9bb2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2acdacf3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6373f5de, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@57caa7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3446bba2, org.springframework.security.web.session.ConcurrentSessionFilter@7af59617, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a8eed09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56c4bb46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@486765f1, org.springframework.security.web.access.ExceptionTranslationFilter@6551611e, org.springframework.security.web.access.intercept.AuthorizationFilter@1dd1a777]
2023-07-04 22:15:54,745 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:15:54,745 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:15:54,746 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:15:54,756 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.309 seconds (process running for 9.229)
2023-07-04 22:15:54,775 INFO o.e.j.s.Server [Test worker] Stopped Server@67b5a089{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:54,775 INFO o.e.j.s.Server [Test worker] Shutdown Server@67b5a089{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:54,775 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5818021{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:54,775 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5eee2617{/,null,STOPPED}
2023-07-04 22:15:54,776 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5ffd29e8{/__admin,null,STOPPED}
2023-07-04 22:15:54,795 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:15:54,810 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:15:54,832 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:15:54,997 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:15:55,526 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:15:55,527 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:15:55,640 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:15:55,672 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:15:56,780 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:15:57,281 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 661cdcc6fae341367740a1b75a1e2d5017ea53771f6fda09a7ad437847925595
2023-07-04 22:15:58,293 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.649974S
2023-07-04 22:15:58,299 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:15:58,299 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:15:58,299 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:15:58,300 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:15:58,332 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 30968c6df01aa854c58205530e6be295fb99355f792bb241aef7784222633525
2023-07-04 22:15:59,585 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.285179S
2023-07-04 22:15:59,586 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56778/test?loggerLevel=OFF)
2023-07-04 22:15:59,590 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:15:59,591 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3343f1db{/__admin,null,AVAILABLE}
2023-07-04 22:15:59,591 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:15:59,591 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@128026c0{/,null,AVAILABLE}
2023-07-04 22:15:59,592 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5bdaeec8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:59,592 INFO o.e.j.s.Server [Test worker] Started Server@1811f98c{STARTING}[11.0.15,sto=1000] @14065ms
2023-07-04 22:15:59,655 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:15:59,663 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 40736 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:15:59,664 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:15:59,664 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:15:59,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:59,665 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f6b7959 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:59,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:59,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:15:59,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:59,665 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2c660e1a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:59,717 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:15:59,717 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:15:59,727 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-04 22:15:59,736 INFO o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [Test worker] Replacing 'dataSource' DataSource bean with embedded version
2023-07-04 22:15:59,747 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
2023-07-04 22:15:59,748 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-04 22:15:59,758 ERROR o.s.b.SpringApplication [Test worker] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 113 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 114 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:193)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 129 common frames omitted
2023-07-04 22:15:59,766 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@3814cf08]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@12b4dc17 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@47198a64, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@12c6e7cc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3d07f8f8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@8f1b5a81], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 113 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 114 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:193)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 129 common frames omitted
2023-07-04 22:15:59,802 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:15:59,804 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 40736 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:15:59,804 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:15:59,804 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:15:59,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:59,807 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@393eb225 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:59,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:59,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:15:59,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:15:59,807 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5107f87e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:15:59,853 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:15:59,854 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:15:59,862 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 22:15:59,869 INFO o.s.b.t.a.j.TestDatabaseAutoConfiguration$EmbeddedDataSourceBeanFactoryPostProcessor [Test worker] Replacing 'dataSource' DataSource bean with embedded version
2023-07-04 22:15:59,882 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
2023-07-04 22:15:59,882 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-04 22:15:59,883 ERROR o.s.b.SpringApplication [Test worker] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 113 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 114 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:193)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 129 common frames omitted
2023-07-04 22:15:59,884 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@39005f95]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@12b4dc17 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@47198a64, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@12c6e7cc, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3d07f8f8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@8f1b5a81], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 113 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource': Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 114 common frames omitted
Caused by: java.lang.IllegalStateException: Failed to replace DataSource with an embedded database for tests. If you want an embedded database please put a supported one on the classpath or tune the replace attribute of @AutoConfigureTestDatabase.
	at org.springframework.util.Assert.state(Assert.java:76)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactory.getEmbeddedDatabase(TestDatabaseAutoConfiguration.java:193)
	at org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration$EmbeddedDataSourceFactoryBean.afterPropertiesSet(TestDatabaseAutoConfiguration.java:153)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 129 common frames omitted
2023-07-04 22:15:59,889 INFO o.e.j.s.Server [Test worker] Stopped Server@1811f98c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:59,889 INFO o.e.j.s.Server [Test worker] Shutdown Server@1811f98c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:15:59,894 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5bdaeec8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:15:59,894 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@128026c0{/,null,STOPPED}
2023-07-04 22:15:59,895 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3343f1db{/__admin,null,STOPPED}
2023-07-04 22:15:59,899 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:15:59,901 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:15:59,902 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:15:59,955 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d5360e73aced954de73cf3bf4e51c6841d6b3f8eb2648c39035bfe4b45b3b23e
2023-07-04 22:16:01,243 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.3405S
2023-07-04 22:16:01,243 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56780/test?loggerLevel=OFF)
2023-07-04 22:16:01,246 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:16:01,246 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ac3377{/__admin,null,AVAILABLE}
2023-07-04 22:16:01,246 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:16:01,246 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@8e10577{/,null,AVAILABLE}
2023-07-04 22:16:01,247 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2f43b557{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:01,247 INFO o.e.j.s.Server [Test worker] Started Server@2a9cbc23{STARTING}[11.0.15,sto=1000] @15720ms
2023-07-04 22:16:01,275 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:16:01,276 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 40736 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:16:01,277 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:16:01,277 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:16:01,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:01,279 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6f6bc1e0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:01,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:01,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:16:01,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:01,279 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@766bb7f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:01,318 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:16:01,318 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:16:01,325 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 2 JPA repository interfaces.
2023-07-04 22:16:01,343 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:16:01,392 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5795a136
2023-07-04 22:16:01,392 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:16:01,400 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:16:01,429 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:16:01,504 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:16:01,510 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:16:01,583 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:16:01,583 INFO l.util [Test worker] Run:                          5
2023-07-04 22:16:01,584 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:16:01,584 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:16:01,584 INFO l.util [Test worker] -------------------------------
2023-07-04 22:16:01,584 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:16:01,584 INFO l.util [Test worker] Update summary generated
2023-07-04 22:16:01,589 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:16:01,594 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:16:01,594 INFO l.command [Test worker] Command execution complete
2023-07-04 22:16:01,602 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:16:01,606 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:16:01,606 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:16:01,607 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@64945559
2023-07-04 22:16:01,617 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:16:01,639 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:16:01,641 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:01,642 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:16:01,643 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:01,643 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:16:01,643 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:01,643 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:16:01,644 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:01,644 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:16:01,644 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:01,644 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:16:01,651 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:16:01,651 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:16:01,700 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 0.451 seconds (process running for 16.173)
2023-07-04 22:16:01,820 INFO o.e.j.s.Server [Test worker] Stopped Server@2a9cbc23{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:01,820 INFO o.e.j.s.Server [Test worker] Shutdown Server@2a9cbc23{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:01,821 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2f43b557{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:01,821 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@8e10577{/,null,STOPPED}
2023-07-04 22:16:01,821 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ac3377{/__admin,null,STOPPED}
2023-07-04 22:16:01,962 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:16:01,963 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:16:01,964 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:16:01,972 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:16:01,973 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:16:01,973 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:16:44,060 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:16:44,136 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:16:44,602 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:16:44,612 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:16:44,617 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:16:44,617 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:16:44,620 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:44,627 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1611ms
2023-07-04 22:16:45,006 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:16:45,017 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:16:45,025 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 40947 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:16:45,025 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:16:45,025 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:16:45,041 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:45,041 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:45,041 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:45,041 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:16:45,041 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:45,041 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:45,424 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:16:45,425 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:16:45,500 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 71 ms. Found 2 JPA repository interfaces.
2023-07-04 22:16:45,518 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:16:45,518 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:16:45,527 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:16:45,527 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:16:45,527 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 22:16:45,679 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:16:45,732 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:16:45,754 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:16:45,903 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:16:46,059 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:16:46,121 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@36dc6b9
2023-07-04 22:16:46,122 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:16:46,183 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:16:46,253 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:16:46,477 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:16:46,530 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:16:46,534 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:16:46,534 INFO l.util [Test worker] Run:                          0
2023-07-04 22:16:46,534 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:16:46,534 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:16:46,534 INFO l.util [Test worker] -------------------------------
2023-07-04 22:16:46,534 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:16:46,535 INFO l.util [Test worker] Update summary generated
2023-07-04 22:16:46,537 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:16:46,539 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:16:46,540 INFO l.command [Test worker] Command execution complete
2023-07-04 22:16:46,607 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:16:46,642 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:16:46,643 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:16:46,714 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:16:46,787 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:16:46,807 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7e3b101b
2023-07-04 22:16:46,919 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:16:47,273 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:16:47,310 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:16:47,311 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:16:47,471 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:16:47,803 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:16:47,850 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:16:48,164 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@794ca18b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44c073bd, org.springframework.security.web.context.SecurityContextHolderFilter@176b3279, org.springframework.security.web.header.HeaderWriterFilter@778c5658, org.springframework.security.web.authentication.logout.LogoutFilter@6c4d3ccc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7979b166, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7d518749, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a3e5552, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@70a8ebfc, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5ddc077b, org.springframework.security.web.session.ConcurrentSessionFilter@24fa43f8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76b51e5f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ea6687b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ec14586, org.springframework.security.web.access.ExceptionTranslationFilter@1d0305fb, org.springframework.security.web.access.intercept.AuthorizationFilter@6c6d3ce5]
2023-07-04 22:16:48,512 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.856 seconds (process running for 5.496)
2023-07-04 22:16:48,830 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:48,830 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:48,832 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:48,833 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:16:48,834 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:16:49,240 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:16:49,241 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37b5203{/__admin,null,AVAILABLE}
2023-07-04 22:16:49,242 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:16:49,242 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6065f14f{/,null,AVAILABLE}
2023-07-04 22:16:49,242 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@39dc0721{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:49,242 INFO o.e.j.s.Server [Test worker] Started Server@434a641c{STARTING}[11.0.15,sto=1000] @6227ms
2023-07-04 22:16:49,319 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:16:49,322 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 40947 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:16:49,322 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:16:49,322 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:16:49,324 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:49,324 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7787a602 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:49,324 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:49,324 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:16:49,324 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:49,324 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@63f566a0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:49,531 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:16:49,535 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:16:49,625 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ce270ae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b722f9c, org.springframework.security.web.context.SecurityContextHolderFilter@74b11f35, org.springframework.security.web.header.HeaderWriterFilter@39a7bdd9, org.springframework.security.web.authentication.logout.LogoutFilter@132da2ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@51b8d7f1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2f7cbd63, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24a63de5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1bd7762f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@61af0834, org.springframework.security.web.session.ConcurrentSessionFilter@15c3939b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@164c4eca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@128160af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@747348f1, org.springframework.security.web.access.ExceptionTranslationFilter@325a18b9, org.springframework.security.web.access.intercept.AuthorizationFilter@2a76555a]
2023-07-04 22:16:49,668 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:16:49,668 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:16:49,669 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:16:49,729 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.484 seconds (process running for 6.714)
2023-07-04 22:16:49,897 INFO o.e.j.s.Server [Test worker] Stopped Server@434a641c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:49,897 INFO o.e.j.s.Server [Test worker] Shutdown Server@434a641c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:49,907 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@39dc0721{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:49,908 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6065f14f{/,null,STOPPED}
2023-07-04 22:16:49,908 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37b5203{/__admin,null,STOPPED}
2023-07-04 22:16:49,921 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:16:49,922 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3467986{/__admin,null,AVAILABLE}
2023-07-04 22:16:49,922 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:16:49,922 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@26e197cd{/,null,AVAILABLE}
2023-07-04 22:16:49,923 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@431e67f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:49,923 INFO o.e.j.s.Server [Test worker] Started Server@7f411735{STARTING}[11.0.15,sto=1000] @6908ms
2023-07-04 22:16:49,982 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:16:49,988 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 40947 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:16:49,988 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:16:49,988 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:16:49,990 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:49,990 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@87f336d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:49,990 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:49,990 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:16:49,990 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:49,990 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@379ebfa0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:50,140 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:16:50,143 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:16:50,221 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7082d3e2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@343047c, org.springframework.security.web.context.SecurityContextHolderFilter@34beebe0, org.springframework.security.web.header.HeaderWriterFilter@931aef8, org.springframework.security.web.authentication.logout.LogoutFilter@21c1fb2e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@39a95375, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@171fd7e5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58337c20, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3c7da546, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6a0a5b0e, org.springframework.security.web.session.ConcurrentSessionFilter@3a4f4a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78e4c48b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c26f301, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@291be813, org.springframework.security.web.access.ExceptionTranslationFilter@9a8b7d3, org.springframework.security.web.access.intercept.AuthorizationFilter@3bb27579]
2023-07-04 22:16:50,243 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:16:50,243 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:16:50,244 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:16:50,251 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.325 seconds (process running for 7.235)
2023-07-04 22:16:50,304 INFO o.e.j.s.Server [Test worker] Stopped Server@7f411735{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:50,305 INFO o.e.j.s.Server [Test worker] Shutdown Server@7f411735{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:50,305 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@431e67f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:50,305 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@26e197cd{/,null,STOPPED}
2023-07-04 22:16:50,305 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3467986{/__admin,null,STOPPED}
2023-07-04 22:16:50,313 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:16:50,314 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@9f7c1c{/__admin,null,AVAILABLE}
2023-07-04 22:16:50,315 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:16:50,315 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@47161ae4{/,null,AVAILABLE}
2023-07-04 22:16:50,315 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6ccb2162{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:50,315 INFO o.e.j.s.Server [Test worker] Started Server@5ffd29e8{STARTING}[11.0.15,sto=1000] @7300ms
2023-07-04 22:16:50,361 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:16:50,362 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 40947 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:16:50,362 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:16:50,362 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:16:50,363 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:50,364 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2a872d5e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:50,364 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:50,364 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:16:50,364 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:50,364 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3ac10d20 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:50,529 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:16:50,577 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73090cd8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@732b3b00, org.springframework.security.web.context.SecurityContextHolderFilter@74392b01, org.springframework.security.web.header.HeaderWriterFilter@295cab5d, org.springframework.security.web.authentication.logout.LogoutFilter@5080dc92, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7cff9bb2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2acdacf3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6373f5de, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@57caa7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3446bba2, org.springframework.security.web.session.ConcurrentSessionFilter@7af59617, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a8eed09, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56c4bb46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@486765f1, org.springframework.security.web.access.ExceptionTranslationFilter@6551611e, org.springframework.security.web.access.intercept.AuthorizationFilter@1dd1a777]
2023-07-04 22:16:50,598 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:16:50,598 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:16:50,599 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:16:50,606 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.289 seconds (process running for 7.591)
2023-07-04 22:16:50,623 INFO o.e.j.s.Server [Test worker] Stopped Server@5ffd29e8{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:50,624 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ffd29e8{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:50,624 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6ccb2162{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:50,624 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@47161ae4{/,null,STOPPED}
2023-07-04 22:16:50,625 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@9f7c1c{/__admin,null,STOPPED}
2023-07-04 22:16:50,648 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:16:50,658 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:16:50,680 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:16:50,812 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:16:51,036 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:16:51,037 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:16:51,053 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:16:51,075 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:16:51,862 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:16:51,939 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 35f059929dc50bc258dc42b536546a7b39bc544e9c569cf5f06301f6294decf1
2023-07-04 22:16:52,384 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.32815S
2023-07-04 22:16:52,390 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:16:52,391 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:16:52,391 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:16:52,391 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:16:52,421 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 8761afbd3daac99ce5171b49b40e1824ae4204d80326ad5ba5d4202ba90d2b95
2023-07-04 22:16:53,618 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.22698S
2023-07-04 22:16:53,619 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56839/test?loggerLevel=OFF)
2023-07-04 22:16:53,641 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:16:53,642 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@567422e6{/__admin,null,AVAILABLE}
2023-07-04 22:16:53,642 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:16:53,643 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5cb13543{/,null,AVAILABLE}
2023-07-04 22:16:53,643 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@49b94e25{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:53,643 INFO o.e.j.s.Server [Test worker] Started Server@70663424{STARTING}[11.0.15,sto=1000] @10628ms
2023-07-04 22:16:53,686 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:16:53,689 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 40947 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:16:53,689 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:16:53,689 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:16:53,691 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:53,691 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16c03f98 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:53,691 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:53,691 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:16:53,691 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:16:53,691 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@25e0047c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:16:53,772 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:16:53,772 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:16:53,782 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-04 22:16:53,813 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:16:53,887 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3102ccd1
2023-07-04 22:16:53,888 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:16:53,902 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:16:53,934 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:16:53,996 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:16:54,005 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:16:54,075 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:16:54,076 INFO l.util [Test worker] Run:                          5
2023-07-04 22:16:54,076 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:16:54,076 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:16:54,076 INFO l.util [Test worker] -------------------------------
2023-07-04 22:16:54,076 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:16:54,076 INFO l.util [Test worker] Update summary generated
2023-07-04 22:16:54,080 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:16:54,086 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:16:54,087 INFO l.command [Test worker] Command execution complete
2023-07-04 22:16:54,098 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:16:54,103 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:16:54,103 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:16:54,105 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@a468be8
2023-07-04 22:16:54,120 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:16:54,144 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:16:54,147 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:54,147 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:16:54,149 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:54,149 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:16:54,150 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:54,150 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:16:54,153 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:54,153 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:16:54,155 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:16:54,155 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:16:54,188 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:16:54,189 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:16:54,337 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.691 seconds (process running for 11.322)
2023-07-04 22:16:54,523 INFO o.e.j.s.Server [Test worker] Stopped Server@70663424{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:54,523 INFO o.e.j.s.Server [Test worker] Shutdown Server@70663424{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:54,524 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@49b94e25{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:54,525 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5cb13543{/,null,STOPPED}
2023-07-04 22:16:54,525 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@567422e6{/__admin,null,STOPPED}
2023-07-04 22:16:54,528 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:16:54,531 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:16:54,532 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:16:54,627 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 1c738c46cb586e128583e040a75365dc839fd681762257d7de7f6800709b48fd
2023-07-04 22:16:56,741 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.208107S
2023-07-04 22:16:56,748 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56851/test?loggerLevel=OFF)
2023-07-04 22:16:56,758 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:16:56,759 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@13c2016c{/__admin,null,AVAILABLE}
2023-07-04 22:16:56,759 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:16:56,760 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1f50d106{/,null,AVAILABLE}
2023-07-04 22:16:56,760 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1a6e20e2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:56,760 INFO o.e.j.s.Server [Test worker] Started Server@22b9796e{STARTING}[11.0.15,sto=1000] @13745ms
2023-07-04 22:16:56,864 INFO o.e.j.s.Server [Test worker] Stopped Server@22b9796e{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:56,864 INFO o.e.j.s.Server [Test worker] Shutdown Server@22b9796e{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:16:56,865 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1a6e20e2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:16:56,866 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1f50d106{/,null,STOPPED}
2023-07-04 22:16:56,866 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@13c2016c{/__admin,null,STOPPED}
2023-07-04 22:16:57,158 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:16:57,162 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:16:57,168 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:16:57,202 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:16:57,203 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:16:57,204 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:17:51,547 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:17:51,597 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:17:52,131 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:17:52,140 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:17:52,144 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:17:52,144 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:17:52,147 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:52,152 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1136ms
2023-07-04 22:17:52,466 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:17:52,474 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:17:52,481 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 41173 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:17:52,481 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:17:52,482 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:17:52,498 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:52,498 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:52,499 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:52,499 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:17:52,499 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:52,499 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:52,836 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:17:52,836 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:17:52,909 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 69 ms. Found 2 JPA repository interfaces.
2023-07-04 22:17:52,920 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:17:52,920 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:17:52,928 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:17:52,928 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:17:52,928 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 22:17:53,071 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:17:53,122 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:17:53,143 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:17:53,279 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:17:53,420 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:17:53,473 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62cb977a
2023-07-04 22:17:53,474 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:17:53,529 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:17:53,591 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:17:53,792 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:17:53,838 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:17:53,842 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:17:53,842 INFO l.util [Test worker] Run:                          0
2023-07-04 22:17:53,842 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:17:53,842 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:17:53,842 INFO l.util [Test worker] -------------------------------
2023-07-04 22:17:53,842 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:17:53,843 INFO l.util [Test worker] Update summary generated
2023-07-04 22:17:53,844 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:17:53,847 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:17:53,847 INFO l.command [Test worker] Command execution complete
2023-07-04 22:17:53,894 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:17:53,923 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:17:53,924 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:17:53,978 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:17:54,037 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:17:54,055 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@446dc997
2023-07-04 22:17:54,164 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:17:54,489 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:17:54,523 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:17:54,524 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:17:54,664 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:17:55,009 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:17:55,060 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:17:55,320 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@66fb1627, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1cbd2c1a, org.springframework.security.web.context.SecurityContextHolderFilter@7d518749, org.springframework.security.web.header.HeaderWriterFilter@2b5f49de, org.springframework.security.web.authentication.logout.LogoutFilter@3c72031c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@317d7a5e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5a13b931, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@904b224, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@45072949, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4e125be1, org.springframework.security.web.session.ConcurrentSessionFilter@12333eaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e5080ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@794ca18b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@781ebe48, org.springframework.security.web.access.ExceptionTranslationFilter@28c776f2, org.springframework.security.web.access.intercept.AuthorizationFilter@6ed99447]
2023-07-04 22:17:55,672 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.496 seconds (process running for 4.656)
2023-07-04 22:17:55,974 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:55,974 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:55,976 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:55,977 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:17:55,977 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:17:56,314 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:17:56,315 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1f36bed9{/__admin,null,AVAILABLE}
2023-07-04 22:17:56,315 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:17:56,315 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@25af5c7f{/,null,AVAILABLE}
2023-07-04 22:17:56,315 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5ba34ac0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:56,316 INFO o.e.j.s.Server [Test worker] Started Server@5ea46e79{STARTING}[11.0.15,sto=1000] @5300ms
2023-07-04 22:17:56,391 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:17:56,393 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 41173 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:17:56,394 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:17:56,394 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:17:56,396 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:56,396 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16974b24 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:56,396 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:56,396 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:17:56,396 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:56,396 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48f1968e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:56,640 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:17:56,644 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:17:56,747 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@26a1028e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3885b162, org.springframework.security.web.context.SecurityContextHolderFilter@58e7de77, org.springframework.security.web.header.HeaderWriterFilter@480dce26, org.springframework.security.web.authentication.logout.LogoutFilter@20c411ea, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@393a535, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@358afec, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@41143491, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@62da0f49, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7ee44e51, org.springframework.security.web.session.ConcurrentSessionFilter@907a731, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@700a8854, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@56d0048d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1eb45da0, org.springframework.security.web.access.ExceptionTranslationFilter@2dc0a0a7, org.springframework.security.web.access.intercept.AuthorizationFilter@44f464d1]
2023-07-04 22:17:56,793 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:17:56,793 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:17:56,794 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:17:56,850 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.532 seconds (process running for 5.834)
2023-07-04 22:17:57,003 INFO o.e.j.s.Server [Test worker] Stopped Server@5ea46e79{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:57,003 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ea46e79{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:57,004 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5ba34ac0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:57,004 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@25af5c7f{/,null,STOPPED}
2023-07-04 22:17:57,004 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1f36bed9{/__admin,null,STOPPED}
2023-07-04 22:17:57,017 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:17:57,022 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d8f4623{/__admin,null,AVAILABLE}
2023-07-04 22:17:57,022 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:17:57,022 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@379ebfa0{/,null,AVAILABLE}
2023-07-04 22:17:57,023 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1d483c89{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:57,023 INFO o.e.j.s.Server [Test worker] Started Server@9f1f42c{STARTING}[11.0.15,sto=1000] @6007ms
2023-07-04 22:17:57,076 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:17:57,078 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 41173 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:17:57,078 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:17:57,078 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:17:57,080 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:57,080 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50dd2e86 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:57,080 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:57,080 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:17:57,080 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:57,080 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@22d12034 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:57,233 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:17:57,236 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:17:57,311 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27937c21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2242013, org.springframework.security.web.context.SecurityContextHolderFilter@28e8c2d6, org.springframework.security.web.header.HeaderWriterFilter@22c73577, org.springframework.security.web.authentication.logout.LogoutFilter@5cef8264, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@31429a0a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@119ec2e4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2acf4eed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@11de1abe, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@654a4b51, org.springframework.security.web.session.ConcurrentSessionFilter@28af99b4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e9fb3b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4568499e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@35a2c933, org.springframework.security.web.access.ExceptionTranslationFilter@3b69ad19, org.springframework.security.web.access.intercept.AuthorizationFilter@3aa6fef3]
2023-07-04 22:17:57,336 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:17:57,336 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:17:57,336 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:17:57,344 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.319 seconds (process running for 6.328)
2023-07-04 22:17:57,402 INFO o.e.j.s.Server [Test worker] Stopped Server@9f1f42c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:57,402 INFO o.e.j.s.Server [Test worker] Shutdown Server@9f1f42c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:57,402 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1d483c89{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:57,403 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@379ebfa0{/,null,STOPPED}
2023-07-04 22:17:57,403 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d8f4623{/__admin,null,STOPPED}
2023-07-04 22:17:57,410 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:17:57,411 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37107ea0{/__admin,null,AVAILABLE}
2023-07-04 22:17:57,411 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:17:57,411 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d44788b{/,null,AVAILABLE}
2023-07-04 22:17:57,412 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@27684bf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:57,412 INFO o.e.j.s.Server [Test worker] Started Server@2a750d3a{STARTING}[11.0.15,sto=1000] @6396ms
2023-07-04 22:17:57,458 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:17:57,460 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 41173 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:17:57,460 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:17:57,460 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:17:57,461 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:57,461 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7cf4a9fb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:57,461 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:57,461 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:17:57,461 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:17:57,461 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5c48981a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:17:57,611 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:17:57,662 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b69204f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6628b1ac, org.springframework.security.web.context.SecurityContextHolderFilter@649f48f6, org.springframework.security.web.header.HeaderWriterFilter@1816701b, org.springframework.security.web.authentication.logout.LogoutFilter@4325123b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@484ab2dc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2315d524, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@461c6f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3b8214eb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6b19f4b8, org.springframework.security.web.session.ConcurrentSessionFilter@2a3d8a59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56961224, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7dab2645, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b0c28d0, org.springframework.security.web.access.ExceptionTranslationFilter@22520d2c, org.springframework.security.web.access.intercept.AuthorizationFilter@4c96f850]
2023-07-04 22:17:57,688 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:17:57,688 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:17:57,688 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:17:57,699 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.285 seconds (process running for 6.683)
2023-07-04 22:17:57,718 INFO o.e.j.s.Server [Test worker] Stopped Server@2a750d3a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:57,718 INFO o.e.j.s.Server [Test worker] Shutdown Server@2a750d3a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:17:57,719 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@27684bf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:17:57,719 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d44788b{/,null,STOPPED}
2023-07-04 22:17:57,719 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37107ea0{/__admin,null,STOPPED}
2023-07-04 22:17:57,740 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:17:57,750 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:17:57,770 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:17:57,876 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:17:58,078 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:17:58,079 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:17:58,093 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:17:58,114 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:17:58,972 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:17:59,045 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 6c3d988f657c7aae2126d3aa1a584386e2f9cafbf275e7b3286fb65c654a8ad8
2023-07-04 22:17:59,475 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.37925S
2023-07-04 22:17:59,479 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:17:59,479 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:17:59,480 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:17:59,480 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:17:59,515 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 66ca1c75779db7e7764054b299042d13a63d75b4b793f0445a9ec0f1e8207b95
2023-07-04 22:18:00,686 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.206665S
2023-07-04 22:18:00,688 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56874/test?loggerLevel=OFF)
2023-07-04 22:18:00,692 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:00,692 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3203d5{/__admin,null,AVAILABLE}
2023-07-04 22:18:00,693 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:00,693 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c16a3fa{/,null,AVAILABLE}
2023-07-04 22:18:00,693 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@37f208ba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:00,693 INFO o.e.j.s.Server [Test worker] Started Server@67b856d6{STARTING}[11.0.15,sto=1000] @9678ms
2023-07-04 22:18:00,729 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:18:00,731 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 41173 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:18:00,731 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:18:00,731 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:18:00,732 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:00,732 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@52396d1e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:00,732 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:00,732 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:18:00,732 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:00,732 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5a5a57bc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:00,790 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:18:00,790 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:18:00,800 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-04 22:18:00,832 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:18:00,892 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5ea7b4ab
2023-07-04 22:18:00,892 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:18:00,903 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:18:00,931 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:18:00,998 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:18:01,008 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:18:01,066 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:18:01,066 INFO l.util [Test worker] Run:                          5
2023-07-04 22:18:01,066 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:18:01,066 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:18:01,066 INFO l.util [Test worker] -------------------------------
2023-07-04 22:18:01,066 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:18:01,067 INFO l.util [Test worker] Update summary generated
2023-07-04 22:18:01,071 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:18:01,077 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:18:01,078 INFO l.command [Test worker] Command execution complete
2023-07-04 22:18:01,087 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:18:01,091 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:18:01,092 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:18:01,093 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5fa5dc92
2023-07-04 22:18:01,104 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:18:01,139 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:18:01,141 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:01,141 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:18:01,142 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:01,142 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:18:01,143 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:01,143 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:18:01,144 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:01,144 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:18:01,145 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:01,145 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:18:01,153 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:18:01,153 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:18:01,213 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.517 seconds (process running for 10.197)
2023-07-04 22:18:01,314 INFO o.e.j.s.Server [Test worker] Stopped Server@67b856d6{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:01,314 INFO o.e.j.s.Server [Test worker] Shutdown Server@67b856d6{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:01,315 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@37f208ba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:01,315 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c16a3fa{/,null,STOPPED}
2023-07-04 22:18:01,315 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3203d5{/__admin,null,STOPPED}
2023-07-04 22:18:01,317 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:18:01,319 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:18:01,320 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:18:01,365 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 0040c83d9f1abfe6e4e606dc47d374030edd78c43ac6a51dc6122f2f0d69a428
2023-07-04 22:18:02,505 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.18497S
2023-07-04 22:18:02,505 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56886/test?loggerLevel=OFF)
2023-07-04 22:18:02,507 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:02,508 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1f27b34b{/__admin,null,AVAILABLE}
2023-07-04 22:18:02,508 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:02,508 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@70691683{/,null,AVAILABLE}
2023-07-04 22:18:02,508 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@49f116d9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:02,509 INFO o.e.j.s.Server [Test worker] Started Server@72e48a21{STARTING}[11.0.15,sto=1000] @11493ms
2023-07-04 22:18:02,539 INFO o.e.j.s.Server [Test worker] Stopped Server@72e48a21{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:02,539 INFO o.e.j.s.Server [Test worker] Shutdown Server@72e48a21{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:02,540 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@49f116d9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:02,540 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@70691683{/,null,STOPPED}
2023-07-04 22:18:02,540 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1f27b34b{/__admin,null,STOPPED}
2023-07-04 22:18:02,686 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:18:02,687 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:18:02,688 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:18:02,698 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:18:02,698 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:18:02,699 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:18:46,134 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:18:46,182 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:18:46,547 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:46,559 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:18:46,563 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:46,563 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:18:46,567 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:46,572 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @976ms
2023-07-04 22:18:46,890 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:18:46,897 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:18:46,903 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 41367 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:18:46,903 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:18:46,903 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:18:46,915 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:46,915 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:46,915 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:46,915 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:18:46,915 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:46,915 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:47,287 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:18:47,287 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:18:47,357 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2023-07-04 22:18:47,366 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:18:47,367 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:18:47,378 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:18:47,378 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:18:47,378 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 0 Redis repository interfaces.
2023-07-04 22:18:47,505 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:18:47,552 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:18:47,570 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:18:47,706 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:18:47,847 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:18:47,901 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@293ba26c
2023-07-04 22:18:47,902 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:18:47,965 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:18:48,035 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:18:48,248 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:18:48,296 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:18:48,301 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:18:48,303 INFO l.util [Test worker] Run:                          0
2023-07-04 22:18:48,303 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:18:48,303 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:18:48,303 INFO l.util [Test worker] -------------------------------
2023-07-04 22:18:48,303 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:18:48,304 INFO l.util [Test worker] Update summary generated
2023-07-04 22:18:48,305 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:18:48,308 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:18:48,308 INFO l.command [Test worker] Command execution complete
2023-07-04 22:18:48,353 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:18:48,383 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:18:48,384 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:18:48,437 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:18:48,492 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:18:48,507 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6b862f17
2023-07-04 22:18:48,615 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:18:48,938 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:18:48,974 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:18:48,976 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:18:49,132 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:18:49,443 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:18:49,487 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:18:49,748 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@317d7a5e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a13b931, org.springframework.security.web.context.SecurityContextHolderFilter@65dfce2f, org.springframework.security.web.header.HeaderWriterFilter@226715da, org.springframework.security.web.authentication.logout.LogoutFilter@25824720, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4463d9b7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5c991516, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7a01358f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7b0c4127, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@904b224, org.springframework.security.web.session.ConcurrentSessionFilter@2e884ee5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2aea50a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7979b166, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e9ae46f, org.springframework.security.web.access.ExceptionTranslationFilter@47dfbba3, org.springframework.security.web.access.intercept.AuthorizationFilter@452895aa]
2023-07-04 22:18:50,143 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.55 seconds (process running for 4.547)
2023-07-04 22:18:50,441 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:50,442 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:50,443 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:50,444 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:18:50,446 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:18:50,775 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:50,776 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5884d435{/__admin,null,AVAILABLE}
2023-07-04 22:18:50,776 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:50,776 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@429b336b{/,null,AVAILABLE}
2023-07-04 22:18:50,776 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@41d280cf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:50,777 INFO o.e.j.s.Server [Test worker] Started Server@46b9a780{STARTING}[11.0.15,sto=1000] @5181ms
2023-07-04 22:18:50,850 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:18:50,852 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 41367 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:18:50,852 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:18:50,852 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:18:50,854 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:50,854 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50d9b736 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:50,854 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:50,855 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:18:50,855 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:50,855 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@574c8a2a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:51,070 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:18:51,073 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:18:51,166 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@222c53c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6bd7f3d4, org.springframework.security.web.context.SecurityContextHolderFilter@48b1ba91, org.springframework.security.web.header.HeaderWriterFilter@60e50c6, org.springframework.security.web.authentication.logout.LogoutFilter@32640b6d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@690406d0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7ba947fe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@62e06e2e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7842ad22, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5a70dfe7, org.springframework.security.web.session.ConcurrentSessionFilter@21886b18, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6e0c20b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a70d5df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b805b99, org.springframework.security.web.access.ExceptionTranslationFilter@579e30b7, org.springframework.security.web.access.intercept.AuthorizationFilter@43e07d88]
2023-07-04 22:18:51,218 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:18:51,218 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:18:51,219 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:18:51,283 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.504 seconds (process running for 5.688)
2023-07-04 22:18:51,443 INFO o.e.j.s.Server [Test worker] Stopped Server@46b9a780{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:51,443 INFO o.e.j.s.Server [Test worker] Shutdown Server@46b9a780{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:51,443 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@41d280cf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:51,444 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@429b336b{/,null,STOPPED}
2023-07-04 22:18:51,444 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5884d435{/__admin,null,STOPPED}
2023-07-04 22:18:51,454 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:51,456 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@43fe629a{/__admin,null,AVAILABLE}
2023-07-04 22:18:51,456 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:51,456 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@e158c25{/,null,AVAILABLE}
2023-07-04 22:18:51,456 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5631baf5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:51,457 INFO o.e.j.s.Server [Test worker] Started Server@341df52{STARTING}[11.0.15,sto=1000] @5861ms
2023-07-04 22:18:51,500 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:18:51,503 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 41367 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:18:51,503 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:18:51,503 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:18:51,504 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:51,504 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@692cea53 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:51,504 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:51,504 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:18:51,504 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:51,504 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@703aca0d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:51,657 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:18:51,659 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:18:51,735 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31b1e3ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68d9a4dd, org.springframework.security.web.context.SecurityContextHolderFilter@7cb17098, org.springframework.security.web.header.HeaderWriterFilter@6a8ebb66, org.springframework.security.web.authentication.logout.LogoutFilter@b18d1ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5eb0f030, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@13ea5530, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70fd626f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@394ba4f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@29db3f23, org.springframework.security.web.session.ConcurrentSessionFilter@452811e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@197cc9a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6360463, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@322ece6d, org.springframework.security.web.access.ExceptionTranslationFilter@2d991631, org.springframework.security.web.access.intercept.AuthorizationFilter@1b5b5ac9]
2023-07-04 22:18:51,762 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:18:51,762 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:18:51,763 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:18:51,771 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.313 seconds (process running for 6.175)
2023-07-04 22:18:51,824 INFO o.e.j.s.Server [Test worker] Stopped Server@341df52{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:51,824 INFO o.e.j.s.Server [Test worker] Shutdown Server@341df52{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:51,826 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5631baf5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:51,826 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@e158c25{/,null,STOPPED}
2023-07-04 22:18:51,826 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@43fe629a{/__admin,null,STOPPED}
2023-07-04 22:18:51,834 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:51,835 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@67cc7aee{/__admin,null,AVAILABLE}
2023-07-04 22:18:51,835 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:51,835 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d5790ea{/,null,AVAILABLE}
2023-07-04 22:18:51,835 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3ac10d20{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:51,835 INFO o.e.j.s.Server [Test worker] Started Server@74642e97{STARTING}[11.0.15,sto=1000] @6240ms
2023-07-04 22:18:51,877 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:18:51,878 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 41367 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:18:51,878 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:18:51,878 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:18:51,879 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:51,879 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7b84b4fb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:51,879 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:51,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:18:51,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:51,880 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6431e18 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:52,023 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:18:52,072 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cf9430a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@335303b6, org.springframework.security.web.context.SecurityContextHolderFilter@16b578a3, org.springframework.security.web.header.HeaderWriterFilter@5494cf4b, org.springframework.security.web.authentication.logout.LogoutFilter@1ee7aa6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@38f2eee5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4abb8817, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ce2e026, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@419ae488, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@25becefb, org.springframework.security.web.session.ConcurrentSessionFilter@127302ec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39e89589, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b74fb68, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e86f9ba, org.springframework.security.web.access.ExceptionTranslationFilter@475d15e1, org.springframework.security.web.access.intercept.AuthorizationFilter@7b0579c1]
2023-07-04 22:18:52,095 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:18:52,095 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:18:52,095 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:18:52,105 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.268 seconds (process running for 6.51)
2023-07-04 22:18:52,129 INFO o.e.j.s.Server [Test worker] Stopped Server@74642e97{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:52,130 INFO o.e.j.s.Server [Test worker] Shutdown Server@74642e97{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:52,130 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3ac10d20{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:52,130 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d5790ea{/,null,STOPPED}
2023-07-04 22:18:52,130 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@67cc7aee{/__admin,null,STOPPED}
2023-07-04 22:18:52,151 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:18:52,165 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:18:52,185 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:18:52,292 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:18:52,511 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:18:52,512 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:18:52,530 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:18:52,561 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:18:53,402 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:18:53,479 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: cfa6701b8b3cd499dadaaed0e81c213dc5f8f02d692257f69ad11aff360aa589
2023-07-04 22:18:53,914 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.38019S
2023-07-04 22:18:53,919 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:18:53,920 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:18:53,920 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:18:53,920 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:18:53,951 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ff3ed6d43d194f9474d42f91bcbb1f53f5d680360e0fcbafa64587086bd8d697
2023-07-04 22:18:55,133 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.21244S
2023-07-04 22:18:55,134 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56911/test?loggerLevel=OFF)
2023-07-04 22:18:55,138 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:55,140 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6171125d{/__admin,null,AVAILABLE}
2023-07-04 22:18:55,140 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:55,140 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@114fa25b{/,null,AVAILABLE}
2023-07-04 22:18:55,140 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@16c03f98{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:55,140 INFO o.e.j.s.Server [Test worker] Started Server@3b591a07{STARTING}[11.0.15,sto=1000] @9545ms
2023-07-04 22:18:55,183 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:18:55,188 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 41367 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:18:55,188 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:18:55,188 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:18:55,189 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:55,190 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7b667c59 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:55,190 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:55,190 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:18:55,190 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:18:55,190 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@15cf976f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:18:55,263 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:18:55,263 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:18:55,272 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2023-07-04 22:18:55,302 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:18:55,357 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@782a0e57
2023-07-04 22:18:55,357 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:18:55,366 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:18:55,404 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:18:55,472 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:18:55,477 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:18:55,545 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:18:55,545 INFO l.util [Test worker] Run:                          5
2023-07-04 22:18:55,545 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:18:55,545 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:18:55,545 INFO l.util [Test worker] -------------------------------
2023-07-04 22:18:55,545 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:18:55,545 INFO l.util [Test worker] Update summary generated
2023-07-04 22:18:55,549 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:18:55,557 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:18:55,558 INFO l.command [Test worker] Command execution complete
2023-07-04 22:18:55,568 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:18:55,573 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:18:55,573 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:18:55,574 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@19eb5290
2023-07-04 22:18:55,586 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:18:55,612 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:18:55,614 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:55,614 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:18:55,615 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:55,615 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:18:55,616 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:55,616 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:18:55,617 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:55,617 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:18:55,618 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:18:55,618 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:18:55,625 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:18:55,626 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:18:55,698 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.554 seconds (process running for 10.102)
2023-07-04 22:18:55,804 INFO o.e.j.s.Server [Test worker] Stopped Server@3b591a07{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:55,804 INFO o.e.j.s.Server [Test worker] Shutdown Server@3b591a07{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:55,805 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@16c03f98{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:55,805 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@114fa25b{/,null,STOPPED}
2023-07-04 22:18:55,805 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6171125d{/__admin,null,STOPPED}
2023-07-04 22:18:55,808 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:18:55,810 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:18:55,811 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:18:55,850 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: c7311897fbab5b6a1f4f7b2597c72350fcee6522bbbd3e26abe0a4a51106d7c1
2023-07-04 22:18:57,039 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.227656S
2023-07-04 22:18:57,039 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56923/test?loggerLevel=OFF)
2023-07-04 22:18:57,042 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:18:57,044 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1e414c99{/__admin,null,AVAILABLE}
2023-07-04 22:18:57,044 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:18:57,044 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@76e87fa0{/,null,AVAILABLE}
2023-07-04 22:18:57,044 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@145f9b27{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:57,044 INFO o.e.j.s.Server [Test worker] Started Server@41d294ff{STARTING}[11.0.15,sto=1000] @11449ms
2023-07-04 22:18:57,085 INFO o.e.j.s.Server [Test worker] Stopped Server@41d294ff{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:57,085 INFO o.e.j.s.Server [Test worker] Shutdown Server@41d294ff{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:18:57,085 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@145f9b27{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:18:57,086 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@76e87fa0{/,null,STOPPED}
2023-07-04 22:18:57,086 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1e414c99{/__admin,null,STOPPED}
2023-07-04 22:18:57,239 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:18:57,240 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:18:57,241 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:18:57,251 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:18:57,251 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:18:57,252 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:19:43,913 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:19:43,961 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:19:44,306 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:19:44,315 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:19:44,319 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:19:44,319 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:19:44,323 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:44,328 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @940ms
2023-07-04 22:19:44,644 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:19:44,650 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:19:44,657 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 41566 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:19:44,657 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:19:44,657 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:19:44,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:44,670 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:44,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:44,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:19:44,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:44,670 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:45,036 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:19:45,037 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:19:45,108 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2023-07-04 22:19:45,117 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:19:45,117 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:19:45,125 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:19:45,125 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:19:45,126 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 22:19:45,251 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:19:45,296 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:19:45,320 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:19:45,452 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:19:45,593 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:19:45,646 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@16c1345b
2023-07-04 22:19:45,646 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:19:45,702 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:19:45,772 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:19:45,986 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:19:46,033 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:19:46,038 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:19:46,038 INFO l.util [Test worker] Run:                          0
2023-07-04 22:19:46,038 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:19:46,038 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:19:46,038 INFO l.util [Test worker] -------------------------------
2023-07-04 22:19:46,038 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:19:46,039 INFO l.util [Test worker] Update summary generated
2023-07-04 22:19:46,040 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:19:46,043 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:19:46,044 INFO l.command [Test worker] Command execution complete
2023-07-04 22:19:46,103 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:19:46,125 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:19:46,126 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:19:46,179 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:19:46,239 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:19:46,260 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4ac7927a
2023-07-04 22:19:46,368 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:19:46,687 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:19:46,722 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:19:46,723 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:19:46,870 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:19:47,196 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:19:47,243 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:19:47,508 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4efca68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@437231f5, org.springframework.security.web.context.SecurityContextHolderFilter@1e7535a4, org.springframework.security.web.header.HeaderWriterFilter@51e1dffa, org.springframework.security.web.authentication.logout.LogoutFilter@5769eb7b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@41854000, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@55a0cc83, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@267e36f5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5ddc077b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6fcb2e2d, org.springframework.security.web.session.ConcurrentSessionFilter@4086dd5f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7979b166, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a16e4e3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@66fb1627, org.springframework.security.web.access.ExceptionTranslationFilter@27688fc6, org.springframework.security.web.access.intercept.AuthorizationFilter@41eab601]
2023-07-04 22:19:47,864 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.516 seconds (process running for 4.476)
2023-07-04 22:19:48,171 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:48,171 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:48,173 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:48,174 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:19:48,174 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:19:48,502 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:19:48,503 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@361b682b{/__admin,null,AVAILABLE}
2023-07-04 22:19:48,503 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:19:48,503 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f3737bd{/,null,AVAILABLE}
2023-07-04 22:19:48,504 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6c6e2af4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:48,504 INFO o.e.j.s.Server [Test worker] Started Server@768f12db{STARTING}[11.0.15,sto=1000] @5116ms
2023-07-04 22:19:48,576 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:19:48,579 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 41566 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:19:48,579 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:19:48,580 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:19:48,581 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:48,581 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f0e935d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:48,581 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:48,581 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:19:48,581 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:48,581 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@38e2431b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:48,812 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:19:48,816 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:19:48,907 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20c411ea, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76669d13, org.springframework.security.web.context.SecurityContextHolderFilter@79b3937a, org.springframework.security.web.header.HeaderWriterFilter@46c0ad2d, org.springframework.security.web.authentication.logout.LogoutFilter@907a731, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@56d0048d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@62da0f49, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4a86103, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2dc0a0a7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@44f464d1, org.springframework.security.web.session.ConcurrentSessionFilter@9320aed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7756d3ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@343cb1af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@393a535, org.springframework.security.web.access.ExceptionTranslationFilter@42898c45, org.springframework.security.web.access.intercept.AuthorizationFilter@700a8854]
2023-07-04 22:19:48,959 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:19:48,959 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:19:48,960 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:19:49,009 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.503 seconds (process running for 5.621)
2023-07-04 22:19:49,160 INFO o.e.j.s.Server [Test worker] Stopped Server@768f12db{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:49,160 INFO o.e.j.s.Server [Test worker] Shutdown Server@768f12db{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:49,161 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6c6e2af4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:49,161 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f3737bd{/,null,STOPPED}
2023-07-04 22:19:49,161 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@361b682b{/__admin,null,STOPPED}
2023-07-04 22:19:49,172 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:19:49,174 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@141cc645{/__admin,null,AVAILABLE}
2023-07-04 22:19:49,174 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:19:49,174 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@87f336d{/,null,AVAILABLE}
2023-07-04 22:19:49,174 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@77dbb932{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:49,174 INFO o.e.j.s.Server [Test worker] Started Server@6cbad7b3{STARTING}[11.0.15,sto=1000] @5787ms
2023-07-04 22:19:49,228 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:19:49,230 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 41566 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:19:49,230 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:19:49,230 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:19:49,231 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:49,231 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@509c1d50 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:49,231 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:49,231 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:19:49,231 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:49,231 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50dd2e86 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:49,376 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:19:49,379 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:19:49,450 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7fce8421, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5cef8264, org.springframework.security.web.context.SecurityContextHolderFilter@4e725977, org.springframework.security.web.header.HeaderWriterFilter@721e1bdf, org.springframework.security.web.authentication.logout.LogoutFilter@22c73577, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5e9fb3b7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4568499e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11de1abe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@678cf97e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5bcc14de, org.springframework.security.web.session.ConcurrentSessionFilter@15ffcd0c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@eb2f0ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@cf0d241, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3aa6fef3, org.springframework.security.web.access.ExceptionTranslationFilter@6d05a0a2, org.springframework.security.web.access.intercept.AuthorizationFilter@28e8c2d6]
2023-07-04 22:19:49,476 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:19:49,476 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:19:49,477 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:19:49,485 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.309 seconds (process running for 6.098)
2023-07-04 22:19:49,541 INFO o.e.j.s.Server [Test worker] Stopped Server@6cbad7b3{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:49,541 INFO o.e.j.s.Server [Test worker] Shutdown Server@6cbad7b3{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:49,541 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@77dbb932{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:49,542 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@87f336d{/,null,STOPPED}
2023-07-04 22:19:49,542 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@141cc645{/__admin,null,STOPPED}
2023-07-04 22:19:49,550 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:19:49,551 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@47312528{/__admin,null,AVAILABLE}
2023-07-04 22:19:49,551 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:19:49,551 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6b86a5a4{/,null,AVAILABLE}
2023-07-04 22:19:49,551 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1c81f231{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:49,552 INFO o.e.j.s.Server [Test worker] Started Server@72c55bf{STARTING}[11.0.15,sto=1000] @6164ms
2023-07-04 22:19:49,606 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:19:49,609 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 41566 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:19:49,610 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:19:49,610 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:19:49,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:49,612 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4df0be5e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:49,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:49,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:19:49,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:49,612 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5b4bdee3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:49,752 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:19:49,800 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b8214eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@25c42395, org.springframework.security.web.context.SecurityContextHolderFilter@70cfc5ed, org.springframework.security.web.header.HeaderWriterFilter@7ac9f8d4, org.springframework.security.web.authentication.logout.LogoutFilter@22520d2c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@649f48f6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@56961224, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7dab2645, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@71986020, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4325123b, org.springframework.security.web.session.ConcurrentSessionFilter@7b37d57f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17b9049, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34c1c7ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67189d14, org.springframework.security.web.access.ExceptionTranslationFilter@55f48623, org.springframework.security.web.access.intercept.AuthorizationFilter@2a3d8a59]
2023-07-04 22:19:49,823 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:19:49,823 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:19:49,824 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:19:49,833 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.277 seconds (process running for 6.446)
2023-07-04 22:19:49,852 INFO o.e.j.s.Server [Test worker] Stopped Server@72c55bf{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:49,852 INFO o.e.j.s.Server [Test worker] Shutdown Server@72c55bf{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:49,852 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1c81f231{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:49,852 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6b86a5a4{/,null,STOPPED}
2023-07-04 22:19:49,853 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@47312528{/__admin,null,STOPPED}
2023-07-04 22:19:49,871 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:19:49,886 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:19:49,906 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:19:50,028 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:19:50,215 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:19:50,216 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:19:50,235 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:19:50,264 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:19:50,856 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:19:50,926 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: bea62f32c2aa94876b71efaa590f180444538f011b9c86c01172882c1248f917
2023-07-04 22:19:51,321 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.08408S
2023-07-04 22:19:51,327 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:19:51,327 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:19:51,328 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:19:51,328 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:19:51,360 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2e062c415e016df5bdb5ec9a26d0d36261974a5d751b15853d6548a79ce90da0
2023-07-04 22:19:52,507 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.179481S
2023-07-04 22:19:52,508 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56944/test?loggerLevel=OFF)
2023-07-04 22:19:52,512 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:19:52,513 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@11648d6c{/__admin,null,AVAILABLE}
2023-07-04 22:19:52,514 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:19:52,514 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@50fededc{/,null,AVAILABLE}
2023-07-04 22:19:52,514 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@11d176f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:52,514 INFO o.e.j.s.Server [Test worker] Started Server@24257f51{STARTING}[11.0.15,sto=1000] @9126ms
2023-07-04 22:19:52,553 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:19:52,557 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 41566 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:19:52,557 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:19:52,557 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:19:52,561 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:52,561 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@64eedae0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:52,561 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:52,561 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:19:52,561 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:19:52,561 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@67b12a7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:19:52,621 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:19:52,621 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:19:52,630 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 22:19:52,659 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:19:52,729 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3d68b925
2023-07-04 22:19:52,729 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:19:52,744 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:19:52,779 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:19:52,841 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:19:52,849 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:19:52,911 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:19:52,911 INFO l.util [Test worker] Run:                          5
2023-07-04 22:19:52,911 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:19:52,911 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:19:52,911 INFO l.util [Test worker] -------------------------------
2023-07-04 22:19:52,911 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:19:52,911 INFO l.util [Test worker] Update summary generated
2023-07-04 22:19:52,915 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:19:52,921 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:19:52,922 INFO l.command [Test worker] Command execution complete
2023-07-04 22:19:52,932 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:19:52,937 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:19:52,937 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:19:52,938 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4e10099e
2023-07-04 22:19:52,948 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:19:52,970 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:19:52,973 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:19:52,973 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:19:52,974 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:19:52,974 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:19:52,975 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:19:52,975 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:19:52,976 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:19:52,976 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:19:52,976 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:19:52,976 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:19:52,983 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:19:52,983 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:19:53,048 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.531 seconds (process running for 9.66)
2023-07-04 22:19:53,159 INFO o.e.j.s.Server [Test worker] Stopped Server@24257f51{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:53,159 INFO o.e.j.s.Server [Test worker] Shutdown Server@24257f51{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:53,160 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@11d176f8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:53,160 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@50fededc{/,null,STOPPED}
2023-07-04 22:19:53,160 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@11648d6c{/__admin,null,STOPPED}
2023-07-04 22:19:53,163 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:19:53,164 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:19:53,165 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:19:53,223 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d9695e18471d4119312ee91d4e46ae424cdb793df1670ca5cebb117827d869e2
2023-07-04 22:19:54,477 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.311757S
2023-07-04 22:19:54,477 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56956/test?loggerLevel=OFF)
2023-07-04 22:19:54,480 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:19:54,480 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3c4f0087{/__admin,null,AVAILABLE}
2023-07-04 22:19:54,481 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:19:54,481 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@182ce28a{/,null,AVAILABLE}
2023-07-04 22:19:54,481 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@37389825{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:54,481 INFO o.e.j.s.Server [Test worker] Started Server@25130f26{STARTING}[11.0.15,sto=1000] @11093ms
2023-07-04 22:19:54,514 INFO o.e.j.s.Server [Test worker] Stopped Server@25130f26{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:54,514 INFO o.e.j.s.Server [Test worker] Shutdown Server@25130f26{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:19:54,516 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@37389825{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:19:54,517 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@182ce28a{/,null,STOPPED}
2023-07-04 22:19:54,517 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3c4f0087{/__admin,null,STOPPED}
2023-07-04 22:19:54,661 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:19:54,662 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:19:54,663 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:19:54,673 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:19:54,673 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:19:54,674 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:21:25,731 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:21:25,785 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:21:26,307 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:21:26,320 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1faf386c{/__admin,null,AVAILABLE}
2023-07-04 22:21:26,325 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:21:26,325 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@20a967fe{/,null,AVAILABLE}
2023-07-04 22:21:26,328 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6edf29c1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:26,333 INFO o.e.j.s.Server [Test worker] Started Server@54e12f4c{STARTING}[11.0.15,sto=1000] @1140ms
2023-07-04 22:21:26,657 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:21:26,664 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:21:26,671 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 41845 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:21:26,671 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:21:26,671 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:21:26,684 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:26,684 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2c48cede uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:26,684 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:26,684 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:21:26,684 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:26,684 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4bc9ca97 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:27,020 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:21:27,021 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:21:27,092 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 68 ms. Found 2 JPA repository interfaces.
2023-07-04 22:21:27,103 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:21:27,104 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:21:27,112 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:21:27,112 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:21:27,112 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 22:21:27,247 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:21:27,289 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:21:27,306 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:21:27,444 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:21:27,584 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:21:27,638 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1c41931a
2023-07-04 22:21:27,639 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:21:27,694 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:21:27,756 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:21:27,962 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:21:28,001 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:21:28,006 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:21:28,006 INFO l.util [Test worker] Run:                          0
2023-07-04 22:21:28,006 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:21:28,006 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:21:28,006 INFO l.util [Test worker] -------------------------------
2023-07-04 22:21:28,006 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:21:28,006 INFO l.util [Test worker] Update summary generated
2023-07-04 22:21:28,008 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:21:28,011 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:21:28,011 INFO l.command [Test worker] Command execution complete
2023-07-04 22:21:28,060 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:21:28,090 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:21:28,091 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:21:28,145 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:21:28,210 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:21:28,228 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3d837af7
2023-07-04 22:21:28,329 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:21:28,652 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:21:28,684 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:21:28,685 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:21:28,828 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:21:29,144 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:21:29,189 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:21:29,455 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51e1dffa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6587f977, org.springframework.security.web.context.SecurityContextHolderFilter@352b23dd, org.springframework.security.web.header.HeaderWriterFilter@4ad3f113, org.springframework.security.web.authentication.logout.LogoutFilter@55f77306, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2de77ecf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1d502d6c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@27688fc6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@40383b24, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@76e463d3, org.springframework.security.web.session.ConcurrentSessionFilter@1af1aae9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b8ee649, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d5f010a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b5f49de, org.springframework.security.web.access.ExceptionTranslationFilter@568b7ec6, org.springframework.security.web.access.intercept.AuthorizationFilter@2ea6687b]
2023-07-04 22:21:29,801 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.446 seconds (process running for 4.608)
2023-07-04 22:21:30,100 INFO o.e.j.s.Server [Test worker] Stopped Server@54e12f4c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:30,100 INFO o.e.j.s.Server [Test worker] Shutdown Server@54e12f4c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:30,102 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6edf29c1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:30,103 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@20a967fe{/,null,STOPPED}
2023-07-04 22:21:30,103 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1faf386c{/__admin,null,STOPPED}
2023-07-04 22:21:30,428 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:21:30,429 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3ecfc685{/__admin,null,AVAILABLE}
2023-07-04 22:21:30,429 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:21:30,429 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@16fdbb17{/,null,AVAILABLE}
2023-07-04 22:21:30,429 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@55f02b32{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:30,430 INFO o.e.j.s.Server [Test worker] Started Server@301f6e51{STARTING}[11.0.15,sto=1000] @5237ms
2023-07-04 22:21:30,502 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:21:30,504 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 41845 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:21:30,504 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:21:30,504 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:21:30,506 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:30,506 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56b0f44f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:30,506 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:30,506 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:21:30,506 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:30,506 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e9feb92 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:30,704 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:21:30,708 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:21:30,793 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@a5b556e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3714571c, org.springframework.security.web.context.SecurityContextHolderFilter@2f7cbd63, org.springframework.security.web.header.HeaderWriterFilter@2a76555a, org.springframework.security.web.authentication.logout.LogoutFilter@747348f1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7878a158, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@16a24a66, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1415d4ca, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2b722f9c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@33e1cae2, org.springframework.security.web.session.ConcurrentSessionFilter@51b8d7f1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24a63de5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ce270ae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@968ebd0, org.springframework.security.web.access.ExceptionTranslationFilter@ab02c2d, org.springframework.security.web.access.intercept.AuthorizationFilter@610febe5]
2023-07-04 22:21:30,833 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:21:30,833 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:21:30,834 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:21:30,898 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.466 seconds (process running for 5.705)
2023-07-04 22:21:31,049 INFO o.e.j.s.Server [Test worker] Stopped Server@301f6e51{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:31,049 INFO o.e.j.s.Server [Test worker] Shutdown Server@301f6e51{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:31,049 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@55f02b32{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:31,050 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@16fdbb17{/,null,STOPPED}
2023-07-04 22:21:31,050 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3ecfc685{/__admin,null,STOPPED}
2023-07-04 22:21:31,062 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:21:31,063 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@508ea8c7{/__admin,null,AVAILABLE}
2023-07-04 22:21:31,065 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:21:31,065 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57c13d0e{/,null,AVAILABLE}
2023-07-04 22:21:31,065 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6445647{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:31,065 INFO o.e.j.s.Server [Test worker] Started Server@38bfb17a{STARTING}[11.0.15,sto=1000] @5873ms
2023-07-04 22:21:31,115 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:21:31,116 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 41845 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:21:31,116 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:21:31,116 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:21:31,119 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:31,119 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@44c639d4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:31,119 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:31,119 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:21:31,119 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:31,119 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6edd2ef4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:31,267 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:21:31,270 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:21:31,341 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1a5c6b3e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54eabbdf, org.springframework.security.web.context.SecurityContextHolderFilter@3bb27579, org.springframework.security.web.header.HeaderWriterFilter@21c1fb2e, org.springframework.security.web.authentication.logout.LogoutFilter@343047c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4fe03311, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@549bae75, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6cf14dc3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58337c20, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5d0b5f31, org.springframework.security.web.session.ConcurrentSessionFilter@6a34aaec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@39a95375, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@171fd7e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3b729e06, org.springframework.security.web.access.ExceptionTranslationFilter@7fdfa8c2, org.springframework.security.web.access.intercept.AuthorizationFilter@291be813]
2023-07-04 22:21:31,365 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:21:31,365 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:21:31,366 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:21:31,373 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.306 seconds (process running for 6.18)
2023-07-04 22:21:31,428 INFO o.e.j.s.Server [Test worker] Stopped Server@38bfb17a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:31,428 INFO o.e.j.s.Server [Test worker] Shutdown Server@38bfb17a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:31,429 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6445647{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:31,430 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57c13d0e{/,null,STOPPED}
2023-07-04 22:21:31,430 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@508ea8c7{/__admin,null,STOPPED}
2023-07-04 22:21:31,437 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:21:31,438 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d756c41{/__admin,null,AVAILABLE}
2023-07-04 22:21:31,438 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:21:31,438 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3209eb{/,null,AVAILABLE}
2023-07-04 22:21:31,438 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6f815a8e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:31,438 INFO o.e.j.s.Server [Test worker] Started Server@214c97e1{STARTING}[11.0.15,sto=1000] @6246ms
2023-07-04 22:21:31,482 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:21:31,484 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 41845 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:21:31,484 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:21:31,484 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:21:31,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:31,485 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@78bc7456 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:31,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:31,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:21:31,485 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:31,485 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e51ac41 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:31,626 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:21:31,671 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2bcb8c82, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@466a5285, org.springframework.security.web.context.SecurityContextHolderFilter@1dd1a777, org.springframework.security.web.header.HeaderWriterFilter@5080dc92, org.springframework.security.web.authentication.logout.LogoutFilter@732b3b00, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@73b3dfe9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@59ea19a4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58703290, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6373f5de, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4fc454d5, org.springframework.security.web.session.ConcurrentSessionFilter@236d434f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cff9bb2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2acdacf3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16790b0f, org.springframework.security.web.access.ExceptionTranslationFilter@3d8b888f, org.springframework.security.web.access.intercept.AuthorizationFilter@486765f1]
2023-07-04 22:21:31,692 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:21:31,692 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:21:31,692 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:21:31,701 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.261 seconds (process running for 6.508)
2023-07-04 22:21:31,718 INFO o.e.j.s.Server [Test worker] Stopped Server@214c97e1{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:31,718 INFO o.e.j.s.Server [Test worker] Shutdown Server@214c97e1{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:31,718 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6f815a8e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:31,719 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3209eb{/,null,STOPPED}
2023-07-04 22:21:31,719 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d756c41{/__admin,null,STOPPED}
2023-07-04 22:21:31,738 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:21:31,746 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:21:31,752 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:21:31,759 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2c4a78dd{/__admin,null,AVAILABLE}
2023-07-04 22:21:31,759 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:21:31,759 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2f2e38a7{/,null,AVAILABLE}
2023-07-04 22:21:31,759 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@42f16e74{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:31,759 INFO o.e.j.s.Server [Test worker] Started Server@63b21c1d{STARTING}[11.0.15,sto=1000] @6567ms
2023-07-04 22:21:31,776 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:21:31,878 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:21:32,076 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:21:32,077 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:21:32,095 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:21:32,129 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:21:32,732 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:21:32,804 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 5a1a9489436dec4c6c5348462a425208c2e9a6e67496b2f215a4aaf5e643fe33
2023-07-04 22:21:33,177 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.079177S
2023-07-04 22:21:33,182 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:21:33,182 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:21:33,183 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:21:33,183 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:21:33,214 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d7c50eb209abb5e134f465a678fccb7b9e6581e148a663b8aa647517db3f0dc4
2023-07-04 22:21:34,366 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.182891S
2023-07-04 22:21:34,366 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56981/test?loggerLevel=OFF)
2023-07-04 22:21:34,405 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:21:34,407 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 41845 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:21:34,407 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:21:34,407 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:21:34,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:34,408 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@25e0047c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:34,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:34,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:21:34,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:34,408 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@99d19d6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:34,461 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:21:34,461 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:21:34,469 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-04 22:21:34,494 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:21:34,549 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3102ccd1
2023-07-04 22:21:34,550 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:21:34,558 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:21:34,595 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:21:34,658 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:21:34,665 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:21:34,723 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:21:34,723 INFO l.util [Test worker] Run:                          5
2023-07-04 22:21:34,723 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:21:34,723 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:21:34,723 INFO l.util [Test worker] -------------------------------
2023-07-04 22:21:34,723 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:21:34,723 INFO l.util [Test worker] Update summary generated
2023-07-04 22:21:34,726 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:21:34,733 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:21:34,734 INFO l.command [Test worker] Command execution complete
2023-07-04 22:21:34,743 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:21:34,747 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:21:34,747 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:21:34,748 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@a468be8
2023-07-04 22:21:34,759 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:21:34,780 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:21:34,782 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:34,782 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:21:34,783 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:34,783 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:21:34,784 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:34,784 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:21:34,785 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:34,785 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:21:34,786 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:34,786 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:21:34,793 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:21:34,793 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:21:34,864 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.495 seconds (process running for 9.671)
2023-07-04 22:21:34,975 INFO o.e.j.s.Server [Test worker] Stopped Server@63b21c1d{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:34,975 INFO o.e.j.s.Server [Test worker] Shutdown Server@63b21c1d{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:34,976 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@42f16e74{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:34,976 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2f2e38a7{/,null,STOPPED}
2023-07-04 22:21:34,976 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2c4a78dd{/__admin,null,STOPPED}
2023-07-04 22:21:34,978 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:21:34,980 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:21:34,982 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:21:34,983 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@75b05370{/__admin,null,AVAILABLE}
2023-07-04 22:21:34,984 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:21:34,984 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e491e95{/,null,AVAILABLE}
2023-07-04 22:21:34,984 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cc4aa3d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:34,984 INFO o.e.j.s.Server [Test worker] Started Server@31b7d7d0{STARTING}[11.0.15,sto=1000] @9792ms
2023-07-04 22:21:34,985 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:21:35,025 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 6b226a2a9d0121b815550afb01ca7250ac8d823ae0f3a3cef462f2854a87f95c
2023-07-04 22:21:36,150 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.16556S
2023-07-04 22:21:36,150 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:56993/test?loggerLevel=OFF)
2023-07-04 22:21:36,180 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:21:36,182 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 41845 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:21:36,182 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:21:36,182 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:21:36,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:36,183 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2eb4d9ee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:36,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:36,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:21:36,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:21:36,183 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4339a3ca uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:21:36,226 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:21:36,226 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:21:36,233 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-04 22:21:36,251 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-07-04 22:21:36,284 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@46c09081
2023-07-04 22:21:36,284 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-07-04 22:21:36,293 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:21:36,311 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:21:36,342 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:21:36,346 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:21:36,366 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:21:36,367 INFO l.util [Test worker] Run:                          5
2023-07-04 22:21:36,367 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:21:36,367 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:21:36,367 INFO l.util [Test worker] -------------------------------
2023-07-04 22:21:36,367 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:21:36,367 INFO l.util [Test worker] Update summary generated
2023-07-04 22:21:36,370 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:21:36,375 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:21:36,376 INFO l.command [Test worker] Command execution complete
2023-07-04 22:21:36,384 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:21:36,387 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:21:36,388 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:21:36,388 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3879ed80
2023-07-04 22:21:36,397 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:21:36,419 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:21:36,420 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:36,420 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:21:36,420 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:36,420 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:21:36,421 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:36,421 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:21:36,422 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:36,422 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:21:36,422 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:21:36,422 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:21:36,430 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:21:36,430 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:21:36,476 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Started NewsPostgresQLRepositoryTest in 0.324 seconds (process running for 11.284)
2023-07-04 22:21:36,512 INFO o.e.j.s.Server [Test worker] Stopped Server@31b7d7d0{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:36,512 INFO o.e.j.s.Server [Test worker] Shutdown Server@31b7d7d0{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:21:36,513 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cc4aa3d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:21:36,514 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e491e95{/,null,STOPPED}
2023-07-04 22:21:36,514 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@75b05370{/__admin,null,STOPPED}
2023-07-04 22:21:36,667 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:21:36,668 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:21:36,668 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:21:36,677 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:21:36,677 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:21:36,678 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:21:36,678 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:21:36,678 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-3 - Shutdown initiated...
2023-07-04 22:21:36,704 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-3 - Shutdown completed.
2023-07-04 22:23:54,448 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:23:54,497 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:23:55,087 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:23:55,100 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:23:55,105 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:23:55,106 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:23:55,110 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:23:55,115 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @1201ms
2023-07-04 22:23:55,429 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:23:55,435 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:23:55,444 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 42208 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:23:55,444 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:23:55,444 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:23:55,457 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:23:55,457 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:23:55,457 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:23:55,457 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:23:55,457 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:23:55,457 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:23:55,808 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:23:55,808 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:23:55,879 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 67 ms. Found 2 JPA repository interfaces.
2023-07-04 22:23:55,888 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:23:55,889 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:23:55,897 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:23:55,897 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:23:55,897 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 22:23:56,035 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:23:56,080 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:23:56,101 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:23:56,242 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:23:56,380 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:23:56,434 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62cb977a
2023-07-04 22:23:56,435 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:23:56,505 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:23:56,570 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:23:56,781 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:23:56,828 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:23:56,831 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:23:56,832 INFO l.util [Test worker] Run:                          0
2023-07-04 22:23:56,832 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:23:56,832 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:23:56,832 INFO l.util [Test worker] -------------------------------
2023-07-04 22:23:56,832 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:23:56,832 INFO l.util [Test worker] Update summary generated
2023-07-04 22:23:56,834 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:23:56,836 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:23:56,836 INFO l.command [Test worker] Command execution complete
2023-07-04 22:23:56,882 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:23:56,913 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:23:56,914 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:23:56,968 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:23:57,027 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:23:57,045 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@446dc997
2023-07-04 22:23:57,148 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:23:57,466 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:23:57,511 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:23:57,512 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:23:57,663 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:23:57,971 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:23:58,023 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:23:58,289 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b5f49de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@749e4d40, org.springframework.security.web.context.SecurityContextHolderFilter@71daf5d6, org.springframework.security.web.header.HeaderWriterFilter@1571a63a, org.springframework.security.web.authentication.logout.LogoutFilter@176b3279, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@226715da, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3460165f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@28c776f2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2d6dbcec, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2e884ee5, org.springframework.security.web.session.ConcurrentSessionFilter@2876584f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@714f1dc4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@778c5658, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7b274a1c, org.springframework.security.web.access.ExceptionTranslationFilter@2181e6b6, org.springframework.security.web.access.intercept.AuthorizationFilter@5ee29735]
2023-07-04 22:23:58,667 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.53 seconds (process running for 4.754)
2023-07-04 22:23:58,967 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:23:58,967 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:23:58,969 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:23:58,970 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:23:58,970 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:23:59,318 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:23:59,318 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@d54cc0b{/__admin,null,AVAILABLE}
2023-07-04 22:23:59,319 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:23:59,319 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@10eb1307{/,null,AVAILABLE}
2023-07-04 22:23:59,319 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2b126bbe{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:23:59,319 INFO o.e.j.s.Server [Test worker] Started Server@24fb7b1{STARTING}[11.0.15,sto=1000] @5406ms
2023-07-04 22:23:59,395 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:23:59,397 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 42208 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:23:59,397 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:23:59,398 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:23:59,400 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:23:59,400 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58d5bdb0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:23:59,400 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:23:59,400 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:23:59,400 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:23:59,400 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41621744 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:23:59,605 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:23:59,609 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:23:59,703 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@968ebd0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59c82fb6, org.springframework.security.web.context.SecurityContextHolderFilter@2b722f9c, org.springframework.security.web.header.HeaderWriterFilter@24a63de5, org.springframework.security.web.authentication.logout.LogoutFilter@7878a158, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@a5b556e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3714571c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@33e1cae2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5b3b21d1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4c712f24, org.springframework.security.web.session.ConcurrentSessionFilter@3ce270ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61af0834, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@747348f1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@717a5a92, org.springframework.security.web.access.ExceptionTranslationFilter@2f7cbd63, org.springframework.security.web.access.intercept.AuthorizationFilter@1415d4ca]
2023-07-04 22:23:59,758 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:23:59,759 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:23:59,759 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:23:59,823 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.501 seconds (process running for 5.909)
2023-07-04 22:24:00,000 INFO o.e.j.s.Server [Test worker] Stopped Server@24fb7b1{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:00,000 INFO o.e.j.s.Server [Test worker] Shutdown Server@24fb7b1{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:00,001 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2b126bbe{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:00,001 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@10eb1307{/,null,STOPPED}
2023-07-04 22:24:00,001 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@d54cc0b{/__admin,null,STOPPED}
2023-07-04 22:24:00,018 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:00,019 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@26e197cd{/__admin,null,AVAILABLE}
2023-07-04 22:24:00,020 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:00,020 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7aee9f49{/,null,AVAILABLE}
2023-07-04 22:24:00,020 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4a6b5ace{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:00,020 INFO o.e.j.s.Server [Test worker] Started Server@508189cc{STARTING}[11.0.15,sto=1000] @6107ms
2023-07-04 22:24:00,072 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:00,075 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 42208 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:00,075 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:00,075 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:00,077 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:00,077 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2d8d2832 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:00,077 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:00,077 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:00,077 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:00,077 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2ea8611b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:00,223 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:24:00,226 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:24:00,299 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b729e06, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@420e17cd, org.springframework.security.web.context.SecurityContextHolderFilter@58337c20, org.springframework.security.web.header.HeaderWriterFilter@39a95375, org.springframework.security.web.authentication.logout.LogoutFilter@4fe03311, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1a5c6b3e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@54eabbdf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5d0b5f31, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6a0a5b0e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@433b7810, org.springframework.security.web.session.ConcurrentSessionFilter@171fd7e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7082d3e2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@343047c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44ce4591, org.springframework.security.web.access.ExceptionTranslationFilter@3bb27579, org.springframework.security.web.access.intercept.AuthorizationFilter@6cf14dc3]
2023-07-04 22:24:00,326 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:24:00,326 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:24:00,326 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:24:00,335 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.313 seconds (process running for 6.421)
2023-07-04 22:24:00,392 INFO o.e.j.s.Server [Test worker] Stopped Server@508189cc{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:00,392 INFO o.e.j.s.Server [Test worker] Shutdown Server@508189cc{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:00,393 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4a6b5ace{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:00,393 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7aee9f49{/,null,STOPPED}
2023-07-04 22:24:00,394 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@26e197cd{/__admin,null,STOPPED}
2023-07-04 22:24:00,402 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:00,402 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@47161ae4{/__admin,null,AVAILABLE}
2023-07-04 22:24:00,402 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:00,402 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@654ca409{/,null,AVAILABLE}
2023-07-04 22:24:00,403 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@63ca44ce{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:00,403 INFO o.e.j.s.Server [Test worker] Started Server@5eee2617{STARTING}[11.0.15,sto=1000] @6489ms
2023-07-04 22:24:00,440 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:00,442 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 42208 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:00,442 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:00,442 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:00,444 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:00,444 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ecd59a3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:00,444 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:00,444 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:00,444 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:00,444 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b93b86b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:00,587 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:24:00,635 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16790b0f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61a13ade, org.springframework.security.web.context.SecurityContextHolderFilter@6373f5de, org.springframework.security.web.header.HeaderWriterFilter@7cff9bb2, org.springframework.security.web.authentication.logout.LogoutFilter@73b3dfe9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2bcb8c82, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@466a5285, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4fc454d5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3446bba2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@75cbb215, org.springframework.security.web.session.ConcurrentSessionFilter@2acdacf3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73090cd8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@732b3b00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18c43285, org.springframework.security.web.access.ExceptionTranslationFilter@1dd1a777, org.springframework.security.web.access.intercept.AuthorizationFilter@58703290]
2023-07-04 22:24:00,658 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:24:00,658 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:24:00,658 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:24:00,668 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.264 seconds (process running for 6.755)
2023-07-04 22:24:00,687 INFO o.e.j.s.Server [Test worker] Stopped Server@5eee2617{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:00,687 INFO o.e.j.s.Server [Test worker] Shutdown Server@5eee2617{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:00,687 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@63ca44ce{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:00,687 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@654ca409{/,null,STOPPED}
2023-07-04 22:24:00,688 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@47161ae4{/__admin,null,STOPPED}
2023-07-04 22:24:00,707 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:24:00,720 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:24:00,725 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:00,726 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4614ce7c{/__admin,null,AVAILABLE}
2023-07-04 22:24:00,726 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:00,726 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5cde2f06{/,null,AVAILABLE}
2023-07-04 22:24:00,726 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3433da8f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:00,726 INFO o.e.j.s.Server [Test worker] Started Server@583608bc{STARTING}[11.0.15,sto=1000] @6813ms
2023-07-04 22:24:00,744 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:24:00,848 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:24:01,066 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:24:01,067 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:24:01,123 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:24:01,145 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:24:02,022 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:24:02,097 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 7531f084a9618c8789603ba52b8e2b9d4ec6e729e14e00550662927787f649aa
2023-07-04 22:24:02,677 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.550719S
2023-07-04 22:24:02,681 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:24:02,681 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:24:02,681 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:24:02,681 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:24:02,711 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ceb14da145f797836557590d1750ee8e503fe069b2c2e74088352ec356792b69
2023-07-04 22:24:03,838 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.156522S
2023-07-04 22:24:03,839 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57025/test?loggerLevel=OFF)
2023-07-04 22:24:03,885 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:03,888 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 42208 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:03,888 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:03,888 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:03,889 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:03,889 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7408e122 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:03,889 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:03,889 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:03,889 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:03,889 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6d223cb2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:03,944 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:24:03,944 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:24:03,952 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-04 22:24:03,983 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:24:04,032 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@12b4dc17
2023-07-04 22:24:04,032 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:24:04,040 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:24:04,076 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:24:04,139 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:24:04,143 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:24:04,201 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:24:04,202 INFO l.util [Test worker] Run:                          5
2023-07-04 22:24:04,202 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:24:04,202 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:24:04,202 INFO l.util [Test worker] -------------------------------
2023-07-04 22:24:04,202 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:24:04,202 INFO l.util [Test worker] Update summary generated
2023-07-04 22:24:04,207 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:24:04,220 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:24:04,224 INFO l.command [Test worker] Command execution complete
2023-07-04 22:24:04,239 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:24:04,242 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:24:04,243 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:24:04,243 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@307d7622
2023-07-04 22:24:04,253 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:24:04,278 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:24:04,280 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:24:04,280 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-07-04 22:24:04,282 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:24:04,282 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-07-04 22:24:04,282 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:24:04,283 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-07-04 22:24:04,283 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:24:04,283 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "comment_seq" does not exist, skipping
2023-07-04 22:24:04,284 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-07-04 22:24:04,284 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] sequence "news_seq" does not exist, skipping
2023-07-04 22:24:04,302 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-04 22:24:04,302 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:24:04,371 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.53 seconds (process running for 10.457)
2023-07-04 22:24:04,473 INFO o.e.j.s.Server [Test worker] Stopped Server@583608bc{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:04,473 INFO o.e.j.s.Server [Test worker] Shutdown Server@583608bc{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:04,474 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3433da8f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:04,474 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5cde2f06{/,null,STOPPED}
2023-07-04 22:24:04,474 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4614ce7c{/__admin,null,STOPPED}
2023-07-04 22:24:04,476 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:24:04,478 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:24:04,481 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:04,482 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@33481fbe{/__admin,null,AVAILABLE}
2023-07-04 22:24:04,482 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:04,482 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@c3e363{/,null,AVAILABLE}
2023-07-04 22:24:04,482 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@63972697{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:04,482 INFO o.e.j.s.Server [Test worker] Started Server@60135b59{STARTING}[11.0.15,sto=1000] @10569ms
2023-07-04 22:24:04,483 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:24:04,516 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 382552a6428eeac998ca383dbe30b36e6cc8302789f37387140bfe8ee0af00b8
2023-07-04 22:24:05,639 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.156019S
2023-07-04 22:24:05,639 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57037/test?loggerLevel=OFF)
2023-07-04 22:24:05,668 INFO o.e.j.s.Server [Test worker] Stopped Server@60135b59{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:05,668 INFO o.e.j.s.Server [Test worker] Shutdown Server@60135b59{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:05,668 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@63972697{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:05,669 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@c3e363{/,null,STOPPED}
2023-07-04 22:24:05,669 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@33481fbe{/__admin,null,STOPPED}
2023-07-04 22:24:05,846 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:24:05,847 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:24:05,848 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:24:05,858 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:24:05,858 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:24:05,858 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:24:23,136 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:24:23,189 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:24:23,537 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:23,547 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:24:23,550 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:23,550 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:24:23,554 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:23,559 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @937ms
2023-07-04 22:24:23,876 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:24:23,882 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:23,892 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 42357 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:23,892 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:23,892 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:23,905 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:23,905 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:23,905 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:23,905 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:23,905 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:23,905 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:24,256 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:24:24,257 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:24:24,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 66 ms. Found 2 JPA repository interfaces.
2023-07-04 22:24:24,334 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:24:24,335 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:24:24,343 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:24:24,343 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:24:24,343 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-04 22:24:24,469 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:24:24,516 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:24:24,534 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:24:24,673 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:24:24,815 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:24:24,868 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62cb977a
2023-07-04 22:24:24,869 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:24:24,950 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:24:25,009 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:24:25,198 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:24:25,245 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:24:25,250 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:24:25,250 INFO l.util [Test worker] Run:                          0
2023-07-04 22:24:25,250 INFO l.util [Test worker] Previously run:               5
2023-07-04 22:24:25,250 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:24:25,250 INFO l.util [Test worker] -------------------------------
2023-07-04 22:24:25,250 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:24:25,251 INFO l.util [Test worker] Update summary generated
2023-07-04 22:24:25,252 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:24:25,257 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:24:25,258 INFO l.command [Test worker] Command execution complete
2023-07-04 22:24:25,306 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:24:25,334 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:24:25,335 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:24:25,388 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:24:25,443 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:24:25,463 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@446dc997
2023-07-04 22:24:25,566 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:24:25,894 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:24:25,944 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:24:26,100 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:24:26,416 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-04 22:24:26,465 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:24:26,741 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@41eab601, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f0695ae, org.springframework.security.web.context.SecurityContextHolderFilter@6c4d3ccc, org.springframework.security.web.header.HeaderWriterFilter@2ea6687b, org.springframework.security.web.authentication.logout.LogoutFilter@2a67ed1f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@74873b07, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3c72031c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24d815da, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d502d6c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5973e4ec, org.springframework.security.web.session.ConcurrentSessionFilter@2375fe4a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7eb0c144, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@352e8cb3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ed99447, org.springframework.security.web.access.ExceptionTranslationFilter@796a1cd1, org.springframework.security.web.access.intercept.AuthorizationFilter@2aea50a6]
2023-07-04 22:24:27,089 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 3.508 seconds (process running for 4.467)
2023-07-04 22:24:27,388 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:27,388 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:27,390 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:27,391 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:24:27,391 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:24:27,716 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:27,717 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1f36bed9{/__admin,null,AVAILABLE}
2023-07-04 22:24:27,718 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:27,718 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@25af5c7f{/,null,AVAILABLE}
2023-07-04 22:24:27,718 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5ba34ac0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:27,718 INFO o.e.j.s.Server [Test worker] Started Server@5ea46e79{STARTING}[11.0.15,sto=1000] @5096ms
2023-07-04 22:24:27,794 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:27,797 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 42357 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:27,798 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:27,798 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:27,800 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:27,800 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16974b24 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:27,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:27,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:27,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:27,801 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48f1968e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:28,011 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:24:28,014 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:24:28,111 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44f464d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@393a535, org.springframework.security.web.context.SecurityContextHolderFilter@343cb1af, org.springframework.security.web.header.HeaderWriterFilter@79b3937a, org.springframework.security.web.authentication.logout.LogoutFilter@700a8854, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4a86103, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@20c411ea, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@76669d13, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@907a731, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@358afec, org.springframework.security.web.session.ConcurrentSessionFilter@7756d3ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2dc0a0a7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@480dce26, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41143491, org.springframework.security.web.access.ExceptionTranslationFilter@9320aed, org.springframework.security.web.access.intercept.AuthorizationFilter@62da0f49]
2023-07-04 22:24:28,148 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:24:28,149 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:24:28,149 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:24:28,210 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.49 seconds (process running for 5.588)
2023-07-04 22:24:28,365 INFO o.e.j.s.Server [Test worker] Stopped Server@5ea46e79{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:28,366 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ea46e79{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:28,366 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5ba34ac0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:28,366 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@25af5c7f{/,null,STOPPED}
2023-07-04 22:24:28,367 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1f36bed9{/__admin,null,STOPPED}
2023-07-04 22:24:28,378 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:28,380 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@27320a39{/__admin,null,AVAILABLE}
2023-07-04 22:24:28,380 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:28,380 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5f546133{/,null,AVAILABLE}
2023-07-04 22:24:28,381 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@22489e92{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:28,381 INFO o.e.j.s.Server [Test worker] Started Server@6d425496{STARTING}[11.0.15,sto=1000] @5759ms
2023-07-04 22:24:28,433 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:28,434 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 42357 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:28,434 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:28,434 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:28,436 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:28,436 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@62b0a58b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:28,436 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:28,436 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:28,436 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:28,436 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@480a3ffc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:28,576 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:24:28,578 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:24:28,645 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@31429a0a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@119ec2e4, org.springframework.security.web.context.SecurityContextHolderFilter@3b69ad19, org.springframework.security.web.header.HeaderWriterFilter@cf0d241, org.springframework.security.web.authentication.logout.LogoutFilter@4568499e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5cef8264, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5bcc14de, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3aa6fef3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@28e8c2d6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2acf4eed, org.springframework.security.web.session.ConcurrentSessionFilter@678cf97e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22c73577, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28af99b4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27937c21, org.springframework.security.web.access.ExceptionTranslationFilter@eb2f0ab, org.springframework.security.web.access.intercept.AuthorizationFilter@7fce8421]
2023-07-04 22:24:28,669 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:24:28,669 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:24:28,669 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:24:28,676 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.293 seconds (process running for 6.054)
2023-07-04 22:24:28,729 INFO o.e.j.s.Server [Test worker] Stopped Server@6d425496{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:28,729 INFO o.e.j.s.Server [Test worker] Shutdown Server@6d425496{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:28,730 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@22489e92{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:28,730 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5f546133{/,null,STOPPED}
2023-07-04 22:24:28,730 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@27320a39{/__admin,null,STOPPED}
2023-07-04 22:24:28,738 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:28,739 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37107ea0{/__admin,null,AVAILABLE}
2023-07-04 22:24:28,739 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:28,739 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d44788b{/,null,AVAILABLE}
2023-07-04 22:24:28,739 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@27684bf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:28,739 INFO o.e.j.s.Server [Test worker] Started Server@2a750d3a{STARTING}[11.0.15,sto=1000] @6118ms
2023-07-04 22:24:28,784 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:28,785 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 42357 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:28,786 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:28,786 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:28,787 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:28,787 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7cf4a9fb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:28,787 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:28,787 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:28,787 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:28,787 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5c48981a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:28,925 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:24:28,968 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c96f850, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@484ab2dc, org.springframework.security.web.context.SecurityContextHolderFilter@7f762353, org.springframework.security.web.header.HeaderWriterFilter@34c1c7ea, org.springframework.security.web.authentication.logout.LogoutFilter@56961224, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@25c42395, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4325123b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@67189d14, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2a3d8a59, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2315d524, org.springframework.security.web.session.ConcurrentSessionFilter@71986020, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22520d2c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1816701b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@461c6f, org.springframework.security.web.access.ExceptionTranslationFilter@17b9049, org.springframework.security.web.access.intercept.AuthorizationFilter@3b8214eb]
2023-07-04 22:24:28,988 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:24:28,988 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:24:28,989 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:24:28,997 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.256 seconds (process running for 6.375)
2023-07-04 22:24:29,014 INFO o.e.j.s.Server [Test worker] Stopped Server@2a750d3a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:29,014 INFO o.e.j.s.Server [Test worker] Shutdown Server@2a750d3a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:29,015 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@27684bf{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:29,015 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d44788b{/,null,STOPPED}
2023-07-04 22:24:29,015 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37107ea0{/__admin,null,STOPPED}
2023-07-04 22:24:29,034 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:24:29,056 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:24:29,066 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:29,067 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4efd93ee{/__admin,null,AVAILABLE}
2023-07-04 22:24:29,067 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:29,067 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7b07ef24{/,null,AVAILABLE}
2023-07-04 22:24:29,067 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f65a00e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:29,067 INFO o.e.j.s.Server [Test worker] Started Server@7aafe7b8{STARTING}[11.0.15,sto=1000] @6446ms
2023-07-04 22:24:29,083 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:24:29,180 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:24:29,384 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:24:29,385 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:24:29,401 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:24:29,423 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:24:30,031 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:24:30,087 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 2300962788ee47c5e6186c9184c21547733da5d2ffdfccbfe995b7897f8cba4b
2023-07-04 22:24:30,457 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.052938S
2023-07-04 22:24:30,461 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:24:30,461 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:24:30,461 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:24:30,461 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:24:30,487 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 61e9d97d25632355c42f411c61aad1a45400c95dd34714a702ded3dbbeb9cc4b
2023-07-04 22:24:31,647 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.185236S
2023-07-04 22:24:31,647 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57058/test?loggerLevel=OFF)
2023-07-04 22:24:31,689 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:24:31,695 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 42357 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:24:31,695 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:24:31,696 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:24:31,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:31,699 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74b3f968 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:31,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:31,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:24:31,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:24:31,699 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9086215 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:24:31,753 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:24:31,754 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:24:31,764 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-04 22:24:31,801 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-04 22:24:31,867 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@620e5544
2023-07-04 22:24:31,867 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-04 22:24:31,882 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:24:31,913 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:24:31,975 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:24:31,981 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:24:32,056 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:24:32,056 INFO l.util [Test worker] Run:                          5
2023-07-04 22:24:32,056 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:24:32,056 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:24:32,056 INFO l.util [Test worker] -------------------------------
2023-07-04 22:24:32,056 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:24:32,056 INFO l.util [Test worker] Update summary generated
2023-07-04 22:24:32,060 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:24:32,067 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:24:32,068 INFO l.command [Test worker] Command execution complete
2023-07-04 22:24:32,078 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:24:32,082 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:24:32,082 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:24:32,083 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@460064f9
2023-07-04 22:24:32,099 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:24:32,122 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:24:32,145 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:24:32,221 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.571 seconds (process running for 9.6)
2023-07-04 22:24:32,318 INFO o.e.j.s.Server [Test worker] Stopped Server@7aafe7b8{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:32,318 INFO o.e.j.s.Server [Test worker] Shutdown Server@7aafe7b8{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:32,319 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f65a00e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:32,319 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7b07ef24{/,null,STOPPED}
2023-07-04 22:24:32,319 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4efd93ee{/__admin,null,STOPPED}
2023-07-04 22:24:32,322 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:24:32,324 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:24:32,326 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:24:32,327 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@72e48a21{/__admin,null,AVAILABLE}
2023-07-04 22:24:32,328 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:24:32,328 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@645494c5{/,null,AVAILABLE}
2023-07-04 22:24:32,328 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@76e87fa0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:32,328 INFO o.e.j.s.Server [Test worker] Started Server@323d09e7{STARTING}[11.0.15,sto=1000] @9707ms
2023-07-04 22:24:32,329 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:24:32,368 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 2c2ebef4a8a0b1b84c2a22b6d522697d2a64b108f59a1da4e8866168c817e4c0
2023-07-04 22:24:33,493 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.164453S
2023-07-04 22:24:33,493 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57070/test?loggerLevel=OFF)
2023-07-04 22:24:33,530 INFO o.e.j.s.Server [Test worker] Stopped Server@323d09e7{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:33,530 INFO o.e.j.s.Server [Test worker] Shutdown Server@323d09e7{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:24:33,530 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@76e87fa0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:24:33,531 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@645494c5{/,null,STOPPED}
2023-07-04 22:24:33,531 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@72e48a21{/__admin,null,STOPPED}
2023-07-04 22:24:33,680 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:24:33,681 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:24:33,682 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:24:33,691 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:24:33,691 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-04 22:24:33,691 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-04 22:25:36,228 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:25:36,282 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-04 22:25:36,632 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:25:36,641 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,AVAILABLE}
2023-07-04 22:25:36,645 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:25:36,645 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@405b6d75{/,null,AVAILABLE}
2023-07-04 22:25:36,648 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:36,654 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @947ms
2023-07-04 22:25:37,047 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:25:37,054 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:25:37,060 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 42586 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:25:37,060 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:25:37,060 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:25:37,073 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:37,073 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@39c87b42 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:37,073 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:37,073 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:25:37,073 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:37,073 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e43f049 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:37,419 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:25:37,420 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:25:37,487 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 64 ms. Found 2 JPA repository interfaces.
2023-07-04 22:25:37,496 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:25:37,496 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-04 22:25:37,504 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:25:37,504 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-04 22:25:37,504 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-04 22:25:37,638 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=858eeade-bb80-3814-a067-3756e9289ce0
2023-07-04 22:25:37,686 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:25:37,705 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-04 22:25:37,842 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-04 22:25:37,953 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
2023-07-04 22:25:37,965 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-04 22:25:37,973 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active).

2023-07-04 22:25:37,975 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.NewsManagerApplicationTests@57777c23]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@1f602930 testClass = ru.clevertec.NewsManager.NewsManagerApplicationTests, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@6c4f9535, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@499b2a5c, org.springframework.boot.test.context.SpringBootTestAnnotation@50c0a59f], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 113 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 114 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 132 common frames omitted
Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class
	at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:186)
	at org.springframework.boot.autoconfigure.jdbc.PropertiesJdbcConnectionDetails.getDriverClassName(PropertiesJdbcConnectionDetails.java:49)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:55)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 133 common frames omitted
2023-07-04 22:25:37,987 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:37,987 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:37,989 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:37,990 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@405b6d75{/,null,STOPPED}
2023-07-04 22:25:37,990 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4debbf0{/__admin,null,STOPPED}
2023-07-04 22:25:38,701 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:25:38,702 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2b0483f2{/__admin,null,AVAILABLE}
2023-07-04 22:25:38,702 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:25:38,702 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5be783a{/,null,AVAILABLE}
2023-07-04 22:25:38,703 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4163f505{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:38,703 INFO o.e.j.s.Server [Test worker] Started Server@1e40edb7{STARTING}[11.0.15,sto=1000] @2996ms
2023-07-04 22:25:38,777 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:25:38,782 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 42586 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:25:38,782 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:25:38,782 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:25:38,784 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:38,784 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@548e70f0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:38,784 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:38,784 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:25:38,784 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:38,784 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@8ba7408 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:39,001 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:25:39,007 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:25:39,335 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6bed8d98, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e9d5d79, org.springframework.security.web.context.SecurityContextHolderFilter@69f35d31, org.springframework.security.web.header.HeaderWriterFilter@75f2a654, org.springframework.security.web.authentication.logout.LogoutFilter@3fcc58f8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1377af49, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1b3639a1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@59df8444, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@cf0e8b4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5ae06c93, org.springframework.security.web.session.ConcurrentSessionFilter@796eeafb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34788780, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@15d25244, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a5812dc, org.springframework.security.web.access.ExceptionTranslationFilter@c04b755, org.springframework.security.web.access.intercept.AuthorizationFilter@3054551f]
2023-07-04 22:25:39,466 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:25:39,466 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:25:39,467 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:25:39,539 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.833 seconds (process running for 3.832)
2023-07-04 22:25:39,730 INFO o.e.j.s.Server [Test worker] Stopped Server@1e40edb7{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:39,730 INFO o.e.j.s.Server [Test worker] Shutdown Server@1e40edb7{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:39,731 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4163f505{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:39,731 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5be783a{/,null,STOPPED}
2023-07-04 22:25:39,731 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2b0483f2{/__admin,null,STOPPED}
2023-07-04 22:25:39,742 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:25:39,745 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@50dcc20a{/__admin,null,AVAILABLE}
2023-07-04 22:25:39,746 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:25:39,746 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3be4e71c{/,null,AVAILABLE}
2023-07-04 22:25:39,746 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@334c80be{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:39,746 INFO o.e.j.s.Server [Test worker] Started Server@7a970f{STARTING}[11.0.15,sto=1000] @4039ms
2023-07-04 22:25:39,806 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:25:39,808 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 42586 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:25:39,809 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:25:39,809 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:25:39,811 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:39,811 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@65dce54c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:39,811 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:39,811 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:25:39,811 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:39,811 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1babd50e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:39,982 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:25:39,985 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:25:40,054 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b2235a5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5af6378e, org.springframework.security.web.context.SecurityContextHolderFilter@3dcb28de, org.springframework.security.web.header.HeaderWriterFilter@187b33de, org.springframework.security.web.authentication.logout.LogoutFilter@6e58f36d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2f75c413, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@61f990b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7c63146c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5064988, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@205b3a1a, org.springframework.security.web.session.ConcurrentSessionFilter@e39df43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a16325, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@450555ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@447f9a09, org.springframework.security.web.access.ExceptionTranslationFilter@7269674d, org.springframework.security.web.access.intercept.AuthorizationFilter@3662309d]
2023-07-04 22:25:40,077 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:25:40,077 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:25:40,077 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:25:40,083 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.336 seconds (process running for 4.377)
2023-07-04 22:25:40,137 INFO o.e.j.s.Server [Test worker] Stopped Server@7a970f{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:40,137 INFO o.e.j.s.Server [Test worker] Shutdown Server@7a970f{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:40,137 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@334c80be{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:40,137 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3be4e71c{/,null,STOPPED}
2023-07-04 22:25:40,138 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@50dcc20a{/__admin,null,STOPPED}
2023-07-04 22:25:40,149 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:25:40,150 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@497c267a{/__admin,null,AVAILABLE}
2023-07-04 22:25:40,150 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:25:40,150 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e095ba6{/,null,AVAILABLE}
2023-07-04 22:25:40,150 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@162807e5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:40,150 INFO o.e.j.s.Server [Test worker] Started Server@507a53b6{STARTING}[11.0.15,sto=1000] @4444ms
2023-07-04 22:25:40,204 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:25:40,205 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 42586 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:25:40,206 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:25:40,206 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:25:40,208 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:40,208 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1020407c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:40,208 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:40,208 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:25:40,208 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:40,208 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@238fd9cc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:40,348 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:25:40,393 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3af64136, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f9f939, org.springframework.security.web.context.SecurityContextHolderFilter@5126c400, org.springframework.security.web.header.HeaderWriterFilter@7f6a0ab, org.springframework.security.web.authentication.logout.LogoutFilter@54214c34, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@16b5c059, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@482b6e57, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7a8d001b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2254919b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@113366e7, org.springframework.security.web.session.ConcurrentSessionFilter@1c322b6a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1df19e91, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fb0867c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@32c3102, org.springframework.security.web.access.ExceptionTranslationFilter@69c4bbfe, org.springframework.security.web.access.intercept.AuthorizationFilter@79d72d99]
2023-07-04 22:25:40,415 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:25:40,415 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:25:40,415 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:25:40,423 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.271 seconds (process running for 4.716)
2023-07-04 22:25:40,439 INFO o.e.j.s.Server [Test worker] Stopped Server@507a53b6{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:40,439 INFO o.e.j.s.Server [Test worker] Shutdown Server@507a53b6{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:40,440 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@162807e5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:40,440 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e095ba6{/,null,STOPPED}
2023-07-04 22:25:40,440 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@497c267a{/__admin,null,STOPPED}
2023-07-04 22:25:40,457 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:25:40,467 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:25:40,472 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:25:40,474 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@17991766{/__admin,null,AVAILABLE}
2023-07-04 22:25:40,474 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:25:40,474 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3851c572{/,null,AVAILABLE}
2023-07-04 22:25:40,474 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5ac92082{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:40,474 INFO o.e.j.s.Server [Test worker] Started Server@3003b9ad{STARTING}[11.0.15,sto=1000] @4768ms
2023-07-04 22:25:40,496 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:25:40,614 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:25:40,805 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:25:40,806 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:25:40,824 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:25:40,846 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:25:41,442 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:25:41,509 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: fd62775d6a92f4d632a3e5c71af7738fe177f905d4602e9b31ca3068bd0d0c88
2023-07-04 22:25:42,007 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.17976S
2023-07-04 22:25:42,016 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:25:42,017 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:25:42,017 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:25:42,018 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:25:42,059 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f48f1ce45d9854615030f2741242dd8e5b691b18233027056ccb270fe6141550
2023-07-04 22:25:43,179 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.161627S
2023-07-04 22:25:43,179 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57082/test?loggerLevel=OFF)
2023-07-04 22:25:43,215 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:25:43,217 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 42586 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:25:43,217 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:25:43,217 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:25:43,218 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:43,218 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3119ce7a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:43,218 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:43,218 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:25:43,218 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:25:43,218 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@49ce2726 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:25:43,271 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:25:43,271 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:25:43,279 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-04 22:25:43,321 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:25:43,417 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@64a768e7
2023-07-04 22:25:43,418 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:25:43,495 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:25:43,581 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:25:43,792 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:25:43,796 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:25:43,855 INFO l.command [Test worker] Using deploymentId: 8498743800
2023-07-04 22:25:43,862 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:25:43,900 INFO l.changelog [Test worker] Table comment created
2023-07-04 22:25:43,901 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 7ms
2023-07-04 22:25:43,909 INFO l.changelog [Test worker] Table news created
2023-07-04 22:25:43,909 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 4ms
2023-07-04 22:25:43,914 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 22:25:43,915 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 4ms
2023-07-04 22:25:43,920 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,921 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,922 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,923 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,924 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,925 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,926 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,927 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,928 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,929 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,930 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,931 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,932 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,933 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,934 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,936 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,939 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,940 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,941 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,941 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:25:43,942 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 25ms
2023-07-04 22:25:43,945 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,946 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,947 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,948 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,949 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,950 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,951 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,952 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,953 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,953 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,956 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,957 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,957 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,958 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,959 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,960 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,961 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,962 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,962 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,963 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,964 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,965 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,966 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,967 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,967 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,968 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,969 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,970 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,971 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,971 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,972 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,973 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,974 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,975 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,975 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,976 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,977 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,978 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,979 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,980 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:25:43,980 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 36ms
2023-07-04 22:25:43,983 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:25:43,983 INFO l.util [Test worker] Run:                          5
2023-07-04 22:25:43,983 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:25:43,983 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:25:43,983 INFO l.util [Test worker] -------------------------------
2023-07-04 22:25:43,983 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:25:43,984 INFO l.util [Test worker] Update summary generated
2023-07-04 22:25:43,984 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 22:25:43,986 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:25:43,991 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:25:43,991 INFO l.command [Test worker] Command execution complete
2023-07-04 22:25:44,052 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:25:44,075 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:25:44,076 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:25:44,134 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:25:44,138 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:25:44,164 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@64922e2f
2023-07-04 22:25:44,269 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:25:44,540 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:25:44,542 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:25:44,662 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:25:44,874 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 1.693 seconds (process running for 9.168)
2023-07-04 22:25:45,003 INFO o.e.j.s.Server [Test worker] Stopped Server@3003b9ad{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:45,003 INFO o.e.j.s.Server [Test worker] Shutdown Server@3003b9ad{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:45,004 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5ac92082{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:45,004 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3851c572{/,null,STOPPED}
2023-07-04 22:25:45,004 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@17991766{/__admin,null,STOPPED}
2023-07-04 22:25:45,007 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:25:45,009 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:25:45,011 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:25:45,012 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@57f35caf{/__admin,null,AVAILABLE}
2023-07-04 22:25:45,012 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:25:45,012 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3d40c095{/,null,AVAILABLE}
2023-07-04 22:25:45,013 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@60433b90{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:45,013 INFO o.e.j.s.Server [Test worker] Started Server@1bd3701a{STARTING}[11.0.15,sto=1000] @9306ms
2023-07-04 22:25:45,013 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:25:45,054 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 7cf347885be4ef149ae24d769d2c6d794fc6c5065f5dafb9dc3b416625dc00e5
2023-07-04 22:25:46,178 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.164806S
2023-07-04 22:25:46,178 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57094/test?loggerLevel=OFF)
2023-07-04 22:25:46,224 INFO o.e.j.s.Server [Test worker] Stopped Server@1bd3701a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:46,224 INFO o.e.j.s.Server [Test worker] Shutdown Server@1bd3701a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:25:46,224 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@60433b90{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:25:46,224 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3d40c095{/,null,STOPPED}
2023-07-04 22:25:46,224 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@57f35caf{/__admin,null,STOPPED}
2023-07-04 22:25:46,366 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:25:46,367 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:25:46,368 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-04 22:26:29,435 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:26:29,451 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5c33008f{/__admin,null,AVAILABLE}
2023-07-04 22:26:29,455 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:26:29,455 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5a0f87e5{/,null,AVAILABLE}
2023-07-04 22:26:29,458 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@16bbaab3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:29,463 INFO o.e.j.s.Server [Test worker] Started Server@30517a57{STARTING}[11.0.15,sto=1000] @1805ms
2023-07-04 22:26:29,807 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-04 22:26:29,821 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:26:29,826 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 42768 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:26:29,827 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:26:29,827 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:26:29,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:29,837 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@408d945b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:29,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:29,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:26:29,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:29,837 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@b81938d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:30,218 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:26:30,238 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:26:30,446 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@a4388f1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3687b83c, org.springframework.security.web.context.SecurityContextHolderFilter@5c8d685e, org.springframework.security.web.header.HeaderWriterFilter@33b4c775, org.springframework.security.web.authentication.logout.LogoutFilter@7adde776, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@615b1baf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@48cc060d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@65dafe50, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@18c432ed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4cbd17b3, org.springframework.security.web.session.ConcurrentSessionFilter@5fa3df, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d0e6424, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@797ca322, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a5c6009, org.springframework.security.web.access.ExceptionTranslationFilter@737ae41a, org.springframework.security.web.access.intercept.AuthorizationFilter@3a22d69f]
2023-07-04 22:26:30,584 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:26:30,584 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:26:30,585 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:26:30,628 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 1.138 seconds (process running for 2.97)
2023-07-04 22:26:30,779 INFO o.e.j.s.Server [Test worker] Stopped Server@30517a57{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:30,779 INFO o.e.j.s.Server [Test worker] Shutdown Server@30517a57{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:30,781 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@16bbaab3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:30,782 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5a0f87e5{/,null,STOPPED}
2023-07-04 22:26:30,782 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5c33008f{/__admin,null,STOPPED}
2023-07-04 22:26:30,791 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:26:30,792 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@19070326{/__admin,null,AVAILABLE}
2023-07-04 22:26:30,792 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:26:30,792 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@472d7f34{/,null,AVAILABLE}
2023-07-04 22:26:30,792 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@30fba306{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:30,792 INFO o.e.j.s.Server [Test worker] Started Server@5b5f48d5{STARTING}[11.0.15,sto=1000] @3135ms
2023-07-04 22:26:30,834 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:26:30,836 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 42768 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:26:30,836 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:26:30,836 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:26:30,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:30,837 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@93cc5eb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:30,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:30,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:26:30,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:30,837 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f7a2262 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:30,945 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-04 22:26:30,947 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:26:31,001 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7854f2a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72f86029, org.springframework.security.web.context.SecurityContextHolderFilter@404cc16a, org.springframework.security.web.header.HeaderWriterFilter@391cc6cf, org.springframework.security.web.authentication.logout.LogoutFilter@42c7781a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@55fbebba, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2c855eb7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a6ae0f0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@28e12bc5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@740ef827, org.springframework.security.web.session.ConcurrentSessionFilter@e9e25b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8588a62, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@572d1f18, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@198eeb36, org.springframework.security.web.access.ExceptionTranslationFilter@4f20ff8e, org.springframework.security.web.access.intercept.AuthorizationFilter@5cb3c9e6]
2023-07-04 22:26:31,018 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:26:31,018 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:26:31,018 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-04 22:26:31,024 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.23 seconds (process running for 3.366)
2023-07-04 22:26:31,070 INFO o.e.j.s.Server [Test worker] Stopped Server@5b5f48d5{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:31,071 INFO o.e.j.s.Server [Test worker] Shutdown Server@5b5f48d5{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:31,071 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@30fba306{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:31,071 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@472d7f34{/,null,STOPPED}
2023-07-04 22:26:31,071 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@19070326{/__admin,null,STOPPED}
2023-07-04 22:26:31,077 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:26:31,080 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@19fdcaba{/__admin,null,AVAILABLE}
2023-07-04 22:26:31,080 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:26:31,080 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@30741e9b{/,null,AVAILABLE}
2023-07-04 22:26:31,080 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@76737130{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:31,081 INFO o.e.j.s.Server [Test worker] Started Server@10ec54c3{STARTING}[11.0.15,sto=1000] @3423ms
2023-07-04 22:26:31,118 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:26:31,119 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 42768 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:26:31,119 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:26:31,119 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:26:31,120 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:31,120 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74a46f81 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:31,120 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:31,120 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:26:31,120 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:31,120 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@26a5007 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:31,217 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-04 22:26:31,248 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c8ab21f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5248474e, org.springframework.security.web.context.SecurityContextHolderFilter@6eb06667, org.springframework.security.web.header.HeaderWriterFilter@5b51a4c7, org.springframework.security.web.authentication.logout.LogoutFilter@479f1d09, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@47db20e0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@78131a47, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5869f15f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@684c2c57, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3269ae62, org.springframework.security.web.session.ConcurrentSessionFilter@1a61721e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f0dae44, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79ac50fe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@259d5279, org.springframework.security.web.access.ExceptionTranslationFilter@77b6d94c, org.springframework.security.web.access.intercept.AuthorizationFilter@55882ff2]
2023-07-04 22:26:31,262 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-04 22:26:31,262 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-04 22:26:31,263 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-04 22:26:31,272 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.189 seconds (process running for 3.614)
2023-07-04 22:26:31,291 INFO o.e.j.s.Server [Test worker] Stopped Server@10ec54c3{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:31,292 INFO o.e.j.s.Server [Test worker] Shutdown Server@10ec54c3{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:31,292 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@76737130{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:31,293 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@30741e9b{/,null,STOPPED}
2023-07-04 22:26:31,293 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@19fdcaba{/__admin,null,STOPPED}
2023-07-04 22:26:31,307 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:26:31,315 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-04 22:26:31,319 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:26:31,320 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@20c5b5f8{/__admin,null,AVAILABLE}
2023-07-04 22:26:31,320 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:26:31,320 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@74691a1f{/,null,AVAILABLE}
2023-07-04 22:26:31,320 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2e5337d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:31,320 INFO o.e.j.s.Server [Test worker] Started Server@2dfdea3a{STARTING}[11.0.15,sto=1000] @3663ms
2023-07-04 22:26:31,332 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-04 22:26:31,407 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-04 22:26:31,565 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-04 22:26:31,566 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-04 22:26:31,581 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-04 22:26:31,603 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-04 22:26:32,170 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-04 22:26:32,232 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 6fe0e83a2eaa0c171fcf66e993267debc4e50918da60a6dddfb41cf2ef0a7886
2023-07-04 22:26:32,586 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.002722S
2023-07-04 22:26:32,590 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-04 22:26:32,590 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-04 22:26:32,590 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-04 22:26:32,591 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:26:32,618 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 352533e7f4ad2a23518404ded40764ef7bce17e3fc658f4dd257ef67e9ab6c6b
2023-07-04 22:26:33,700 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.109263S
2023-07-04 22:26:33,701 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57104/test?loggerLevel=OFF)
2023-07-04 22:26:33,766 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-04 22:26:33,768 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 42768 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-04 22:26:33,769 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-04 22:26:33,769 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-04 22:26:33,770 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:33,770 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@60c588cf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:33,770 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:33,770 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-04 22:26:33,770 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-04 22:26:33,770 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1565c047 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-04 22:26:33,846 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-04 22:26:33,848 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-04 22:26:33,891 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2023-07-04 22:26:33,969 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-04 22:26:34,055 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3f58e7d5
2023-07-04 22:26:34,056 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-04 22:26:34,112 INFO l.database [Test worker] Set default schema name to public
2023-07-04 22:26:34,208 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-04 22:26:34,395 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-04 22:26:34,399 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:26:34,459 INFO l.command [Test worker] Using deploymentId: 8498794403
2023-07-04 22:26:34,465 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-04 22:26:34,507 INFO l.changelog [Test worker] Table comment created
2023-07-04 22:26:34,508 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 10ms
2023-07-04 22:26:34,519 INFO l.changelog [Test worker] Table news created
2023-07-04 22:26:34,520 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 7ms
2023-07-04 22:26:34,527 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-07-04 22:26:34,528 INFO l.changelog [Test worker] ChangeSet db/changelog/005-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 6ms
2023-07-04 22:26:34,533 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,534 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,536 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,537 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,538 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,540 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,541 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,542 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,543 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,544 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,546 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,547 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,548 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,550 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,551 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,553 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,553 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,554 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,555 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,556 INFO l.changelog [Test worker] New row inserted into news
2023-07-04 22:26:34,557 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 27ms
2023-07-04 22:26:34,561 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,562 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,563 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,564 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,565 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,566 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,567 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,568 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,569 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,570 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,572 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,573 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,574 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,575 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,576 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,577 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,578 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,579 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,580 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,581 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,582 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,583 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,584 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,585 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,586 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,586 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,587 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,588 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,589 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,590 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,591 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,592 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,593 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,593 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,594 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,595 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,596 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,597 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,597 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,598 INFO l.changelog [Test worker] New row inserted into comment
2023-07-04 22:26:34,599 INFO l.changelog [Test worker] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 40ms
2023-07-04 22:26:34,601 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-04 22:26:34,602 INFO l.util [Test worker] Run:                          5
2023-07-04 22:26:34,602 INFO l.util [Test worker] Previously run:               0
2023-07-04 22:26:34,602 INFO l.util [Test worker] Filtered out:                 0
2023-07-04 22:26:34,602 INFO l.util [Test worker] -------------------------------
2023-07-04 22:26:34,602 INFO l.util [Test worker] Total change sets:            5

2023-07-04 22:26:34,602 INFO l.util [Test worker] Update summary generated
2023-07-04 22:26:34,602 INFO l.command [Test worker] Update command completed successfully.
2023-07-04 22:26:34,605 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:26:34,609 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-04 22:26:34,609 INFO l.command [Test worker] Command execution complete
2023-07-04 22:26:34,658 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-04 22:26:34,682 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-04 22:26:34,683 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-04 22:26:34,742 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:26:34,746 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-04 22:26:34,769 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5c961ce9
2023-07-04 22:26:34,864 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-04 22:26:35,128 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-04 22:26:35,130 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:26:35,259 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-04 22:26:35,451 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 1.746 seconds (process running for 7.793)
2023-07-04 22:26:35,567 INFO o.e.j.s.Server [Test worker] Stopped Server@2dfdea3a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:35,567 INFO o.e.j.s.Server [Test worker] Shutdown Server@2dfdea3a{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:35,567 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2e5337d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:35,567 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@74691a1f{/,null,STOPPED}
2023-07-04 22:26:35,568 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@20c5b5f8{/__admin,null,STOPPED}
2023-07-04 22:26:35,570 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-04 22:26:35,571 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-04 22:26:35,573 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-04 22:26:35,574 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@301680f2{/__admin,null,AVAILABLE}
2023-07-04 22:26:35,574 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-04 22:26:35,574 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2ddd689a{/,null,AVAILABLE}
2023-07-04 22:26:35,574 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@71bcc154{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:35,575 INFO o.e.j.s.Server [Test worker] Started Server@75f8f30f{STARTING}[11.0.15,sto=1000] @7917ms
2023-07-04 22:26:35,575 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-04 22:26:35,624 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 00a5be03d6afe8292215eae4847ac75c1bfb8f563e274190cb38efa0632bac3e
2023-07-04 22:26:36,735 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.159712S
2023-07-04 22:26:36,735 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:57116/test?loggerLevel=OFF)
2023-07-04 22:26:36,783 INFO o.e.j.s.Server [Test worker] Stopped Server@75f8f30f{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:36,784 INFO o.e.j.s.Server [Test worker] Shutdown Server@75f8f30f{STOPPING}[11.0.15,sto=1000]
2023-07-04 22:26:36,784 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@71bcc154{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-04 22:26:36,784 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2ddd689a{/,null,STOPPED}
2023-07-04 22:26:36,785 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@301680f2{/__admin,null,STOPPED}
2023-07-04 22:26:36,920 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-04 22:26:36,921 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-04 22:26:36,925 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
