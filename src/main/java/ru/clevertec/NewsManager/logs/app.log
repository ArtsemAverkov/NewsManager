2023-07-02 12:54:14,298 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 12:54:14,436 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 97713 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 12:54:14,437 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 12:54:14,445 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 12:54:15,043 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:54:15,044 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 12:54:15,044 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:54:15,044 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 12:54:15,044 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:54:15,044 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 12:54:16,780 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:54:16,782 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 12:54:16,824 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-07-02 12:54:17,368 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:54:17,370 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 12:54:17,638 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 263 ms. Found 2 JPA repository interfaces.
2023-07-02 12:54:17,681 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:54:17,682 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 12:54:17,720 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 12:54:17,721 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 12:54:17,722 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2023-07-02 12:54:18,551 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 12:54:18,837 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 12:54:18,927 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 12:54:20,172 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 12:54:20,185 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 12:54:20,188 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 12:54:20,188 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 12:54:20,406 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 12:54:20,407 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5361 ms
2023-07-02 12:54:22,152 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 12:54:22,270 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@654c2f81
2023-07-02 12:54:22,272 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 12:54:22,600 INFO l.database [main] Set default schema name to public
2023-07-02 12:54:22,840 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 12:54:23,831 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 12:54:23,962 INFO l.command [main] Using deploymentId: 8291663855
2023-07-02 12:54:23,988 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 12:54:24,174 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,189 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,192 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,194 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,195 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,197 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,199 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,207 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,210 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,212 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,213 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,215 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,216 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,217 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,221 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,223 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,237 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,243 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,248 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,259 INFO l.changelog [main] New row inserted into news
2023-07-02 12:54:24,280 ERROR l.changelog [main] ChangeSet db/changelog/008-insert-data.xml::insertData::ArtemAverkov encountered an exception.
2023-07-02 12:54:24,293 INFO l.command [main] Update command encountered an exception.
2023-07-02 12:54:24,307 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 12:54:24,310 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 12:54:24,311 INFO l.command [main] Command execution complete
2023-07-02 12:54:24,314 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/008-insert-data.xml::insertData::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.comment" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.comment (time, text, username, news_id) VALUES ('2023-06-01', 'Great news! Can''t wait to see how this new technology unfolds.', 'ArtsemAA', 1)]
2023-07-02 12:54:24,316 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-07-02 12:54:24,323 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-07-02 12:54:24,352 INFO o.a.c.c.StandardService [main] Stopping service [Tomcat]
2023-07-02 12:54:24,400 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 12:54:24,439 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/008-insert-data.xml::insertData::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.comment" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.comment (time, text, username, news_id) VALUES ('2023-06-01', 'Great news! Can''t wait to see how this new technology unfolds.', 'ArtsemAA', 1)]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at ru.clevertec.NewsManager.NewsManagerApplication.main(NewsManagerApplication.java:17)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/008-insert-data.xml::insertData::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.comment" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.comment (time, text, username, news_id) VALUES ('2023-06-01', 'Great news! Can''t wait to see how this new technology unfolds.', 'ArtsemAA', 1)]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/008-insert-data.xml::insertData::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.comment" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.comment (time, text, username, news_id) VALUES ('2023-06-01', 'Great news! Can''t wait to see how this new technology unfolds.', 'ArtsemAA', 1)]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:121)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:103)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:100)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/008-insert-data.xml::insertData::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.comment" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.comment (time, text, username, news_id) VALUES ('2023-06-01', 'Great news! Can''t wait to see how this new technology unfolds.', 'ArtsemAA', 1)]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:759)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:92)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:66)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "public.comment" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.comment (time, text, username, news_id) VALUES ('2023-06-01', 'Great news! Can''t wait to see how this new technology unfolds.', 'ArtsemAA', 1)]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:717)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "public.comment" does not exist
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
2023-07-02 12:57:02,190 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 12:57:02,362 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 98047 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 12:57:02,365 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 12:57:02,370 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 12:57:02,952 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:57:02,953 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 12:57:02,953 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:57:02,953 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 12:57:02,953 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:57:02,953 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 12:57:04,627 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:57:04,628 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 12:57:04,689 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2023-07-02 12:57:05,335 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:57:05,337 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 12:57:05,630 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 287 ms. Found 2 JPA repository interfaces.
2023-07-02 12:57:05,676 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:57:05,676 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 12:57:05,721 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 12:57:05,721 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 12:57:05,722 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
2023-07-02 12:57:06,642 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 12:57:06,910 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 12:57:07,025 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 12:57:08,352 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 12:57:08,367 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 12:57:08,368 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 12:57:08,368 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 12:57:08,564 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 12:57:08,566 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5611 ms
2023-07-02 12:57:09,978 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 12:57:10,112 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18f27a81
2023-07-02 12:57:10,114 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 12:57:10,419 INFO l.database [main] Set default schema name to public
2023-07-02 12:57:10,678 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 12:57:11,731 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 12:57:11,929 INFO l.command [main] Using deploymentId: 8291831753
2023-07-02 12:57:11,965 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 12:57:12,154 INFO l.changelog [main] Table comment created
2023-07-02 12:57:12,158 INFO l.changelog [main] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkov ran successfully in 49ms
2023-07-02 12:57:12,177 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,179 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,189 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,192 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,198 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,199 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,204 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,213 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,214 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,215 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,216 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,217 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,235 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,243 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,246 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,247 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,249 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,254 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,257 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,258 INFO l.changelog [main] New row inserted into news
2023-07-02 12:57:12,261 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,266 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,268 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,269 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,272 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,274 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,278 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,280 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,281 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,284 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,286 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,289 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,290 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,293 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,297 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,303 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,305 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,306 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,307 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,311 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,312 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,315 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,316 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,320 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,323 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,326 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,328 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,330 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,332 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,334 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,349 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,351 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,353 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,355 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,356 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,357 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,359 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,360 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,361 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,362 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:57:12,362 INFO l.changelog [main] ChangeSet db/changelog/008-insert-data.xml::insertData::ArtemAverkov ran successfully in 189ms
2023-07-02 12:57:12,376 INFO l.util [main] UPDATE SUMMARY
2023-07-02 12:57:12,377 INFO l.util [main] Run:                          2
2023-07-02 12:57:12,378 INFO l.util [main] Previously run:               2
2023-07-02 12:57:12,378 INFO l.util [main] Filtered out:                 0
2023-07-02 12:57:12,378 INFO l.util [main] -------------------------------
2023-07-02 12:57:12,378 INFO l.util [main] Total change sets:            4

2023-07-02 12:57:12,380 INFO l.util [main] Update summary generated
2023-07-02 12:57:12,381 INFO l.command [main] Update command completed successfully.
2023-07-02 12:57:12,389 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 12:57:12,403 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 12:57:12,405 INFO l.command [main] Command execution complete
2023-07-02 12:57:12,805 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 12:57:12,903 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 12:57:12,910 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 12:57:13,099 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 12:57:13,332 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 12:57:13,395 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2a49753
2023-07-02 12:57:13,731 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 12:57:14,971 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 12:57:15,022 WARN o.h.e.j.s.SqlExceptionHelper [main] SQL Warning Code: 0, SQLState: 00000
2023-07-02 12:57:15,022 WARN o.h.e.j.s.SqlExceptionHelper [main] constraint "fknxm8x9npdhuwxv2x2wxsghm17" of relation "comment" does not exist, skipping
2023-07-02 12:57:15,070 INFO o.h.t.s.i.e.GenerationTargetToDatabase [main] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-02 12:57:15,073 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 12:57:15,871 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 12:57:17,482 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 12:57:17,746 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 12:57:19,592 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48fdd829, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3495b709, org.springframework.security.web.context.SecurityContextHolderFilter@91a7497, org.springframework.security.web.header.HeaderWriterFilter@21f1f60e, org.springframework.security.web.authentication.logout.LogoutFilter@3def5336, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2e2662d8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5dd1526e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@cfe4f8c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7c78688b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34fa61ad, org.springframework.security.web.session.ConcurrentSessionFilter@4c2ff77, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@595f803, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36072e34, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fa46f2f, org.springframework.security.web.access.ExceptionTranslationFilter@997a59f, org.springframework.security.web.access.intercept.AuthorizationFilter@6d19e557]
2023-07-02 12:57:21,799 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 12:57:21,843 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 12:57:21,874 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.66 seconds (process running for 23.236)
2023-07-02 12:59:27,183 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 12:59:27,196 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 12:59:27,212 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 12:59:38,976 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 12:59:39,117 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 98375 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 12:59:39,119 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 12:59:39,126 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 12:59:39,688 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:59:39,689 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 12:59:39,690 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:59:39,690 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 12:59:39,690 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 12:59:39,690 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 12:59:41,580 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:59:41,581 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 12:59:41,644 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2023-07-02 12:59:42,325 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:59:42,328 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 12:59:42,636 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 300 ms. Found 2 JPA repository interfaces.
2023-07-02 12:59:42,685 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 12:59:42,685 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 12:59:42,736 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 12:59:42,736 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 12:59:42,737 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
2023-07-02 12:59:43,552 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 12:59:43,827 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 12:59:43,942 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 12:59:45,112 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 12:59:45,126 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 12:59:45,128 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 12:59:45,128 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 12:59:45,333 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 12:59:45,335 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5642 ms
2023-07-02 12:59:46,680 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 12:59:46,889 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6074d638
2023-07-02 12:59:46,896 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 12:59:47,253 INFO l.database [main] Set default schema name to public
2023-07-02 12:59:47,549 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 12:59:48,576 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 12:59:48,714 INFO l.command [main] Using deploymentId: 8291988598
2023-07-02 12:59:48,740 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 12:59:48,936 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,940 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,941 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,944 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,946 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,952 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,957 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,960 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,962 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,964 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,966 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,972 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,973 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,976 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,978 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,980 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,988 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,992 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:48,996 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:49,002 INFO l.changelog [main] New row inserted into news
2023-07-02 12:59:49,003 INFO l.changelog [main] ChangeSet db/changelog/008-insert-data.xml::insertNews::ArtemAverkov ran successfully in 85ms
2023-07-02 12:59:49,023 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,028 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,038 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,051 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,062 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,063 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,065 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,066 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,067 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,067 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,068 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,075 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,080 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,081 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,082 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,084 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,085 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,086 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,089 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,090 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,090 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,092 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,094 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,097 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,100 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,102 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,103 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,107 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,109 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,111 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,112 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,112 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,117 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,119 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,120 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,121 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,124 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,125 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,126 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,127 INFO l.changelog [main] New row inserted into comment
2023-07-02 12:59:49,130 INFO l.changelog [main] ChangeSet db/changelog/008-insert-data.xml::insertComment::ArtemAverkov ran successfully in 109ms
2023-07-02 12:59:49,159 INFO l.util [main] UPDATE SUMMARY
2023-07-02 12:59:49,163 INFO l.util [main] Run:                          2
2023-07-02 12:59:49,165 INFO l.util [main] Previously run:               3
2023-07-02 12:59:49,165 INFO l.util [main] Filtered out:                 0
2023-07-02 12:59:49,165 INFO l.util [main] -------------------------------
2023-07-02 12:59:49,165 INFO l.util [main] Total change sets:            5

2023-07-02 12:59:49,168 INFO l.util [main] Update summary generated
2023-07-02 12:59:49,170 INFO l.command [main] Update command completed successfully.
2023-07-02 12:59:49,179 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 12:59:49,195 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 12:59:49,196 INFO l.command [main] Command execution complete
2023-07-02 12:59:49,509 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 12:59:49,637 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 12:59:49,645 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 12:59:49,829 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 12:59:50,032 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 12:59:50,116 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5101b9
2023-07-02 12:59:50,433 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 12:59:51,667 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 12:59:51,737 INFO o.h.t.s.i.e.GenerationTargetToDatabase [main] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-02 12:59:51,741 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 12:59:52,766 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 12:59:54,250 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 12:59:54,474 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 12:59:56,309 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a22eec0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42d060f1, org.springframework.security.web.context.SecurityContextHolderFilter@6642ea55, org.springframework.security.web.header.HeaderWriterFilter@6bcf2683, org.springframework.security.web.authentication.logout.LogoutFilter@2ff84e42, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6873c7e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4c2ff77, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17e99817, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@23497000, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1a9064b7, org.springframework.security.web.session.ConcurrentSessionFilter@75d64dc4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4918f4ad, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e0d0819, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@91a7497, org.springframework.security.web.access.ExceptionTranslationFilter@482bdb02, org.springframework.security.web.access.intercept.AuthorizationFilter@33a7a5ca]
2023-07-02 12:59:57,652 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 12:59:57,703 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 12:59:57,742 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 20.494 seconds (process running for 21.933)
2023-07-02 13:01:37,489 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:01:37,508 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:01:37,519 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:01:45,187 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:01:45,323 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 98646 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:01:45,326 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:01:45,332 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:01:45,993 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:01:45,995 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:01:45,995 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:01:45,995 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:01:45,995 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:01:45,995 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:01:47,811 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:01:47,812 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:01:47,858 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-07-02 13:01:48,435 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:01:48,437 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:01:48,692 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 250 ms. Found 2 JPA repository interfaces.
2023-07-02 13:01:48,730 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:01:48,730 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:01:48,773 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:01:48,774 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:01:48,774 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2023-07-02 13:01:49,621 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:01:49,900 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:01:50,002 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:01:51,239 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:01:51,252 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:01:51,253 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:01:51,253 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:01:51,597 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:01:51,601 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5603 ms
2023-07-02 13:01:52,769 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:01:52,886 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@33827b88
2023-07-02 13:01:52,888 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:01:53,215 INFO l.database [main] Set default schema name to public
2023-07-02 13:01:53,442 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:01:54,443 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:01:54,653 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:01:54,697 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:01:54,701 INFO l.util [main] Run:                          0
2023-07-02 13:01:54,701 INFO l.util [main] Previously run:               5
2023-07-02 13:01:54,702 INFO l.util [main] Filtered out:                 0
2023-07-02 13:01:54,702 INFO l.util [main] -------------------------------
2023-07-02 13:01:54,702 INFO l.util [main] Total change sets:            5

2023-07-02 13:01:54,707 INFO l.util [main] Update summary generated
2023-07-02 13:01:54,716 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:01:54,740 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:01:54,741 INFO l.command [main] Command execution complete
2023-07-02 13:01:55,023 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:01:55,185 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:01:55,196 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:01:55,382 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:01:55,564 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:01:55,637 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@20a7ce0
2023-07-02 13:01:55,942 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:01:57,139 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:01:57,272 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:01:58,192 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:01:59,674 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:01:59,887 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:02:01,750 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@41bb5a40, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@83d47a2, org.springframework.security.web.context.SecurityContextHolderFilter@2120bccc, org.springframework.security.web.header.HeaderWriterFilter@56e92cdf, org.springframework.security.web.authentication.logout.LogoutFilter@1135f0c4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6cdfae17, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@93bc1be, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4499e444, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@410ca583, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1e098fc5, org.springframework.security.web.session.ConcurrentSessionFilter@480f24b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15dcfe4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57c089ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1eb558, org.springframework.security.web.access.ExceptionTranslationFilter@405a2c7b, org.springframework.security.web.access.intercept.AuthorizationFilter@5f07df35]
2023-07-02 13:02:02,808 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:02:02,834 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:02:02,862 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.977 seconds (process running for 21.457)
2023-07-02 13:02:48,038 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:02:48,059 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:02:48,109 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:02:55,519 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:02:55,715 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 98796 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:02:55,717 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:02:55,722 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:02:56,445 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:02:56,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:02:56,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:02:56,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:02:56,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:02:56,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:02:58,530 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:02:58,531 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:02:58,573 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2023-07-02 13:02:59,131 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:02:59,133 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:02:59,397 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 259 ms. Found 2 JPA repository interfaces.
2023-07-02 13:02:59,452 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:02:59,452 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:02:59,502 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:02:59,502 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:02:59,502 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 0 Redis repository interfaces.
2023-07-02 13:03:00,314 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:03:00,558 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:03:00,677 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:03:01,962 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:03:01,976 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:03:01,977 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:03:01,977 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:03:02,190 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:03:02,190 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5742 ms
2023-07-02 13:03:03,728 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:03:03,837 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1c7744c1
2023-07-02 13:03:03,840 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:03:04,007 INFO l.database [main] Set default schema name to public
2023-07-02 13:03:04,238 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:03:05,312 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:03:05,535 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:03:05,577 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:03:05,580 INFO l.util [main] Run:                          0
2023-07-02 13:03:05,580 INFO l.util [main] Previously run:               5
2023-07-02 13:03:05,581 INFO l.util [main] Filtered out:                 0
2023-07-02 13:03:05,581 INFO l.util [main] -------------------------------
2023-07-02 13:03:05,581 INFO l.util [main] Total change sets:            5

2023-07-02 13:03:05,588 INFO l.util [main] Update summary generated
2023-07-02 13:03:05,598 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:03:05,617 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:03:05,618 INFO l.command [main] Command execution complete
2023-07-02 13:03:05,892 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:03:06,062 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:03:06,073 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:03:06,291 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:03:06,454 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:03:06,559 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@e6fbf82
2023-07-02 13:03:06,878 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:03:08,075 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:03:08,163 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:03:09,294 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:03:10,709 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:03:10,935 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:03:12,321 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c5a4358, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3defab32, org.springframework.security.web.context.SecurityContextHolderFilter@b300af4, org.springframework.security.web.header.HeaderWriterFilter@75e355e, org.springframework.security.web.authentication.logout.LogoutFilter@50594c5a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5a14682d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@e093615, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5c891ec1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3389c69d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3a5beb51, org.springframework.security.web.session.ConcurrentSessionFilter@405a2c7b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16204061, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c638b27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72b7eb06, org.springframework.security.web.access.ExceptionTranslationFilter@60d5f350, org.springframework.security.web.access.intercept.AuthorizationFilter@296ac298]
2023-07-02 13:03:13,924 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:03:13,963 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:03:14,000 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 20.31 seconds (process running for 21.658)
2023-07-02 13:03:57,564 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:03:57,578 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:03:57,592 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:04:05,026 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:04:05,110 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 98943 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:04:05,111 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:04:05,121 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:04:05,742 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:04:05,743 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:04:05,743 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:04:05,743 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:04:05,743 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:04:05,743 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:04:07,467 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:04:07,469 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:04:07,515 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2023-07-02 13:04:08,073 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:04:08,074 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:04:08,342 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 263 ms. Found 2 JPA repository interfaces.
2023-07-02 13:04:08,379 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:04:08,379 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:04:08,425 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:04:08,425 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:04:08,426 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
2023-07-02 13:04:09,279 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:04:09,603 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:04:09,822 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:04:11,155 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:04:11,167 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:04:11,169 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:04:11,169 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:04:11,375 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:04:11,375 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5630 ms
2023-07-02 13:04:12,902 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:04:13,014 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6074d638
2023-07-02 13:04:13,016 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:04:13,358 INFO l.database [main] Set default schema name to public
2023-07-02 13:04:13,588 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:04:14,661 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:04:14,892 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:04:14,930 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:04:14,933 INFO l.util [main] Run:                          0
2023-07-02 13:04:14,933 INFO l.util [main] Previously run:               5
2023-07-02 13:04:14,933 INFO l.util [main] Filtered out:                 0
2023-07-02 13:04:14,934 INFO l.util [main] -------------------------------
2023-07-02 13:04:14,934 INFO l.util [main] Total change sets:            5

2023-07-02 13:04:14,935 INFO l.util [main] Update summary generated
2023-07-02 13:04:14,942 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:04:14,960 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:04:14,960 INFO l.command [main] Command execution complete
2023-07-02 13:04:15,241 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:04:15,390 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:04:15,401 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:04:15,583 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:04:15,776 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:04:15,839 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@969c2f9
2023-07-02 13:04:16,139 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:04:17,121 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:04:17,250 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:04:18,121 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:04:19,396 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:04:19,625 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:04:20,891 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1cf89848, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36072e34, org.springframework.security.web.context.SecurityContextHolderFilter@5556813d, org.springframework.security.web.header.HeaderWriterFilter@6fc31f6, org.springframework.security.web.authentication.logout.LogoutFilter@670132b9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@42d060f1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1a9064b7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@91a7497, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@e287fd1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@66604e6f, org.springframework.security.web.session.ConcurrentSessionFilter@73bd7cca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@425b142e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@580cb668, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f944ff5, org.springframework.security.web.access.ExceptionTranslationFilter@4cf7f5d8, org.springframework.security.web.access.intercept.AuthorizationFilter@7afaf602]
2023-07-02 13:04:22,070 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:04:22,102 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:04:22,144 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.01 seconds (process running for 20.558)
2023-07-02 13:04:40,091 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 13:04:40,099 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 13:04:40,120 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 19 ms
2023-07-02 13:04:40,322 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 13:08:44,713 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 13:08:45,013 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readAll(..):RESULT is{[News(id=1, author=Author, time=2023-05-26T00:00, title=Sample News Title, text=Sample News Text)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 13:13:35,092 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:13:35,122 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:13:35,197 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:13:49,285 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:13:49,435 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 287 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:13:49,436 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:13:49,445 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:13:50,052 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:13:50,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:13:50,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:13:50,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:13:50,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:13:50,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:13:51,924 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:13:51,925 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:13:51,971 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-07-02 13:13:52,563 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:13:52,565 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:13:52,843 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 272 ms. Found 2 JPA repository interfaces.
2023-07-02 13:13:52,916 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:13:52,916 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:13:52,957 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:13:52,957 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:13:52,958 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2023-07-02 13:13:53,773 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:13:54,054 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:13:54,151 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:13:55,411 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:13:55,425 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:13:55,426 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:13:55,427 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:13:55,726 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:13:55,730 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5673 ms
2023-07-02 13:13:57,213 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:13:57,337 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@189e96af
2023-07-02 13:13:57,338 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:13:57,675 INFO l.database [main] Set default schema name to public
2023-07-02 13:13:57,995 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:13:58,916 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:13:59,137 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:13:59,175 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:13:59,179 INFO l.util [main] Run:                          0
2023-07-02 13:13:59,179 INFO l.util [main] Previously run:               5
2023-07-02 13:13:59,180 INFO l.util [main] Filtered out:                 0
2023-07-02 13:13:59,180 INFO l.util [main] -------------------------------
2023-07-02 13:13:59,180 INFO l.util [main] Total change sets:            5

2023-07-02 13:13:59,185 INFO l.util [main] Update summary generated
2023-07-02 13:13:59,192 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:13:59,202 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:13:59,203 INFO l.command [main] Command execution complete
2023-07-02 13:13:59,449 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:13:59,603 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:13:59,612 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:13:59,791 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:13:59,985 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:14:00,061 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@268f126f
2023-07-02 13:14:00,442 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:14:01,519 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:14:01,647 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:14:02,547 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:14:04,036 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:14:04,263 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:14:05,886 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24ab86eb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e8235b2, org.springframework.security.web.context.SecurityContextHolderFilter@4e8765dd, org.springframework.security.web.header.HeaderWriterFilter@3e691e44, org.springframework.security.web.authentication.logout.LogoutFilter@6fc277e4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2e5c842a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5d689ba6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@55446d00, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@33e0d356, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5de80d43, org.springframework.security.web.session.ConcurrentSessionFilter@5c2d3a5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c761232, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a1b205, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a885113, org.springframework.security.web.access.ExceptionTranslationFilter@4df812b6, org.springframework.security.web.access.intercept.AuthorizationFilter@5a14682d]
2023-07-02 13:14:06,918 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:14:06,945 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:14:06,980 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.871 seconds (process running for 21.385)
2023-07-02 13:15:34,775 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:15:34,801 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:15:34,851 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:15:56,961 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:15:57,088 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 671 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:15:57,089 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:15:57,095 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:15:57,737 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:15:57,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:15:57,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:15:57,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:15:57,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:15:57,738 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:16:00,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:16:00,329 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:16:00,383 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-07-02 13:16:01,097 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:16:01,098 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:16:01,386 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 281 ms. Found 2 JPA repository interfaces.
2023-07-02 13:16:01,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:16:01,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:16:01,472 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:16:01,472 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:16:01,472 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
2023-07-02 13:16:02,392 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:16:02,672 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:16:02,767 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:16:04,031 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:16:04,047 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:16:04,049 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:16:04,049 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:16:04,274 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:16:04,274 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6534 ms
2023-07-02 13:16:05,727 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:16:05,839 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6ba08a09
2023-07-02 13:16:05,841 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:16:06,298 INFO l.database [main] Set default schema name to public
2023-07-02 13:16:06,763 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:16:07,722 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:16:07,993 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:16:08,029 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:16:08,031 INFO l.util [main] Run:                          0
2023-07-02 13:16:08,032 INFO l.util [main] Previously run:               5
2023-07-02 13:16:08,032 INFO l.util [main] Filtered out:                 0
2023-07-02 13:16:08,032 INFO l.util [main] -------------------------------
2023-07-02 13:16:08,032 INFO l.util [main] Total change sets:            5

2023-07-02 13:16:08,034 INFO l.util [main] Update summary generated
2023-07-02 13:16:08,040 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:16:08,057 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:16:08,058 INFO l.command [main] Command execution complete
2023-07-02 13:16:08,407 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:16:08,475 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:16:08,478 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:16:08,651 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:16:08,863 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:16:08,924 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6af02de0
2023-07-02 13:16:09,307 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:16:10,413 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:16:10,618 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:16:11,539 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:16:13,357 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:16:13,651 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:16:16,656 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ca9368b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cdfae17, org.springframework.security.web.context.SecurityContextHolderFilter@4363f0ee, org.springframework.security.web.header.HeaderWriterFilter@7b95eab0, org.springframework.security.web.authentication.logout.LogoutFilter@4e8765dd, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@75689d9c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3296b4ba, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@26fddb3f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@681c7f46, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@93bc1be, org.springframework.security.web.session.ConcurrentSessionFilter@4741fb8d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c638b27, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e691e44, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4499e444, org.springframework.security.web.access.ExceptionTranslationFilter@485e0996, org.springframework.security.web.access.intercept.AuthorizationFilter@6eb49e78]
2023-07-02 13:16:18,241 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:16:18,309 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:16:18,351 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 24.166 seconds (process running for 26.55)
2023-07-02 13:17:06,629 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:17:06,646 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:17:06,663 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:17:15,054 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:17:15,206 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 915 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:17:15,210 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:17:15,214 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:17:15,919 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:17:15,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:17:15,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:17:15,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:17:15,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:17:15,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:17:17,885 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:17:17,886 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:17:17,925 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-07-02 13:17:18,479 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:17:18,481 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:17:18,734 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 248 ms. Found 2 JPA repository interfaces.
2023-07-02 13:17:18,793 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:17:18,793 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:17:18,842 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:17:18,843 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:17:18,843 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2023-07-02 13:17:19,645 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:17:19,885 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:17:19,988 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:17:21,256 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:17:21,269 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:17:21,271 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:17:21,271 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:17:21,474 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:17:21,476 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5552 ms
2023-07-02 13:17:22,980 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:17:23,086 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@26291192
2023-07-02 13:17:23,088 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:17:23,351 INFO l.database [main] Set default schema name to public
2023-07-02 13:17:23,707 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:17:24,658 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:17:24,888 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:17:24,931 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:17:24,934 INFO l.util [main] Run:                          0
2023-07-02 13:17:24,935 INFO l.util [main] Previously run:               5
2023-07-02 13:17:24,935 INFO l.util [main] Filtered out:                 0
2023-07-02 13:17:24,935 INFO l.util [main] -------------------------------
2023-07-02 13:17:24,935 INFO l.util [main] Total change sets:            5

2023-07-02 13:17:24,939 INFO l.util [main] Update summary generated
2023-07-02 13:17:24,946 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:17:24,963 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:17:24,964 INFO l.command [main] Command execution complete
2023-07-02 13:17:25,293 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:17:25,359 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:17:25,362 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:17:25,528 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:17:25,715 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:17:25,769 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@c5c2a84
2023-07-02 13:17:26,216 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:17:27,428 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:17:27,486 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:17:28,275 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:17:30,141 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:17:30,399 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:17:31,628 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@491ce4c2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50d640dd, org.springframework.security.web.context.SecurityContextHolderFilter@781a51d0, org.springframework.security.web.header.HeaderWriterFilter@16e1a441, org.springframework.security.web.authentication.logout.LogoutFilter@30004eeb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@393489c3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51aae61a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2cd9488b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@54f5457e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2a1066ed, org.springframework.security.web.session.ConcurrentSessionFilter@4a5d8ae4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34278424, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6023b6d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6aef33f6, org.springframework.security.web.access.ExceptionTranslationFilter@74a8d26c, org.springframework.security.web.access.intercept.AuthorizationFilter@7e6c990f]
2023-07-02 13:17:33,929 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:17:34,041 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:17:34,140 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.492 seconds (process running for 23.05)
2023-07-02 13:18:01,917 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:18:01,957 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:18:02,012 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:18:11,017 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:18:11,142 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 1039 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:18:11,143 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:18:11,145 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:18:11,723 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:18:11,724 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:18:11,724 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:18:11,724 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:18:11,724 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:18:11,724 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:18:13,994 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:18:13,996 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:18:14,041 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-07-02 13:18:14,624 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:18:14,626 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:18:14,895 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 265 ms. Found 2 JPA repository interfaces.
2023-07-02 13:18:14,947 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:18:14,947 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:18:14,979 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:18:14,980 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:18:14,981 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2023-07-02 13:18:15,800 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:18:16,096 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:18:16,189 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:18:17,448 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:18:17,461 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:18:17,462 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:18:17,462 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:18:17,681 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:18:17,683 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5956 ms
2023-07-02 13:18:19,219 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:18:19,335 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3b839f68
2023-07-02 13:18:19,339 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:18:19,643 INFO l.database [main] Set default schema name to public
2023-07-02 13:18:19,888 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:18:21,306 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:18:21,589 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:18:21,642 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:18:21,647 INFO l.util [main] Run:                          0
2023-07-02 13:18:21,647 INFO l.util [main] Previously run:               5
2023-07-02 13:18:21,647 INFO l.util [main] Filtered out:                 0
2023-07-02 13:18:21,648 INFO l.util [main] -------------------------------
2023-07-02 13:18:21,648 INFO l.util [main] Total change sets:            5

2023-07-02 13:18:21,657 INFO l.util [main] Update summary generated
2023-07-02 13:18:21,671 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:18:21,696 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:18:21,698 INFO l.command [main] Command execution complete
2023-07-02 13:18:22,233 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:18:22,477 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:18:22,492 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:18:22,772 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:18:23,089 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:18:23,193 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@507187c1
2023-07-02 13:18:23,624 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:18:25,316 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:18:25,323 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:18:26,291 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:18:29,611 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:18:30,143 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:18:32,152 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@dfb044a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@692c5533, org.springframework.security.web.context.SecurityContextHolderFilter@295f5dd5, org.springframework.security.web.header.HeaderWriterFilter@75e39b41, org.springframework.security.web.authentication.logout.LogoutFilter@33ce766b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2af87d7a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@12ca50a5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d0dc104, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@9dc9aa4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34453e71, org.springframework.security.web.session.ConcurrentSessionFilter@2f49d34d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5af57b73, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@791bdaff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d4f8b15, org.springframework.security.web.access.ExceptionTranslationFilter@781a51d0, org.springframework.security.web.access.intercept.AuthorizationFilter@29d7d117]
2023-07-02 13:18:33,783 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:18:33,826 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:18:33,854 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 24.777 seconds (process running for 26.174)
2023-07-02 13:21:09,892 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:21:09,905 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:21:09,916 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:21:17,874 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:21:18,003 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 1412 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:21:18,010 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:21:18,016 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:21:18,602 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:21:18,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:21:18,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:21:18,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:21:18,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:21:18,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:21:20,259 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:21:20,260 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:21:20,301 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-07-02 13:21:20,978 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:21:20,980 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:21:21,283 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 296 ms. Found 2 JPA repository interfaces.
2023-07-02 13:21:21,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:21:21,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:21:21,369 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:21:21,370 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:21:21,370 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2023-07-02 13:21:22,171 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:21:22,411 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:21:22,516 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:21:23,708 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:21:23,720 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:21:23,721 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:21:23,722 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:21:23,925 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:21:23,927 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5322 ms
2023-07-02 13:21:25,315 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:21:25,435 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@27d5eb00
2023-07-02 13:21:25,437 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:21:25,751 INFO l.database [main] Set default schema name to public
2023-07-02 13:21:26,009 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:21:27,105 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:21:27,336 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:21:27,373 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:21:27,377 INFO l.util [main] Run:                          0
2023-07-02 13:21:27,377 INFO l.util [main] Previously run:               5
2023-07-02 13:21:27,377 INFO l.util [main] Filtered out:                 0
2023-07-02 13:21:27,377 INFO l.util [main] -------------------------------
2023-07-02 13:21:27,377 INFO l.util [main] Total change sets:            5

2023-07-02 13:21:27,379 INFO l.util [main] Update summary generated
2023-07-02 13:21:27,386 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:21:27,405 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:21:27,406 INFO l.command [main] Command execution complete
2023-07-02 13:21:27,736 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:21:27,802 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:21:27,806 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:21:28,084 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:21:28,297 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:21:28,371 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@d426e01
2023-07-02 13:21:28,706 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:21:29,870 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:21:29,916 WARN o.h.e.j.s.SqlExceptionHelper [main] SQL Warning Code: 0, SQLState: 00000
2023-07-02 13:21:29,917 WARN o.h.e.j.s.SqlExceptionHelper [main] relation "comment" does not exist, skipping
2023-07-02 13:21:29,919 WARN o.h.e.j.s.SqlExceptionHelper [main] SQL Warning Code: 0, SQLState: 00000
2023-07-02 13:21:29,919 WARN o.h.e.j.s.SqlExceptionHelper [main] table "comment" does not exist, skipping
2023-07-02 13:21:29,921 WARN o.h.e.j.s.SqlExceptionHelper [main] SQL Warning Code: 0, SQLState: 00000
2023-07-02 13:21:29,922 WARN o.h.e.j.s.SqlExceptionHelper [main] table "news" does not exist, skipping
2023-07-02 13:21:29,959 INFO o.h.t.s.i.e.GenerationTargetToDatabase [main] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-02 13:21:29,962 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:21:30,994 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:21:32,574 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:21:33,058 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:21:34,422 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@41bb5a40, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@83d47a2, org.springframework.security.web.context.SecurityContextHolderFilter@2120bccc, org.springframework.security.web.header.HeaderWriterFilter@56e92cdf, org.springframework.security.web.authentication.logout.LogoutFilter@1135f0c4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6cdfae17, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@93bc1be, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4499e444, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@410ca583, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1e098fc5, org.springframework.security.web.session.ConcurrentSessionFilter@480f24b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15dcfe4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57c089ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1eb558, org.springframework.security.web.access.ExceptionTranslationFilter@405a2c7b, org.springframework.security.web.access.intercept.AuthorizationFilter@5f07df35]
2023-07-02 13:21:35,700 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:21:35,726 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:21:35,771 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 20.26 seconds (process running for 21.643)
2023-07-02 13:23:00,650 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:23:00,675 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:23:00,693 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:23:09,402 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:23:09,521 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 1660 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:23:09,522 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:23:09,527 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:23:10,114 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:23:10,115 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:23:10,115 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:23:10,115 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:23:10,115 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:23:10,115 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:23:11,890 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:23:11,892 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:23:11,933 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-07-02 13:23:12,505 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:23:12,506 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:23:12,759 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 247 ms. Found 2 JPA repository interfaces.
2023-07-02 13:23:12,801 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:23:12,802 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:23:12,848 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:23:12,849 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:23:12,849 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
2023-07-02 13:23:13,736 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:23:14,027 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:23:14,138 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:23:15,397 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:23:15,411 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:23:15,412 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:23:15,413 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:23:15,635 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:23:15,637 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5520 ms
2023-07-02 13:23:17,197 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:23:17,325 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d34866a
2023-07-02 13:23:17,327 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:23:17,502 INFO l.database [main] Set default schema name to public
2023-07-02 13:23:17,803 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:23:18,862 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:23:19,128 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:23:19,171 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:23:19,173 INFO l.util [main] Run:                          0
2023-07-02 13:23:19,174 INFO l.util [main] Previously run:               5
2023-07-02 13:23:19,174 INFO l.util [main] Filtered out:                 0
2023-07-02 13:23:19,174 INFO l.util [main] -------------------------------
2023-07-02 13:23:19,174 INFO l.util [main] Total change sets:            5

2023-07-02 13:23:19,176 INFO l.util [main] Update summary generated
2023-07-02 13:23:19,185 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:23:19,202 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:23:19,202 INFO l.command [main] Command execution complete
2023-07-02 13:23:19,474 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:23:19,650 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:23:19,661 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:23:19,848 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:23:20,040 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:23:20,106 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@15ade272
2023-07-02 13:23:20,412 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:23:21,425 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:23:21,486 INFO o.h.t.s.i.e.GenerationTargetToDatabase [main] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-02 13:23:21,487 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:23:22,446 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:23:24,008 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:23:24,469 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:23:25,661 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3e691e44, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3389c69d, org.springframework.security.web.context.SecurityContextHolderFilter@3b866e7d, org.springframework.security.web.header.HeaderWriterFilter@2c1a48d6, org.springframework.security.web.authentication.logout.LogoutFilter@521a3128, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@480f24b1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4363f0ee, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@68d4ed14, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@11a43807, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2120bccc, org.springframework.security.web.session.ConcurrentSessionFilter@17d188c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fb0c411, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13d02df2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63b15742, org.springframework.security.web.access.ExceptionTranslationFilter@7807e2bb, org.springframework.security.web.access.intercept.AuthorizationFilter@79c01d37]
2023-07-02 13:23:26,725 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:23:26,747 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:23:26,772 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.286 seconds (process running for 20.859)
2023-07-02 13:31:50,140 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:31:50,184 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:31:50,202 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:31:59,288 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:31:59,412 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 2760 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:31:59,419 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:31:59,423 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:32:00,026 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:32:00,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:32:00,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:32:00,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:32:00,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:32:00,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:32:01,786 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:32:01,788 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:32:01,834 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-07-02 13:32:02,408 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:32:02,410 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:32:02,672 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 257 ms. Found 2 JPA repository interfaces.
2023-07-02 13:32:02,708 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:32:02,708 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:32:02,749 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:32:02,750 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:32:02,750 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2023-07-02 13:32:03,607 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:32:03,884 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:32:03,974 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:32:05,195 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:32:05,207 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:32:05,208 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:32:05,209 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:32:05,450 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:32:05,452 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5422 ms
2023-07-02 13:32:07,022 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:32:07,144 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3bc3d70e
2023-07-02 13:32:07,147 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:32:07,341 INFO l.database [main] Set default schema name to public
2023-07-02 13:32:07,638 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:32:08,649 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:32:08,935 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:32:08,984 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:32:08,986 INFO l.util [main] Run:                          0
2023-07-02 13:32:08,986 INFO l.util [main] Previously run:               5
2023-07-02 13:32:08,987 INFO l.util [main] Filtered out:                 0
2023-07-02 13:32:08,987 INFO l.util [main] -------------------------------
2023-07-02 13:32:08,987 INFO l.util [main] Total change sets:            5

2023-07-02 13:32:08,991 INFO l.util [main] Update summary generated
2023-07-02 13:32:08,999 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:32:09,016 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:32:09,017 INFO l.command [main] Command execution complete
2023-07-02 13:32:09,294 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:32:09,490 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:32:09,505 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:32:09,886 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:32:10,116 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:32:10,201 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5a644d75
2023-07-02 13:32:10,525 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:32:11,736 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:32:11,824 INFO o.h.t.s.i.e.GenerationTargetToDatabase [main] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-07-02 13:32:11,826 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:32:12,742 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:32:14,644 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:32:14,990 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:32:16,942 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@673e239b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6c8e40fc, org.springframework.security.web.context.SecurityContextHolderFilter@3e691e44, org.springframework.security.web.header.HeaderWriterFilter@27779eaa, org.springframework.security.web.authentication.logout.LogoutFilter@5a1b205, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@72b7eb06, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2ca9368b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6cdfae17, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2718f622, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@41bb5a40, org.springframework.security.web.session.ConcurrentSessionFilter@2810618f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2120bccc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c7e7855, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@83d47a2, org.springframework.security.web.access.ExceptionTranslationFilter@2d3ff2e8, org.springframework.security.web.access.intercept.AuthorizationFilter@7decdae9]
2023-07-02 13:32:18,233 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:32:18,268 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:32:18,297 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.361 seconds (process running for 22.782)
2023-07-02 13:33:03,194 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:33:03,206 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:33:03,222 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:33:10,975 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:33:11,138 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 2916 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:33:11,140 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:33:11,146 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:33:11,832 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:33:11,833 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:33:11,833 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:33:11,833 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:33:11,833 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:33:11,833 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:33:13,912 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:33:13,914 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:33:13,956 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-07-02 13:33:14,522 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:33:14,523 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:33:14,792 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 263 ms. Found 2 JPA repository interfaces.
2023-07-02 13:33:14,846 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:33:14,846 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:33:14,891 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:33:14,892 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:33:14,892 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
2023-07-02 13:33:15,691 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:33:15,961 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:33:16,060 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:33:17,278 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:33:17,291 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:33:17,292 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:33:17,292 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:33:17,510 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:33:17,510 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5672 ms
2023-07-02 13:33:19,008 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:33:19,149 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2914a328
2023-07-02 13:33:19,151 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:33:19,323 INFO l.database [main] Set default schema name to public
2023-07-02 13:33:19,619 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:33:20,831 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:33:21,231 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:33:21,301 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:33:21,306 INFO l.util [main] Run:                          0
2023-07-02 13:33:21,307 INFO l.util [main] Previously run:               5
2023-07-02 13:33:21,308 INFO l.util [main] Filtered out:                 0
2023-07-02 13:33:21,308 INFO l.util [main] -------------------------------
2023-07-02 13:33:21,308 INFO l.util [main] Total change sets:            5

2023-07-02 13:33:21,314 INFO l.util [main] Update summary generated
2023-07-02 13:33:21,325 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:33:21,356 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:33:21,357 INFO l.command [main] Command execution complete
2023-07-02 13:33:21,660 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:33:21,821 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:33:21,833 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:33:22,060 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:33:22,262 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:33:22,344 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1ae26c59
2023-07-02 13:33:22,663 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:33:23,876 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:33:23,891 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:33:24,690 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:33:26,245 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:33:26,578 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:33:27,952 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51aae61a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2cd9488b, org.springframework.security.web.context.SecurityContextHolderFilter@690506b0, org.springframework.security.web.header.HeaderWriterFilter@30d72c00, org.springframework.security.web.authentication.logout.LogoutFilter@18be5bce, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5213a8f7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@30078038, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@530daa7e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@682d0957, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@f4694f8, org.springframework.security.web.session.ConcurrentSessionFilter@46bf0d38, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47d9bdf4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@781a51d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12a16e42, org.springframework.security.web.access.ExceptionTranslationFilter@11105fbe, org.springframework.security.web.access.intercept.AuthorizationFilter@791bdaff]
2023-07-02 13:33:29,415 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:33:29,522 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:33:29,603 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.143 seconds (process running for 22.624)
2023-07-02 13:36:03,637 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:36:03,709 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:36:03,781 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:36:18,824 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:36:18,963 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 3320 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:36:18,969 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:36:18,975 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:36:19,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:36:19,593 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:36:19,593 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:36:19,593 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:36:19,593 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:36:19,593 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:36:21,312 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:36:21,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:36:21,359 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-07-02 13:36:22,023 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:36:22,025 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:36:22,298 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 268 ms. Found 2 JPA repository interfaces.
2023-07-02 13:36:22,354 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:36:22,354 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:36:22,398 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:36:22,399 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:36:22,399 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 44 ms. Found 0 Redis repository interfaces.
2023-07-02 13:36:23,183 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:36:23,451 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:36:23,547 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:36:24,833 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:36:24,847 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:36:24,849 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:36:24,849 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:36:25,184 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:36:25,189 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5593 ms
2023-07-02 13:36:27,362 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:36:27,590 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@568c9ee1
2023-07-02 13:36:27,592 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:36:27,938 INFO l.database [main] Set default schema name to public
2023-07-02 13:36:28,247 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:36:29,445 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:36:29,673 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:36:29,722 INFO l.util [main] UPDATE SUMMARY
2023-07-02 13:36:29,726 INFO l.util [main] Run:                          0
2023-07-02 13:36:29,727 INFO l.util [main] Previously run:               5
2023-07-02 13:36:29,727 INFO l.util [main] Filtered out:                 0
2023-07-02 13:36:29,727 INFO l.util [main] -------------------------------
2023-07-02 13:36:29,727 INFO l.util [main] Total change sets:            5

2023-07-02 13:36:29,729 INFO l.util [main] Update summary generated
2023-07-02 13:36:29,736 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:36:29,760 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:36:29,761 INFO l.command [main] Command execution complete
2023-07-02 13:36:30,091 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 13:36:30,161 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 13:36:30,165 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 13:36:30,353 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:36:30,516 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 13:36:30,573 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3749c6ac
2023-07-02 13:36:30,879 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 13:36:32,000 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 13:36:32,010 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:36:32,811 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 13:36:34,521 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 13:36:34,859 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 13:36:37,523 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@323ebcc6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7bca7b6c, org.springframework.security.web.context.SecurityContextHolderFilter@5247c44f, org.springframework.security.web.header.HeaderWriterFilter@7aa5de8c, org.springframework.security.web.authentication.logout.LogoutFilter@690506b0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@379ddfda, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@9dc9aa4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7e6c990f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1517015c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a0c046e, org.springframework.security.web.session.ConcurrentSessionFilter@4d7687f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@227497ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30d72c00, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13d8d105, org.springframework.security.web.access.ExceptionTranslationFilter@4f1d97d8, org.springframework.security.web.access.intercept.AuthorizationFilter@75e39b41]
2023-07-02 13:36:40,216 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 13:36:40,257 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 13:36:40,283 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 24.369 seconds (process running for 26.278)
2023-07-02 13:37:00,100 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 13:37:00,120 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 13:37:00,138 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 13:37:08,684 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:37:08,824 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 3471 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:37:08,827 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:37:08,831 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:37:09,450 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:37:09,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:37:09,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:37:09,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:37:09,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:37:09,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:37:11,439 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:37:11,441 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:37:11,491 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2023-07-02 13:37:12,082 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:37:12,084 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:37:12,351 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 260 ms. Found 2 JPA repository interfaces.
2023-07-02 13:37:12,422 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:37:12,422 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:37:12,468 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:37:12,469 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:37:12,469 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
2023-07-02 13:37:13,275 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:37:13,556 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:37:13,658 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:37:15,039 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:37:15,086 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:37:15,088 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:37:15,088 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:37:15,332 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:37:15,334 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5878 ms
2023-07-02 13:37:16,868 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:37:16,973 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3b839f68
2023-07-02 13:37:16,975 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:37:17,141 INFO l.database [main] Set default schema name to public
2023-07-02 13:37:17,380 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:37:18,385 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:37:18,556 INFO l.changelog [main] Change failed validation!
2023-07-02 13:37:18,566 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:37:18,574 INFO l.command [main] Command execution complete
2023-07-02 13:37:18,579 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/006-create-tables.xml::addForeignKey::ArtsemAverkov was: 9:5932060fbd2c85a02931a355bbf6688b but is now: 9:0af39f7d73b17d9f182832af7e09864e

2023-07-02 13:37:18,580 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-07-02 13:37:18,590 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-07-02 13:37:18,614 INFO o.a.c.c.StandardService [main] Stopping service [Tomcat]
2023-07-02 13:37:18,660 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 13:37:18,698 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/006-create-tables.xml::addForeignKey::ArtsemAverkov was: 9:5932060fbd2c85a02931a355bbf6688b but is now: 9:0af39f7d73b17d9f182832af7e09864e

	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at ru.clevertec.NewsManager.NewsManagerApplication.main(NewsManagerApplication.java:17)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/006-create-tables.xml::addForeignKey::ArtsemAverkov was: 9:5932060fbd2c85a02931a355bbf6688b but is now: 9:0af39f7d73b17d9f182832af7e09864e

	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.ValidationFailedException: Validation Failed:
     1 changesets check sum
          db/changelog/006-create-tables.xml::addForeignKey::ArtsemAverkov was: 9:5932060fbd2c85a02931a355bbf6688b but is now: 9:0af39f7d73b17d9f182832af7e09864e

	at liquibase.changelog.DatabaseChangeLog.validate(DatabaseChangeLog.java:354)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:84)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
2023-07-02 13:37:57,581 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:37:57,709 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 3596 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:37:57,712 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:37:57,716 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:37:58,303 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:37:58,304 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:37:58,305 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:37:58,305 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:37:58,305 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:37:58,305 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:38:00,075 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:38:00,077 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:38:00,123 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-07-02 13:38:00,686 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:38:00,687 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:38:00,948 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 255 ms. Found 2 JPA repository interfaces.
2023-07-02 13:38:00,994 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:38:00,994 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:38:01,042 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:38:01,043 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:38:01,043 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2023-07-02 13:38:01,827 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:38:02,080 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:38:02,202 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:38:03,535 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:38:03,549 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:38:03,550 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:38:03,551 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:38:03,760 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:38:03,762 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5455 ms
2023-07-02 13:38:05,142 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:38:05,250 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@402feb85
2023-07-02 13:38:05,252 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:38:05,437 INFO l.database [main] Set default schema name to public
2023-07-02 13:38:05,666 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:38:06,578 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:38:06,737 INFO l.command [main] Using deploymentId: 8294286606
2023-07-02 13:38:06,770 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:38:06,971 ERROR l.changelog [main] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov encountered an exception.
2023-07-02 13:38:06,979 INFO l.command [main] Update command encountered an exception.
2023-07-02 13:38:06,991 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:38:06,995 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:38:06,996 INFO l.command [main] Command execution complete
2023-07-02 13:38:07,001 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
2023-07-02 13:38:07,001 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-07-02 13:38:07,009 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-07-02 13:38:07,051 INFO o.a.c.c.StandardService [main] Stopping service [Tomcat]
2023-07-02 13:38:07,085 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 13:38:07,126 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at ru.clevertec.NewsManager.NewsManagerApplication.main(NewsManagerApplication.java:17)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:121)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:103)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:100)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:759)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:92)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:66)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:717)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "public.news" does not exist
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
2023-07-02 13:56:42,909 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 13:56:43,073 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 5755 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 13:56:43,081 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 13:56:43,087 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 13:56:43,345 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:56:43,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:56:43,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:56:43,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 13:56:43,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 13:56:43,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 13:56:45,138 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:56:45,140 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:56:45,183 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2023-07-02 13:56:45,755 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:56:45,758 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 13:56:46,045 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 273 ms. Found 2 JPA repository interfaces.
2023-07-02 13:56:46,107 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 13:56:46,107 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 13:56:46,152 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:56:46,153 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 13:56:46,154 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 47 ms. Found 0 Redis repository interfaces.
2023-07-02 13:56:46,838 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 13:56:47,088 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 13:56:47,172 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 13:56:48,519 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 13:56:48,534 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 13:56:48,537 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 13:56:48,537 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 13:56:48,746 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 13:56:48,747 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5398 ms
2023-07-02 13:56:50,003 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 13:56:50,123 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4f7ef948
2023-07-02 13:56:50,130 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 13:56:50,662 INFO l.database [main] Set default schema name to public
2023-07-02 13:56:51,038 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 13:56:52,086 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:56:52,265 INFO l.command [main] Using deploymentId: 8295412106
2023-07-02 13:56:52,290 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 13:56:52,508 ERROR l.changelog [main] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov encountered an exception.
2023-07-02 13:56:52,520 INFO l.command [main] Update command encountered an exception.
2023-07-02 13:56:52,533 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:56:52,536 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 13:56:52,537 INFO l.command [main] Command execution complete
2023-07-02 13:56:52,542 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
2023-07-02 13:56:52,543 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-07-02 13:56:52,550 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-07-02 13:56:52,586 INFO o.a.c.c.StandardService [main] Stopping service [Tomcat]
2023-07-02 13:56:52,632 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 13:56:52,674 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at ru.clevertec.NewsManager.NewsManagerApplication.main(NewsManagerApplication.java:17)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:121)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:103)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:100)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:759)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:92)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:66)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:717)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "public.news" does not exist
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
2023-07-02 14:00:45,296 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 14:00:45,491 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 6207 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 14:00:45,493 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 14:00:45,498 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 14:00:45,832 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:00:45,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 14:00:45,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:00:45,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 14:00:45,836 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:00:45,836 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 14:00:47,725 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:00:47,727 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 14:00:47,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-07-02 14:00:48,335 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:00:48,336 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 14:00:48,610 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 268 ms. Found 2 JPA repository interfaces.
2023-07-02 14:00:48,672 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:00:48,672 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 14:00:48,722 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 14:00:48,722 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 14:00:48,722 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 49 ms. Found 0 Redis repository interfaces.
2023-07-02 14:00:49,426 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 14:00:49,666 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 14:00:49,760 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 14:00:51,116 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 14:00:51,129 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 14:00:51,131 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 14:00:51,131 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 14:00:51,317 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 14:00:51,320 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5480 ms
2023-07-02 14:00:52,669 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 14:00:52,785 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4f7ef948
2023-07-02 14:00:52,787 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 14:00:53,172 INFO l.database [main] Set default schema name to public
2023-07-02 14:00:53,419 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 14:00:54,338 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 14:00:54,480 INFO l.command [main] Using deploymentId: 8295654355
2023-07-02 14:00:54,507 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 14:00:54,696 ERROR l.changelog [main] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov encountered an exception.
2023-07-02 14:00:54,707 INFO l.command [main] Update command encountered an exception.
2023-07-02 14:00:54,718 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 14:00:54,722 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 14:00:54,722 INFO l.command [main] Command execution complete
2023-07-02 14:00:54,726 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
2023-07-02 14:00:54,728 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown initiated...
2023-07-02 14:00:54,734 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Shutdown completed.
2023-07-02 14:00:54,762 INFO o.a.c.c.StandardService [main] Stopping service [Tomcat]
2023-07-02 14:00:54,809 INFO o.s.b.a.l.ConditionEvaluationReportLogger [main] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 14:00:54,865 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at ru.clevertec.NewsManager.NewsManagerApplication.main(NewsManagerApplication.java:17)
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 18 common frames omitted
Caused by: liquibase.exception.LiquibaseException: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:121)
	at liquibase.command.core.AbstractUpdateCommandStep.lambda$run$0(AbstractUpdateCommandStep.java:103)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.command.core.AbstractUpdateCommandStep.run(AbstractUpdateCommandStep.java:100)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 30 common frames omitted
Caused by: liquibase.exception.MigrationFailedException: Migration failed for changeset db/changelog/007-insert-data.xml::insertNews::ArtemAverkov:
     Reason: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:759)
	at liquibase.changelog.visitor.UpdateVisitor.visit(UpdateVisitor.java:61)
	at liquibase.changelog.ChangeLogIterator$2.lambda$null$0(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.changelog.ChangeLogIterator$2.lambda$run$1(ChangeLogIterator.java:109)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.changelog.ChangeLogIterator$2.run(ChangeLogIterator.java:92)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Scope.child(Scope.java:260)
	at liquibase.Scope.child(Scope.java:264)
	at liquibase.changelog.ChangeLogIterator.run(ChangeLogIterator.java:66)
	... 37 common frames omitted
Caused by: liquibase.exception.DatabaseException: ERROR: relation "public.news" does not exist
  Позиция: 13 [Failed SQL: (0) INSERT INTO public.news (time, title, text, author) VALUES ('2023-05-26', 'Technology Advancements in Artificial Intelligence', 'Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.', 'Artsem')]
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:445)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:77)
	at liquibase.executor.jvm.JdbcExecutor.execute(JdbcExecutor.java:160)
	at liquibase.database.AbstractJdbcDatabase.execute(AbstractJdbcDatabase.java:1287)
	at liquibase.database.AbstractJdbcDatabase.executeStatements(AbstractJdbcDatabase.java:1269)
	at liquibase.changelog.ChangeSet.execute(ChangeSet.java:717)
	... 57 common frames omitted
Caused by: org.postgresql.util.PSQLException: ERROR: relation "public.news" does not exist
  Позиция: 13
	at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)
	at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)
	at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)
	at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:335)
	at org.postgresql.jdbc.PgStatement.executeCachedSql(PgStatement.java:321)
	at org.postgresql.jdbc.PgStatement.executeWithFlags(PgStatement.java:297)
	at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:292)
	at com.zaxxer.hikari.pool.ProxyStatement.execute(ProxyStatement.java:94)
	at com.zaxxer.hikari.pool.HikariProxyStatement.execute(HikariProxyStatement.java)
	at liquibase.executor.jvm.JdbcExecutor$ExecuteStatementCallback.doInStatement(JdbcExecutor.java:441)
	... 62 common frames omitted
2023-07-02 14:01:36,638 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 14:01:36,759 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 6319 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 14:01:36,759 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 14:01:36,767 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 14:01:37,010 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:01:37,011 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 14:01:37,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:01:37,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 14:01:37,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:01:37,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 14:01:38,822 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:01:38,824 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 14:01:38,871 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-07-02 14:01:39,439 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:01:39,440 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 14:01:39,717 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 272 ms. Found 2 JPA repository interfaces.
2023-07-02 14:01:39,776 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:01:39,776 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 14:01:39,817 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 14:01:39,817 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 14:01:39,818 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2023-07-02 14:01:40,511 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 14:01:40,748 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 14:01:40,837 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 14:01:42,314 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 14:01:42,337 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 14:01:42,340 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 14:01:42,340 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 14:01:42,596 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 14:01:42,601 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5584 ms
2023-07-02 14:01:44,715 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 14:01:44,848 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@13a9cdae
2023-07-02 14:01:44,851 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 14:01:45,029 INFO l.database [main] Set default schema name to public
2023-07-02 14:01:45,248 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 14:01:46,236 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 14:01:46,412 INFO l.command [main] Using deploymentId: 8295706257
2023-07-02 14:01:46,437 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 14:01:46,649 INFO l.changelog [main] Table comment created
2023-07-02 14:01:46,652 INFO l.changelog [main] ChangeSet db/changelog/005-create-tables.xml::createTableComment::ArtemAverkovs ran successfully in 40ms
2023-07-02 14:01:46,674 INFO l.changelog [main] Table news created
2023-07-02 14:01:46,675 INFO l.changelog [main] ChangeSet db/changelog/005-create-tables.xml::createTableNews::ArtemAverkovs ran successfully in 10ms
2023-07-02 14:01:46,692 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,693 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,695 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,696 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,697 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,698 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,699 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,705 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,708 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,710 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,712 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,715 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,717 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,718 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,719 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,720 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,721 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,738 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,740 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,742 INFO l.changelog [main] New row inserted into news
2023-07-02 14:01:46,742 INFO l.changelog [main] ChangeSet db/changelog/007-insert-data.xml::insertNews::ArtemAverkov ran successfully in 55ms
2023-07-02 14:01:46,766 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,768 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,773 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,775 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,776 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,778 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,787 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,789 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,792 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,793 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,796 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,797 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,801 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,803 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,805 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,807 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,809 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,811 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,812 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,817 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,819 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,820 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,823 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,825 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,827 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,831 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,838 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,839 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,841 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,854 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,858 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,862 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,868 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,876 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,879 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,882 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,886 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,888 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,891 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,894 INFO l.changelog [main] New row inserted into comment
2023-07-02 14:01:46,896 INFO l.changelog [main] ChangeSet db/changelog/007-insert-data.xml::insertComment::ArtemAverkov ran successfully in 145ms
2023-07-02 14:01:46,919 INFO l.util [main] UPDATE SUMMARY
2023-07-02 14:01:46,922 INFO l.util [main] Run:                          4
2023-07-02 14:01:46,924 INFO l.util [main] Previously run:               1
2023-07-02 14:01:46,924 INFO l.util [main] Filtered out:                 0
2023-07-02 14:01:46,925 INFO l.util [main] -------------------------------
2023-07-02 14:01:46,925 INFO l.util [main] Total change sets:            5

2023-07-02 14:01:46,929 INFO l.util [main] Update summary generated
2023-07-02 14:01:46,938 INFO l.command [main] Update command completed successfully.
2023-07-02 14:01:46,957 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 14:01:46,976 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 14:01:46,977 INFO l.command [main] Command execution complete
2023-07-02 14:01:47,349 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 14:01:47,435 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 14:01:47,439 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 14:01:47,766 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 14:01:47,974 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 14:01:48,080 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@72ad577b
2023-07-02 14:01:48,438 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 14:01:49,631 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 14:01:49,776 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 14:01:50,827 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 14:01:52,320 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 14:01:52,576 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 14:01:53,993 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c2fb167, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@364f0a6f, org.springframework.security.web.context.SecurityContextHolderFilter@28f6137b, org.springframework.security.web.header.HeaderWriterFilter@4e5d611f, org.springframework.security.web.authentication.logout.LogoutFilter@48e13ec9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2d1df853, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79052209, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35d9d10b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@332e4784, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27585962, org.springframework.security.web.session.ConcurrentSessionFilter@1a6b2564, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33a267f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@656605e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1bee8888, org.springframework.security.web.access.ExceptionTranslationFilter@3d2887e0, org.springframework.security.web.access.intercept.AuthorizationFilter@5de4f44e]
2023-07-02 14:01:55,363 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 14:01:55,426 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 14:01:55,497 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 20.715 seconds (process running for 22.08)
2023-07-02 14:03:05,175 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 14:03:05,191 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 14:03:05,209 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 14:03:14,898 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 14:03:15,060 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 6539 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 14:03:15,062 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 14:03:15,071 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 14:03:15,409 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:03:15,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 14:03:15,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:03:15,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 14:03:15,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 14:03:15,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 14:03:17,529 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:03:17,531 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 14:03:17,580 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-07-02 14:03:18,295 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:03:18,296 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 14:03:18,581 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 280 ms. Found 2 JPA repository interfaces.
2023-07-02 14:03:18,616 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 14:03:18,616 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 14:03:18,665 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 14:03:18,666 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 14:03:18,666 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 50 ms. Found 0 Redis repository interfaces.
2023-07-02 14:03:19,444 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=94986f24-d243-3f21-abf4-ab5bc4ba4666
2023-07-02 14:03:19,683 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 14:03:19,790 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 14:03:21,175 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 14:03:21,189 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 14:03:21,192 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 14:03:21,192 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 14:03:21,415 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 14:03:21,416 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5996 ms
2023-07-02 14:03:22,992 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 14:03:23,113 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3835b281
2023-07-02 14:03:23,115 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 14:03:23,426 INFO l.database [main] Set default schema name to public
2023-07-02 14:03:23,743 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 14:03:24,879 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 14:03:25,095 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 14:03:25,130 INFO l.util [main] UPDATE SUMMARY
2023-07-02 14:03:25,132 INFO l.util [main] Run:                          0
2023-07-02 14:03:25,132 INFO l.util [main] Previously run:               5
2023-07-02 14:03:25,132 INFO l.util [main] Filtered out:                 0
2023-07-02 14:03:25,132 INFO l.util [main] -------------------------------
2023-07-02 14:03:25,132 INFO l.util [main] Total change sets:            5

2023-07-02 14:03:25,137 INFO l.util [main] Update summary generated
2023-07-02 14:03:25,144 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 14:03:25,161 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 14:03:25,163 INFO l.command [main] Command execution complete
2023-07-02 14:03:25,435 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 14:03:25,513 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 14:03:25,517 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 14:03:25,691 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 14:03:26,046 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 14:03:26,213 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@399a5a52
2023-07-02 14:03:26,923 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 14:03:29,143 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 14:03:29,331 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 14:03:30,522 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 14:03:33,629 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 14:03:34,053 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 14:03:35,718 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@78171169, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c388703, org.springframework.security.web.context.SecurityContextHolderFilter@3b3d7eb6, org.springframework.security.web.header.HeaderWriterFilter@2e00032d, org.springframework.security.web.authentication.logout.LogoutFilter@310cd0d2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2a03b7d2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@229762ab, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a938034, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@775b908f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c1ca89c, org.springframework.security.web.session.ConcurrentSessionFilter@69e87cbe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@632a1d4e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@627ed93a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f162df8, org.springframework.security.web.access.ExceptionTranslationFilter@3c3562c0, org.springframework.security.web.access.intercept.AuthorizationFilter@14726e69]
2023-07-02 14:03:37,413 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 14:03:37,487 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 14:03:37,536 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 25.175 seconds (process running for 27.927)
2023-07-02 14:05:52,165 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 14:05:52,232 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 14:05:52,274 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 15:04:28,050 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 15:04:28,175 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-02 15:04:29,072 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:04:29,091 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,AVAILABLE}
2023-07-02 15:04:29,098 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:04:29,098 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2539cd1c{/,null,AVAILABLE}
2023-07-02 15:04:29,104 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:29,113 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @2426ms
2023-07-02 15:04:29,625 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 15:04:29,635 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:04:29,650 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 13740 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:04:29,650 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:04:29,651 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:04:29,669 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:29,669 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a788fe0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:29,669 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:29,669 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:04:29,670 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:29,670 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6238d5e0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:30,088 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:04:30,088 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 15:04:30,102 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-07-02 15:04:30,398 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:04:30,399 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 15:04:30,710 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 305 ms. Found 2 JPA repository interfaces.
2023-07-02 15:04:30,729 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:04:30,729 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 15:04:30,744 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 15:04:30,745 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 15:04:30,746 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-07-02 15:04:31,224 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=07f88d98-d189-32cf-8cc8-181fb958ddc0
2023-07-02 15:04:31,393 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 15:04:31,431 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 15:04:31,746 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-02 15:04:32,163 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-02 15:04:32,269 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5afa0b1a
2023-07-02 15:04:32,271 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-02 15:04:32,393 INFO l.database [Test worker] Set default schema name to public
2023-07-02 15:04:32,510 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 15:04:32,923 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 15:04:33,061 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 15:04:33,072 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 15:04:33,072 INFO l.util [Test worker] Run:                          0
2023-07-02 15:04:33,072 INFO l.util [Test worker] Previously run:               5
2023-07-02 15:04:33,072 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 15:04:33,072 INFO l.util [Test worker] -------------------------------
2023-07-02 15:04:33,073 INFO l.util [Test worker] Total change sets:            5

2023-07-02 15:04:33,073 INFO l.util [Test worker] Update summary generated
2023-07-02 15:04:33,077 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:04:33,082 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:04:33,083 INFO l.command [Test worker] Command execution complete
2023-07-02 15:04:33,189 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 15:04:33,264 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 15:04:33,267 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-02 15:04:33,373 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:04:33,500 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 15:04:33,542 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6e21b6f8
2023-07-02 15:04:33,728 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:04:34,457 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 15:04:34,534 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:04:34,816 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 15:04:35,408 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 15:04:35,484 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:04:36,031 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e535e23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f2f9ba4, org.springframework.security.web.context.SecurityContextHolderFilter@16e2a7be, org.springframework.security.web.header.HeaderWriterFilter@5dc9d857, org.springframework.security.web.authentication.logout.LogoutFilter@3b5cf4c6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1603d1fb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@11757914, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e67bdd8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@c32b8b0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5ff9bed6, org.springframework.security.web.session.ConcurrentSessionFilter@35cb8b64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10e85525, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4cfc4eb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4be4680b, org.springframework.security.web.access.ExceptionTranslationFilter@7aaa4694, org.springframework.security.web.access.intercept.AuthorizationFilter@25ec2f46]
2023-07-02 15:04:36,667 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 7.514 seconds (process running for 9.98)
2023-07-02 15:04:37,121 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:37,121 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:37,124 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:37,125 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2539cd1c{/,null,STOPPED}
2023-07-02 15:04:37,125 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,STOPPED}
2023-07-02 15:04:38,374 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:04:38,376 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1cdb3a1d{/__admin,null,AVAILABLE}
2023-07-02 15:04:38,377 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:04:38,377 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5bb7e5d7{/,null,AVAILABLE}
2023-07-02 15:04:38,378 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4f1bfab4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:38,379 INFO o.e.j.s.Server [Test worker] Started Server@374f10bb{STARTING}[11.0.15,sto=1000] @11693ms
2023-07-02 15:04:38,661 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:04:38,666 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 13740 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:04:38,666 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:04:38,666 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:04:38,672 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:38,672 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e2e653d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:38,672 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:38,673 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:04:38,673 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:38,673 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@492f79d1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:39,293 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 15:04:39,301 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:04:39,492 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@393a535, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@358afec, org.springframework.security.web.context.SecurityContextHolderFilter@2dc0a0a7, org.springframework.security.web.header.HeaderWriterFilter@7756d3ad, org.springframework.security.web.authentication.logout.LogoutFilter@56d0048d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@20c411ea, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@76669d13, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@44f464d1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58e7de77, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@41143491, org.springframework.security.web.session.ConcurrentSessionFilter@343cb1af, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@480dce26, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@907a731, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26a1028e, org.springframework.security.web.access.ExceptionTranslationFilter@79b3937a, org.springframework.security.web.access.intercept.AuthorizationFilter@4a86103]
2023-07-02 15:04:39,582 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-02 15:04:39,583 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-02 15:04:39,584 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-02 15:04:39,732 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 1.348 seconds (process running for 13.046)
2023-07-02 15:04:40,101 INFO o.e.j.s.Server [Test worker] Stopped Server@374f10bb{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:40,102 INFO o.e.j.s.Server [Test worker] Shutdown Server@374f10bb{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:40,103 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4f1bfab4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:40,104 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5bb7e5d7{/,null,STOPPED}
2023-07-02 15:04:40,104 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1cdb3a1d{/__admin,null,STOPPED}
2023-07-02 15:04:40,129 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:04:40,131 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1d8f4623{/__admin,null,AVAILABLE}
2023-07-02 15:04:40,132 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:04:40,132 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@379ebfa0{/,null,AVAILABLE}
2023-07-02 15:04:40,133 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1d483c89{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:40,133 INFO o.e.j.s.Server [Test worker] Started Server@9f1f42c{STARTING}[11.0.15,sto=1000] @13447ms
2023-07-02 15:04:40,303 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:04:40,309 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 13740 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:04:40,310 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:04:40,310 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:04:40,314 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:40,314 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50dd2e86 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:40,314 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:40,314 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:04:40,314 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:40,314 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@22d12034 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:40,677 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 15:04:40,685 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:04:40,854 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@11de1abe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fce8421, org.springframework.security.web.context.SecurityContextHolderFilter@15ffcd0c, org.springframework.security.web.header.HeaderWriterFilter@6d05a0a2, org.springframework.security.web.authentication.logout.LogoutFilter@3b69ad19, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@28e8c2d6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5e9fb3b7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4568499e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@cf0d241, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5cef8264, org.springframework.security.web.session.ConcurrentSessionFilter@721e1bdf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e725977, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@eb2f0ab, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5bcc14de, org.springframework.security.web.access.ExceptionTranslationFilter@6c56e004, org.springframework.security.web.access.intercept.AuthorizationFilter@28af99b4]
2023-07-02 15:04:40,950 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-02 15:04:40,951 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-02 15:04:40,952 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-02 15:04:40,975 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.839 seconds (process running for 14.289)
2023-07-02 15:04:41,103 INFO o.e.j.s.Server [Test worker] Stopped Server@9f1f42c{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:41,103 INFO o.e.j.s.Server [Test worker] Shutdown Server@9f1f42c{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:41,106 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1d483c89{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:41,107 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@379ebfa0{/,null,STOPPED}
2023-07-02 15:04:41,107 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1d8f4623{/__admin,null,STOPPED}
2023-07-02 15:04:41,124 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:04:41,125 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@72c55bf{/__admin,null,AVAILABLE}
2023-07-02 15:04:41,126 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:04:41,126 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@305c8bf{/,null,AVAILABLE}
2023-07-02 15:04:41,126 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@57ddbe75{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:41,127 INFO o.e.j.s.Server [Test worker] Started Server@26b01fae{STARTING}[11.0.15,sto=1000] @14440ms
2023-07-02 15:04:41,253 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:04:41,255 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 13740 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:04:41,256 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:04:41,256 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:04:41,259 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:41,259 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@551f927f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:41,259 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:41,260 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:04:41,260 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:04:41,260 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41be1997 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:04:41,795 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:04:41,973 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1816701b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a3d8a59, org.springframework.security.web.context.SecurityContextHolderFilter@14d2b5bf, org.springframework.security.web.header.HeaderWriterFilter@7fa710f1, org.springframework.security.web.authentication.logout.LogoutFilter@70cfc5ed, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@71986020, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f762353, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22520d2c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7ac9f8d4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@649f48f6, org.springframework.security.web.session.ConcurrentSessionFilter@33638e3f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12932c18, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55f48623, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56961224, org.springframework.security.web.access.ExceptionTranslationFilter@24645461, org.springframework.security.web.access.intercept.AuthorizationFilter@34c1c7ea]
2023-07-02 15:04:42,061 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-02 15:04:42,061 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-02 15:04:42,062 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-07-02 15:04:42,088 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 0.959 seconds (process running for 15.402)
2023-07-02 15:04:42,131 INFO o.e.j.s.Server [Test worker] Stopped Server@26b01fae{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:42,131 INFO o.e.j.s.Server [Test worker] Shutdown Server@26b01fae{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:04:42,135 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@57ddbe75{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:42,136 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@305c8bf{/,null,STOPPED}
2023-07-02 15:04:42,137 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@72c55bf{/__admin,null,STOPPED}
2023-07-02 15:04:42,217 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 15:04:42,272 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-02 15:04:42,328 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-02 15:04:42,632 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-02 15:04:43,604 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-02 15:04:43,606 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-02 15:04:43,760 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-02 15:04:44,178 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-02 15:04:46,923 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-02 15:04:49,001 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 5ca5e927db411ed60ee22901f60ee9dadca4308180086376c4e3aecdbd7aafb3
2023-07-02 15:04:53,266 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT9.49483S
2023-07-02 15:04:53,384 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-02 15:04:53,385 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-02 15:04:53,385 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-02 15:04:53,387 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 15:04:53,522 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: fb6651ff9a612dbb2ae58dbab60104408fb096ca846f02208d397552be67ba2c
2023-07-02 15:04:59,175 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT5.787779S
2023-07-02 15:04:59,222 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:51011/test?loggerLevel=OFF)
2023-07-02 15:04:59,342 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:04:59,392 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@78df2a0e{/__admin,null,AVAILABLE}
2023-07-02 15:04:59,398 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:04:59,398 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@306e1ba2{/,null,AVAILABLE}
2023-07-02 15:04:59,415 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@787c4ed3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:04:59,418 INFO o.e.j.s.Server [Test worker] Started Server@36fedb2b{STARTING}[11.0.15,sto=1000] @32732ms
2023-07-02 15:05:00,038 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:05:00,062 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 13740 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:05:00,062 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:05:00,062 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:05:00,072 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:05:00,072 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@625bb465 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:05:00,073 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:05:00,073 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:05:00,073 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:05:00,073 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@392aabea uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:05:00,764 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:05:00,764 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 15:05:00,809 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-07-02 15:05:01,014 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-02 15:05:01,451 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@633301e2
2023-07-02 15:05:01,451 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-02 15:05:01,508 INFO l.database [Test worker] Set default schema name to public
2023-07-02 15:05:02,072 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 15:05:02,614 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-02 15:05:02,668 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 15:05:03,319 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 15:05:03,322 INFO l.util [Test worker] Run:                          5
2023-07-02 15:05:03,323 INFO l.util [Test worker] Previously run:               0
2023-07-02 15:05:03,324 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 15:05:03,324 INFO l.util [Test worker] -------------------------------
2023-07-02 15:05:03,324 INFO l.util [Test worker] Total change sets:            5

2023-07-02 15:05:03,325 INFO l.util [Test worker] Update summary generated
2023-07-02 15:05:03,343 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:05:03,416 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:05:03,420 INFO l.command [Test worker] Command execution complete
2023-07-02 15:05:03,539 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 15:05:03,560 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:05:03,561 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 15:05:03,565 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@254e898e
2023-07-02 15:05:03,651 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:05:03,824 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 15:05:04,015 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:05:04,698 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 5.213 seconds (process running for 38.011)
2023-07-02 15:05:05,623 INFO o.e.j.s.Server [Test worker] Stopped Server@36fedb2b{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:05:05,623 INFO o.e.j.s.Server [Test worker] Shutdown Server@36fedb2b{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:05:05,627 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@787c4ed3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:05:05,629 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@306e1ba2{/,null,STOPPED}
2023-07-02 15:05:05,629 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@78df2a0e{/__admin,null,STOPPED}
2023-07-02 15:05:05,647 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 15:05:05,659 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-02 15:05:05,668 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 15:05:05,972 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 15009bea43cd1900490e0f89e3c75d8daa7390b07cd090572c5b789e3d33397a
2023-07-02 15:05:11,481 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT5.809699S
2023-07-02 15:05:11,560 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:51116/test?loggerLevel=OFF)
2023-07-02 15:05:11,712 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:05:11,718 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4afbbe76{/__admin,null,AVAILABLE}
2023-07-02 15:05:11,718 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:05:11,718 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2fde21ee{/,null,AVAILABLE}
2023-07-02 15:05:11,719 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@154c1e08{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:05:11,720 INFO o.e.j.s.Server [Test worker] Started Server@5d1f0cf7{STARTING}[11.0.15,sto=1000] @45034ms
2023-07-02 15:05:12,138 INFO o.e.j.s.Server [Test worker] Stopped Server@5d1f0cf7{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:05:12,138 INFO o.e.j.s.Server [Test worker] Shutdown Server@5d1f0cf7{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:05:12,140 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@154c1e08{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:05:12,140 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2fde21ee{/,null,STOPPED}
2023-07-02 15:05:12,140 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4afbbe76{/__admin,null,STOPPED}
2023-07-02 15:05:13,500 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:05:13,516 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 15:05:13,523 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 15:05:13,569 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:05:13,571 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-02 15:05:13,573 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-02 15:07:48,524 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 15:07:48,801 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-02 15:07:50,739 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:07:50,779 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,AVAILABLE}
2023-07-02 15:07:50,797 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:07:50,797 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2539cd1c{/,null,AVAILABLE}
2023-07-02 15:07:50,812 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:07:50,855 INFO o.e.j.s.Server [Test worker] Started Server@60990e5c{STARTING}[11.0.15,sto=1000] @7468ms
2023-07-02 15:07:51,856 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 15:07:51,872 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:07:51,900 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 14356 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:07:51,901 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:07:51,902 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:07:51,944 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:07:51,944 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a788fe0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:07:51,944 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:07:51,944 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:07:51,944 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:07:51,944 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6238d5e0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:07:53,153 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:07:53,154 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 15:07:53,201 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-07-02 15:07:53,715 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:07:53,716 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 15:07:54,140 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 419 ms. Found 2 JPA repository interfaces.
2023-07-02 15:07:54,170 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:07:54,171 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 15:07:54,189 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 15:07:54,190 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 15:07:54,191 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2023-07-02 15:07:54,845 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=07f88d98-d189-32cf-8cc8-181fb958ddc0
2023-07-02 15:07:55,159 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 15:07:55,268 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 15:07:56,540 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-02 15:07:57,618 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-02 15:07:59,007 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@170f0fd6
2023-07-02 15:07:59,012 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-02 15:08:00,473 INFO l.database [Test worker] Set default schema name to public
2023-07-02 15:08:01,458 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 15:08:03,677 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 15:08:04,237 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 15:08:04,315 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 15:08:04,315 INFO l.util [Test worker] Run:                          0
2023-07-02 15:08:04,315 INFO l.util [Test worker] Previously run:               5
2023-07-02 15:08:04,316 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 15:08:04,316 INFO l.util [Test worker] -------------------------------
2023-07-02 15:08:04,316 INFO l.util [Test worker] Total change sets:            5

2023-07-02 15:08:04,319 INFO l.util [Test worker] Update summary generated
2023-07-02 15:08:04,333 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:08:04,351 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:08:04,353 INFO l.command [Test worker] Command execution complete
2023-07-02 15:08:04,746 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 15:08:04,961 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 15:08:04,965 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-02 15:08:05,361 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:08:05,675 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 15:08:05,926 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2ca3a203
2023-07-02 15:08:06,795 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:08:09,296 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 15:08:09,610 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:08:10,817 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 15:08:12,503 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 15:08:12,916 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:08:14,451 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7cd90b9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@604c9f59, org.springframework.security.web.context.SecurityContextHolderFilter@434ad1f8, org.springframework.security.web.header.HeaderWriterFilter@3fcb6c7b, org.springframework.security.web.authentication.logout.LogoutFilter@6f2f9ba4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@42f814cd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@e107a3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3ad7a94, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@22be8211, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1201d134, org.springframework.security.web.session.ConcurrentSessionFilter@4a49b26f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14bc9d25, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24f89b6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c9aff2, org.springframework.security.web.access.ExceptionTranslationFilter@1a100769, org.springframework.security.web.access.intercept.AuthorizationFilter@77644bb]
2023-07-02 15:08:16,327 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 25.376 seconds (process running for 32.941)
2023-07-02 15:08:17,388 INFO o.e.j.s.Server [Test worker] Stopped Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:17,389 INFO o.e.j.s.Server [Test worker] Shutdown Server@60990e5c{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:17,401 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79a04e5f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:17,406 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2539cd1c{/,null,STOPPED}
2023-07-02 15:08:17,407 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7e4579c7{/__admin,null,STOPPED}
2023-07-02 15:08:20,320 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:08:20,335 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5ba34ac0{/__admin,null,AVAILABLE}
2023-07-02 15:08:20,336 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:08:20,337 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e86d3c{/,null,AVAILABLE}
2023-07-02 15:08:20,338 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@786594c8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:20,342 INFO o.e.j.s.Server [Test worker] Started Server@4b47e09b{STARTING}[11.0.15,sto=1000] @36956ms
2023-07-02 15:08:21,229 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:08:21,242 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 14356 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:08:21,242 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:08:21,242 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:08:21,250 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:21,250 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@529c002c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:21,250 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:21,250 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:08:21,250 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:21,250 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@e35d91b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:23,080 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 15:08:23,115 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:08:23,806 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7756d3ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@343cb1af, org.springframework.security.web.context.SecurityContextHolderFilter@ee5579f, org.springframework.security.web.header.HeaderWriterFilter@7d4e0b10, org.springframework.security.web.authentication.logout.LogoutFilter@5a9529a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@46c0ad2d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@9320aed, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@79b3937a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7856f5e7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2dc0a0a7, org.springframework.security.web.session.ConcurrentSessionFilter@5262b8a3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32ad7ecc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f36e502, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@480dce26, org.springframework.security.web.access.ExceptionTranslationFilter@a56d443, org.springframework.security.web.access.intercept.AuthorizationFilter@42898c45]
2023-07-02 15:08:24,163 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-02 15:08:24,163 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-02 15:08:24,166 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-02 15:08:24,597 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 4.23 seconds (process running for 41.213)
2023-07-02 15:08:25,716 INFO o.e.j.s.Server [Test worker] Stopped Server@4b47e09b{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:25,718 INFO o.e.j.s.Server [Test worker] Shutdown Server@4b47e09b{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:25,723 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@786594c8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:25,725 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e86d3c{/,null,STOPPED}
2023-07-02 15:08:25,726 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5ba34ac0{/__admin,null,STOPPED}
2023-07-02 15:08:25,774 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:08:25,777 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4c23d17f{/__admin,null,AVAILABLE}
2023-07-02 15:08:25,778 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:08:25,778 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4184aa78{/,null,AVAILABLE}
2023-07-02 15:08:25,779 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4a30fa8f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:25,779 INFO o.e.j.s.Server [Test worker] Started Server@331bd9f2{STARTING}[11.0.15,sto=1000] @42396ms
2023-07-02 15:08:26,206 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:08:26,221 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 14356 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:08:26,222 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:08:26,222 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:08:26,232 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:26,232 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a4b0c9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:26,232 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:26,232 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:08:26,233 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:26,233 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7dc26ace uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:27,489 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 15:08:27,500 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:08:28,189 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@15ffcd0c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e725977, org.springframework.security.web.context.SecurityContextHolderFilter@2dd246ff, org.springframework.security.web.header.HeaderWriterFilter@6e36d9ff, org.springframework.security.web.authentication.logout.LogoutFilter@79ef07b3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6c56e004, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6d05a0a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@721e1bdf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6801e8ab, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@eb2f0ab, org.springframework.security.web.session.ConcurrentSessionFilter@34f7b98b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3912e10b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61b33ef7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cf0d241, org.springframework.security.web.access.ExceptionTranslationFilter@3965b638, org.springframework.security.web.access.intercept.AuthorizationFilter@66f02ece]
2023-07-02 15:08:28,424 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-02 15:08:28,424 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-02 15:08:28,425 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-07-02 15:08:28,504 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 2.72 seconds (process running for 45.123)
2023-07-02 15:08:28,866 INFO o.e.j.s.Server [Test worker] Stopped Server@331bd9f2{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:28,867 INFO o.e.j.s.Server [Test worker] Shutdown Server@331bd9f2{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:28,889 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4a30fa8f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:28,899 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4184aa78{/,null,STOPPED}
2023-07-02 15:08:28,900 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4c23d17f{/__admin,null,STOPPED}
2023-07-02 15:08:29,006 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:08:29,008 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@356feae3{/__admin,null,AVAILABLE}
2023-07-02 15:08:29,009 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:08:29,009 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@72c55bf{/,null,AVAILABLE}
2023-07-02 15:08:29,010 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3209eb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:29,072 INFO o.e.j.s.Server [Test worker] Started Server@2ea4fa04{STARTING}[11.0.15,sto=1000] @45692ms
2023-07-02 15:08:29,264 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:08:29,268 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 14356 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:08:29,268 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:08:29,269 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:08:29,274 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:29,275 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@26327339 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:29,275 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:29,275 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:08:29,275 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:29,275 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4a332d23 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:30,446 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 15:08:30,785 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14d2b5bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12932c18, org.springframework.security.web.context.SecurityContextHolderFilter@de4dd7, org.springframework.security.web.header.HeaderWriterFilter@7229e508, org.springframework.security.web.authentication.logout.LogoutFilter@c5ae854, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@24645461, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7fa710f1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@33638e3f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6e0d30e4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@55f48623, org.springframework.security.web.session.ConcurrentSessionFilter@4fc26399, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@fb3e6dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@328f4387, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ac9f8d4, org.springframework.security.web.access.ExceptionTranslationFilter@6f6c01d9, org.springframework.security.web.access.intercept.AuthorizationFilter@430c9347]
2023-07-02 15:08:31,082 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-07-02 15:08:31,084 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-07-02 15:08:31,089 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 4 ms
2023-07-02 15:08:31,259 INFO r.c.N.c.c.UserControllerTest [Test worker] Started UserControllerTest in 2.181 seconds (process running for 47.88)
2023-07-02 15:08:31,433 INFO o.e.j.s.Server [Test worker] Stopped Server@2ea4fa04{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:31,433 INFO o.e.j.s.Server [Test worker] Shutdown Server@2ea4fa04{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:31,440 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3209eb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:31,442 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@72c55bf{/,null,STOPPED}
2023-07-02 15:08:31,444 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@356feae3{/__admin,null,STOPPED}
2023-07-02 15:08:31,555 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 15:08:31,644 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-02 15:08:31,828 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-02 15:08:32,372 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-02 15:08:33,981 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-02 15:08:33,994 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-02 15:08:34,078 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-02 15:08:34,377 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-02 15:08:37,713 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-02 15:08:39,877 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: df4c4ba6a46e0d6aef36a3b3b65fd20d98ed53281c337ed614b5920655817a00
2023-07-02 15:08:44,939 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT10.820835S
2023-07-02 15:08:44,969 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-02 15:08:44,970 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-02 15:08:44,971 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-02 15:08:44,974 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 15:08:45,143 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e11ae656f3167370bb81d92b5369c6a1f50705fd4d450554006ab6d82baac0b3
2023-07-02 15:08:50,820 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT5.847526S
2023-07-02 15:08:50,845 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:52419/test?loggerLevel=OFF)
2023-07-02 15:08:50,948 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:08:50,973 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f66d1ee{/__admin,null,AVAILABLE}
2023-07-02 15:08:50,975 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:08:50,977 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@78df2a0e{/,null,AVAILABLE}
2023-07-02 15:08:50,990 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6699408b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:51,003 INFO o.e.j.s.Server [Test worker] Started Server@1e8b3d92{STARTING}[11.0.15,sto=1000] @67632ms
2023-07-02 15:08:51,447 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 15:08:51,465 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 14356 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 15:08:51,465 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 15:08:51,465 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 15:08:51,471 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:51,471 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@12eae11d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:51,471 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:51,471 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 15:08:51,471 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 15:08:51,471 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@42d7b96 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 15:08:51,881 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 15:08:51,884 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 15:08:51,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 91 ms. Found 2 JPA repository interfaces.
2023-07-02 15:08:52,208 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-02 15:08:52,677 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5ead823e
2023-07-02 15:08:52,687 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-02 15:08:52,787 INFO l.database [Test worker] Set default schema name to public
2023-07-02 15:08:53,011 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 15:08:53,306 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-02 15:08:53,326 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 15:08:53,686 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 15:08:53,690 INFO l.util [Test worker] Run:                          5
2023-07-02 15:08:53,691 INFO l.util [Test worker] Previously run:               0
2023-07-02 15:08:53,691 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 15:08:53,692 INFO l.util [Test worker] -------------------------------
2023-07-02 15:08:53,693 INFO l.util [Test worker] Total change sets:            5

2023-07-02 15:08:53,696 INFO l.util [Test worker] Update summary generated
2023-07-02 15:08:53,717 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:08:53,758 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 15:08:53,762 INFO l.command [Test worker] Command execution complete
2023-07-02 15:08:53,953 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 15:08:53,999 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:08:54,000 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 15:08:54,016 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@66860e08
2023-07-02 15:08:54,082 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 15:08:54,367 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 15:08:54,488 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:08:54,988 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 3.958 seconds (process running for 71.618)
2023-07-02 15:08:55,677 INFO o.e.j.s.Server [Test worker] Stopped Server@1e8b3d92{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:55,678 INFO o.e.j.s.Server [Test worker] Shutdown Server@1e8b3d92{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:08:55,680 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6699408b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:08:55,681 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@78df2a0e{/,null,STOPPED}
2023-07-02 15:08:55,681 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f66d1ee{/__admin,null,STOPPED}
2023-07-02 15:08:55,689 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 15:08:55,696 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-02 15:08:55,700 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 15:08:56,051 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 443c495bc460046c8c2d7809fd2159873d000e7e0f8d20aaf64be7a68925086b
2023-07-02 15:09:01,436 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT5.733624S
2023-07-02 15:09:01,454 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:52431/test?loggerLevel=OFF)
2023-07-02 15:09:01,565 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 15:09:01,574 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@380ce6fc{/__admin,null,AVAILABLE}
2023-07-02 15:09:01,576 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 15:09:01,576 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4afbbe76{/,null,AVAILABLE}
2023-07-02 15:09:01,578 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@84b9aec{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:09:01,579 INFO o.e.j.s.Server [Test worker] Started Server@29114a3{STARTING}[11.0.15,sto=1000] @78211ms
2023-07-02 15:09:02,115 INFO o.e.j.s.Server [Test worker] Stopped Server@29114a3{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:09:02,116 INFO o.e.j.s.Server [Test worker] Shutdown Server@29114a3{STOPPING}[11.0.15,sto=1000]
2023-07-02 15:09:02,118 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@84b9aec{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 15:09:02,119 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4afbbe76{/,null,STOPPED}
2023-07-02 15:09:02,119 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@380ce6fc{/__admin,null,STOPPED}
2023-07-02 15:09:03,547 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:09:03,552 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 15:09:03,568 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 15:09:03,674 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 15:09:03,676 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-07-02 15:09:03,681 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-07-02 20:01:01,430 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 20:01:01,626 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 44474 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 20:01:01,641 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 20:01:01,645 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 20:01:01,866 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:01:01,868 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:01:01,868 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:01:01,868 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 20:01:01,868 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:01:01,868 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:01:04,021 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:01:04,028 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 20:01:04,384 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 336 ms. Found 2 JPA repository interfaces.
2023-07-02 20:01:04,439 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:01:04,440 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 20:01:04,468 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:01:04,468 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:01:04,468 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-07-02 20:01:05,074 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=1f3a3f04-aaac-3049-9423-2d60fcc769d5
2023-07-02 20:01:05,280 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 20:01:05,344 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 20:01:06,623 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 20:01:06,640 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 20:01:06,642 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 20:01:06,642 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 20:01:06,851 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 20:01:06,852 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4977 ms
2023-07-02 20:01:09,013 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 20:01:09,132 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@25110bb9
2023-07-02 20:01:09,135 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 20:01:09,264 INFO l.database [main] Set default schema name to public
2023-07-02 20:01:09,537 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 20:01:10,505 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:01:10,749 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:01:10,816 INFO l.util [main] UPDATE SUMMARY
2023-07-02 20:01:10,823 INFO l.util [main] Run:                          0
2023-07-02 20:01:10,824 INFO l.util [main] Previously run:               5
2023-07-02 20:01:10,828 INFO l.util [main] Filtered out:                 0
2023-07-02 20:01:10,828 INFO l.util [main] -------------------------------
2023-07-02 20:01:10,828 INFO l.util [main] Total change sets:            5

2023-07-02 20:01:10,833 INFO l.util [main] Update summary generated
2023-07-02 20:01:10,847 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:01:10,924 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:01:10,927 INFO l.command [main] Command execution complete
2023-07-02 20:01:11,259 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 20:01:11,360 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 20:01:11,363 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 20:01:11,550 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:01:11,792 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 20:01:11,852 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@20ddc780
2023-07-02 20:01:12,178 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:01:13,112 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 20:01:13,286 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:01:14,219 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 20:01:15,840 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 20:01:16,380 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 20:01:17,737 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4fa7df5c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29788adf, org.springframework.security.web.context.SecurityContextHolderFilter@746169cd, org.springframework.security.web.header.HeaderWriterFilter@3ec457ec, org.springframework.security.web.authentication.logout.LogoutFilter@6ff708d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@786c7cc9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@28d26e57, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4315d110, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3f3e21d7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2f0166d7, org.springframework.security.web.session.ConcurrentSessionFilter@63838642, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10357889, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a0ba5f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42530cd6, org.springframework.security.web.access.ExceptionTranslationFilter@adeb5a6, org.springframework.security.web.access.intercept.AuthorizationFilter@5e5db72e]
2023-07-02 20:01:19,043 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 20:01:19,071 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 20:01:19,114 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.574 seconds (process running for 23.743)
2023-07-02 20:02:14,356 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 20:02:14,358 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 20:02:14,381 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 23 ms
2023-07-02 20:02:14,686 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 20:02:15,576 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readAll(..):RESULT is{[News(id=1, author=Artsem, time=2023-05-26T00:00, title=Technology Advancements in Artificial Intelligence, text=Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.), News(id=2, author=Artsem, time=2023-06-01T00:00, title=Exploring the Benefits of Renewable Energy Sources, text=Renewable energy sources such as solar and wind power offer numerous environmental and economic benefits.), News(id=3, author=Artsem, time=2023-06-10T00:00, title=The Rise of E-commerce and its Impact on Traditional Retailers, text=The increasing popularity of online shopping has posed challenges for brick-and-mortar retailers.), News(id=4, author=null, time=2023-06-15T00:00, title=Global Efforts to Combat Climate Change, text=Countries around the world are taking steps to reduce greenhouse gas emissions and mitigate the effects of climate change.), News(id=5, author=Andrei, time=2023-06-20T00:00, title=Advancements in Medical Research for Disease Treatment, text=Scientists and researchers are making progress in developing new treatments and therapies for various diseases.), News(id=6, author=Andrei, time=2023-06-25T00:00, title=The Impact of Social Media on Society, text=Social media platforms have transformed the way we communicate and interact with others.), News(id=7, author=Andrei, time=2023-07-01T00:00, title=Space Exploration and Discoveries, text=Exploration of outer space has led to significant discoveries and advancements in our understanding of the universe.), News(id=8, author=Andrei, time=2023-07-06T00:00, title=The Growing Importance of Cybersecurity, text=As technology becomes more integrated into our lives, the need for strong cybersecurity measures is paramount.), News(id=9, author=Vlad, time=2023-07-11T00:00, title=Advancements in Autonomous Vehicles, text=Self-driving cars and autonomous vehicles are poised to revolutionize the transportation industry.), News(id=10, author=Vlad, time=2023-07-16T00:00, title=The Future of Work: Automation and Job Market Trends, text=Automation technologies are reshaping the job market and requiring workers to adapt to new skills and roles.)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 20:02:20,257 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 20:02:20,430 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 20:02:35,144 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #UserController.create(..):ARGUMENT is(userDto=username: "te"
password: "test_0"
role: "SUBSCRIBER"
}
2023-07-02 20:16:16,733 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #UserController.create(..):ARGUMENT is(userDto=username: "te"
password: "test_0"
role: "SUBSCRIBER"
}
2023-07-02 20:17:37,198 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:17:37,267 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 20:17:37,300 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 20:17:58,657 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 20:17:58,868 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 46561 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 20:17:58,871 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 20:17:58,876 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 20:17:59,088 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:17:59,089 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:17:59,089 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:17:59,089 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 20:17:59,089 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:17:59,089 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:18:01,791 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:18:01,793 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 20:18:02,094 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 282 ms. Found 2 JPA repository interfaces.
2023-07-02 20:18:02,174 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:18:02,175 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 20:18:02,213 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:18:02,214 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:18:02,214 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2023-07-02 20:18:02,844 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=1f3a3f04-aaac-3049-9423-2d60fcc769d5
2023-07-02 20:18:03,083 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 20:18:03,202 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 20:18:04,545 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 20:18:04,569 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 20:18:04,571 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 20:18:04,572 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 20:18:04,814 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 20:18:04,816 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5721 ms
2023-07-02 20:18:08,443 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 20:18:08,731 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18b45500
2023-07-02 20:18:08,734 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 20:18:09,157 INFO l.database [main] Set default schema name to public
2023-07-02 20:18:09,514 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 20:18:14,482 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:18:15,904 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:18:16,037 INFO l.util [main] UPDATE SUMMARY
2023-07-02 20:18:16,040 INFO l.util [main] Run:                          0
2023-07-02 20:18:16,041 INFO l.util [main] Previously run:               5
2023-07-02 20:18:16,041 INFO l.util [main] Filtered out:                 0
2023-07-02 20:18:16,041 INFO l.util [main] -------------------------------
2023-07-02 20:18:16,042 INFO l.util [main] Total change sets:            5

2023-07-02 20:18:16,071 INFO l.util [main] Update summary generated
2023-07-02 20:18:16,097 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:18:16,163 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:18:16,170 INFO l.command [main] Command execution complete
2023-07-02 20:18:17,232 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 20:18:17,396 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 20:18:17,406 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 20:18:17,965 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:18:18,406 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 20:18:18,521 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3b39bee2
2023-07-02 20:18:19,021 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:18:21,330 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 20:18:21,571 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:18:23,062 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 20:18:24,529 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 20:18:24,905 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 20:18:26,736 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62c72490, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ec9f91b, org.springframework.security.web.context.SecurityContextHolderFilter@5a52b5f8, org.springframework.security.web.header.HeaderWriterFilter@59b782fa, org.springframework.security.web.authentication.logout.LogoutFilter@15a806a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6e52877d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@57b4967e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ba8b91c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3b418ca2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@32ca397b, org.springframework.security.web.session.ConcurrentSessionFilter@401358e5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60b201c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7489bca4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@41c02b8c, org.springframework.security.web.access.ExceptionTranslationFilter@19a71722, org.springframework.security.web.access.intercept.AuthorizationFilter@13987842]
2023-07-02 20:18:27,694 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 20:18:27,723 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 20:18:27,743 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 31.379 seconds (process running for 32.864)
2023-07-02 20:18:55,035 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 20:18:55,039 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 20:18:55,070 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 30 ms
2023-07-02 20:18:55,468 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #UserController.create(..):ARGUMENT is(userDto=username: "te"
password: "test_0"
role: "SUBSCRIBER"
}
2023-07-02 20:26:31,405 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #UserController.create(..):ARGUMENT is(userDto=username: "te"
password: "test_0"
role: "SUBSCRIBER"
}
2023-07-02 20:26:51,218 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #UserController.create(..):ARGUMENT is(userDto=username: "tewwwww"
password: "test_0"
role: "SUBSCRIBER"
}
2023-07-02 20:26:51,403 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #UserController.create(..):RESULT is{53}ARGUMENT is(userDto=username: "tewwwww"
password: "test_0"
role: "SUBSCRIBER"
}
2023-07-02 20:27:58,791 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:27:58,964 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 20:27:58,982 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 20:28:23,558 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 20:28:23,692 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 47909 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 20:28:23,698 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 20:28:23,702 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 20:28:24,015 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:28:24,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:28:24,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:28:24,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 20:28:24,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:28:24,018 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:28:26,028 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:28:26,030 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 20:28:26,234 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 197 ms. Found 2 JPA repository interfaces.
2023-07-02 20:28:26,283 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:28:26,284 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 20:28:26,310 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:28:26,311 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:28:26,311 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2023-07-02 20:28:26,844 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=1f3a3f04-aaac-3049-9423-2d60fcc769d5
2023-07-02 20:28:27,028 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 20:28:27,089 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 20:28:28,344 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 20:28:28,356 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 20:28:28,357 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 20:28:28,357 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 20:28:28,574 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 20:28:28,575 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4548 ms
2023-07-02 20:28:30,339 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 20:28:30,483 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@13a9cdae
2023-07-02 20:28:30,487 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 20:28:30,916 INFO l.database [main] Set default schema name to public
2023-07-02 20:28:31,257 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 20:28:32,587 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:28:32,916 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:28:32,992 INFO l.util [main] UPDATE SUMMARY
2023-07-02 20:28:32,993 INFO l.util [main] Run:                          0
2023-07-02 20:28:32,993 INFO l.util [main] Previously run:               5
2023-07-02 20:28:32,994 INFO l.util [main] Filtered out:                 0
2023-07-02 20:28:32,994 INFO l.util [main] -------------------------------
2023-07-02 20:28:32,995 INFO l.util [main] Total change sets:            5

2023-07-02 20:28:32,997 INFO l.util [main] Update summary generated
2023-07-02 20:28:33,017 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:28:33,043 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:28:33,046 INFO l.command [main] Command execution complete
2023-07-02 20:28:33,547 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 20:28:33,718 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 20:28:33,723 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 20:28:34,221 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:28:34,525 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 20:28:34,634 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3f67f5ff
2023-07-02 20:28:35,167 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:28:36,828 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 20:28:36,988 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:28:38,179 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 20:28:40,191 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 20:28:40,457 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 20:28:41,915 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24338110, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69e87cbe, org.springframework.security.web.context.SecurityContextHolderFilter@21f9b360, org.springframework.security.web.header.HeaderWriterFilter@7d963aca, org.springframework.security.web.authentication.logout.LogoutFilter@64ca0be0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3934574f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@26338386, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3e8a1137, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2183db30, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@32daea66, org.springframework.security.web.session.ConcurrentSessionFilter@4273c8be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c53f543, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41c02b8c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ae30b05, org.springframework.security.web.access.ExceptionTranslationFilter@2dfc833b, org.springframework.security.web.access.intercept.AuthorizationFilter@1f4e9eee]
2023-07-02 20:28:43,657 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 20:28:43,701 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 20:28:43,733 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 22.647 seconds (process running for 24.407)
2023-07-02 20:29:50,932 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 20:29:50,934 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 20:29:50,966 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 31 ms
2023-07-02 20:29:51,087 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 20:29:51,394 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 20:41:16,196 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 20:41:17,912 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readAll(..):RESULT is{[News(id=1, author=Artsem, time=2023-05-26T00:00, title=Technology Advancements in Artificial Intelligence, text=Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.), News(id=2, author=Artsem, time=2023-06-01T00:00, title=Exploring the Benefits of Renewable Energy Sources, text=Renewable energy sources such as solar and wind power offer numerous environmental and economic benefits.), News(id=3, author=Artsem, time=2023-06-10T00:00, title=The Rise of E-commerce and its Impact on Traditional Retailers, text=The increasing popularity of online shopping has posed challenges for brick-and-mortar retailers.), News(id=4, author=null, time=2023-06-15T00:00, title=Global Efforts to Combat Climate Change, text=Countries around the world are taking steps to reduce greenhouse gas emissions and mitigate the effects of climate change.), News(id=5, author=Andrei, time=2023-06-20T00:00, title=Advancements in Medical Research for Disease Treatment, text=Scientists and researchers are making progress in developing new treatments and therapies for various diseases.), News(id=6, author=Andrei, time=2023-06-25T00:00, title=The Impact of Social Media on Society, text=Social media platforms have transformed the way we communicate and interact with others.), News(id=7, author=Andrei, time=2023-07-01T00:00, title=Space Exploration and Discoveries, text=Exploration of outer space has led to significant discoveries and advancements in our understanding of the universe.), News(id=8, author=Andrei, time=2023-07-06T00:00, title=The Growing Importance of Cybersecurity, text=As technology becomes more integrated into our lives, the need for strong cybersecurity measures is paramount.), News(id=9, author=Vlad, time=2023-07-11T00:00, title=Advancements in Autonomous Vehicles, text=Self-driving cars and autonomous vehicles are poised to revolutionize the transportation industry.), News(id=10, author=Vlad, time=2023-07-16T00:00, title=The Future of Work: Automation and Job Market Trends, text=Automation technologies are reshaping the job market and requiring workers to adapt to new skills and roles.)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 20:43:52,884 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 20:43:53,011 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 20:45:47,722 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 20:45:47,781 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 20:48:25,390 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:48:25,479 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 20:48:25,525 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 20:48:43,234 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 20:48:43,411 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 50197 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 20:48:43,453 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 20:48:43,457 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 20:48:43,792 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:48:43,794 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:48:43,794 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:48:43,794 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 20:48:43,794 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:48:43,794 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:48:45,816 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:48:45,819 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 20:48:46,092 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 265 ms. Found 2 JPA repository interfaces.
2023-07-02 20:48:46,186 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:48:46,187 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 20:48:46,221 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:48:46,222 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:48:46,222 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2023-07-02 20:48:46,747 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=1f3a3f04-aaac-3049-9423-2d60fcc769d5
2023-07-02 20:48:47,095 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 20:48:47,188 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 20:48:48,193 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 20:48:48,204 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 20:48:48,205 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 20:48:48,205 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 20:48:48,395 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 20:48:48,398 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4601 ms
2023-07-02 20:48:49,927 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 20:48:50,039 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3aeb267
2023-07-02 20:48:50,040 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 20:48:50,369 INFO l.database [main] Set default schema name to public
2023-07-02 20:48:50,560 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 20:48:51,729 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:48:51,997 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:48:52,020 INFO l.util [main] UPDATE SUMMARY
2023-07-02 20:48:52,021 INFO l.util [main] Run:                          0
2023-07-02 20:48:52,021 INFO l.util [main] Previously run:               5
2023-07-02 20:48:52,022 INFO l.util [main] Filtered out:                 0
2023-07-02 20:48:52,022 INFO l.util [main] -------------------------------
2023-07-02 20:48:52,022 INFO l.util [main] Total change sets:            5

2023-07-02 20:48:52,023 INFO l.util [main] Update summary generated
2023-07-02 20:48:52,037 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:48:52,045 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:48:52,046 INFO l.command [main] Command execution complete
2023-07-02 20:48:52,370 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 20:48:52,440 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 20:48:52,444 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 20:48:52,921 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:48:53,117 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 20:48:53,210 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@69e308e2
2023-07-02 20:48:53,614 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:48:54,808 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 20:48:55,025 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:48:55,745 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 20:48:57,036 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 20:48:57,389 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 20:48:58,616 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21f9b360, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@520dc647, org.springframework.security.web.context.SecurityContextHolderFilter@69ebb009, org.springframework.security.web.header.HeaderWriterFilter@19a71722, org.springframework.security.web.authentication.logout.LogoutFilter@11734d3d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@547930a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cdc1d81, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@10b60a9c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2f474e6f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6c53f543, org.springframework.security.web.session.ConcurrentSessionFilter@7817824d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@462478a3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@630fa11e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62c72490, org.springframework.security.web.access.ExceptionTranslationFilter@57a20e44, org.springframework.security.web.access.intercept.AuthorizationFilter@300788d6]
2023-07-02 20:48:59,584 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 20:48:59,606 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 20:48:59,625 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.551 seconds (process running for 20.855)
2023-07-02 20:49:23,783 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 20:49:23,785 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 20:49:23,799 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 14 ms
2023-07-02 20:50:02,030 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 20:50:02,461 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 20:50:07,406 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 20:50:07,444 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 20:50:08,270 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 20:50:09,141 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readAll(..):RESULT is{[News(id=1, author=Artsem, time=2023-05-26T00:00, title=Technology Advancements in Artificial Intelligence, text=Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.), News(id=2, author=Artsem, time=2023-06-01T00:00, title=Exploring the Benefits of Renewable Energy Sources, text=Renewable energy sources such as solar and wind power offer numerous environmental and economic benefits.), News(id=3, author=Artsem, time=2023-06-10T00:00, title=The Rise of E-commerce and its Impact on Traditional Retailers, text=The increasing popularity of online shopping has posed challenges for brick-and-mortar retailers.), News(id=4, author=null, time=2023-06-15T00:00, title=Global Efforts to Combat Climate Change, text=Countries around the world are taking steps to reduce greenhouse gas emissions and mitigate the effects of climate change.), News(id=5, author=Andrei, time=2023-06-20T00:00, title=Advancements in Medical Research for Disease Treatment, text=Scientists and researchers are making progress in developing new treatments and therapies for various diseases.), News(id=6, author=Andrei, time=2023-06-25T00:00, title=The Impact of Social Media on Society, text=Social media platforms have transformed the way we communicate and interact with others.), News(id=7, author=Andrei, time=2023-07-01T00:00, title=Space Exploration and Discoveries, text=Exploration of outer space has led to significant discoveries and advancements in our understanding of the universe.), News(id=8, author=Andrei, time=2023-07-06T00:00, title=The Growing Importance of Cybersecurity, text=As technology becomes more integrated into our lives, the need for strong cybersecurity measures is paramount.), News(id=9, author=Vlad, time=2023-07-11T00:00, title=Advancements in Autonomous Vehicles, text=Self-driving cars and autonomous vehicles are poised to revolutionize the transportation industry.), News(id=10, author=Vlad, time=2023-07-16T00:00, title=The Future of Work: Automation and Job Market Trends, text=Automation technologies are reshaping the job market and requiring workers to adapt to new skills and roles.)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 20:50:24,562 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:50:24,597 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 20:50:24,615 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 20:51:37,797 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 20:51:37,885 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 50552 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 20:51:37,887 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 20:51:37,890 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 20:51:38,234 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:51:38,235 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:51:38,235 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:51:38,235 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 20:51:38,235 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:51:38,235 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:51:39,966 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:51:39,973 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 20:51:40,258 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 268 ms. Found 2 JPA repository interfaces.
2023-07-02 20:51:40,319 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:51:40,320 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 20:51:40,348 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:51:40,349 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:51:40,349 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-07-02 20:51:40,901 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=1f3a3f04-aaac-3049-9423-2d60fcc769d5
2023-07-02 20:51:41,253 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 20:51:41,318 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 20:51:42,583 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 20:51:42,596 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 20:51:42,598 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 20:51:42,598 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 20:51:42,772 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 20:51:42,773 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4535 ms
2023-07-02 20:51:44,154 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 20:51:44,257 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@25110bb9
2023-07-02 20:51:44,259 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 20:51:44,538 INFO l.database [main] Set default schema name to public
2023-07-02 20:51:44,720 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 20:51:45,464 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:51:45,615 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:51:45,640 INFO l.util [main] UPDATE SUMMARY
2023-07-02 20:51:45,642 INFO l.util [main] Run:                          0
2023-07-02 20:51:45,642 INFO l.util [main] Previously run:               5
2023-07-02 20:51:45,642 INFO l.util [main] Filtered out:                 0
2023-07-02 20:51:45,642 INFO l.util [main] -------------------------------
2023-07-02 20:51:45,642 INFO l.util [main] Total change sets:            5

2023-07-02 20:51:45,643 INFO l.util [main] Update summary generated
2023-07-02 20:51:45,651 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:51:45,656 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:51:45,658 INFO l.command [main] Command execution complete
2023-07-02 20:51:45,841 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 20:51:45,907 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 20:51:45,909 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 20:51:46,279 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:51:46,442 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 20:51:46,500 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@20ddc780
2023-07-02 20:51:46,788 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:51:47,580 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 20:51:47,679 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:51:48,739 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 20:51:51,245 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 20:51:51,622 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 20:51:53,163 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@11eb41f4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35950e2, org.springframework.security.web.context.SecurityContextHolderFilter@18212778, org.springframework.security.web.header.HeaderWriterFilter@11734d3d, org.springframework.security.web.authentication.logout.LogoutFilter@7ba8b91c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7122b1ff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@fadd58, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6ba88a47, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2e4a0669, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@77f0b9d7, org.springframework.security.web.session.ConcurrentSessionFilter@300788d6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19b0f61c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@33e2808e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c9c375, org.springframework.security.web.access.ExceptionTranslationFilter@4ce1292a, org.springframework.security.web.access.intercept.AuthorizationFilter@1a787480]
2023-07-02 20:51:54,427 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 20:51:54,461 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 20:51:54,483 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.436 seconds (process running for 20.656)
2023-07-02 20:51:57,842 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 20:51:57,844 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 20:51:57,867 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 23 ms
2023-07-02 20:51:57,982 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 20:51:58,287 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 20:55:03,596 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:55:03,628 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 20:55:03,656 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 20:55:18,285 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 20:55:18,466 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 51045 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 20:55:18,471 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 20:55:18,478 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 20:55:18,773 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:55:18,775 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:55:18,776 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:55:18,776 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 20:55:18,776 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 20:55:18,776 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 20:55:21,829 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:55:21,832 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 20:55:22,246 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 404 ms. Found 2 JPA repository interfaces.
2023-07-02 20:55:22,352 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 20:55:22,353 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 20:55:22,416 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:55:22,417 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 20:55:22,418 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 51 ms. Found 0 Redis repository interfaces.
2023-07-02 20:55:23,139 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=98660897-28c5-3175-8431-1bd764902202
2023-07-02 20:55:23,515 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 20:55:23,604 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 20:55:25,232 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 20:55:25,280 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 20:55:25,288 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 20:55:25,289 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 20:55:25,655 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 20:55:25,659 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6879 ms
2023-07-02 20:55:27,823 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 20:55:27,951 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3c5e4aac
2023-07-02 20:55:27,953 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 20:55:28,221 INFO l.database [main] Set default schema name to public
2023-07-02 20:55:28,424 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 20:55:29,555 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:55:29,802 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 20:55:29,835 INFO l.util [main] UPDATE SUMMARY
2023-07-02 20:55:29,838 INFO l.util [main] Run:                          0
2023-07-02 20:55:29,838 INFO l.util [main] Previously run:               5
2023-07-02 20:55:29,838 INFO l.util [main] Filtered out:                 0
2023-07-02 20:55:29,839 INFO l.util [main] -------------------------------
2023-07-02 20:55:29,839 INFO l.util [main] Total change sets:            5

2023-07-02 20:55:29,841 INFO l.util [main] Update summary generated
2023-07-02 20:55:29,853 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:55:29,880 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 20:55:29,886 INFO l.command [main] Command execution complete
2023-07-02 20:55:30,244 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 20:55:30,314 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 20:55:30,317 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 20:55:30,592 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:55:30,742 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 20:55:30,787 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5bfeb9ba
2023-07-02 20:55:31,192 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 20:55:32,521 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 20:55:32,682 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:55:33,744 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 20:55:35,646 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 20:55:36,169 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 20:55:37,368 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5de4f44e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36e7a455, org.springframework.security.web.context.SecurityContextHolderFilter@7a5bccb8, org.springframework.security.web.header.HeaderWriterFilter@4c082a7d, org.springframework.security.web.authentication.logout.LogoutFilter@1a6b2564, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@452d9887, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5aa16232, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b7708d9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@69b66787, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@627ceaf, org.springframework.security.web.session.ConcurrentSessionFilter@1821e3f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@418422c3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4b89b14a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f738b8, org.springframework.security.web.access.ExceptionTranslationFilter@404f1907, org.springframework.security.web.access.intercept.AuthorizationFilter@3fe1a2ff]
2023-07-02 20:55:38,665 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 20:55:38,700 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 20:55:38,717 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 22.844 seconds (process running for 24.571)
2023-07-02 20:55:39,893 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 20:55:39,894 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 20:55:39,913 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 19 ms
2023-07-02 20:56:31,242 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 20:56:31,250 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 20:56:31,260 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:00:29,406 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:00:29,620 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 51669 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:00:29,621 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:00:29,627 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:00:30,111 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:00:30,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:00:30,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:00:30,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:00:30,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:00:30,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:00:32,703 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:00:32,705 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:00:32,920 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 208 ms. Found 2 JPA repository interfaces.
2023-07-02 21:00:33,079 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:00:33,080 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:00:33,116 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:00:33,118 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:00:33,118 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2023-07-02 21:00:33,905 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=98660897-28c5-3175-8431-1bd764902202
2023-07-02 21:00:34,241 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:00:34,362 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:00:36,191 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:00:36,206 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:00:36,208 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:00:36,209 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:00:36,486 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:00:36,487 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6368 ms
2023-07-02 21:00:38,345 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:00:38,485 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21bf308
2023-07-02 21:00:38,488 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:00:38,908 INFO l.database [main] Set default schema name to public
2023-07-02 21:00:39,137 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:00:40,368 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:00:40,595 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:00:40,627 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:00:40,630 INFO l.util [main] Run:                          0
2023-07-02 21:00:40,630 INFO l.util [main] Previously run:               5
2023-07-02 21:00:40,630 INFO l.util [main] Filtered out:                 0
2023-07-02 21:00:40,630 INFO l.util [main] -------------------------------
2023-07-02 21:00:40,630 INFO l.util [main] Total change sets:            5

2023-07-02 21:00:40,631 INFO l.util [main] Update summary generated
2023-07-02 21:00:40,645 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:00:40,669 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:00:40,670 INFO l.command [main] Command execution complete
2023-07-02 21:00:40,937 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:00:41,115 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:00:41,119 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:00:41,395 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:00:41,557 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:00:41,623 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@445f6aa7
2023-07-02 21:00:41,973 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:00:43,378 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:00:43,520 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:00:44,534 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:00:46,064 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:00:46,406 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:00:47,429 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@109fa8e2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@743fc1ee, org.springframework.security.web.context.SecurityContextHolderFilter@408ce324, org.springframework.security.web.header.HeaderWriterFilter@64476bb5, org.springframework.security.web.authentication.logout.LogoutFilter@346b793b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2a5782d7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5ab6cb92, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3a34d64a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@49a14b44, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4967d14c, org.springframework.security.web.session.ConcurrentSessionFilter@58decd96, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6799cded, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44808c29, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38aa5ffe, org.springframework.security.web.access.ExceptionTranslationFilter@5bf9c995, org.springframework.security.web.access.intercept.AuthorizationFilter@fe8344c]
2023-07-02 21:00:49,344 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:00:49,390 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:00:49,416 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 22.211 seconds (process running for 23.634)
2023-07-02 21:01:02,739 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:01:02,741 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:01:02,763 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 22 ms
2023-07-02 21:02:17,421 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.create(..):ARGUMENT is(news=title: "Same Title"
text: "Same Text"
}
2023-07-02 21:02:17,808 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-4] SQL Error: 0, SQLState: 23505
2023-07-02 21:02:17,809 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-4] ERROR: duplicate key value violates unique constraint "news_pkey"
  Подробности: Key (id)=(1) already exists.
2023-07-02 21:03:41,948 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 21:03:42,376 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 21:03:45,890 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 21:03:47,534 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.readAll(..):RESULT is{[News(id=1, author=Artsem, time=2023-05-26T00:00, title=Technology Advancements in Artificial Intelligence, text=Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.), News(id=2, author=Artsem, time=2023-06-01T00:00, title=Exploring the Benefits of Renewable Energy Sources, text=Renewable energy sources such as solar and wind power offer numerous environmental and economic benefits.), News(id=3, author=Artsem, time=2023-06-10T00:00, title=The Rise of E-commerce and its Impact on Traditional Retailers, text=The increasing popularity of online shopping has posed challenges for brick-and-mortar retailers.), News(id=4, author=null, time=2023-06-15T00:00, title=Global Efforts to Combat Climate Change, text=Countries around the world are taking steps to reduce greenhouse gas emissions and mitigate the effects of climate change.), News(id=5, author=Andrei, time=2023-06-20T00:00, title=Advancements in Medical Research for Disease Treatment, text=Scientists and researchers are making progress in developing new treatments and therapies for various diseases.), News(id=6, author=Andrei, time=2023-06-25T00:00, title=The Impact of Social Media on Society, text=Social media platforms have transformed the way we communicate and interact with others.), News(id=7, author=Andrei, time=2023-07-01T00:00, title=Space Exploration and Discoveries, text=Exploration of outer space has led to significant discoveries and advancements in our understanding of the universe.), News(id=8, author=Andrei, time=2023-07-06T00:00, title=The Growing Importance of Cybersecurity, text=As technology becomes more integrated into our lives, the need for strong cybersecurity measures is paramount.), News(id=9, author=Vlad, time=2023-07-11T00:00, title=Advancements in Autonomous Vehicles, text=Self-driving cars and autonomous vehicles are poised to revolutionize the transportation industry.), News(id=10, author=Vlad, time=2023-07-16T00:00, title=The Future of Work: Automation and Job Market Trends, text=Automation technologies are reshaping the job market and requiring workers to adapt to new skills and roles.)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 21:04:23,062 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.create(..):ARGUMENT is(news=title: "Same Title"
text: "Same Text"
}
2023-07-02 21:04:23,103 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-9] SQL Error: 0, SQLState: 23505
2023-07-02 21:04:23,103 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-9] ERROR: duplicate key value violates unique constraint "news_pkey"
  Подробности: Key (id)=(2) already exists.
2023-07-02 21:04:30,212 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.create(..):ARGUMENT is(news=title: "Same Title"
text: "Same Text"
}
2023-07-02 21:04:30,229 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-10] SQL Error: 0, SQLState: 23505
2023-07-02 21:04:30,229 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-10] ERROR: duplicate key value violates unique constraint "news_pkey"
  Подробности: Key (id)=(3) already exists.
2023-07-02 21:06:08,352 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:06:08,378 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:06:08,420 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:06:20,419 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:06:20,557 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 52371 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:06:20,558 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:06:20,564 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:06:20,783 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:06:20,785 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:06:20,785 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:06:20,785 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:06:20,785 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:06:20,785 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:06:22,609 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:06:22,611 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:06:22,816 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 198 ms. Found 2 JPA repository interfaces.
2023-07-02 21:06:22,870 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:06:22,871 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:06:22,894 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:06:22,895 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:06:22,895 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-07-02 21:06:23,781 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=98660897-28c5-3175-8431-1bd764902202
2023-07-02 21:06:23,968 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:06:24,041 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:06:25,351 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:06:25,373 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:06:25,375 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:06:25,375 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:06:25,645 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:06:25,649 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 4861 ms
2023-07-02 21:06:27,621 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:06:27,751 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@67c2b55d
2023-07-02 21:06:27,753 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:06:28,030 INFO l.database [main] Set default schema name to public
2023-07-02 21:06:28,205 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:06:28,908 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:06:29,051 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:06:29,100 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:06:29,101 INFO l.util [main] Run:                          0
2023-07-02 21:06:29,101 INFO l.util [main] Previously run:               5
2023-07-02 21:06:29,101 INFO l.util [main] Filtered out:                 0
2023-07-02 21:06:29,101 INFO l.util [main] -------------------------------
2023-07-02 21:06:29,101 INFO l.util [main] Total change sets:            5

2023-07-02 21:06:29,109 INFO l.util [main] Update summary generated
2023-07-02 21:06:29,135 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:06:29,161 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:06:29,168 INFO l.command [main] Command execution complete
2023-07-02 21:06:29,403 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:06:29,452 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:06:29,454 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:06:29,639 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:06:29,772 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:06:29,820 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@26361572
2023-07-02 21:06:30,183 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:06:30,959 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:06:31,051 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:06:31,927 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:06:33,037 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:06:33,259 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:06:33,885 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@632f505b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@753aacf, org.springframework.security.web.context.SecurityContextHolderFilter@3408c95b, org.springframework.security.web.header.HeaderWriterFilter@408ce324, org.springframework.security.web.authentication.logout.LogoutFilter@69231217, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@96b00fb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@540accf4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@10f535a6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7d40f584, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@19b656b0, org.springframework.security.web.session.ConcurrentSessionFilter@62d26820, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20120154, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@346b793b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@346ea2ed, org.springframework.security.web.access.ExceptionTranslationFilter@1a2b5f27, org.springframework.security.web.access.intercept.AuthorizationFilter@c7b276]
2023-07-02 21:06:35,610 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:06:35,633 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:06:35,650 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 17.109 seconds (process running for 18.262)
2023-07-02 21:06:39,499 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:06:39,500 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:06:39,510 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 10 ms
2023-07-02 21:06:39,759 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.create(..):ARGUMENT is(news=title: "Same Title"
text: "Same Text"
}
2023-07-02 21:11:40,712 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:11:40,751 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:11:40,766 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:11:57,344 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:11:57,505 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 53043 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:11:57,509 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:11:57,515 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:11:57,859 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:11:57,860 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:11:57,860 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:11:57,860 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:11:57,860 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:11:57,860 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:12:00,316 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:12:00,319 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:12:00,441 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:12:00,444 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:12:00,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 99 ms. Found 0 Redis repository interfaces.
2023-07-02 21:12:01,394 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:12:01,396 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:12:01,619 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 207 ms. Found 2 JPA repository interfaces.
2023-07-02 21:12:01,660 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:12:01,660 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:12:01,691 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:12:01,696 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:12:01,696 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 36 ms. Found 0 Redis repository interfaces.
2023-07-02 21:12:03,105 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:12:03,391 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:12:03,498 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:12:05,549 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:12:05,590 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:12:05,594 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:12:05,595 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:12:06,210 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:12:06,214 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8351 ms
2023-07-02 21:12:08,925 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:12:09,153 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d8522ff
2023-07-02 21:12:09,155 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:12:09,921 INFO l.database [main] Set default schema name to public
2023-07-02 21:12:10,206 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:12:11,731 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:12:12,139 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:12:12,242 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:12:12,246 INFO l.util [main] Run:                          0
2023-07-02 21:12:12,252 INFO l.util [main] Previously run:               5
2023-07-02 21:12:12,253 INFO l.util [main] Filtered out:                 0
2023-07-02 21:12:12,253 INFO l.util [main] -------------------------------
2023-07-02 21:12:12,253 INFO l.util [main] Total change sets:            5

2023-07-02 21:12:12,259 INFO l.util [main] Update summary generated
2023-07-02 21:12:12,286 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:12:12,332 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:12:12,334 INFO l.command [main] Command execution complete
2023-07-02 21:12:13,006 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:12:13,135 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:12:13,150 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:12:13,628 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:12:13,991 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:12:14,050 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@175c26ff
2023-07-02 21:12:14,382 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:12:15,719 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:12:15,846 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:12:17,037 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:12:19,030 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:12:19,985 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:12:21,151 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5dd52021, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24fb6521, org.springframework.security.web.context.SecurityContextHolderFilter@11c929a2, org.springframework.security.web.header.HeaderWriterFilter@5241aea8, org.springframework.security.web.authentication.logout.LogoutFilter@38eaac79, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4bf14a9c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@96b00fb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19b656b0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@315f5ffb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@393bd750, org.springframework.security.web.session.ConcurrentSessionFilter@7188bd49, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@16c30e11, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c3d056, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49a2f134, org.springframework.security.web.access.ExceptionTranslationFilter@791d785c, org.springframework.security.web.access.intercept.AuthorizationFilter@4e8c139a]
2023-07-02 21:12:24,476 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:12:24,538 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:12:24,591 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 29.563 seconds (process running for 31.101)
2023-07-02 21:12:54,161 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:12:54,164 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:12:54,206 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 42 ms
2023-07-02 21:12:55,033 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.create(..):ARGUMENT is(news=title: "Same Title"
text: "Same Text"
}
2023-07-02 21:13:38,571 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.create(..):ARGUMENT is(news=title: "Same"
text: "Same Text"
}
2023-07-02 21:14:23,721 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.delete(..):ARGUMENT is(id=52}
2023-07-02 21:14:25,250 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=52}
2023-07-02 21:14:34,157 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.delete(..):ARGUMENT is(id=102}
2023-07-02 21:14:34,270 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=102}
2023-07-02 21:14:39,531 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.delete(..):ARGUMENT is(id=103}
2023-07-02 21:14:39,671 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=103}
2023-07-02 21:16:29,858 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:16:29,910 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:16:29,948 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:16:55,438 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:16:55,760 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 53636 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:16:55,762 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:16:55,771 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:16:56,378 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:16:56,379 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:16:56,380 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:16:56,380 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:16:56,380 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:16:56,380 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:16:59,416 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:16:59,434 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:17:00,066 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:17:00,070 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:17:00,073 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 413 ms. Found 0 Redis repository interfaces.
2023-07-02 21:17:01,418 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:17:01,424 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:17:02,088 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 654 ms. Found 2 JPA repository interfaces.
2023-07-02 21:17:02,163 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:17:02,164 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:17:02,207 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:17:02,208 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:17:02,209 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2023-07-02 21:17:04,060 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:17:05,069 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:17:05,414 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:17:09,125 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:17:09,214 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:17:09,216 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:17:09,217 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:17:10,161 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:17:10,173 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 13785 ms
2023-07-02 21:17:14,628 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:17:14,964 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d8522ff
2023-07-02 21:17:14,969 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:17:16,508 INFO l.database [main] Set default schema name to public
2023-07-02 21:17:17,334 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:17:19,147 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:17:19,427 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:17:19,475 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:17:19,477 INFO l.util [main] Run:                          0
2023-07-02 21:17:19,478 INFO l.util [main] Previously run:               5
2023-07-02 21:17:19,478 INFO l.util [main] Filtered out:                 0
2023-07-02 21:17:19,478 INFO l.util [main] -------------------------------
2023-07-02 21:17:19,478 INFO l.util [main] Total change sets:            5

2023-07-02 21:17:19,480 INFO l.util [main] Update summary generated
2023-07-02 21:17:19,490 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:17:19,511 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:17:19,513 INFO l.command [main] Command execution complete
2023-07-02 21:17:20,016 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:17:20,124 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:17:20,133 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:17:20,741 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:17:21,108 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:17:21,284 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@175c26ff
2023-07-02 21:17:22,088 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:17:24,223 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:17:24,820 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:17:27,923 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:17:31,768 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:17:33,039 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:17:35,082 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a34d64a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3feec3b0, org.springframework.security.web.context.SecurityContextHolderFilter@37b117dd, org.springframework.security.web.header.HeaderWriterFilter@18fb5226, org.springframework.security.web.authentication.logout.LogoutFilter@7df7d5cc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@76639714, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1a26f595, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e7bcd52, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5241aea8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2939bfa0, org.springframework.security.web.session.ConcurrentSessionFilter@5bf9c995, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46805e99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@41cc3795, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bf1b4e, org.springframework.security.web.access.ExceptionTranslationFilter@31ad368a, org.springframework.security.web.access.intercept.AuthorizationFilter@78ceb8cd]
2023-07-02 21:17:38,018 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:17:38,045 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:17:38,082 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 45.32 seconds (process running for 47.839)
2023-07-02 21:17:41,762 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:17:41,766 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:17:41,882 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 116 ms
2023-07-02 21:17:42,745 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.create(..):ARGUMENT is(news=title: "Same"
text: "Same Text"
}
2023-07-02 21:18:50,064 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:18:50,177 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:18:50,247 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:19:21,312 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:19:21,588 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 53942 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:19:21,591 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:19:21,595 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:19:22,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:19:22,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:19:22,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:19:22,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:19:22,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:19:22,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:19:26,293 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:19:26,296 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:19:26,676 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:19:26,710 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:19:26,712 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 378 ms. Found 0 Redis repository interfaces.
2023-07-02 21:19:27,496 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:19:27,499 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:19:27,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 261 ms. Found 2 JPA repository interfaces.
2023-07-02 21:19:27,832 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:19:27,833 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:19:27,865 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:19:27,865 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:19:27,865 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2023-07-02 21:19:28,965 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:19:29,251 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:19:29,363 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:19:32,241 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:19:32,256 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:19:32,258 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:19:32,258 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:19:32,894 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:19:32,898 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 10865 ms
2023-07-02 21:19:35,511 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:19:35,665 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1c9975a8
2023-07-02 21:19:35,667 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:19:36,028 INFO l.database [main] Set default schema name to public
2023-07-02 21:19:36,274 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:19:37,665 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:19:37,891 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:19:37,929 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:19:37,931 INFO l.util [main] Run:                          0
2023-07-02 21:19:37,931 INFO l.util [main] Previously run:               5
2023-07-02 21:19:37,932 INFO l.util [main] Filtered out:                 0
2023-07-02 21:19:37,932 INFO l.util [main] -------------------------------
2023-07-02 21:19:37,932 INFO l.util [main] Total change sets:            5

2023-07-02 21:19:37,936 INFO l.util [main] Update summary generated
2023-07-02 21:19:37,944 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:19:37,958 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:19:37,959 INFO l.command [main] Command execution complete
2023-07-02 21:19:38,252 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:19:38,344 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:19:38,347 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:19:38,849 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:19:39,075 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:19:39,136 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@623bdc46
2023-07-02 21:19:39,482 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:19:40,724 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:19:41,658 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:19:44,412 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:19:48,897 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:19:49,610 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:19:52,750 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24328fca, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@66c935db, org.springframework.security.web.context.SecurityContextHolderFilter@320684cd, org.springframework.security.web.header.HeaderWriterFilter@16b5c059, org.springframework.security.web.authentication.logout.LogoutFilter@27bd53d5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6e26d0b3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4ae8de09, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5b6b14a6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@571f6b61, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@c94f221, org.springframework.security.web.session.ConcurrentSessionFilter@b359d2d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45cee4d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3aecbab2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@adeb5a6, org.springframework.security.web.access.ExceptionTranslationFilter@54214c34, org.springframework.security.web.access.intercept.AuthorizationFilter@78e8594a]
2023-07-02 21:19:56,667 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:19:56,736 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:19:56,771 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 40.044 seconds (process running for 43.44)
2023-07-02 21:20:33,533 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:20:33,536 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:20:33,633 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 91 ms
2023-07-02 21:20:34,954 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.create(..):ARGUMENT is(news=title: "Same"
text: "Same Text"
}
2023-07-02 21:22:44,437 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:22:44,517 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:22:44,538 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:23:29,826 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:23:30,110 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 54483 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:23:30,111 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:23:30,113 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:23:30,752 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:23:30,754 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:23:30,754 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:23:30,754 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:23:30,754 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:23:30,754 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:23:36,840 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:23:36,848 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:23:37,137 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:23:37,146 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:23:37,148 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 206 ms. Found 0 Redis repository interfaces.
2023-07-02 21:23:38,419 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:23:38,433 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:23:39,165 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 700 ms. Found 2 JPA repository interfaces.
2023-07-02 21:23:39,273 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:23:39,275 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:23:39,340 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:23:39,344 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:23:39,345 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 69 ms. Found 0 Redis repository interfaces.
2023-07-02 21:23:41,547 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:23:42,224 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:23:42,511 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:23:48,802 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:23:48,867 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:23:48,869 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:23:48,869 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:23:50,250 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:23:50,264 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 19495 ms
2023-07-02 21:23:55,091 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:23:55,427 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58a7a58d
2023-07-02 21:23:55,431 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:23:56,528 INFO l.database [main] Set default schema name to public
2023-07-02 21:23:57,120 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:23:59,194 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:23:59,756 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:24:00,115 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:24:00,120 INFO l.util [main] Run:                          0
2023-07-02 21:24:00,121 INFO l.util [main] Previously run:               5
2023-07-02 21:24:00,121 INFO l.util [main] Filtered out:                 0
2023-07-02 21:24:00,121 INFO l.util [main] -------------------------------
2023-07-02 21:24:00,121 INFO l.util [main] Total change sets:            5

2023-07-02 21:24:00,130 INFO l.util [main] Update summary generated
2023-07-02 21:24:00,151 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:24:00,222 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:24:00,224 INFO l.command [main] Command execution complete
2023-07-02 21:24:01,742 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:24:01,894 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:24:01,899 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:24:02,546 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:24:02,865 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:24:03,051 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@267a8777
2023-07-02 21:24:04,099 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:24:06,901 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:24:07,110 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:24:09,097 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:24:16,448 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:24:18,322 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:24:24,001 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c6d908b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5dd52021, org.springframework.security.web.context.SecurityContextHolderFilter@346b793b, org.springframework.security.web.header.HeaderWriterFilter@44808c29, org.springframework.security.web.authentication.logout.LogoutFilter@2f705dff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b22cae9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@632f505b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@753aacf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5c29c01b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@24fb6521, org.springframework.security.web.session.ConcurrentSessionFilter@77eab063, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@44496e0c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72f6cd2e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@393bd750, org.springframework.security.web.access.ExceptionTranslationFilter@38f20b58, org.springframework.security.web.access.intercept.AuthorizationFilter@1a26f595]
2023-07-02 21:24:38,081 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:24:38,187 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:24:38,239 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 73.316 seconds (process running for 76.026)
2023-07-02 21:24:40,486 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:24:40,487 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:24:40,495 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 7 ms
2023-07-02 21:24:41,420 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.create(..):ARGUMENT is(news=title: "Saddddd"
text: "Same Text"
}
2023-07-02 21:26:18,071 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:26:18,428 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:26:18,557 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:27:05,832 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:27:06,438 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 55394 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:27:06,443 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:27:06,458 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:27:07,651 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:27:07,654 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:27:07,656 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:27:07,656 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:27:07,656 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:27:07,656 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:27:12,283 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:27:12,299 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:27:12,534 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:27:12,552 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:27:12,559 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 187 ms. Found 0 Redis repository interfaces.
2023-07-02 21:27:13,733 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:27:13,738 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:27:14,459 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 693 ms. Found 2 JPA repository interfaces.
2023-07-02 21:27:14,559 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:27:14,560 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:27:14,606 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:27:14,606 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:27:14,607 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 45 ms. Found 0 Redis repository interfaces.
2023-07-02 21:27:17,192 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:27:18,230 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:27:18,737 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:27:24,647 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:27:24,749 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:27:24,760 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:27:24,763 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:27:25,909 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:27:25,911 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 18248 ms
2023-07-02 21:27:30,230 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:27:31,371 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d8522ff
2023-07-02 21:27:31,376 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:27:32,657 INFO l.database [main] Set default schema name to public
2023-07-02 21:27:33,673 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:27:35,876 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:27:36,606 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:27:36,742 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:27:36,761 INFO l.util [main] Run:                          0
2023-07-02 21:27:36,764 INFO l.util [main] Previously run:               5
2023-07-02 21:27:36,764 INFO l.util [main] Filtered out:                 0
2023-07-02 21:27:36,765 INFO l.util [main] -------------------------------
2023-07-02 21:27:36,765 INFO l.util [main] Total change sets:            5

2023-07-02 21:27:36,784 INFO l.util [main] Update summary generated
2023-07-02 21:27:36,836 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:27:36,876 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:27:36,877 INFO l.command [main] Command execution complete
2023-07-02 21:27:37,835 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:27:38,028 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:27:38,035 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:27:38,557 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:27:38,855 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:27:38,987 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@175c26ff
2023-07-02 21:27:39,612 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:27:42,751 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:27:43,193 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:27:47,210 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:27:52,070 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:27:53,015 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:27:54,588 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a34d64a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3feec3b0, org.springframework.security.web.context.SecurityContextHolderFilter@6f50f047, org.springframework.security.web.header.HeaderWriterFilter@24d02ed9, org.springframework.security.web.authentication.logout.LogoutFilter@16c30e11, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@76639714, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1a26f595, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e7bcd52, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@44808c29, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2939bfa0, org.springframework.security.web.session.ConcurrentSessionFilter@112dfb03, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a2b5f27, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9e5e75, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45bf1b4e, org.springframework.security.web.access.ExceptionTranslationFilter@59632e3c, org.springframework.security.web.access.intercept.AuthorizationFilter@315f5ffb]
2023-07-02 21:28:01,238 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:28:01,448 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:28:01,533 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 63.187 seconds (process running for 67.025)
2023-07-02 21:30:48,015 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:30:48,124 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:30:48,188 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:31:28,242 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:31:28,476 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 55917 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:31:28,487 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:31:28,506 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:31:29,104 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:31:29,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:31:29,113 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:31:29,114 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:31:29,114 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:31:29,115 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:31:36,682 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:31:36,693 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:31:37,242 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:31:37,262 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:31:37,270 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 510 ms. Found 0 Redis repository interfaces.
2023-07-02 21:31:38,833 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:31:38,837 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:31:39,643 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 795 ms. Found 2 JPA repository interfaces.
2023-07-02 21:31:39,777 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:31:39,777 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:31:39,833 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:31:39,834 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:31:39,835 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 57 ms. Found 0 Redis repository interfaces.
2023-07-02 21:31:41,822 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:31:42,331 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:31:42,496 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:31:45,126 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:31:45,175 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:31:45,183 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:31:45,226 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:31:45,642 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:31:45,642 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 16516 ms
2023-07-02 21:31:48,550 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:31:48,844 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@18ff1520
2023-07-02 21:31:48,850 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:31:49,369 INFO l.database [main] Set default schema name to public
2023-07-02 21:31:49,844 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:31:51,770 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:31:52,205 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:31:52,268 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:31:52,274 INFO l.util [main] Run:                          0
2023-07-02 21:31:52,275 INFO l.util [main] Previously run:               5
2023-07-02 21:31:52,277 INFO l.util [main] Filtered out:                 0
2023-07-02 21:31:52,277 INFO l.util [main] -------------------------------
2023-07-02 21:31:52,278 INFO l.util [main] Total change sets:            5

2023-07-02 21:31:52,283 INFO l.util [main] Update summary generated
2023-07-02 21:31:52,299 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:31:52,330 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:31:52,331 INFO l.command [main] Command execution complete
2023-07-02 21:31:52,958 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:31:53,095 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:31:53,118 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:31:54,010 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:31:54,393 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:31:54,545 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@80b70fd
2023-07-02 21:31:55,072 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:31:57,525 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:31:57,761 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:32:00,094 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:32:04,142 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:32:04,657 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:32:06,235 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1df19e91, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fb0867c, org.springframework.security.web.context.SecurityContextHolderFilter@4412b152, org.springframework.security.web.header.HeaderWriterFilter@20120154, org.springframework.security.web.authentication.logout.LogoutFilter@5ab6cb92, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@25c962b7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7bbc0c6b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@56b37d59, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6d548d27, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2254919b, org.springframework.security.web.session.ConcurrentSessionFilter@7d40f584, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@729fc36a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7fdef973, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45354715, org.springframework.security.web.access.ExceptionTranslationFilter@11c929a2, org.springframework.security.web.access.intercept.AuthorizationFilter@38aa5ffe]
2023-07-02 21:32:14,294 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:32:14,939 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:32:15,313 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 51.511 seconds (process running for 55.643)
2023-07-02 21:32:15,425 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:32:15,426 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:32:15,438 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 10 ms
2023-07-02 21:32:16,891 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.create(..):ARGUMENT is(news=title: "Sad"
text: "Same Text"
}
2023-07-02 21:32:20,404 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.create(..):RESULT is{302}ARGUMENT is(news=title: "Sad"
text: "Same Text"
}
2023-07-02 21:32:31,967 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.delete(..):ARGUMENT is(id=302}
2023-07-02 21:32:33,204 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=302}
2023-07-02 21:34:24,973 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.create(..):ARGUMENT is(news=title: "Sad"
text: "Same Text"
}
2023-07-02 21:34:25,396 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.create(..):RESULT is{303}ARGUMENT is(news=title: "Sad"
text: "Same Text"
}
2023-07-02 21:34:35,363 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.readWithComments(..):ARGUMENT is(id=303}
2023-07-02 21:34:36,518 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.readWithComments(..):RESULT is{id: 303
author: "anonymousUser"
time: "2023-07-02T21:34:25.001712"
title: "Sad"
text: "Same Text"
}ARGUMENT is(id=303}
2023-07-02 21:35:52,940 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:35:53,183 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:35:53,305 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:37:42,558 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:37:42,791 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 57171 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:37:42,792 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:37:42,793 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:37:43,342 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:37:43,343 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:37:43,344 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:37:43,344 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:37:43,344 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:37:43,344 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:37:47,177 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:37:47,180 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:37:47,383 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:37:47,391 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:37:47,395 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 168 ms. Found 0 Redis repository interfaces.
2023-07-02 21:37:48,330 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:37:48,332 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:37:48,728 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 384 ms. Found 2 JPA repository interfaces.
2023-07-02 21:37:48,810 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:37:48,810 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:37:48,850 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:37:48,852 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:37:48,853 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 42 ms. Found 0 Redis repository interfaces.
2023-07-02 21:37:50,052 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:37:50,564 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:37:50,788 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:37:55,271 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:37:55,324 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:37:55,327 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:37:55,329 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:37:55,984 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:37:55,996 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 12636 ms
2023-07-02 21:37:58,977 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:37:59,235 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@405223e4
2023-07-02 21:37:59,238 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:37:59,877 INFO l.database [main] Set default schema name to public
2023-07-02 21:38:01,240 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:38:03,213 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:38:04,167 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:38:04,264 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:38:04,272 INFO l.util [main] Run:                          0
2023-07-02 21:38:04,273 INFO l.util [main] Previously run:               5
2023-07-02 21:38:04,274 INFO l.util [main] Filtered out:                 0
2023-07-02 21:38:04,274 INFO l.util [main] -------------------------------
2023-07-02 21:38:04,274 INFO l.util [main] Total change sets:            5

2023-07-02 21:38:04,282 INFO l.util [main] Update summary generated
2023-07-02 21:38:04,318 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:38:04,384 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:38:04,387 INFO l.command [main] Command execution complete
2023-07-02 21:38:05,192 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:38:05,353 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:38:05,364 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:38:06,465 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:38:06,824 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:38:06,961 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@68c3aa38
2023-07-02 21:38:07,818 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:38:11,081 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:38:11,254 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:38:13,244 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:38:17,833 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:38:18,690 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:38:21,891 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@45bf1b4e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59250335, org.springframework.security.web.context.SecurityContextHolderFilter@3a7ba368, org.springframework.security.web.header.HeaderWriterFilter@3200f6e5, org.springframework.security.web.authentication.logout.LogoutFilter@afee49e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6d41b46a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7f055e1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2a5782d7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@62d26820, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@109fa8e2, org.springframework.security.web.session.ConcurrentSessionFilter@388b4f68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@408ce324, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f404aa1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@743fc1ee, org.springframework.security.web.access.ExceptionTranslationFilter@24d02ed9, org.springframework.security.web.access.intercept.AuthorizationFilter@3e15330c]
2023-07-02 21:38:26,778 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:38:26,843 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:38:26,926 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 49.698 seconds (process running for 52.775)
2023-07-02 21:39:02,132 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:39:02,162 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:39:02,392 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 200 ms
2023-07-02 21:39:03,099 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.delete(..):ARGUMENT is(id=303}
2023-07-02 21:39:05,225 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=303}
2023-07-02 21:39:19,153 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.create(..):ARGUMENT is(news=title: "Sad\320\272\320\265\320\272"
text: "Same Text"
}
2023-07-02 21:40:36,860 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:40:36,978 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:40:36,997 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 21:41:07,389 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 21:41:08,007 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 57585 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 21:41:08,057 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 21:41:08,123 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 21:41:08,651 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:41:08,653 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:41:08,654 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:41:08,654 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 21:41:08,654 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 21:41:08,654 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 21:41:11,193 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:41:11,195 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:41:11,295 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:41:11,299 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:41:11,300 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 85 ms. Found 0 Redis repository interfaces.
2023-07-02 21:41:12,300 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:41:12,304 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 21:41:12,638 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 329 ms. Found 2 JPA repository interfaces.
2023-07-02 21:41:12,683 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 21:41:12,684 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 21:41:12,717 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:41:12,718 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 21:41:12,718 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2023-07-02 21:41:13,786 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 21:41:14,119 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 21:41:14,223 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 21:41:16,838 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 21:41:16,883 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 21:41:16,889 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 21:41:16,890 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 21:41:17,363 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 21:41:17,365 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 8696 ms
2023-07-02 21:41:20,202 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 21:41:20,367 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d8522ff
2023-07-02 21:41:20,369 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 21:41:20,777 INFO l.database [main] Set default schema name to public
2023-07-02 21:41:21,372 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 21:41:23,082 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:41:23,376 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 21:41:23,422 INFO l.util [main] UPDATE SUMMARY
2023-07-02 21:41:23,424 INFO l.util [main] Run:                          0
2023-07-02 21:41:23,424 INFO l.util [main] Previously run:               5
2023-07-02 21:41:23,425 INFO l.util [main] Filtered out:                 0
2023-07-02 21:41:23,425 INFO l.util [main] -------------------------------
2023-07-02 21:41:23,425 INFO l.util [main] Total change sets:            5

2023-07-02 21:41:23,427 INFO l.util [main] Update summary generated
2023-07-02 21:41:23,435 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:41:23,455 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 21:41:23,456 INFO l.command [main] Command execution complete
2023-07-02 21:41:24,228 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 21:41:24,368 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 21:41:24,373 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 21:41:24,828 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:41:25,204 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 21:41:25,362 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@175c26ff
2023-07-02 21:41:26,005 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 21:41:28,185 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 21:41:28,366 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:41:29,583 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 21:41:32,327 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 21:41:32,921 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 21:41:35,724 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53ef0db3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29957fe0, org.springframework.security.web.context.SecurityContextHolderFilter@96b00fb, org.springframework.security.web.header.HeaderWriterFilter@2a5782d7, org.springframework.security.web.authentication.logout.LogoutFilter@7f6a0ab, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3aecbab2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@10e57077, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@a9375dd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2dda91b3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@57d5dd0, org.springframework.security.web.session.ConcurrentSessionFilter@4967d14c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10f535a6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b22cae9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d98216c, org.springframework.security.web.access.ExceptionTranslationFilter@2e7bcd52, org.springframework.security.web.access.intercept.AuthorizationFilter@79d72d99]
2023-07-02 21:41:39,883 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 21:41:39,924 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 21:41:39,956 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 36.945 seconds (process running for 39.402)
2023-07-02 21:41:45,418 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 21:41:45,420 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 21:41:45,438 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 18 ms
2023-07-02 21:41:45,861 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.create(..):ARGUMENT is(news=title: "Sad\320\272mnmn"
text: "Same Text"
}
2023-07-02 21:44:28,837 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.update(..):ARGUMENT is(id=152, news=title: "Sn"
text: "Same Text"
}
2023-07-02 21:44:31,901 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.update(..):RESULT is{}ARGUMENT is(id=152, news=title: "Sn"
text: "Same Text"
}
2023-07-02 21:44:39,288 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):ARGUMENT is(id=152}
2023-07-02 21:44:39,551 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):RESULT is{id: 152
author: "anonymousUser"
time: "2023-07-02T21:17:42.815872"
title: "Same"
text: "Same Text"
}ARGUMENT is(id=152}
2023-07-02 21:46:05,242 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.update(..):ARGUMENT is(id=202, news=title: "Sn"
text: "Same "
}
2023-07-02 21:46:05,433 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.update(..):RESULT is{}ARGUMENT is(id=202, news=title: "Sn"
text: "Same "
}
2023-07-02 21:46:10,253 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.readWithComments(..):ARGUMENT is(id=202}
2023-07-02 21:46:10,418 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.readWithComments(..):RESULT is{id: 202
author: "anonymousUser"
time: "2023-07-02T21:20:35.230465"
title: "Same"
text: "Same Text"
}ARGUMENT is(id=202}
2023-07-02 21:48:43,853 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 21:48:43,875 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 21:48:43,887 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:11:35,372 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:11:35,515 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 5080 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:11:35,516 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:11:35,522 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:11:35,825 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:11:35,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:11:35,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:11:35,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:11:35,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:11:35,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:11:37,682 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:11:37,684 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:11:37,810 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:11:37,815 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:11:37,816 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 111 ms. Found 0 Redis repository interfaces.
2023-07-02 22:11:38,320 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:11:38,322 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:11:38,589 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 261 ms. Found 2 JPA repository interfaces.
2023-07-02 22:11:38,635 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:11:38,635 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:11:38,662 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:11:38,663 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:11:38,663 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-07-02 22:11:39,416 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:11:39,669 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:11:39,755 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:11:41,232 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:11:41,247 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:11:41,249 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:11:41,250 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:11:41,475 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 22:11:41,476 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5645 ms
2023-07-02 22:11:43,061 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:11:43,172 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d2133fd
2023-07-02 22:11:43,174 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:11:43,380 INFO l.database [main] Set default schema name to public
2023-07-02 22:11:43,612 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 22:11:44,642 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:11:44,881 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:11:44,929 INFO l.util [main] UPDATE SUMMARY
2023-07-02 22:11:44,931 INFO l.util [main] Run:                          0
2023-07-02 22:11:44,932 INFO l.util [main] Previously run:               5
2023-07-02 22:11:44,933 INFO l.util [main] Filtered out:                 0
2023-07-02 22:11:44,933 INFO l.util [main] -------------------------------
2023-07-02 22:11:44,933 INFO l.util [main] Total change sets:            5

2023-07-02 22:11:44,937 INFO l.util [main] Update summary generated
2023-07-02 22:11:44,946 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:11:44,968 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:11:44,969 INFO l.command [main] Command execution complete
2023-07-02 22:11:45,269 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:11:45,330 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:11:45,333 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:11:45,596 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:11:45,782 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:11:45,834 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1196537d
2023-07-02 22:11:46,130 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:11:47,120 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:11:47,235 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:11:48,075 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:11:49,501 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:11:49,772 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:11:50,422 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@687dc7e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@45cee4d2, org.springframework.security.web.context.SecurityContextHolderFilter@59250335, org.springframework.security.web.header.HeaderWriterFilter@6d548d27, org.springframework.security.web.authentication.logout.LogoutFilter@37c55315, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@761b4581, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51e0629a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2fc2305a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4bf14a9c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@8d44ee6, org.springframework.security.web.session.ConcurrentSessionFilter@2e7bcd52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@743fc1ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f25b34d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@e7283dd, org.springframework.security.web.access.ExceptionTranslationFilter@63f8006f, org.springframework.security.web.access.intercept.AuthorizationFilter@7bbc0c6b]
2023-07-02 22:11:51,958 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 22:11:51,983 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:11:52,010 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 18.445 seconds (process running for 19.884)
2023-07-02 22:15:18,506 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:15:18,529 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 22:15:18,554 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:15:38,702 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:15:38,829 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 5573 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:15:38,838 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:15:38,844 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:15:39,136 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:15:39,138 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:15:39,139 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:15:39,139 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:15:39,139 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:15:39,139 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:15:41,205 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:15:41,207 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:15:41,329 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:15:41,332 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:15:41,334 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 106 ms. Found 0 Redis repository interfaces.
2023-07-02 22:15:41,845 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:15:41,846 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:15:42,090 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 238 ms. Found 2 JPA repository interfaces.
2023-07-02 22:15:42,141 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:15:42,142 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:15:42,168 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:15:42,169 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:15:42,170 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2023-07-02 22:15:42,904 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:15:43,144 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:15:43,230 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:15:44,720 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:15:44,735 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:15:44,736 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:15:44,737 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:15:44,945 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 22:15:44,946 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5803 ms
2023-07-02 22:15:46,652 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:15:46,777 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@2d2133fd
2023-07-02 22:15:46,779 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:15:47,105 INFO l.database [main] Set default schema name to public
2023-07-02 22:15:47,328 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 22:15:49,066 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:15:49,320 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:15:49,376 INFO l.util [main] UPDATE SUMMARY
2023-07-02 22:15:49,379 INFO l.util [main] Run:                          0
2023-07-02 22:15:49,379 INFO l.util [main] Previously run:               5
2023-07-02 22:15:49,379 INFO l.util [main] Filtered out:                 0
2023-07-02 22:15:49,380 INFO l.util [main] -------------------------------
2023-07-02 22:15:49,380 INFO l.util [main] Total change sets:            5

2023-07-02 22:15:49,381 INFO l.util [main] Update summary generated
2023-07-02 22:15:49,390 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:15:49,410 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:15:49,411 INFO l.command [main] Command execution complete
2023-07-02 22:15:49,918 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:15:50,026 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:15:50,031 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:15:50,405 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:15:50,685 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:15:50,764 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1196537d
2023-07-02 22:15:51,269 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:15:53,350 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:15:53,629 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:15:56,447 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:15:58,561 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:15:59,078 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:16:00,696 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19b656b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@346ea2ed, org.springframework.security.web.context.SecurityContextHolderFilter@20120154, org.springframework.security.web.header.HeaderWriterFilter@791d785c, org.springframework.security.web.authentication.logout.LogoutFilter@7fdef973, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@10f535a6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5191288e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2c969f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e15330c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2dda91b3, org.springframework.security.web.session.ConcurrentSessionFilter@6d5fc2ca, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@afee49e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44496e0c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37c55315, org.springframework.security.web.access.ExceptionTranslationFilter@57cc535, org.springframework.security.web.access.intercept.AuthorizationFilter@64010508]
2023-07-02 22:16:03,546 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 22:16:03,584 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:16:03,613 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 26.818 seconds (process running for 28.321)
2023-07-02 22:16:08,831 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 22:16:08,833 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 22:16:08,847 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 14 ms
2023-07-02 22:16:09,174 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.create(..):ARGUMENT is(news=title: "Snaaaaaaa"
text: "Same "
}
2023-07-02 22:16:10,520 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.create(..):RESULT is{452}ARGUMENT is(news=title: "Snaaaaaaa"
text: "Same "
}
2023-07-02 22:16:22,853 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):ARGUMENT is(id=452}
2023-07-02 22:16:23,108 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):RESULT is{id: 452
author: "anonymousUser"
time: "2023-07-02T22:16:09.204439"
title: "Snaaaaaaa"
text: "Same "
}ARGUMENT is(id=452}
2023-07-02 22:16:25,691 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):ARGUMENT is(id=452}
2023-07-02 22:16:25,712 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):RESULT is{id: 452
author: "anonymousUser"
time: "2023-07-02T22:16:09.204439"
title: "Snaaaaaaa"
text: "Same "
}ARGUMENT is(id=452}
2023-07-02 22:16:27,601 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):ARGUMENT is(id=452}
2023-07-02 22:16:27,621 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):RESULT is{id: 452
author: "anonymousUser"
time: "2023-07-02T22:16:09.204439"
title: "Snaaaaaaa"
text: "Same "
}ARGUMENT is(id=452}
2023-07-02 22:18:06,224 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):ARGUMENT is(id=452}
2023-07-02 22:18:06,277 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):RESULT is{id: 452
author: "anonymousUser"
time: "2023-07-02T22:16:09.204439"
title: "Snaaaaaaa"
text: "Same "
}ARGUMENT is(id=452}
2023-07-02 22:18:24,446 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.update(..):ARGUMENT is(id=452, news=title: "Snaa"
text: "Same "
}
2023-07-02 22:18:24,574 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.update(..):RESULT is{}ARGUMENT is(id=452, news=title: "Snaa"
text: "Same "
}
2023-07-02 22:18:28,911 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.readWithComments(..):ARGUMENT is(id=452}
2023-07-02 22:18:28,941 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.readWithComments(..):RESULT is{id: 452
author: "anonymousUser"
time: "2023-07-02T22:16:09.204439"
title: "Snaaaaaaa"
text: "Same "
}ARGUMENT is(id=452}
2023-07-02 22:20:10,952 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:20:11,141 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.readAll(..):RESULT is{[Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA), Comment(id=2, time=2023-06-02T00:00, text=I'm glad to see progress being made in this field. Exciting times ahead!, username=AndreiMK), Comment(id=3, time=2023-06-03T00:00, text=This is a crucial development for our society. Kudos to the team behind it!, username=ArtsemAA), Comment(id=4, time=2023-06-04T00:00, text=I'm impressed by the innovative approach taken in this project., username=AndreiMK), Comment(id=5, time=2023-06-05T00:00, text=This news brings a smile to my face. It's heartwarming to see such positive initiatives., username=AndreiMK), Comment(id=6, time=2023-06-06T00:00, text=I'm inspired by the dedication and passion of the people involved in this project., username=ArtsemAA), Comment(id=7, time=2023-06-07T00:00, text=This news raises important questions and sparks an important conversation., username=VladKN), Comment(id=8, time=2023-06-08T00:00, text=I appreciate the effort put into shedding light on this topic. It's enlightening., username=DmitriyBR), Comment(id=9, time=2023-06-09T00:00, text=This news reminds us of the importance of preserving our natural resources., username=VladKN), Comment(id=10, time=2023-06-10T00:00, text=I'm glad to see initiatives like this that prioritize sustainability., username=DmitriyBR)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:21:01,919 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.create(..):ARGUMENT is(comment=newsId: 1
text: "Same Text"
}
2023-07-02 22:21:02,035 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-5] SQL Error: 0, SQLState: 23505
2023-07-02 22:21:02,036 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-5] ERROR: duplicate key value violates unique constraint "comment_pkey"
  Подробности: Key (id)=(1) already exists.
2023-07-02 22:22:52,200 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 22:22:52,280 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 22:22:56,481 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 22:22:56,522 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 22:23:15,025 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 22:23:15,056 WARN o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-10] SQL Error: 0, SQLState: 23505
2023-07-02 22:23:15,057 ERROR o.h.e.j.s.SqlExceptionHelper [http-nio-8088-exec-10] ERROR: duplicate key value violates unique constraint "comment_pkey"
  Подробности: Key (id)=(2) already exists.
2023-07-02 22:24:19,050 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:24:19,092 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readAll(..):RESULT is{[News(id=1, author=Artsem, time=2023-05-26T00:00, title=Technology Advancements in Artificial Intelligence, text=Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.), News(id=2, author=Artsem, time=2023-06-01T00:00, title=Exploring the Benefits of Renewable Energy Sources, text=Renewable energy sources such as solar and wind power offer numerous environmental and economic benefits.), News(id=3, author=Artsem, time=2023-06-10T00:00, title=The Rise of E-commerce and its Impact on Traditional Retailers, text=The increasing popularity of online shopping has posed challenges for brick-and-mortar retailers.), News(id=4, author=null, time=2023-06-15T00:00, title=Global Efforts to Combat Climate Change, text=Countries around the world are taking steps to reduce greenhouse gas emissions and mitigate the effects of climate change.), News(id=5, author=Andrei, time=2023-06-20T00:00, title=Advancements in Medical Research for Disease Treatment, text=Scientists and researchers are making progress in developing new treatments and therapies for various diseases.), News(id=6, author=Andrei, time=2023-06-25T00:00, title=The Impact of Social Media on Society, text=Social media platforms have transformed the way we communicate and interact with others.), News(id=7, author=Andrei, time=2023-07-01T00:00, title=Space Exploration and Discoveries, text=Exploration of outer space has led to significant discoveries and advancements in our understanding of the universe.), News(id=8, author=Andrei, time=2023-07-06T00:00, title=The Growing Importance of Cybersecurity, text=As technology becomes more integrated into our lives, the need for strong cybersecurity measures is paramount.), News(id=9, author=Vlad, time=2023-07-11T00:00, title=Advancements in Autonomous Vehicles, text=Self-driving cars and autonomous vehicles are poised to revolutionize the transportation industry.), News(id=10, author=Vlad, time=2023-07-16T00:00, title=The Future of Work: Automation and Job Market Trends, text=Automation technologies are reshaping the job market and requiring workers to adapt to new skills and roles.)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:24:25,311 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:24:25,365 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:24:33,279 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:24:33,301 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.readAll(..):RESULT is{[Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA), Comment(id=2, time=2023-06-02T00:00, text=I'm glad to see progress being made in this field. Exciting times ahead!, username=AndreiMK), Comment(id=3, time=2023-06-03T00:00, text=This is a crucial development for our society. Kudos to the team behind it!, username=ArtsemAA), Comment(id=4, time=2023-06-04T00:00, text=I'm impressed by the innovative approach taken in this project., username=AndreiMK), Comment(id=5, time=2023-06-05T00:00, text=This news brings a smile to my face. It's heartwarming to see such positive initiatives., username=AndreiMK), Comment(id=6, time=2023-06-06T00:00, text=I'm inspired by the dedication and passion of the people involved in this project., username=ArtsemAA), Comment(id=7, time=2023-06-07T00:00, text=This news raises important questions and sparks an important conversation., username=VladKN), Comment(id=8, time=2023-06-08T00:00, text=I appreciate the effort put into shedding light on this topic. It's enlightening., username=DmitriyBR), Comment(id=9, time=2023-06-09T00:00, text=This news reminds us of the importance of preserving our natural resources., username=VladKN), Comment(id=10, time=2023-06-10T00:00, text=I'm glad to see initiatives like this that prioritize sustainability., username=DmitriyBR)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:24:37,099 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 22:24:37,115 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 22:27:32,549 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:27:32,591 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 22:27:32,604 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:27:49,513 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:27:49,697 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 7004 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:27:49,709 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:27:49,721 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:27:50,097 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:27:50,099 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:27:50,099 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:27:50,099 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:27:50,099 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:27:50,099 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:27:50,490 WARN o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext [main] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main/ru/clevertec/NewsManager/service/news/NewsApiService.class]
2023-07-02 22:27:50,573 ERROR o.s.b.SpringApplication [main] Application run failed
org.springframework.beans.factory.BeanDefinitionStoreException: Failed to read candidate component class: file [/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main/ru/clevertec/NewsManager/service/news/NewsApiService.class]
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:463)
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.findCandidateComponents(ClassPathScanningCandidateComponentProvider.java:317)
	at org.springframework.context.annotation.ClassPathBeanDefinitionScanner.doScan(ClassPathBeanDefinitionScanner.java:276)
	at org.springframework.context.annotation.ComponentScanAnnotationParser.parse(ComponentScanAnnotationParser.java:128)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:289)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:243)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:196)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:164)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:415)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:287)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:344)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:115)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:771)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:589)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1305)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1294)
	at ru.clevertec.NewsManager.NewsManagerApplication.main(NewsManagerApplication.java:19)
Caused by: org.springframework.core.annotation.AnnotationConfigurationException: Different @AliasFor mirror values for annotation [org.springframework.cache.annotation.CachePut] declared on ru.clevertec.NewsManager.service.news.NewsApiService.create(ru.clevertec.NewsManager.dto.request.NewsRequestProtos$NewsRequestDto); attribute 'cacheNames' and its alias 'value' are declared with values of [{newsCash}] and [{news}].
	at org.springframework.core.annotation.AnnotationTypeMapping$MirrorSets$MirrorSet.resolve(AnnotationTypeMapping.java:772)
	at org.springframework.core.annotation.AnnotationTypeMapping$MirrorSets.resolve(AnnotationTypeMapping.java:727)
	at org.springframework.core.annotation.TypeMappedAnnotation.<init>(TypeMappedAnnotation.java:128)
	at org.springframework.core.annotation.TypeMappedAnnotation.<init>(TypeMappedAnnotation.java:112)
	at org.springframework.core.annotation.TypeMappedAnnotation.of(TypeMappedAnnotation.java:618)
	at org.springframework.core.annotation.MergedAnnotation.of(MergedAnnotation.java:612)
	at org.springframework.core.type.classreading.MergedAnnotationReadingVisitor.visitEnd(MergedAnnotationReadingVisitor.java:98)
	at org.springframework.asm.ClassReader.readElementValues(ClassReader.java:3010)
	at org.springframework.asm.ClassReader.readMethod(ClassReader.java:1415)
	at org.springframework.asm.ClassReader.accept(ClassReader.java:746)
	at org.springframework.asm.ClassReader.accept(ClassReader.java:426)
	at org.springframework.core.type.classreading.SimpleMetadataReader.<init>(SimpleMetadataReader.java:48)
	at org.springframework.core.type.classreading.SimpleMetadataReaderFactory.getMetadataReader(SimpleMetadataReaderFactory.java:103)
	at org.springframework.core.type.classreading.CachingMetadataReaderFactory.getMetadataReader(CachingMetadataReaderFactory.java:122)
	at org.springframework.context.annotation.ClassPathScanningCandidateComponentProvider.scanCandidateComponents(ClassPathScanningCandidateComponentProvider.java:435)
	... 20 common frames omitted
2023-07-02 22:29:23,330 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:29:23,521 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 7187 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:29:23,526 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:29:23,534 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:29:23,847 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:29:23,848 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:29:23,849 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:29:23,849 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:29:23,849 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:29:23,849 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:29:25,818 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:29:25,820 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:29:26,059 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:29:26,065 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:29:26,067 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 224 ms. Found 0 Redis repository interfaces.
2023-07-02 22:29:26,618 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:29:26,620 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:29:26,895 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 270 ms. Found 2 JPA repository interfaces.
2023-07-02 22:29:26,969 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:29:26,971 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:29:27,011 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:29:27,012 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:29:27,012 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2023-07-02 22:29:27,994 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:29:28,253 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:29:28,401 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:29:30,024 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:29:30,039 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:29:30,041 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:29:30,042 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:29:30,258 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 22:29:30,259 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6408 ms
2023-07-02 22:29:31,975 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:29:32,102 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21bf308
2023-07-02 22:29:32,104 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:29:32,494 INFO l.database [main] Set default schema name to public
2023-07-02 22:29:32,710 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 22:29:35,984 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:29:36,243 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:29:36,279 INFO l.util [main] UPDATE SUMMARY
2023-07-02 22:29:36,281 INFO l.util [main] Run:                          0
2023-07-02 22:29:36,281 INFO l.util [main] Previously run:               5
2023-07-02 22:29:36,281 INFO l.util [main] Filtered out:                 0
2023-07-02 22:29:36,281 INFO l.util [main] -------------------------------
2023-07-02 22:29:36,281 INFO l.util [main] Total change sets:            5

2023-07-02 22:29:36,283 INFO l.util [main] Update summary generated
2023-07-02 22:29:36,292 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:29:36,309 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:29:36,311 INFO l.command [main] Command execution complete
2023-07-02 22:29:36,845 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:29:36,959 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:29:36,963 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:29:37,308 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:29:37,530 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:29:37,588 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@445f6aa7
2023-07-02 22:29:37,920 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:29:39,166 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:29:39,304 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:29:40,335 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:29:42,052 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:29:42,284 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:29:43,184 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77d695f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76639714, org.springframework.security.web.context.SecurityContextHolderFilter@5d186b14, org.springframework.security.web.header.HeaderWriterFilter@4613274d, org.springframework.security.web.authentication.logout.LogoutFilter@49a14b44, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2f705dff, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6d548d27, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4e8c139a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3a7ba368, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1a26f595, org.springframework.security.web.session.ConcurrentSessionFilter@6402f6b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@388b4f68, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57cc535, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e7bcd52, org.springframework.security.web.access.ExceptionTranslationFilter@1069cbf2, org.springframework.security.web.access.intercept.AuthorizationFilter@20120154]
2023-07-02 22:29:45,302 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 22:29:45,335 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:29:45,450 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 23.89 seconds (process running for 25.217)
2023-07-02 22:29:57,666 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 22:29:57,668 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 22:29:57,690 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 21 ms
2023-07-02 22:29:57,817 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:29:58,215 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:29:59,497 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:29:59,514 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:30:00,627 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:30:00,654 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:30:01,926 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:30:01,943 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:30:21,660 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.create(..):ARGUMENT is(news=title: "Snnnnnnnmmma"
text: "Same "
}
2023-07-02 22:30:22,888 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.create(..):RESULT is{502}ARGUMENT is(news=title: "Snnnnnnnmmma"
text: "Same "
}
2023-07-02 22:30:39,516 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):ARGUMENT is(id=502}
2023-07-02 22:30:39,551 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):RESULT is{id: 502
author: "anonymousUser"
time: "2023-07-02T22:30:21.691181"
title: "Snnnnnnnmmma"
text: "Same "
}ARGUMENT is(id=502}
2023-07-02 22:30:54,443 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.update(..):ARGUMENT is(id=502, news=title: "Snnnesssda"
text: "Same "
}
2023-07-02 22:30:54,538 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.update(..):RESULT is{}ARGUMENT is(id=502, news=title: "Snnnesssda"
text: "Same "
}
2023-07-02 22:31:00,003 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.readWithComments(..):ARGUMENT is(id=502}
2023-07-02 22:31:00,045 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.readWithComments(..):RESULT is{id: 502
author: "anonymousUser"
time: "2023-07-02T22:30:21.691181"
title: "Snnnnnnnmmma"
text: "Same "
}ARGUMENT is(id=502}
2023-07-02 22:31:07,390 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):ARGUMENT is(id=502}
2023-07-02 22:31:07,426 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):RESULT is{id: 502
author: "anonymousUser"
time: "2023-07-02T22:30:21.691181"
title: "Snnnnnnnmmma"
text: "Same "
}ARGUMENT is(id=502}
2023-07-02 22:35:30,062 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:35:30,077 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 22:35:30,099 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:36:50,933 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:36:51,121 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 8053 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:36:51,122 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:36:51,132 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:36:51,448 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:36:51,450 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:36:51,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:36:51,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:36:51,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:36:51,451 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:36:54,272 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:36:54,277 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:36:54,472 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:36:54,476 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:36:54,478 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 156 ms. Found 0 Redis repository interfaces.
2023-07-02 22:36:55,172 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:36:55,174 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:36:55,422 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 243 ms. Found 2 JPA repository interfaces.
2023-07-02 22:36:55,476 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:36:55,476 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:36:55,508 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:36:55,510 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:36:55,511 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2023-07-02 22:36:56,329 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:36:56,573 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:36:56,682 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:36:58,959 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:36:58,983 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:36:58,988 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:36:58,989 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:36:59,415 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7954 ms
2023-07-02 22:37:02,299 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:37:02,494 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5db04bd2
2023-07-02 22:37:02,497 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:37:06,652 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:37:06,760 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:37:06,764 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:37:07,203 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:37:07,536 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:37:07,643 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5dc8448b
2023-07-02 22:37:08,172 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:37:09,740 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:37:09,869 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:37:10,808 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:37:12,702 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:37:13,062 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:37:14,501 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bf14a9c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@96b00fb, org.springframework.security.web.context.SecurityContextHolderFilter@22f34197, org.springframework.security.web.header.HeaderWriterFilter@67ee26af, org.springframework.security.web.authentication.logout.LogoutFilter@4b330722, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@38aa5ffe, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@551f38b1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f25b34d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@78ceb8cd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@540accf4, org.springframework.security.web.session.ConcurrentSessionFilter@9e5e75, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7df7d5cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@347042e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@10f535a6, org.springframework.security.web.access.ExceptionTranslationFilter@388b4f68, org.springframework.security.web.access.intercept.AuthorizationFilter@7356f0e0]
2023-07-02 22:37:17,317 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:37:17,365 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 29.196 seconds (process running for 30.914)
2023-07-02 22:37:17,500 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:37:17,510 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 22:37:17,525 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:38:18,590 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:38:18,714 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 8239 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:38:18,717 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:38:18,722 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:38:19,025 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:38:19,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:38:19,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:38:19,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:38:19,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:38:19,027 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:38:22,154 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:38:22,157 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:38:22,326 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:38:22,331 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:38:22,332 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 147 ms. Found 0 Redis repository interfaces.
2023-07-02 22:38:23,036 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:38:23,039 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:38:23,450 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 394 ms. Found 2 JPA repository interfaces.
2023-07-02 22:38:23,549 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:38:23,550 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:38:23,596 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:38:23,598 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:38:23,599 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 46 ms. Found 0 Redis repository interfaces.
2023-07-02 22:38:24,550 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:38:25,047 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:38:25,204 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:38:27,522 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:38:27,542 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:38:27,544 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:38:27,544 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:38:28,301 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 22:38:28,311 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 9274 ms
2023-07-02 22:38:30,010 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:38:30,131 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5db04bd2
2023-07-02 22:38:30,133 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:38:30,343 INFO l.database [main] Set default schema name to public
2023-07-02 22:38:30,893 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 22:38:32,495 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:38:32,803 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:38:32,853 INFO l.util [main] UPDATE SUMMARY
2023-07-02 22:38:32,857 INFO l.util [main] Run:                          0
2023-07-02 22:38:32,858 INFO l.util [main] Previously run:               5
2023-07-02 22:38:32,858 INFO l.util [main] Filtered out:                 0
2023-07-02 22:38:32,858 INFO l.util [main] -------------------------------
2023-07-02 22:38:32,858 INFO l.util [main] Total change sets:            5

2023-07-02 22:38:32,860 INFO l.util [main] Update summary generated
2023-07-02 22:38:32,878 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:38:32,905 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:38:32,907 INFO l.command [main] Command execution complete
2023-07-02 22:38:33,817 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:38:34,114 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:38:34,134 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:38:34,677 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:38:35,169 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:38:35,348 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5dc8448b
2023-07-02 22:38:36,399 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:38:38,059 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:38:38,295 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:38:41,829 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:38:47,070 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:38:48,223 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:38:50,066 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7015b29b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@61e4cf9b, org.springframework.security.web.context.SecurityContextHolderFilter@1df19e91, org.springframework.security.web.header.HeaderWriterFilter@19b656b0, org.springframework.security.web.authentication.logout.LogoutFilter@2fc2305a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@78e8594a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@51b274ce, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@55cb0354, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2f9f939, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@262d72a, org.springframework.security.web.session.ConcurrentSessionFilter@3d020409, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2254919b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79d72d99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f563fc1, org.springframework.security.web.access.ExceptionTranslationFilter@3b22cae9, org.springframework.security.web.access.intercept.AuthorizationFilter@8b62702]
2023-07-02 22:38:53,573 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 22:38:53,665 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:38:53,729 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 37.164 seconds (process running for 38.951)
2023-07-02 22:39:10,493 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 22:39:10,495 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 22:39:10,549 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 51 ms
2023-07-02 22:39:10,776 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:39:11,335 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readAll(..):RESULT is{[News(id=1, author=Artsem, time=2023-05-26T00:00, title=Technology Advancements in Artificial Intelligence, text=Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks.), News(id=2, author=Artsem, time=2023-06-01T00:00, title=Exploring the Benefits of Renewable Energy Sources, text=Renewable energy sources such as solar and wind power offer numerous environmental and economic benefits.), News(id=3, author=Artsem, time=2023-06-10T00:00, title=The Rise of E-commerce and its Impact on Traditional Retailers, text=The increasing popularity of online shopping has posed challenges for brick-and-mortar retailers.), News(id=4, author=null, time=2023-06-15T00:00, title=Global Efforts to Combat Climate Change, text=Countries around the world are taking steps to reduce greenhouse gas emissions and mitigate the effects of climate change.), News(id=5, author=Andrei, time=2023-06-20T00:00, title=Advancements in Medical Research for Disease Treatment, text=Scientists and researchers are making progress in developing new treatments and therapies for various diseases.), News(id=6, author=Andrei, time=2023-06-25T00:00, title=The Impact of Social Media on Society, text=Social media platforms have transformed the way we communicate and interact with others.), News(id=7, author=Andrei, time=2023-07-01T00:00, title=Space Exploration and Discoveries, text=Exploration of outer space has led to significant discoveries and advancements in our understanding of the universe.), News(id=8, author=Andrei, time=2023-07-06T00:00, title=The Growing Importance of Cybersecurity, text=As technology becomes more integrated into our lives, the need for strong cybersecurity measures is paramount.), News(id=9, author=Vlad, time=2023-07-11T00:00, title=Advancements in Autonomous Vehicles, text=Self-driving cars and autonomous vehicles are poised to revolutionize the transportation industry.), News(id=10, author=Vlad, time=2023-07-16T00:00, title=The Future of Work: Automation and Job Market Trends, text=Automation technologies are reshaping the job market and requiring workers to adapt to new skills and roles.)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 22:39:17,545 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:39:17,839 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:39:18,925 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:39:18,943 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:39:19,949 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:39:19,976 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:39:31,024 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.create(..):ARGUMENT is(news=title: "Snnnesssda1"
text: "Same "
}
2023-07-02 22:39:32,226 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.create(..):RESULT is{552}ARGUMENT is(news=title: "Snnnesssda1"
text: "Same "
}
2023-07-02 22:39:49,890 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.update(..):ARGUMENT is(id=552, news=title: "S1"
text: "Same "
}
2023-07-02 22:39:50,006 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.update(..):RESULT is{}ARGUMENT is(id=552, news=title: "S1"
text: "Same "
}
2023-07-02 22:39:55,143 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):ARGUMENT is(id=552}
2023-07-02 22:39:55,185 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):RESULT is{id: 552
author: "anonymousUser"
time: "2023-07-02T22:39:31.060454"
title: "Snnnesssda1"
text: "Same "
}ARGUMENT is(id=552}
2023-07-02 22:41:08,593 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):ARGUMENT is(id=553}
2023-07-02 22:41:08,630 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.readWithComments(..):RESULT is{id: 553
author: "anonymousUser"
time: "2023-07-02T22:39:31.060454"
title: "S1"
text: "Same "
}ARGUMENT is(id=553}
2023-07-02 22:41:15,839 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):ARGUMENT is(id=553}
2023-07-02 22:41:15,857 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):RESULT is{id: 553
author: "anonymousUser"
time: "2023-07-02T22:39:31.060454"
title: "S1"
text: "Same "
}ARGUMENT is(id=553}
2023-07-02 22:41:23,662 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):ARGUMENT is(id=553}
2023-07-02 22:41:23,699 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):RESULT is{id: 553
author: "anonymousUser"
time: "2023-07-02T22:39:31.060454"
title: "S1"
text: "Same "
}ARGUMENT is(id=553}
2023-07-02 22:42:25,261 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.delete(..):ARGUMENT is(id=152}
2023-07-02 22:42:25,383 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=152}
2023-07-02 22:42:32,339 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.delete(..):ARGUMENT is(id=202}
2023-07-02 22:42:32,362 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=202}
2023-07-02 22:42:38,748 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.delete(..):ARGUMENT is(id=252}
2023-07-02 22:42:38,769 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=252}
2023-07-02 22:42:44,553 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.delete(..):ARGUMENT is(id=352}
2023-07-02 22:42:44,577 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=352}
2023-07-02 22:42:51,280 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.delete(..):ARGUMENT is(id=402}
2023-07-02 22:42:51,299 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=402}
2023-07-02 22:42:56,950 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.delete(..):ARGUMENT is(id=403}
2023-07-02 22:42:56,985 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=403}
2023-07-02 22:43:02,469 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.delete(..):ARGUMENT is(id=404}
2023-07-02 22:43:02,487 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=404}
2023-07-02 22:43:05,890 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.delete(..):ARGUMENT is(id=452}
2023-07-02 22:43:05,918 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=452}
2023-07-02 22:43:11,451 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.delete(..):ARGUMENT is(id=453}
2023-07-02 22:43:11,473 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=453}
2023-07-02 22:43:20,318 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.delete(..):ARGUMENT is(id=502}
2023-07-02 22:43:20,345 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=502}
2023-07-02 22:43:25,118 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.delete(..):ARGUMENT is(id=503}
2023-07-02 22:43:25,141 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=503}
2023-07-02 22:43:30,989 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.delete(..):ARGUMENT is(id=552}
2023-07-02 22:43:31,009 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=552}
2023-07-02 22:43:35,893 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.delete(..):ARGUMENT is(id=553}
2023-07-02 22:43:35,922 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.delete(..):RESULT is{}ARGUMENT is(id=553}
2023-07-02 22:49:25,258 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:49:25,313 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 22:49:25,358 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:49:43,069 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:49:43,179 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 9647 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:49:43,181 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:49:43,190 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:49:43,632 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:49:43,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:49:43,638 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:49:43,638 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:49:43,638 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:49:43,638 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:49:45,798 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:49:45,800 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:49:45,933 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:49:45,939 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:49:45,940 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 115 ms. Found 0 Redis repository interfaces.
2023-07-02 22:49:46,454 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:49:46,456 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:49:46,692 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 230 ms. Found 2 JPA repository interfaces.
2023-07-02 22:49:46,733 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:49:46,734 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:49:46,763 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:49:46,763 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:49:46,764 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2023-07-02 22:49:47,516 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:49:47,740 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:49:47,835 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:49:49,354 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:49:49,371 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:49:49,373 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:49:49,373 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:49:49,595 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 22:49:49,595 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5949 ms
2023-07-02 22:49:51,254 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:49:51,388 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5db04bd2
2023-07-02 22:49:51,389 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:49:51,711 INFO l.database [main] Set default schema name to public
2023-07-02 22:49:52,060 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 22:49:53,196 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:49:53,485 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:49:53,526 INFO l.util [main] UPDATE SUMMARY
2023-07-02 22:49:53,528 INFO l.util [main] Run:                          0
2023-07-02 22:49:53,528 INFO l.util [main] Previously run:               5
2023-07-02 22:49:53,529 INFO l.util [main] Filtered out:                 0
2023-07-02 22:49:53,529 INFO l.util [main] -------------------------------
2023-07-02 22:49:53,529 INFO l.util [main] Total change sets:            5

2023-07-02 22:49:53,530 INFO l.util [main] Update summary generated
2023-07-02 22:49:53,538 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:49:53,550 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:49:53,551 INFO l.command [main] Command execution complete
2023-07-02 22:49:53,857 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:49:53,935 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:49:53,937 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:49:54,208 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:49:54,405 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:49:54,462 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5dc8448b
2023-07-02 22:49:54,897 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:49:56,088 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:49:56,217 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:49:57,018 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:49:58,638 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:49:58,895 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:49:59,748 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4abfdad1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77d695f2, org.springframework.security.web.context.SecurityContextHolderFilter@112dfb03, org.springframework.security.web.header.HeaderWriterFilter@11f2be38, org.springframework.security.web.authentication.logout.LogoutFilter@22f34197, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@276d3d00, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2f705dff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d548d27, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1a2b5f27, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@76639714, org.springframework.security.web.session.ConcurrentSessionFilter@24d02ed9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37b117dd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67ee26af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a26f595, org.springframework.security.web.access.ExceptionTranslationFilter@1bd99de6, org.springframework.security.web.access.intercept.AuthorizationFilter@16c30e11]
2023-07-02 22:50:01,662 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 22:50:01,693 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:50:01,715 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 20.487 seconds (process running for 21.987)
2023-07-02 22:50:04,325 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 22:50:04,329 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 22:50:04,367 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 34 ms
2023-07-02 22:50:04,549 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:50:04,921 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:50:12,642 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:50:12,685 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:50:14,094 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):ARGUMENT is(id=1}
2023-07-02 22:50:14,115 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #NewsController.readWithComments(..):RESULT is{id: 1
author: "Artsem"
time: "2023-05-26T00:00"
title: "Technology Advancements in Artificial Intelligence"
text: "Artificial intelligence has made significant progress in recent years, with advancements in deep learning and neural networks."
comments {
  id: 1
  username: "ArtsemAA"
  text: "Great news! Can\'t wait to see how this new technology unfolds."
  time: "2023-06-01T00:00"
}
comments {
  id: 2
  username: "AndreiMK"
  text: "I\'m glad to see progress being made in this field. Exciting times ahead!"
  time: "2023-06-02T00:00"
}
}ARGUMENT is(id=1}
2023-07-02 22:50:33,122 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.create(..):ARGUMENT is(news=title: "S1"
text: "Same "
}
2023-07-02 22:50:34,259 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #NewsController.create(..):RESULT is{602}ARGUMENT is(news=title: "S1"
text: "Same "
}
2023-07-02 22:50:46,222 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.readWithComments(..):ARGUMENT is(id=602}
2023-07-02 22:50:46,266 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #NewsController.readWithComments(..):RESULT is{id: 602
author: "anonymousUser"
time: "2023-07-02T22:50:33.156824"
title: "S1"
text: "Same "
}ARGUMENT is(id=602}
2023-07-02 22:50:48,912 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):ARGUMENT is(id=602}
2023-07-02 22:50:48,930 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #NewsController.readWithComments(..):RESULT is{id: 602
author: "anonymousUser"
time: "2023-07-02T22:50:33.156824"
title: "S1"
text: "Same "
}ARGUMENT is(id=602}
2023-07-02 22:50:53,050 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.readWithComments(..):ARGUMENT is(id=602}
2023-07-02 22:50:53,072 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #NewsController.readWithComments(..):RESULT is{id: 602
author: "anonymousUser"
time: "2023-07-02T22:50:33.156824"
title: "S1"
text: "Same "
}ARGUMENT is(id=602}
2023-07-02 22:51:22,709 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #NewsController.update(..):ARGUMENT is(id=602, news=title: "S12"
text: "Same "
}
2023-07-02 22:52:04,577 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 22:52:04,672 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 22:52:10,407 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 22:52:10,444 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 22:52:13,138 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 22:52:13,148 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 22:52:31,848 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 22:52:31,926 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.create(..):RESULT is{52}ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 22:52:49,109 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #CommentController.read(..):ARGUMENT is(id=52}
2023-07-02 22:54:18,218 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #CommentController.update(..):ARGUMENT is(id=52, comment=text: "Same Tt"
}
2023-07-02 22:54:18,329 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #CommentController.update(..):RESULT is{}ARGUMENT is(id=52, comment=text: "Same Tt"
}
2023-07-02 22:54:26,733 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #CommentController.read(..):ARGUMENT is(id=52}
2023-07-02 22:54:26,750 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-10] #CommentController.read(..):RESULT is{}ARGUMENT is(id=52}
2023-07-02 22:54:36,733 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.read(..):ARGUMENT is(id=52}
2023-07-02 22:54:36,741 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.read(..):RESULT is{}ARGUMENT is(id=52}
2023-07-02 22:57:59,778 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.delete(..):ARGUMENT is(id=52}
2023-07-02 22:57:59,890 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=52}
2023-07-02 22:58:12,114 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.read(..):ARGUMENT is(id=52}
2023-07-02 22:58:33,966 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:58:33,988 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 22:58:34,016 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:58:50,143 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:58:50,357 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 10694 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:58:50,361 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:58:50,371 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:58:50,913 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:58:50,916 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:58:50,916 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:58:50,916 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:58:50,916 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:58:50,916 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:58:54,234 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:58:54,237 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:58:54,419 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:58:54,424 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:58:54,426 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 158 ms. Found 0 Redis repository interfaces.
2023-07-02 22:58:55,152 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:58:55,154 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:58:55,603 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 434 ms. Found 2 JPA repository interfaces.
2023-07-02 22:58:55,678 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:58:55,678 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:58:55,714 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:58:55,716 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:58:55,717 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2023-07-02 22:58:56,983 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:58:57,436 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:58:57,695 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:58:59,989 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:59:00,038 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:59:00,041 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:59:00,042 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:59:01,006 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 22:59:01,015 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 10090 ms
2023-07-02 22:59:02,949 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:59:03,156 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@21bf308
2023-07-02 22:59:03,158 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:59:03,561 INFO l.database [main] Set default schema name to public
2023-07-02 22:59:03,865 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 22:59:05,186 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:59:05,389 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:59:05,439 INFO l.util [main] UPDATE SUMMARY
2023-07-02 22:59:05,442 INFO l.util [main] Run:                          0
2023-07-02 22:59:05,444 INFO l.util [main] Previously run:               5
2023-07-02 22:59:05,444 INFO l.util [main] Filtered out:                 0
2023-07-02 22:59:05,444 INFO l.util [main] -------------------------------
2023-07-02 22:59:05,445 INFO l.util [main] Total change sets:            5

2023-07-02 22:59:05,448 INFO l.util [main] Update summary generated
2023-07-02 22:59:05,457 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:59:05,480 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:59:05,481 INFO l.command [main] Command execution complete
2023-07-02 22:59:05,792 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:59:05,868 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:59:05,873 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:59:06,206 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:59:06,412 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:59:06,471 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@445f6aa7
2023-07-02 22:59:06,819 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:59:07,976 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:59:08,087 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:59:09,430 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:59:10,866 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:59:11,113 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:59:12,014 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@32c3102, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b5b2fa0, org.springframework.security.web.context.SecurityContextHolderFilter@c7b276, org.springframework.security.web.header.HeaderWriterFilter@fe8344c, org.springframework.security.web.authentication.logout.LogoutFilter@42000b02, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@79d72d99, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@16b5c059, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@482b6e57, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5ab6cb92, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@46262fc3, org.springframework.security.web.session.ConcurrentSessionFilter@69231217, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64010508, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a26f595, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ca87dbe, org.springframework.security.web.access.ExceptionTranslationFilter@72f6cd2e, org.springframework.security.web.access.intercept.AuthorizationFilter@2438702]
2023-07-02 22:59:14,414 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:59:14,461 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 26.729 seconds (process running for 28.332)
2023-07-02 22:59:14,542 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:59:14,558 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 22:59:14,569 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 22:59:26,558 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 22:59:26,661 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 10777 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 22:59:26,666 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 22:59:26,670 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 22:59:26,926 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:59:26,928 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:59:26,929 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:59:26,929 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 22:59:26,929 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 22:59:26,929 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 22:59:28,767 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:59:28,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:59:28,872 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:59:28,877 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:59:28,877 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 89 ms. Found 0 Redis repository interfaces.
2023-07-02 22:59:29,379 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:59:29,380 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 22:59:29,685 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 300 ms. Found 2 JPA repository interfaces.
2023-07-02 22:59:29,758 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 22:59:29,759 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 22:59:29,787 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:59:29,788 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 22:59:29,788 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-07-02 22:59:30,526 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 22:59:30,777 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 22:59:30,886 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 22:59:32,290 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 22:59:32,307 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 22:59:32,309 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 22:59:32,309 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 22:59:32,504 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 22:59:32,505 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5573 ms
2023-07-02 22:59:33,565 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 22:59:33,805 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58a7a58d
2023-07-02 22:59:33,812 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 22:59:33,992 INFO l.database [main] Set default schema name to public
2023-07-02 22:59:34,297 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 22:59:35,137 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:59:35,340 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 22:59:35,370 INFO l.util [main] UPDATE SUMMARY
2023-07-02 22:59:35,371 INFO l.util [main] Run:                          0
2023-07-02 22:59:35,371 INFO l.util [main] Previously run:               5
2023-07-02 22:59:35,371 INFO l.util [main] Filtered out:                 0
2023-07-02 22:59:35,371 INFO l.util [main] -------------------------------
2023-07-02 22:59:35,371 INFO l.util [main] Total change sets:            5

2023-07-02 22:59:35,372 INFO l.util [main] Update summary generated
2023-07-02 22:59:35,377 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:59:35,391 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 22:59:35,391 INFO l.command [main] Command execution complete
2023-07-02 22:59:35,723 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 22:59:35,793 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 22:59:35,797 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 22:59:36,092 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:59:36,298 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 22:59:36,352 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@267a8777
2023-07-02 22:59:36,720 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 22:59:37,827 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 22:59:37,952 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 22:59:38,862 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 22:59:40,405 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 22:59:40,651 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 22:59:41,508 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61e4cf9b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@262d72a, org.springframework.security.web.context.SecurityContextHolderFilter@2fb0867c, org.springframework.security.web.header.HeaderWriterFilter@346ea2ed, org.springframework.security.web.authentication.logout.LogoutFilter@72c50c9f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@51b274ce, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@55cb0354, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f20adb6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@113366e7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@f563fc1, org.springframework.security.web.session.ConcurrentSessionFilter@42afbce5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45354715, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16b5c059, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@520ac5da, org.springframework.security.web.access.ExceptionTranslationFilter@632f505b, org.springframework.security.web.access.intercept.AuthorizationFilter@3aecbab2]
2023-07-02 22:59:43,286 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 22:59:43,326 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 22:59:43,355 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 18.676 seconds (process running for 20.093)
2023-07-02 23:00:27,141 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:00:27,143 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:00:27,178 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 35 ms
2023-07-02 23:00:27,514 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 23:00:29,083 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 23:00:44,038 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:00:44,260 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):RESULT is{102}ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:01:04,262 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.read(..):ARGUMENT is(id=102}
2023-07-02 23:02:38,373 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:02:38,389 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:02:38,403 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:02:48,126 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:02:48,257 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 11167 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:02:48,261 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:02:48,264 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:02:48,607 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:02:48,609 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:02:48,609 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:02:48,610 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:02:48,610 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:02:48,610 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:02:50,390 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:02:50,392 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:02:50,510 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:02:50,524 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:02:50,530 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 113 ms. Found 0 Redis repository interfaces.
2023-07-02 23:02:51,182 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:02:51,184 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:02:51,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 256 ms. Found 2 JPA repository interfaces.
2023-07-02 23:02:51,491 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:02:51,491 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:02:51,516 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:02:51,517 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:02:51,517 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2023-07-02 23:02:52,284 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:02:52,542 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:02:52,656 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:02:54,180 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:02:54,198 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:02:54,200 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:02:54,200 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:02:54,400 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:02:54,401 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5789 ms
2023-07-02 23:02:55,782 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:02:55,912 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6e78177b
2023-07-02 23:02:55,913 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:02:56,254 INFO l.database [main] Set default schema name to public
2023-07-02 23:02:56,508 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:02:57,539 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:02:57,784 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:02:57,819 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:02:57,822 INFO l.util [main] Run:                          0
2023-07-02 23:02:57,823 INFO l.util [main] Previously run:               5
2023-07-02 23:02:57,823 INFO l.util [main] Filtered out:                 0
2023-07-02 23:02:57,823 INFO l.util [main] -------------------------------
2023-07-02 23:02:57,824 INFO l.util [main] Total change sets:            5

2023-07-02 23:02:57,825 INFO l.util [main] Update summary generated
2023-07-02 23:02:57,834 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:02:57,841 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:02:57,842 INFO l.command [main] Command execution complete
2023-07-02 23:02:58,205 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:02:58,285 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:02:58,289 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:02:58,599 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:02:58,797 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:02:58,856 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@795e8ef5
2023-07-02 23:02:59,208 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:03:00,382 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:03:00,508 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:03:01,412 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:03:03,191 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:03:03,563 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:03:05,329 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4148a617, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6afec4b1, org.springframework.security.web.context.SecurityContextHolderFilter@10e57077, org.springframework.security.web.header.HeaderWriterFilter@2eeee108, org.springframework.security.web.authentication.logout.LogoutFilter@43f8f0bc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@24328fca, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@66c935db, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c94f221, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@74d926a0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2a801d1e, org.springframework.security.web.session.ConcurrentSessionFilter@5e5e680b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33a4cdba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@53ef0db3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36e74495, org.springframework.security.web.access.ExceptionTranslationFilter@b5b2fa0, org.springframework.security.web.access.intercept.AuthorizationFilter@7015b29b]
2023-07-02 23:03:07,611 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:03:07,646 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:03:07,671 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.269 seconds (process running for 22.629)
2023-07-02 23:03:08,120 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:03:08,120 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:03:08,127 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 7 ms
2023-07-02 23:03:08,234 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.read(..):ARGUMENT is(id=102}
2023-07-02 23:03:20,765 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.delete(..):ARGUMENT is(id=102}
2023-07-02 23:03:21,031 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=102}
2023-07-02 23:03:29,542 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:05:42,362 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:05:42,370 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:05:42,381 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:05:54,588 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:05:54,740 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 11537 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:05:54,741 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:05:54,742 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:05:55,047 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:05:55,048 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:05:55,049 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:05:55,049 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:05:55,049 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:05:55,049 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:05:56,922 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:05:56,924 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:05:57,042 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:05:57,047 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:05:57,048 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 100 ms. Found 0 Redis repository interfaces.
2023-07-02 23:05:57,647 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:05:57,649 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:05:57,891 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 238 ms. Found 2 JPA repository interfaces.
2023-07-02 23:05:57,932 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:05:57,932 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:05:57,957 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:05:57,958 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:05:57,959 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2023-07-02 23:05:58,681 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:05:58,921 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:05:59,038 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:06:00,873 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:06:00,889 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:06:00,890 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:06:00,890 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:06:01,100 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:06:01,101 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6050 ms
2023-07-02 23:06:02,253 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:06:02,375 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@5db04bd2
2023-07-02 23:06:02,377 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:06:02,535 INFO l.database [main] Set default schema name to public
2023-07-02 23:06:02,747 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:06:03,747 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:06:03,983 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:06:04,028 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:06:04,030 INFO l.util [main] Run:                          0
2023-07-02 23:06:04,032 INFO l.util [main] Previously run:               5
2023-07-02 23:06:04,032 INFO l.util [main] Filtered out:                 0
2023-07-02 23:06:04,032 INFO l.util [main] -------------------------------
2023-07-02 23:06:04,032 INFO l.util [main] Total change sets:            5

2023-07-02 23:06:04,034 INFO l.util [main] Update summary generated
2023-07-02 23:06:04,045 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:06:04,061 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:06:04,062 INFO l.command [main] Command execution complete
2023-07-02 23:06:04,342 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:06:04,416 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:06:04,419 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:06:04,696 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:06:04,877 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:06:04,962 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5dc8448b
2023-07-02 23:06:05,417 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:06:06,502 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:06:06,630 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:06:07,477 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:06:09,213 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:06:09,488 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:06:10,670 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@11a0e10, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3f8c91c5, org.springframework.security.web.context.SecurityContextHolderFilter@79d72d99, org.springframework.security.web.header.HeaderWriterFilter@24fb6521, org.springframework.security.web.authentication.logout.LogoutFilter@45cee4d2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1ab2f166, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7015b29b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@61e4cf9b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2eeee108, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3baca7fb, org.springframework.security.web.session.ConcurrentSessionFilter@7f6a0ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@482b6e57, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@113366e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c60d61, org.springframework.security.web.access.ExceptionTranslationFilter@37c55315, org.springframework.security.web.access.intercept.AuthorizationFilter@571f6b61]
2023-07-02 23:06:12,498 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:06:12,527 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:06:12,551 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.981 seconds (process running for 21.262)
2023-07-02 23:06:18,204 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:06:18,206 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:06:18,226 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 19 ms
2023-07-02 23:06:18,644 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:07:02,849 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:07:02,873 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:07:02,885 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:07:14,266 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:07:14,413 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 11715 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:07:14,422 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:07:14,430 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:07:14,813 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:07:14,816 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:07:14,816 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:07:14,816 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:07:14,816 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:07:14,816 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:07:17,292 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:07:17,295 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:07:17,455 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:07:17,469 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:07:17,478 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 142 ms. Found 0 Redis repository interfaces.
2023-07-02 23:07:18,291 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:07:18,294 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:07:18,627 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 324 ms. Found 2 JPA repository interfaces.
2023-07-02 23:07:18,670 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:07:18,670 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:07:18,696 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:07:18,697 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:07:18,697 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2023-07-02 23:07:19,500 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:07:19,908 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:07:20,048 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:07:22,255 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:07:22,270 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:07:22,273 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:07:22,274 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:07:22,496 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:07:22,496 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7676 ms
2023-07-02 23:07:24,278 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:07:24,414 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4d8522ff
2023-07-02 23:07:24,416 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:07:24,711 INFO l.database [main] Set default schema name to public
2023-07-02 23:07:25,005 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:07:26,232 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:07:26,490 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:07:26,530 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:07:26,535 INFO l.util [main] Run:                          0
2023-07-02 23:07:26,536 INFO l.util [main] Previously run:               5
2023-07-02 23:07:26,537 INFO l.util [main] Filtered out:                 0
2023-07-02 23:07:26,537 INFO l.util [main] -------------------------------
2023-07-02 23:07:26,537 INFO l.util [main] Total change sets:            5

2023-07-02 23:07:26,540 INFO l.util [main] Update summary generated
2023-07-02 23:07:26,550 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:07:26,566 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:07:26,567 INFO l.command [main] Command execution complete
2023-07-02 23:07:26,942 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:07:27,026 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:07:27,030 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:07:27,448 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:07:27,729 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:07:27,798 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@175c26ff
2023-07-02 23:07:28,159 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:07:29,504 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:07:29,624 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:07:30,421 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:07:31,709 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:07:31,954 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:07:32,840 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56b37d59, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69c4bbfe, org.springframework.security.web.context.SecurityContextHolderFilter@fe8344c, org.springframework.security.web.header.HeaderWriterFilter@77eab063, org.springframework.security.web.authentication.logout.LogoutFilter@1a26f595, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@24fb6521, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@393bd750, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@49a2f134, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7fdef973, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7f6a0ab, org.springframework.security.web.session.ConcurrentSessionFilter@346b793b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c29c01b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@562998d3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1c322b6a, org.springframework.security.web.access.ExceptionTranslationFilter@7df7d5cc, org.springframework.security.web.access.intercept.AuthorizationFilter@45bf1b4e]
2023-07-02 23:07:35,256 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:07:35,287 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:07:35,310 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 23.249 seconds (process running for 24.657)
2023-07-02 23:07:57,632 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:07:57,635 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:07:57,654 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 19 ms
2023-07-02 23:07:58,048 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:07:59,211 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.create(..):RESULT is{252}ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:08:07,594 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.read(..):ARGUMENT is(id=252}
2023-07-02 23:08:17,033 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 23:08:17,053 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 23:08:20,530 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.read(..):ARGUMENT is(id=1}
2023-07-02 23:08:20,539 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.read(..):RESULT is{Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA)}ARGUMENT is(id=1}
2023-07-02 23:08:29,563 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #CommentController.delete(..):ARGUMENT is(id=252}
2023-07-02 23:08:29,715 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=252}
2023-07-02 23:08:38,829 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-8] #CommentController.read(..):ARGUMENT is(id=252}
2023-07-02 23:08:43,518 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #CommentController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 23:08:43,608 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-9] #CommentController.readAll(..):RESULT is{[Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA), Comment(id=2, time=2023-06-02T00:00, text=I'm glad to see progress being made in this field. Exciting times ahead!, username=AndreiMK), Comment(id=3, time=2023-06-03T00:00, text=This is a crucial development for our society. Kudos to the team behind it!, username=ArtsemAA), Comment(id=4, time=2023-06-04T00:00, text=I'm impressed by the innovative approach taken in this project., username=AndreiMK), Comment(id=5, time=2023-06-05T00:00, text=This news brings a smile to my face. It's heartwarming to see such positive initiatives., username=AndreiMK), Comment(id=6, time=2023-06-06T00:00, text=I'm inspired by the dedication and passion of the people involved in this project., username=ArtsemAA), Comment(id=7, time=2023-06-07T00:00, text=This news raises important questions and sparks an important conversation., username=VladKN), Comment(id=8, time=2023-06-08T00:00, text=I appreciate the effort put into shedding light on this topic. It's enlightening., username=DmitriyBR), Comment(id=9, time=2023-06-09T00:00, text=This news reminds us of the importance of preserving our natural resources., username=VladKN), Comment(id=10, time=2023-06-10T00:00, text=I'm glad to see initiatives like this that prioritize sustainability., username=DmitriyBR)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 23:11:37,538 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:11:37,635 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):RESULT is{253}ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:11:49,177 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.read(..):ARGUMENT is(id=253}
2023-07-02 23:12:55,295 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:12:55,312 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:12:55,329 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:13:05,861 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:13:05,981 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 12393 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:13:05,981 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:13:05,983 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:13:06,274 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:13:06,276 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:13:06,277 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:13:06,277 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:13:06,277 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:13:06,277 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:13:08,223 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:13:08,225 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:13:08,367 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:13:08,372 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:13:08,372 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 114 ms. Found 0 Redis repository interfaces.
2023-07-02 23:13:08,861 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:13:08,863 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:13:09,091 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 223 ms. Found 2 JPA repository interfaces.
2023-07-02 23:13:09,143 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:13:09,143 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:13:09,173 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:13:09,174 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:13:09,175 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2023-07-02 23:13:09,936 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:13:10,175 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:13:10,279 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:13:11,730 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:13:11,766 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:13:11,767 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:13:11,769 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:13:11,986 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:13:11,988 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5707 ms
2023-07-02 23:13:13,756 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:13:13,887 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58a7a58d
2023-07-02 23:13:13,889 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:13:14,209 INFO l.database [main] Set default schema name to public
2023-07-02 23:13:14,491 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:13:15,570 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:13:15,838 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:13:15,893 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:13:15,895 INFO l.util [main] Run:                          0
2023-07-02 23:13:15,895 INFO l.util [main] Previously run:               5
2023-07-02 23:13:15,896 INFO l.util [main] Filtered out:                 0
2023-07-02 23:13:15,896 INFO l.util [main] -------------------------------
2023-07-02 23:13:15,897 INFO l.util [main] Total change sets:            5

2023-07-02 23:13:15,904 INFO l.util [main] Update summary generated
2023-07-02 23:13:15,913 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:13:15,935 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:13:15,936 INFO l.command [main] Command execution complete
2023-07-02 23:13:16,362 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:13:16,440 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:13:16,443 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:13:16,746 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:13:16,942 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:13:17,005 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@267a8777
2023-07-02 23:13:17,349 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:13:18,606 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:13:18,796 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:13:19,778 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:13:21,322 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:13:21,682 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:13:22,825 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8b62702, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3aecbab2, org.springframework.security.web.context.SecurityContextHolderFilter@109fa8e2, org.springframework.security.web.header.HeaderWriterFilter@4e8c139a, org.springframework.security.web.authentication.logout.LogoutFilter@1c6d908b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5e5e680b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@cf825e8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@320684cd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@96b00fb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@10e57077, org.springframework.security.web.session.ConcurrentSessionFilter@6d41b46a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4967d14c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@283fe454, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a9375dd, org.springframework.security.web.access.ExceptionTranslationFilter@276d3d00, org.springframework.security.web.access.intercept.AuthorizationFilter@56b37d59]
2023-07-02 23:13:25,444 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:13:25,486 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:13:25,512 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.499 seconds (process running for 22.998)
2023-07-02 23:13:55,414 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:13:55,415 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:13:55,434 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 18 ms
2023-07-02 23:13:55,764 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):ARGUMENT is(id=253}
2023-07-02 23:13:56,830 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=253}
2023-07-02 23:14:02,988 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.delete(..):ARGUMENT is(id=202}
2023-07-02 23:14:03,010 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=202}
2023-07-02 23:14:08,680 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.delete(..):ARGUMENT is(id=152}
2023-07-02 23:14:08,703 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=152}
2023-07-02 23:14:19,008 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:15:18,315 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:15:18,381 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:15:18,395 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:15:30,786 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:15:30,934 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 12691 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:15:30,935 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:15:30,944 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:15:31,239 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:15:31,241 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:15:31,241 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:15:31,241 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:15:31,241 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:15:31,241 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:15:33,420 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:15:33,433 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:15:33,635 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:15:33,642 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:15:33,643 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 141 ms. Found 0 Redis repository interfaces.
2023-07-02 23:15:34,252 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:15:34,254 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:15:34,554 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 293 ms. Found 2 JPA repository interfaces.
2023-07-02 23:15:34,622 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:15:34,622 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:15:34,657 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:15:34,658 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:15:34,658 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 35 ms. Found 0 Redis repository interfaces.
2023-07-02 23:15:35,427 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:15:35,753 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:15:35,869 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:15:37,504 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:15:37,519 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:15:37,522 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:15:37,523 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:15:37,740 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:15:37,741 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6498 ms
2023-07-02 23:15:39,314 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:15:39,452 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4ec37a42
2023-07-02 23:15:39,454 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:15:39,785 INFO l.database [main] Set default schema name to public
2023-07-02 23:15:40,115 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:15:41,077 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:15:41,350 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:15:41,389 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:15:41,390 INFO l.util [main] Run:                          0
2023-07-02 23:15:41,391 INFO l.util [main] Previously run:               5
2023-07-02 23:15:41,391 INFO l.util [main] Filtered out:                 0
2023-07-02 23:15:41,391 INFO l.util [main] -------------------------------
2023-07-02 23:15:41,391 INFO l.util [main] Total change sets:            5

2023-07-02 23:15:41,393 INFO l.util [main] Update summary generated
2023-07-02 23:15:41,400 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:15:41,415 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:15:41,417 INFO l.command [main] Command execution complete
2023-07-02 23:15:41,727 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:15:41,809 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:15:41,812 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:15:42,097 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:15:42,295 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:15:42,354 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@13976c57
2023-07-02 23:15:42,692 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:15:43,966 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:15:44,077 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:15:44,985 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:15:46,790 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:15:47,076 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:15:48,017 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d7e9c4d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d7efdb4, org.springframework.security.web.context.SecurityContextHolderFilter@33a4cdba, org.springframework.security.web.header.HeaderWriterFilter@b359d2d, org.springframework.security.web.authentication.logout.LogoutFilter@78e8594a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@c94f221, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@321b3440, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e5ca5fe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7aab77f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@22b0c1cf, org.springframework.security.web.session.ConcurrentSessionFilter@320684cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@571f6b61, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@57d5dd0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@579a6e64, org.springframework.security.web.access.ExceptionTranslationFilter@4ca87dbe, org.springframework.security.web.access.intercept.AuthorizationFilter@262d72a]
2023-07-02 23:15:51,304 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:15:51,341 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:15:51,365 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 22.393 seconds (process running for 24.309)
2023-07-02 23:16:10,543 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:16:10,545 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:16:10,558 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 13 ms
2023-07-02 23:16:10,696 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):ARGUMENT is(id=302}
2023-07-02 23:16:11,639 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=302}
2023-07-02 23:16:19,115 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:16:19,276 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):RESULT is{352}ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:16:31,231 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-4] #CommentController.read(..):ARGUMENT is(id=352}
2023-07-02 23:17:11,174 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.read(..):ARGUMENT is(id=352}
2023-07-02 23:22:02,279 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:22:02,329 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:22:02,377 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:22:15,515 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:22:15,727 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 13468 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:22:15,730 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:22:15,738 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:22:16,122 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:22:16,125 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:22:16,125 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:22:16,125 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:22:16,125 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:22:16,125 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:22:18,368 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:22:18,371 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:22:18,512 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:22:18,516 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:22:18,517 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 112 ms. Found 0 Redis repository interfaces.
2023-07-02 23:22:19,248 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:22:19,250 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:22:19,642 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 384 ms. Found 2 JPA repository interfaces.
2023-07-02 23:22:19,703 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:22:19,704 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:22:19,748 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:22:19,749 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:22:19,749 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2023-07-02 23:22:20,631 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:22:20,905 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:22:21,022 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:22:22,886 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:22:22,906 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:22:22,908 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:22:22,908 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:22:23,184 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:22:23,184 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 7053 ms
2023-07-02 23:22:24,923 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:22:25,127 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@391b01c5
2023-07-02 23:22:25,132 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:22:25,569 INFO l.database [main] Set default schema name to public
2023-07-02 23:22:25,839 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:22:27,037 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:22:27,304 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:22:27,399 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:22:27,402 INFO l.util [main] Run:                          0
2023-07-02 23:22:27,402 INFO l.util [main] Previously run:               5
2023-07-02 23:22:27,402 INFO l.util [main] Filtered out:                 0
2023-07-02 23:22:27,403 INFO l.util [main] -------------------------------
2023-07-02 23:22:27,403 INFO l.util [main] Total change sets:            5

2023-07-02 23:22:27,405 INFO l.util [main] Update summary generated
2023-07-02 23:22:27,414 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:22:27,459 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:22:27,464 INFO l.command [main] Command execution complete
2023-07-02 23:22:27,908 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:22:27,979 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:22:27,983 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:22:28,303 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:22:28,505 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:22:28,559 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@45bbb3e8
2023-07-02 23:22:28,923 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:22:30,102 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:22:30,216 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:22:31,316 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:22:34,191 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:22:34,450 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:22:35,359 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ca87dbe, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2eeee108, org.springframework.security.web.context.SecurityContextHolderFilter@63f8006f, org.springframework.security.web.header.HeaderWriterFilter@315f5ffb, org.springframework.security.web.authentication.logout.LogoutFilter@4bf14a9c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7a8d001b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3af64136, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2f9f939, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2939bfa0, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7c1aed5a, org.springframework.security.web.session.ConcurrentSessionFilter@174bbe8e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2f705dff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d758834, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b359d2d, org.springframework.security.web.access.ExceptionTranslationFilter@396ea7ab, org.springframework.security.web.access.intercept.AuthorizationFilter@753aacf]
2023-07-02 23:22:38,371 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:22:38,412 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:22:38,441 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 25.256 seconds (process running for 26.833)
2023-07-02 23:22:38,806 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:22:38,807 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:22:38,811 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 4 ms
2023-07-02 23:22:38,891 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):ARGUMENT is(id=352}
2023-07-02 23:22:39,785 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=352}
2023-07-02 23:22:45,727 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:23:00,607 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:23:00,644 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:23:00,660 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:23:14,271 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:23:14,454 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 13601 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:23:14,456 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:23:14,461 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:23:14,799 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:23:14,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:23:14,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:23:14,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:23:14,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:23:14,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:23:17,002 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:23:17,005 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:23:17,123 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:23:17,128 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:23:17,129 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 101 ms. Found 0 Redis repository interfaces.
2023-07-02 23:23:17,643 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:23:17,644 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:23:17,871 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 221 ms. Found 2 JPA repository interfaces.
2023-07-02 23:23:17,914 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:23:17,914 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:23:17,943 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:23:17,944 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:23:17,945 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2023-07-02 23:23:18,748 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:23:18,986 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:23:19,101 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:23:20,724 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:23:20,741 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:23:20,743 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:23:20,743 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:23:20,942 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:23:20,944 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6139 ms
2023-07-02 23:23:22,345 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:23:22,474 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58a7a58d
2023-07-02 23:23:22,475 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:23:22,630 INFO l.database [main] Set default schema name to public
2023-07-02 23:23:22,870 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:23:23,875 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:23:24,113 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:23:24,146 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:23:24,147 INFO l.util [main] Run:                          0
2023-07-02 23:23:24,148 INFO l.util [main] Previously run:               5
2023-07-02 23:23:24,148 INFO l.util [main] Filtered out:                 0
2023-07-02 23:23:24,148 INFO l.util [main] -------------------------------
2023-07-02 23:23:24,148 INFO l.util [main] Total change sets:            5

2023-07-02 23:23:24,149 INFO l.util [main] Update summary generated
2023-07-02 23:23:24,166 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:23:24,186 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:23:24,188 INFO l.command [main] Command execution complete
2023-07-02 23:23:24,475 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:23:24,548 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:23:24,552 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:23:24,804 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:23:24,975 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:23:25,032 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@267a8777
2023-07-02 23:23:25,384 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:23:26,591 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:23:26,737 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:23:27,823 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:23:29,397 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:23:29,655 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:23:30,407 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2eeee108, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c1aed5a, org.springframework.security.web.context.SecurityContextHolderFilter@729fc36a, org.springframework.security.web.header.HeaderWriterFilter@afee49e, org.springframework.security.web.authentication.logout.LogoutFilter@38aa5ffe, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2254919b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@45354715, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@113366e7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2e7bcd52, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@b359d2d, org.springframework.security.web.session.ConcurrentSessionFilter@3e15330c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69231217, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64010508, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ff4478, org.springframework.security.web.access.ExceptionTranslationFilter@16c30e11, org.springframework.security.web.access.intercept.AuthorizationFilter@540accf4]
2023-07-02 23:23:32,599 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:23:32,635 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:23:32,660 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 20.454 seconds (process running for 21.939)
2023-07-02 23:23:36,806 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:23:36,806 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:23:36,826 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 19 ms
2023-07-02 23:23:36,943 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #CommentController.delete(..):ARGUMENT is(id=402}
2023-07-02 23:23:38,091 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=402}
2023-07-02 23:23:45,652 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:24:23,981 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:24:23,991 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:24:23,998 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:24:34,275 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:24:34,414 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 13763 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:24:34,415 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:24:34,424 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:24:34,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:24:34,808 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:24:34,809 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:24:34,810 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:24:34,810 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:24:34,810 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:24:36,720 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:24:36,724 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:24:36,884 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:24:36,888 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:24:36,889 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 123 ms. Found 0 Redis repository interfaces.
2023-07-02 23:24:37,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:24:37,429 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:24:37,691 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 252 ms. Found 2 JPA repository interfaces.
2023-07-02 23:24:37,747 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:24:37,747 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:24:37,775 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:24:37,776 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:24:37,776 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2023-07-02 23:24:38,639 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:24:38,909 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:24:38,994 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:24:40,451 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:24:40,465 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:24:40,467 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:24:40,467 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:24:40,664 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:24:40,665 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5853 ms
2023-07-02 23:24:42,148 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:24:42,278 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58a7a58d
2023-07-02 23:24:42,280 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:24:42,579 INFO l.database [main] Set default schema name to public
2023-07-02 23:24:42,783 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:24:43,765 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:24:43,989 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:24:44,030 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:24:44,033 INFO l.util [main] Run:                          0
2023-07-02 23:24:44,034 INFO l.util [main] Previously run:               5
2023-07-02 23:24:44,034 INFO l.util [main] Filtered out:                 0
2023-07-02 23:24:44,034 INFO l.util [main] -------------------------------
2023-07-02 23:24:44,034 INFO l.util [main] Total change sets:            5

2023-07-02 23:24:44,036 INFO l.util [main] Update summary generated
2023-07-02 23:24:44,046 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:24:44,064 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:24:44,066 INFO l.command [main] Command execution complete
2023-07-02 23:24:44,360 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:24:44,449 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:24:44,452 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:24:44,812 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:24:45,024 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:24:45,076 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@267a8777
2023-07-02 23:24:45,383 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:24:46,397 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:24:46,510 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:24:47,397 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:24:48,804 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:24:49,031 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:24:49,830 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c322b6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5126c400, org.springframework.security.web.context.SecurityContextHolderFilter@59cfabaf, org.springframework.security.web.header.HeaderWriterFilter@3408c95b, org.springframework.security.web.authentication.logout.LogoutFilter@7f055e1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d020409, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@42afbce5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25c962b7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@276d3d00, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1df19e91, org.springframework.security.web.session.ConcurrentSessionFilter@5e9257b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4412b152, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69231217, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fb0867c, org.springframework.security.web.access.ExceptionTranslationFilter@77eab063, org.springframework.security.web.access.intercept.AuthorizationFilter@743fc1ee]
2023-07-02 23:24:51,780 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:24:51,816 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:24:51,840 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 20.039 seconds (process running for 21.586)
2023-07-02 23:24:56,623 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:24:56,625 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:24:56,677 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 49 ms
2023-07-02 23:24:56,938 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):ARGUMENT is(id=452}
2023-07-02 23:24:58,179 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=452}
2023-07-02 23:25:05,968 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.create(..):ARGUMENT is(comment=newsId: 2
text: "Same Text"
}
2023-07-02 23:26:36,943 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.update(..):ARGUMENT is(id=502, comment=text: "Same T"
}
2023-07-02 23:26:37,047 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.update(..):RESULT is{}ARGUMENT is(id=502, comment=text: "Same T"
}
2023-07-02 23:26:43,539 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.read(..):ARGUMENT is(id=502}
2023-07-02 23:26:43,592 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.read(..):RESULT is{Comment(id=502, time=2023-07-02T23:25:06, text=Same T, username=anonymousUser)}ARGUMENT is(id=502}
2023-07-02 23:26:53,623 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #CommentController.read(..):ARGUMENT is(id=502}
2023-07-02 23:26:53,641 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-7] #CommentController.read(..):RESULT is{Comment(id=502, time=2023-07-02T23:25:06, text=Same T, username=anonymousUser)}ARGUMENT is(id=502}
2023-07-02 23:27:47,211 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:27:47,254 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:27:47,270 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:27:57,725 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:27:57,866 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 14155 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:27:57,868 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:27:57,871 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:27:58,170 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:27:58,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:27:58,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:27:58,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:27:58,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:27:58,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:28:00,168 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:28:00,169 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:28:00,283 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:28:00,286 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:28:00,287 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 97 ms. Found 0 Redis repository interfaces.
2023-07-02 23:28:00,964 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:28:00,966 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:28:01,213 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 242 ms. Found 2 JPA repository interfaces.
2023-07-02 23:28:01,258 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:28:01,258 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:28:01,286 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:28:01,287 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:28:01,288 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 29 ms. Found 0 Redis repository interfaces.
2023-07-02 23:28:02,031 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:28:02,368 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:28:02,471 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:28:04,278 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:28:04,294 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:28:04,296 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:28:04,296 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:28:04,527 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:28:04,527 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 6350 ms
2023-07-02 23:28:05,956 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:28:06,089 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@31c5304f
2023-07-02 23:28:06,090 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:28:06,389 INFO l.database [main] Set default schema name to public
2023-07-02 23:28:06,614 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:28:07,629 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:28:07,867 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:28:07,906 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:28:07,907 INFO l.util [main] Run:                          0
2023-07-02 23:28:07,908 INFO l.util [main] Previously run:               5
2023-07-02 23:28:07,908 INFO l.util [main] Filtered out:                 0
2023-07-02 23:28:07,908 INFO l.util [main] -------------------------------
2023-07-02 23:28:07,908 INFO l.util [main] Total change sets:            5

2023-07-02 23:28:07,909 INFO l.util [main] Update summary generated
2023-07-02 23:28:07,916 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:28:07,925 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:28:07,926 INFO l.command [main] Command execution complete
2023-07-02 23:28:08,251 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:28:08,459 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:28:08,463 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:28:08,772 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:28:08,958 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:28:09,015 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@33d08a24
2023-07-02 23:28:09,394 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:28:10,575 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:28:10,711 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:28:11,735 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:28:13,164 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:28:13,709 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:28:14,527 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1b256636, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7aab77f, org.springframework.security.web.context.SecurityContextHolderFilter@3b22cae9, org.springframework.security.web.header.HeaderWriterFilter@59250335, org.springframework.security.web.authentication.logout.LogoutFilter@45354715, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@46b3c1c2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@53ef0db3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29957fe0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@49a2f134, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@788b0c96, org.springframework.security.web.session.ConcurrentSessionFilter@6e767943, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@753aacf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@37c55315, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@45dac901, org.springframework.security.web.access.ExceptionTranslationFilter@3feec3b0, org.springframework.security.web.access.intercept.AuthorizationFilter@113366e7]
2023-07-02 23:28:16,792 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:28:16,827 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:28:16,854 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 21.038 seconds (process running for 22.479)
2023-07-02 23:28:24,305 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-1] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:28:24,306 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:28:24,333 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-1] Completed initialization in 27 ms
2023-07-02 23:28:24,680 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-1] #CommentController.create(..):ARGUMENT is(comment=newsId: 3
text: "Same T"
}
2023-07-02 23:28:50,582 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:28:50,600 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:28:50,652 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:29:00,815 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:29:00,960 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 14285 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:29:00,963 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:29:00,970 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:29:01,279 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:29:01,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:29:01,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:29:01,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:29:01,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:29:01,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:29:03,264 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:29:03,267 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:29:03,422 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:29:03,427 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:29:03,428 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 140 ms. Found 0 Redis repository interfaces.
2023-07-02 23:29:03,947 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:29:03,949 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:29:04,187 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 232 ms. Found 2 JPA repository interfaces.
2023-07-02 23:29:04,235 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:29:04,236 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:29:04,262 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:29:04,263 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:29:04,263 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2023-07-02 23:29:04,988 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:29:05,233 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:29:05,327 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:29:06,769 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:29:06,786 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:29:06,787 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:29:06,787 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:29:06,961 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:29:06,962 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5674 ms
2023-07-02 23:29:08,383 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:29:08,517 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@58a7a58d
2023-07-02 23:29:08,519 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:29:08,675 INFO l.database [main] Set default schema name to public
2023-07-02 23:29:08,904 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:29:09,775 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:29:10,034 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:29:10,081 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:29:10,083 INFO l.util [main] Run:                          0
2023-07-02 23:29:10,083 INFO l.util [main] Previously run:               5
2023-07-02 23:29:10,083 INFO l.util [main] Filtered out:                 0
2023-07-02 23:29:10,083 INFO l.util [main] -------------------------------
2023-07-02 23:29:10,083 INFO l.util [main] Total change sets:            5

2023-07-02 23:29:10,086 INFO l.util [main] Update summary generated
2023-07-02 23:29:10,096 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:29:10,115 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:29:10,116 INFO l.command [main] Command execution complete
2023-07-02 23:29:10,508 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:29:10,578 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:29:10,581 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:29:10,836 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:29:11,025 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:29:11,090 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@267a8777
2023-07-02 23:29:11,428 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:29:12,657 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:29:12,778 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:29:13,825 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:29:15,351 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:29:15,587 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:29:16,448 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c322b6a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5126c400, org.springframework.security.web.context.SecurityContextHolderFilter@59cfabaf, org.springframework.security.web.header.HeaderWriterFilter@3408c95b, org.springframework.security.web.authentication.logout.LogoutFilter@7f055e1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3d020409, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@42afbce5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@25c962b7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@276d3d00, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1df19e91, org.springframework.security.web.session.ConcurrentSessionFilter@5e9257b3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4412b152, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69231217, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fb0867c, org.springframework.security.web.access.ExceptionTranslationFilter@77eab063, org.springframework.security.web.access.intercept.AuthorizationFilter@743fc1ee]
2023-07-02 23:29:18,455 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:29:18,497 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:29:18,550 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.497 seconds (process running for 20.906)
2023-07-02 23:29:19,416 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:29:19,417 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:29:19,426 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 9 ms
2023-07-02 23:29:19,888 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #CommentController.create(..):ARGUMENT is(comment=newsId: 4
text: "Same T"
}
2023-07-02 23:30:35,247 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:30:35,258 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:30:35,264 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:30:44,868 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:30:44,996 INFO r.c.N.NewsManagerApplication [main] Starting NewsManagerApplication using Java 17.0.2 with PID 14494 (/Users/artemaverkov/Concurrency/NewsManager/NewsManager/build/classes/java/main started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:30:44,997 DEBUG r.c.N.NewsManagerApplication [main] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:30:45,005 INFO r.c.N.NewsManagerApplication [main] The following 1 profile is active: "prod"
2023-07-02 23:30:45,260 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:30:45,261 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:30:45,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:30:45,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:30:45,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Fetching config from server at : http://localhost:8086
2023-07-02 23:30:45,262 INFO o.s.c.c.c.ConfigServerConfigDataLoader [main] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-07-02 23:30:47,073 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:30:47,075 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:30:47,187 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:30:47,192 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:30:47,193 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 92 ms. Found 0 Redis repository interfaces.
2023-07-02 23:30:47,764 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:30:47,768 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:30:48,052 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 261 ms. Found 2 JPA repository interfaces.
2023-07-02 23:30:48,111 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:30:48,112 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:30:48,137 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:30:48,137 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [main] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:30:48,138 INFO o.s.d.r.c.RepositoryConfigurationDelegate [main] Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-07-02 23:30:48,994 INFO o.s.c.c.s.GenericScope [main] BeanFactory id=8082cd8d-4362-3617-ae1b-cf61b7b6e8fa
2023-07-02 23:30:49,218 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [main] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:30:49,317 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [main] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:30:50,776 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat initialized with port(s): 8088 (http)
2023-07-02 23:30:50,790 INFO o.a.c.h.Http11NioProtocol [main] Initializing ProtocolHandler ["http-nio-8088"]
2023-07-02 23:30:50,791 INFO o.a.c.c.StandardService [main] Starting service [Tomcat]
2023-07-02 23:30:50,792 INFO o.a.c.c.StandardEngine [main] Starting Servlet engine: [Apache Tomcat/10.1.8]
2023-07-02 23:30:50,998 INFO o.a.c.c.C.[.[.[/] [main] Initializing Spring embedded WebApplicationContext
2023-07-02 23:30:50,998 INFO o.s.b.w.s.c.ServletWebServerApplicationContext [main] Root WebApplicationContext: initialization completed in 5734 ms
2023-07-02 23:30:52,465 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Starting...
2023-07-02 23:30:52,596 INFO c.z.h.p.HikariPool [main] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@798b36fd
2023-07-02 23:30:52,598 INFO c.z.h.HikariDataSource [main] HikariPool-1 - Start completed.
2023-07-02 23:30:52,910 INFO l.database [main] Set default schema name to public
2023-07-02 23:30:53,138 INFO l.lockservice [main] Successfully acquired change log lock
2023-07-02 23:30:54,136 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:30:54,369 INFO l.changelog [main] Reading from public.databasechangelog
2023-07-02 23:30:54,406 INFO l.util [main] UPDATE SUMMARY
2023-07-02 23:30:54,408 INFO l.util [main] Run:                          0
2023-07-02 23:30:54,408 INFO l.util [main] Previously run:               5
2023-07-02 23:30:54,408 INFO l.util [main] Filtered out:                 0
2023-07-02 23:30:54,408 INFO l.util [main] -------------------------------
2023-07-02 23:30:54,408 INFO l.util [main] Total change sets:            5

2023-07-02 23:30:54,412 INFO l.util [main] Update summary generated
2023-07-02 23:30:54,419 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:30:54,427 INFO l.lockservice [main] Successfully released change log lock
2023-07-02 23:30:54,428 INFO l.command [main] Command execution complete
2023-07-02 23:30:54,723 INFO o.h.j.i.u.LogHelper [main] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:30:54,789 INFO o.h.Version [main] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:30:54,793 INFO o.h.c.Environment [main] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:30:55,097 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:30:55,289 INFO o.s.o.j.p.SpringPersistenceUnitInfo [main] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:30:55,361 INFO o.h.o.dialect [main] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@10b7b5f0
2023-07-02 23:30:55,722 INFO o.h.b.i.BytecodeProviderInitiator [main] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:30:56,835 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [main] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:30:56,954 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [main] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:30:58,013 INFO o.s.d.j.r.q.QueryEnhancerFactory [main] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:30:59,951 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [main] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:31:00,267 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [main] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:31:01,390 INFO o.s.s.w.DefaultSecurityFilterChain [main] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d7e9c4d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d7efdb4, org.springframework.security.web.context.SecurityContextHolderFilter@76312df9, org.springframework.security.web.header.HeaderWriterFilter@cf825e8, org.springframework.security.web.authentication.logout.LogoutFilter@61e4cf9b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@36e74495, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@321b3440, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e5ca5fe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5cfc283d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@22b0c1cf, org.springframework.security.web.session.ConcurrentSessionFilter@a9375dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b256636, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75fe135a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@579a6e64, org.springframework.security.web.access.ExceptionTranslationFilter@2fc2305a, org.springframework.security.web.access.intercept.AuthorizationFilter@557de967]
2023-07-02 23:31:03,071 INFO o.a.c.h.Http11NioProtocol [main] Starting ProtocolHandler ["http-nio-8088"]
2023-07-02 23:31:03,095 INFO o.s.b.w.e.t.TomcatWebServer [main] Tomcat started on port(s): 8088 (http) with context path ''
2023-07-02 23:31:03,118 INFO r.c.N.NewsManagerApplication [main] Started NewsManagerApplication in 19.968 seconds (process running for 21.293)
2023-07-02 23:31:03,904 INFO o.a.c.c.C.[.[.[/] [http-nio-8088-exec-2] Initializing Spring DispatcherServlet 'dispatcherServlet'
2023-07-02 23:31:03,907 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Initializing Servlet 'dispatcherServlet'
2023-07-02 23:31:03,948 INFO o.s.w.s.DispatcherServlet [http-nio-8088-exec-2] Completed initialization in 39 ms
2023-07-02 23:31:04,395 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #CommentController.create(..):ARGUMENT is(comment=newsId: 5
text: "Same T"
}
2023-07-02 23:31:05,258 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-2] #CommentController.create(..):RESULT is{652}ARGUMENT is(comment=newsId: 5
text: "Same T"
}
2023-07-02 23:31:16,578 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-3] #CommentController.read(..):ARGUMENT is(id=652}
2023-07-02 23:31:30,716 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.readAll(..):ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 23:31:30,846 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-5] #CommentController.readAll(..):RESULT is{[Comment(id=1, time=2023-06-01T00:00, text=Great news! Can't wait to see how this new technology unfolds., username=ArtsemAA), Comment(id=2, time=2023-06-02T00:00, text=I'm glad to see progress being made in this field. Exciting times ahead!, username=AndreiMK), Comment(id=3, time=2023-06-03T00:00, text=This is a crucial development for our society. Kudos to the team behind it!, username=ArtsemAA), Comment(id=4, time=2023-06-04T00:00, text=I'm impressed by the innovative approach taken in this project., username=AndreiMK), Comment(id=5, time=2023-06-05T00:00, text=This news brings a smile to my face. It's heartwarming to see such positive initiatives., username=AndreiMK), Comment(id=6, time=2023-06-06T00:00, text=I'm inspired by the dedication and passion of the people involved in this project., username=ArtsemAA), Comment(id=7, time=2023-06-07T00:00, text=This news raises important questions and sparks an important conversation., username=VladKN), Comment(id=8, time=2023-06-08T00:00, text=I appreciate the effort put into shedding light on this topic. It's enlightening., username=DmitriyBR), Comment(id=9, time=2023-06-09T00:00, text=This news reminds us of the importance of preserving our natural resources., username=VladKN), Comment(id=10, time=2023-06-10T00:00, text=I'm glad to see initiatives like this that prioritize sustainability., username=DmitriyBR)]}ARGUMENT is(pageable=Page request [number: 0, size 10, sort: UNSORTED]}
2023-07-02 23:31:42,206 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.delete(..):ARGUMENT is(id=652}
2023-07-02 23:31:42,373 INFO r.c.c.a.l.ControllersLogAspect [http-nio-8088-exec-6] #CommentController.delete(..):RESULT is{}ARGUMENT is(id=652}
2023-07-02 23:34:00,378 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:34:00,388 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:34:00,394 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:48:34,384 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 23:48:34,474 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-02 23:48:35,067 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:48:35,085 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@294f9d50{/__admin,null,AVAILABLE}
2023-07-02 23:48:35,097 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:48:35,097 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1a07bf6{/,null,AVAILABLE}
2023-07-02 23:48:35,104 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@17273273{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:35,113 INFO o.e.j.s.Server [Test worker] Started Server@17b37e9a{STARTING}[11.0.15,sto=1000] @1922ms
2023-07-02 23:48:35,640 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:48:35,652 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:35,665 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:35,665 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:35,666 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:35,711 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:35,711 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f5f474c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:35,711 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:35,711 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:35,711 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:35,711 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@70be89ec uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:36,243 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:36,244 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:36,273 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:36,273 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:36,274 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:36,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:36,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:48:36,527 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 97 ms. Found 2 JPA repository interfaces.
2023-07-02 23:48:36,535 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:36,535 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:36,540 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:36,540 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:36,540 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:36,763 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=8af4465b-7060-38ed-896b-1b39f01d2bd1
2023-07-02 23:48:36,844 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:36,884 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:48:37,300 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-02 23:48:37,671 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-02 23:48:37,786 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55a07f97
2023-07-02 23:48:37,788 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-02 23:48:37,915 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:48:38,058 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:48:38,512 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:48:38,596 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:48:38,602 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:48:38,603 INFO l.util [Test worker] Run:                          0
2023-07-02 23:48:38,603 INFO l.util [Test worker] Previously run:               5
2023-07-02 23:48:38,603 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:48:38,603 INFO l.util [Test worker] -------------------------------
2023-07-02 23:48:38,603 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:48:38,603 INFO l.util [Test worker] Update summary generated
2023-07-02 23:48:38,606 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:48:38,609 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:48:38,610 INFO l.command [Test worker] Command execution complete
2023-07-02 23:48:38,713 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:48:38,762 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:48:38,764 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:48:38,901 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:48:39,013 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:48:39,045 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1dbe592f
2023-07-02 23:48:39,289 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:48:40,183 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:48:40,258 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:48:40,891 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:48:42,199 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:48:42,306 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:43,235 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c843a4f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78cbb140, org.springframework.security.web.context.SecurityContextHolderFilter@20baa4eb, org.springframework.security.web.header.HeaderWriterFilter@75b41ff3, org.springframework.security.web.authentication.logout.LogoutFilter@538a1adf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@671275fe, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@44971269, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b940d24, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2eedd575, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@72a14347, org.springframework.security.web.session.ConcurrentSessionFilter@2351ad5a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@189874b5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@627b9f03, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@656ed510, org.springframework.security.web.access.ExceptionTranslationFilter@2ffa8ce5, org.springframework.security.web.access.intercept.AuthorizationFilter@51971d32]
2023-07-02 23:48:44,538 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 9.389 seconds (process running for 11.347)
2023-07-02 23:48:45,211 INFO o.e.j.s.Server [Test worker] Stopped Server@17b37e9a{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:45,211 INFO o.e.j.s.Server [Test worker] Shutdown Server@17b37e9a{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:45,219 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@17273273{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:45,223 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1a07bf6{/,null,STOPPED}
2023-07-02 23:48:45,224 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@294f9d50{/__admin,null,STOPPED}
2023-07-02 23:48:46,389 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:48:46,391 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@65b6b7e9{/__admin,null,AVAILABLE}
2023-07-02 23:48:46,393 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:48:46,393 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@42b4b037{/,null,AVAILABLE}
2023-07-02 23:48:46,394 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@60b84649{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:46,395 INFO o.e.j.s.Server [Test worker] Started Server@6572bcb5{STARTING}[11.0.15,sto=1000] @13204ms
2023-07-02 23:48:46,658 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:46,668 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:46,668 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:46,668 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:46,675 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:46,675 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@51ac1dce uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:46,676 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:46,676 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:46,676 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:46,676 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@8d70fd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:47,235 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:47,236 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:47,255 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:47,256 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:47,256 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:47,668 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:47,703 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:48,488 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4260a1c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@292a73f2, org.springframework.security.web.context.SecurityContextHolderFilter@586fcc46, org.springframework.security.web.header.HeaderWriterFilter@156eb310, org.springframework.security.web.authentication.logout.LogoutFilter@68c3670, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2b60c832, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4c384498, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2f94339e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@79871eeb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27b8eecb, org.springframework.security.web.session.ConcurrentSessionFilter@119a8125, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20df24c0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6256d908, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@293e3161, org.springframework.security.web.access.ExceptionTranslationFilter@b8b78e7, org.springframework.security.web.access.intercept.AuthorizationFilter@13f70dd5]
2023-07-02 23:48:48,540 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:48,604 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:48,715 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:48,731 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@125c2dd5]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6e49d72a testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@40db6d74, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@515c6338 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c86e79cf, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:48,970 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:48,979 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:48,979 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:48,979 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:49,001 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:49,002 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5dcdaf17 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:49,002 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:49,002 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:49,002 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:49,002 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1172a648 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:49,445 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:49,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:49,463 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:49,464 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:49,464 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 16 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:49,589 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:49,643 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:50,129 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50660889, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6cfdb324, org.springframework.security.web.context.SecurityContextHolderFilter@5b4b3c51, org.springframework.security.web.header.HeaderWriterFilter@2b518f9d, org.springframework.security.web.authentication.logout.LogoutFilter@1033751, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@29d2aeb7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3173bd63, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@559f94b0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7e4e6bdf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4049837d, org.springframework.security.web.session.ConcurrentSessionFilter@33de2803, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a4cfae4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ded3a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@695aa5d0, org.springframework.security.web.access.ExceptionTranslationFilter@4656c63a, org.springframework.security.web.access.intercept.AuthorizationFilter@7eaf7a70]
2023-07-02 23:48:50,155 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:50,158 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:50,161 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:50,163 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@429e4a76]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6e49d72a testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@40db6d74, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@515c6338 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c86e79cf, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:50,349 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:50,355 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:50,355 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:50,356 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:50,362 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:50,362 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3cfc147c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:50,362 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:50,362 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:50,362 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:50,362 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1d132288 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:50,595 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:50,595 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:50,603 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:50,604 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:50,605 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:50,662 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:50,687 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:51,000 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3984f360, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10db9c65, org.springframework.security.web.context.SecurityContextHolderFilter@fe618cc, org.springframework.security.web.header.HeaderWriterFilter@411b9394, org.springframework.security.web.authentication.logout.LogoutFilter@3b396dbf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@37c3c6ab, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@47671179, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@603af797, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@64eb79d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6f48bbde, org.springframework.security.web.session.ConcurrentSessionFilter@4196c03b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33963f9a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@300f34aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58f96fef, org.springframework.security.web.access.ExceptionTranslationFilter@2ef28b4b, org.springframework.security.web.access.intercept.AuthorizationFilter@15b078f]
2023-07-02 23:48:51,017 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:51,019 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:51,021 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:51,022 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@56609c11]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6e49d72a testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@40db6d74, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@515c6338 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c86e79cf, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:51,133 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:51,136 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:51,136 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:51,136 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:51,140 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:51,140 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7c37aed7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:51,140 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:51,140 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:51,140 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:51,140 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2a50f04f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:51,363 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:51,363 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:51,375 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:51,376 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:51,376 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:51,434 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:51,449 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:51,735 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4762b2c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d39c3ce, org.springframework.security.web.context.SecurityContextHolderFilter@3609424e, org.springframework.security.web.header.HeaderWriterFilter@2321c420, org.springframework.security.web.authentication.logout.LogoutFilter@6c294b56, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5741b80a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@71942a4f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7c8d9235, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2b8cd1d4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4d2f5474, org.springframework.security.web.session.ConcurrentSessionFilter@566576ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3c90ed37, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b92b8c9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d236bde, org.springframework.security.web.access.ExceptionTranslationFilter@17020207, org.springframework.security.web.access.intercept.AuthorizationFilter@5f4c831f]
2023-07-02 23:48:51,760 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:51,762 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:51,764 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:51,765 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@62cce6c0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6e49d72a testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@40db6d74, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@515c6338 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c86e79cf, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:51,875 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:51,877 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:51,877 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:51,877 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:51,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:51,881 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@61da44b5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:51,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:51,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:51,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:51,881 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19bc42ea uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:52,147 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:52,147 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:52,159 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:52,159 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:52,159 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:52,244 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:52,267 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:52,561 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@36c559e0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@69ea89d0, org.springframework.security.web.context.SecurityContextHolderFilter@6b714533, org.springframework.security.web.header.HeaderWriterFilter@7233cd72, org.springframework.security.web.authentication.logout.LogoutFilter@299f0814, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4d42465e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1ccc384a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4aadf49d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ff291f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1499f2cf, org.springframework.security.web.session.ConcurrentSessionFilter@6574e008, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32ceaba7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@130b5564, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3135f5dd, org.springframework.security.web.access.ExceptionTranslationFilter@1383af86, org.springframework.security.web.access.intercept.AuthorizationFilter@7b10e088]
2023-07-02 23:48:52,577 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:52,579 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:52,581 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:52,582 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@b84163]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6e49d72a testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@40db6d74, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@515c6338 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c86e79cf, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:52,720 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:52,723 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:52,723 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:52,723 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:52,726 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:52,726 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2675ddaf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:52,726 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:52,726 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:52,726 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:52,726 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1937bcc6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:53,047 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:53,048 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:53,061 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:53,061 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:53,062 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 12 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:53,131 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:53,142 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:53,763 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c62183b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5305e9cc, org.springframework.security.web.context.SecurityContextHolderFilter@36beccf, org.springframework.security.web.header.HeaderWriterFilter@14446fec, org.springframework.security.web.authentication.logout.LogoutFilter@283f239a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2d385605, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7c4a83cb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7fe1202c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7ca45136, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7b797cbc, org.springframework.security.web.session.ConcurrentSessionFilter@6bd8beab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e10da5f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21de8770, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d6fc3bf, org.springframework.security.web.access.ExceptionTranslationFilter@2d320a24, org.springframework.security.web.access.intercept.AuthorizationFilter@237c078c]
2023-07-02 23:48:53,804 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:53,811 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:53,823 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:53,826 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@12cdbea0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6e49d72a testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@40db6d74, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@515c6338 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@c86e79cf, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:53,831 INFO o.e.j.s.Server [Test worker] Stopped Server@6572bcb5{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:53,831 INFO o.e.j.s.Server [Test worker] Shutdown Server@6572bcb5{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:53,835 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@60b84649{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:53,836 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@42b4b037{/,null,STOPPED}
2023-07-02 23:48:53,836 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@65b6b7e9{/__admin,null,STOPPED}
2023-07-02 23:48:53,898 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:48:53,901 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@160a5e87{/__admin,null,AVAILABLE}
2023-07-02 23:48:53,902 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:48:53,902 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@413c710e{/,null,AVAILABLE}
2023-07-02 23:48:53,902 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@29b809b6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:53,903 INFO o.e.j.s.Server [Test worker] Started Server@3a02d567{STARTING}[11.0.15,sto=1000] @20712ms
2023-07-02 23:48:54,095 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:54,097 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:54,098 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:54,098 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:54,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:54,101 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@269dfdb7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:54,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:54,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:54,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:54,102 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@575517f4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:54,377 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:54,377 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:54,432 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:54,433 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:54,434 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 55 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:54,729 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:54,798 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:55,123 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3131b41, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@864ff30, org.springframework.security.web.context.SecurityContextHolderFilter@75f0a654, org.springframework.security.web.header.HeaderWriterFilter@7ee6e25b, org.springframework.security.web.authentication.logout.LogoutFilter@3328c159, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@69fc400b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1c2b6664, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@133efe21, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5ac79bd5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4fbbb01e, org.springframework.security.web.session.ConcurrentSessionFilter@b2a102c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c60b49c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5573267, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b10803e, org.springframework.security.web.access.ExceptionTranslationFilter@7563f296, org.springframework.security.web.access.intercept.AuthorizationFilter@69af224d]
2023-07-02 23:48:55,138 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:55,140 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:55,142 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:55,144 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@f096f73]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd93b7f testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fe0a6872, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3f9c5ea9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e7dc138f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:55,247 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:55,268 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:55,268 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:55,268 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:55,271 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:55,272 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41bd7cb1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:55,272 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:55,272 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:55,272 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:55,272 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@120242d9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:55,466 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:55,467 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:55,475 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:55,475 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:55,475 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:55,526 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:55,541 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:55,763 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1878a144, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5690126f, org.springframework.security.web.context.SecurityContextHolderFilter@301576db, org.springframework.security.web.header.HeaderWriterFilter@335c8f94, org.springframework.security.web.authentication.logout.LogoutFilter@4101ad6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@561306b2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@52d1600c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5bdd3b29, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7b0fce68, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@f98d9b1, org.springframework.security.web.session.ConcurrentSessionFilter@3cbaeedd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@154e31a5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22057f80, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3daeaf18, org.springframework.security.web.access.ExceptionTranslationFilter@11177e20, org.springframework.security.web.access.intercept.AuthorizationFilter@8196ff1]
2023-07-02 23:48:55,788 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:55,791 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:55,794 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:55,796 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@4cb7d26b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd93b7f testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fe0a6872, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3f9c5ea9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e7dc138f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:55,874 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:55,877 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:55,877 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:55,878 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:55,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:55,880 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@40c78bd1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:55,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:55,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:55,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:55,880 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7480b7cd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:56,044 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:56,045 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:56,052 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:56,052 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:56,052 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:56,108 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:56,127 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:56,277 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6fd2acf6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65ab87e4, org.springframework.security.web.context.SecurityContextHolderFilter@2e83f3f5, org.springframework.security.web.header.HeaderWriterFilter@54f0372a, org.springframework.security.web.authentication.logout.LogoutFilter@590b7982, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7b1e2dad, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@79db9c25, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4fb63dde, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67b8b180, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@40b415c0, org.springframework.security.web.session.ConcurrentSessionFilter@3de6a235, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23159091, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47fb7f9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e9298c5, org.springframework.security.web.access.ExceptionTranslationFilter@44c262d0, org.springframework.security.web.access.intercept.AuthorizationFilter@2a45c12]
2023-07-02 23:48:56,286 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:56,287 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:56,289 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:56,289 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@6b4483a4]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd93b7f testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fe0a6872, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3f9c5ea9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e7dc138f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:56,342 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:56,345 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:56,345 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:56,345 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:56,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,347 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@17e5759c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:56,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:56,347 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,347 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@381331fd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:56,455 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:56,455 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:56,459 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:56,459 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:56,459 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:56,493 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:56,505 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:56,613 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@d2d0bde, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57f715bc, org.springframework.security.web.context.SecurityContextHolderFilter@25218c54, org.springframework.security.web.header.HeaderWriterFilter@7a63c66f, org.springframework.security.web.authentication.logout.LogoutFilter@6c0bc123, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@87a5f58, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3a4a95ad, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@15ee1971, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5a8309ec, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@39fe0512, org.springframework.security.web.session.ConcurrentSessionFilter@446340cf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20c7f745, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c4a428d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5cbea6cd, org.springframework.security.web.access.ExceptionTranslationFilter@4611faf, org.springframework.security.web.access.intercept.AuthorizationFilter@30c503d9]
2023-07-02 23:48:56,621 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:56,622 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:56,623 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:56,623 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@18c32da4]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd93b7f testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fe0a6872, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3f9c5ea9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e7dc138f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:56,661 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:56,663 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:56,663 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:56,663 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:56,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,665 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@66e9e248 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:56,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:56,665 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,665 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5ef7a514 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:56,747 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:56,747 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:56,751 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:56,751 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:56,751 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:56,777 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:56,786 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:56,884 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@690eab38, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@179a0d61, org.springframework.security.web.context.SecurityContextHolderFilter@63947d3b, org.springframework.security.web.header.HeaderWriterFilter@5483015, org.springframework.security.web.authentication.logout.LogoutFilter@a504fd2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@462709b9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4e01e070, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18a1435e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67ebce31, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@56597d82, org.springframework.security.web.session.ConcurrentSessionFilter@5a0d3c69, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@527ffa80, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@85d4f1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44f07fa4, org.springframework.security.web.access.ExceptionTranslationFilter@18a740b6, org.springframework.security.web.access.intercept.AuthorizationFilter@51b40d47]
2023-07-02 23:48:56,890 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:56,891 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:56,892 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:56,893 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@2d310736]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd93b7f testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fe0a6872, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3f9c5ea9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e7dc138f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:56,929 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:56,931 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:56,932 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:56,932 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:56,933 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,933 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ae93fd4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:56,933 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,933 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:56,933 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:56,933 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5417f86c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:57,035 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:57,035 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:57,039 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:57,040 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:57,040 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:57,075 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:48:57,085 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:57,208 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c746295, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ee54d21, org.springframework.security.web.context.SecurityContextHolderFilter@71b5ab8c, org.springframework.security.web.header.HeaderWriterFilter@1f0f5174, org.springframework.security.web.authentication.logout.LogoutFilter@7aba0b5a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2468c371, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@e22ec7d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@27d45d8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@31fcd2e3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@47bd0384, org.springframework.security.web.session.ConcurrentSessionFilter@56fcc9fd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@c4364fc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32b32522, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f86dd2e, org.springframework.security.web.access.ExceptionTranslationFilter@68c615f3, org.springframework.security.web.access.intercept.AuthorizationFilter@6b71002]
2023-07-02 23:48:57,217 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:57,219 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:57,220 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:57,220 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@75024403]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd93b7f testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@fe0a6872, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@3f9c5ea9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e7dc138f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:57,222 INFO o.e.j.s.Server [Test worker] Stopped Server@3a02d567{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:57,222 INFO o.e.j.s.Server [Test worker] Shutdown Server@3a02d567{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:57,224 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@29b809b6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:57,224 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@413c710e{/,null,STOPPED}
2023-07-02 23:48:57,224 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@160a5e87{/__admin,null,STOPPED}
2023-07-02 23:48:57,237 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:48:57,239 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41fe6103{/__admin,null,AVAILABLE}
2023-07-02 23:48:57,239 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:48:57,239 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@268d586a{/,null,AVAILABLE}
2023-07-02 23:48:57,239 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6f886e9b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:57,240 INFO o.e.j.s.Server [Test worker] Started Server@70030eed{STARTING}[11.0.15,sto=1000] @24049ms
2023-07-02 23:48:57,312 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:57,317 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:57,317 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:57,317 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:57,320 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:57,320 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1c8960cb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:57,320 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:57,320 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:57,320 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:57,320 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@51c6e209 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:57,472 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:57,472 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:57,479 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:57,479 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:57,480 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:57,600 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:57,693 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27eab174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@725fc764, org.springframework.security.web.context.SecurityContextHolderFilter@28a11abc, org.springframework.security.web.header.HeaderWriterFilter@538d4716, org.springframework.security.web.authentication.logout.LogoutFilter@761ac789, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6eb77aef, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4eb1de3f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3c6aae8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@110cd514, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@32dfaf36, org.springframework.security.web.session.ConcurrentSessionFilter@67ca72ba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1c6b7dcc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@25672ca0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f8c26f, org.springframework.security.web.access.ExceptionTranslationFilter@5a9ddc78, org.springframework.security.web.access.intercept.AuthorizationFilter@1dd73be7]
2023-07-02 23:48:57,704 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:57,705 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:57,706 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:57,707 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.UserControllerTest@36986171]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2af3682f testClass = ru.clevertec.NewsManager.common.controller.UserControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37d74dc6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@44c881c9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@adc6410f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:57,747 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:48:57,749 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:48:57,749 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:48:57,749 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:48:57,751 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:57,751 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f694498 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:57,751 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:57,751 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:48:57,751 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:48:57,751 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5db6009b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:48:57,829 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:48:57,829 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:48:57,833 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:57,833 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:48:57,833 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-02 23:48:57,865 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:48:57,952 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@75e967bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51b0fd9f, org.springframework.security.web.context.SecurityContextHolderFilter@6f30a9c0, org.springframework.security.web.header.HeaderWriterFilter@51c60fe2, org.springframework.security.web.authentication.logout.LogoutFilter@ec3fc03, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@32b2c9f4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@23000845, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@50f33830, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@30e5d650, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@725185cc, org.springframework.security.web.session.ConcurrentSessionFilter@1c02cc84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5b51e6ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a095b79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3baa010e, org.springframework.security.web.access.ExceptionTranslationFilter@6fab7fcf, org.springframework.security.web.access.intercept.AuthorizationFilter@60a8b2fb]
2023-07-02 23:48:57,959 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:48:57,960 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:48:57,961 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:48:57,961 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.UserControllerTest@52a62ecd]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2af3682f testClass = ru.clevertec.NewsManager.common.controller.UserControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@37d74dc6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@44c881c9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@adc6410f, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:48:57,962 INFO o.e.j.s.Server [Test worker] Stopped Server@70030eed{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:57,962 INFO o.e.j.s.Server [Test worker] Shutdown Server@70030eed{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:48:57,963 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6f886e9b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:48:57,963 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@268d586a{/,null,STOPPED}
2023-07-02 23:48:57,963 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41fe6103{/__admin,null,STOPPED}
2023-07-02 23:48:57,988 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 23:48:57,999 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-02 23:48:58,026 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-02 23:48:58,160 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-02 23:48:58,409 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-02 23:48:58,410 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-02 23:48:58,432 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-02 23:48:58,467 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-02 23:48:59,621 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-02 23:48:59,727 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: bf1268ef4596f0f5a30875a94384dbd7f0f1b005b1d1cd6a19757a5a54d94aba
2023-07-02 23:49:00,222 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT1.786702S
2023-07-02 23:49:00,229 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-02 23:49:00,229 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-02 23:49:00,229 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-02 23:49:00,230 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 23:49:00,265 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 8b56cd9e875fed7dcf3fe8403c167d1bec611159360f15f29b0b9ba357c356c8
2023-07-02 23:49:02,170 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.941053S
2023-07-02 23:49:02,171 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:51848/test?loggerLevel=OFF)
2023-07-02 23:49:02,180 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:49:02,182 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2e66f029{/__admin,null,AVAILABLE}
2023-07-02 23:49:02,182 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:49:02,182 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3ac9e8b8{/,null,AVAILABLE}
2023-07-02 23:49:02,182 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@e7a353a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:49:02,183 INFO o.e.j.s.Server [Test worker] Started Server@40d014cd{STARTING}[11.0.15,sto=1000] @28992ms
2023-07-02 23:49:02,232 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:49:02,235 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:49:02,235 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:49:02,235 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:49:02,237 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:02,237 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4e27ece1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:02,237 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:02,237 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:49:02,237 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:02,237 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5741832d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:02,294 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:02,294 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:49:02,306 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:02,306 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:02,306 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2023-07-02 23:49:02,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:02,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:49:02,324 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-07-02 23:49:02,360 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-02 23:49:02,436 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@81f00d8
2023-07-02 23:49:02,436 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-02 23:49:02,452 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:49:02,496 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:49:02,574 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-02 23:49:02,585 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:49:02,681 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:49:02,681 INFO l.util [Test worker] Run:                          5
2023-07-02 23:49:02,681 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:49:02,681 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:49:02,681 INFO l.util [Test worker] -------------------------------
2023-07-02 23:49:02,681 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:49:02,681 INFO l.util [Test worker] Update summary generated
2023-07-02 23:49:02,688 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:02,697 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:02,698 INFO l.command [Test worker] Command execution complete
2023-07-02 23:49:02,712 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:49:02,719 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:02,719 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:49:02,720 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@19ebd341
2023-07-02 23:49:02,736 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:02,772 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:49:02,799 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:02,804 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:49:02,804 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:02,808 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-07-02 23:49:02,857 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-07-02 23:49:02,858 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:49:02,859 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:49:02,860 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@6ac6c5a6]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@5dcdaa58 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@2948777a key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:49:02,908 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:49:02,910 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:49:02,910 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:49:02,910 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:49:02,912 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:02,912 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a98b4cf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:02,912 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:02,912 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:49:02,912 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:02,912 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@24b8860e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:02,965 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:02,965 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:49:02,971 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:02,971 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:02,971 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-02 23:49:02,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:02,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:49:02,986 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-02 23:49:03,023 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-07-02 23:49:03,080 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@68cb485e
2023-07-02 23:49:03,080 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-07-02 23:49:03,096 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:49:03,116 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:49:03,197 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:49:03,225 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:49:03,225 INFO l.util [Test worker] Run:                          5
2023-07-02 23:49:03,225 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:49:03,225 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:49:03,225 INFO l.util [Test worker] -------------------------------
2023-07-02 23:49:03,225 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:49:03,225 INFO l.util [Test worker] Update summary generated
2023-07-02 23:49:03,230 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:03,239 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:03,240 INFO l.command [Test worker] Command execution complete
2023-07-02 23:49:03,252 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:49:03,257 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:03,257 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:49:03,258 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@30b1d78e
2023-07-02 23:49:03,305 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:03,339 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:49:03,367 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:03,375 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:49:03,375 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:03,375 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-07-02 23:49:03,385 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-07-02 23:49:03,385 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:49:03,389 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:49:03,389 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@49c0ac7a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@5dcdaa58 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@2948777a key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:49:03,391 INFO o.e.j.s.Server [Test worker] Stopped Server@40d014cd{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:49:03,391 INFO o.e.j.s.Server [Test worker] Shutdown Server@40d014cd{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:49:03,392 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@e7a353a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:49:03,392 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3ac9e8b8{/,null,STOPPED}
2023-07-02 23:49:03,392 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2e66f029{/__admin,null,STOPPED}
2023-07-02 23:49:03,397 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 23:49:03,400 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-02 23:49:03,401 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 23:49:03,440 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 1b2dd81c1f35fdac1b63f1efb1703558df762dcd033c46246b902c1cad523669
2023-07-02 23:49:05,170 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.768896S
2023-07-02 23:49:05,170 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:51862/test?loggerLevel=OFF)
2023-07-02 23:49:05,176 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:49:05,178 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4c9f442e{/__admin,null,AVAILABLE}
2023-07-02 23:49:05,178 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:49:05,178 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@73ccc8f8{/,null,AVAILABLE}
2023-07-02 23:49:05,178 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@39c8c277{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:49:05,181 INFO o.e.j.s.Server [Test worker] Started Server@2c72e6e0{STARTING}[11.0.15,sto=1000] @31991ms
2023-07-02 23:49:05,254 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:49:05,256 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:49:05,256 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:49:05,256 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:49:05,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:05,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6eef7465 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:05,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:05,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:49:05,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:05,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@14e8e0c9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:05,306 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:05,307 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:49:05,312 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:05,312 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:05,312 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-02 23:49:05,316 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:05,316 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:49:05,324 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-02 23:49:05,352 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Starting...
2023-07-02 23:49:05,388 INFO c.z.h.p.HikariPool [Test worker] HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@2498e033
2023-07-02 23:49:05,388 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Start completed.
2023-07-02 23:49:05,399 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:49:05,422 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:49:05,465 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-02 23:49:05,472 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:49:05,496 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:49:05,496 INFO l.util [Test worker] Run:                          5
2023-07-02 23:49:05,496 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:49:05,497 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:49:05,497 INFO l.util [Test worker] -------------------------------
2023-07-02 23:49:05,497 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:49:05,497 INFO l.util [Test worker] Update summary generated
2023-07-02 23:49:05,502 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:05,510 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:05,512 INFO l.command [Test worker] Command execution complete
2023-07-02 23:49:05,523 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:49:05,528 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:05,529 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:49:05,529 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@29cc44d0
2023-07-02 23:49:05,551 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:05,590 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:49:05,614 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:05,617 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:49:05,618 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:05,618 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown initiated...
2023-07-02 23:49:05,645 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown completed.
2023-07-02 23:49:05,646 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:49:05,647 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:49:05,647 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@66a07fb7]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@54b6fbb9 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@114221a5 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:49:05,707 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:49:05,711 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:49:05,712 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:49:05,712 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:49:05,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:05,714 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4161e6e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:05,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:05,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:49:05,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:05,714 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@22409552 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:05,784 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:05,784 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:49:05,791 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:05,791 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:05,791 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 0 Redis repository interfaces.
2023-07-02 23:49:05,796 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:05,796 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:49:05,806 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2023-07-02 23:49:05,839 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Starting...
2023-07-02 23:49:05,868 INFO c.z.h.p.HikariPool [Test worker] HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@427e3200
2023-07-02 23:49:05,868 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Start completed.
2023-07-02 23:49:05,879 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:49:05,893 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:49:05,960 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:49:05,987 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:49:05,987 INFO l.util [Test worker] Run:                          5
2023-07-02 23:49:05,987 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:49:05,987 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:49:05,987 INFO l.util [Test worker] -------------------------------
2023-07-02 23:49:05,987 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:49:05,987 INFO l.util [Test worker] Update summary generated
2023-07-02 23:49:05,992 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:06,000 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:06,001 INFO l.command [Test worker] Command execution complete
2023-07-02 23:49:06,017 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:49:06,022 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:06,022 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:49:06,023 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1717b511
2023-07-02 23:49:06,038 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:06,073 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:49:06,108 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:06,111 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:49:06,112 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:06,112 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown initiated...
2023-07-02 23:49:06,124 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown completed.
2023-07-02 23:49:06,125 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:49:06,126 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:49:06,126 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@7d18bcf8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@54b6fbb9 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@114221a5 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:49:06,167 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:49:06,175 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 17077 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:49:06,175 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:49:06,175 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:49:06,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:06,177 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@73d044b4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:06,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:06,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:49:06,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:49:06,177 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@77b639e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:49:06,249 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:06,249 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:49:06,261 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:06,261 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:49:06,262 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2023-07-02 23:49:06,268 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:49:06,268 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:49:06,278 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 9 ms. Found 2 JPA repository interfaces.
2023-07-02 23:49:06,317 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Starting...
2023-07-02 23:49:06,348 INFO c.z.h.p.HikariPool [Test worker] HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@759bcd7d
2023-07-02 23:49:06,348 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Start completed.
2023-07-02 23:49:06,359 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:49:06,371 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:49:06,417 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:49:06,453 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:49:06,453 INFO l.util [Test worker] Run:                          5
2023-07-02 23:49:06,453 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:49:06,454 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:49:06,454 INFO l.util [Test worker] -------------------------------
2023-07-02 23:49:06,454 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:49:06,454 INFO l.util [Test worker] Update summary generated
2023-07-02 23:49:06,458 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:06,465 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:49:06,466 INFO l.command [Test worker] Command execution complete
2023-07-02 23:49:06,476 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:49:06,481 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:06,481 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:49:06,481 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@665389b9
2023-07-02 23:49:06,494 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:49:06,522 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:49:06,566 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:06,571 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:49:06,571 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:06,571 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown initiated...
2023-07-02 23:49:06,615 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown completed.
2023-07-02 23:49:06,616 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:49:06,618 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:49:06,619 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@2d11e25a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@54b6fbb9 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@8704186, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@5bd73d1a, [ImportsContextCustomizer@114221a5 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@70d2e40b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@7c18432b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@902ee6eb], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:49:06,621 INFO o.e.j.s.Server [Test worker] Stopped Server@2c72e6e0{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:49:06,621 INFO o.e.j.s.Server [Test worker] Shutdown Server@2c72e6e0{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:49:06,622 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@39c8c277{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:49:06,623 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@73ccc8f8{/,null,STOPPED}
2023-07-02 23:49:06,623 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4c9f442e{/__admin,null,STOPPED}
2023-07-02 23:49:07,007 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:49:07,008 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:49:07,010 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:55:27,193 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 23:55:27,293 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-02 23:55:28,350 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:55:28,375 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7bcecef6{/__admin,null,AVAILABLE}
2023-07-02 23:55:28,384 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:55:28,384 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@23da79eb{/,null,AVAILABLE}
2023-07-02 23:55:28,397 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cbd0674{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:28,412 INFO o.e.j.s.Server [Test worker] Started Server@64e1377c{STARTING}[11.0.15,sto=1000] @2129ms
2023-07-02 23:55:29,094 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:55:29,107 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:29,127 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:29,127 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:29,128 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:29,172 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:29,173 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5faeeb56 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:29,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:29,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:29,173 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:29,173 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4c4c7d6c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:29,653 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:29,653 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:29,684 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:29,684 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:29,685 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:29,840 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:29,840 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:55:29,937 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 94 ms. Found 2 JPA repository interfaces.
2023-07-02 23:55:29,946 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:29,947 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:29,951 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:29,952 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:29,952 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:30,184 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=8af4465b-7060-38ed-896b-1b39f01d2bd1
2023-07-02 23:55:30,256 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:30,288 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:55:30,532 ERROR i.n.r.d.DnsServerAddressStreamProviders [Test worker] Unable to load io.netty.resolver.dns.macos.MacOSDnsServerAddressStreamProvider, fallback to system defaults. This may result in incorrect DNS resolutions on MacOS. Check whether you have a dependency on 'io.netty:netty-resolver-dns-native-macos'. Use DEBUG level to see the full stack: java.lang.UnsatisfiedLinkError: failed to load the required native library
2023-07-02 23:55:30,743 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-02 23:55:30,849 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1d0fc0bc
2023-07-02 23:55:30,850 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-02 23:55:30,949 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:55:31,047 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:55:31,354 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:55:31,425 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:55:31,432 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:55:31,433 INFO l.util [Test worker] Run:                          0
2023-07-02 23:55:31,433 INFO l.util [Test worker] Previously run:               5
2023-07-02 23:55:31,433 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:55:31,433 INFO l.util [Test worker] -------------------------------
2023-07-02 23:55:31,433 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:55:31,434 INFO l.util [Test worker] Update summary generated
2023-07-02 23:55:31,436 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:31,439 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:31,439 INFO l.command [Test worker] Command execution complete
2023-07-02 23:55:31,510 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:55:31,568 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:55:31,570 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:55:31,669 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:31,780 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:55:31,805 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5b5f48d5
2023-07-02 23:55:31,972 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:32,505 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:55:32,562 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:32,791 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:55:33,319 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:55:33,432 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:34,022 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@460f2b6c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f98c012, org.springframework.security.web.context.SecurityContextHolderFilter@7c53d3c, org.springframework.security.web.header.HeaderWriterFilter@51f1e931, org.springframework.security.web.authentication.logout.LogoutFilter@464c18c8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@36db5318, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3504fbfe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4057cd68, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4dbae8f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1a4ccb7b, org.springframework.security.web.session.ConcurrentSessionFilter@3c9d64e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@340c211e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36545439, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@447d91ef, org.springframework.security.web.access.ExceptionTranslationFilter@48fc2397, org.springframework.security.web.access.intercept.AuthorizationFilter@288cca9]
2023-07-02 23:55:34,604 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 6.132 seconds (process running for 8.321)
2023-07-02 23:55:35,017 INFO o.e.j.s.Server [Test worker] Stopped Server@64e1377c{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:35,017 INFO o.e.j.s.Server [Test worker] Shutdown Server@64e1377c{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:35,020 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cbd0674{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:35,021 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@23da79eb{/,null,STOPPED}
2023-07-02 23:55:35,021 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7bcecef6{/__admin,null,STOPPED}
2023-07-02 23:55:35,587 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:55:35,588 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@74d9afea{/__admin,null,AVAILABLE}
2023-07-02 23:55:35,589 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:55:35,589 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7bf344dd{/,null,AVAILABLE}
2023-07-02 23:55:35,589 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@53eb6ac5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:35,590 INFO o.e.j.s.Server [Test worker] Started Server@4d256e0{STARTING}[11.0.15,sto=1000] @9307ms
2023-07-02 23:55:35,735 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:35,741 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:35,741 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:35,741 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:35,745 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:35,745 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@36971bef uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:35,747 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:35,747 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:35,747 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:35,747 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5b26d717 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:35,989 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:35,989 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:35,999 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:36,000 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:36,000 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:36,125 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:36,138 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:36,467 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@244051d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@122f8970, org.springframework.security.web.context.SecurityContextHolderFilter@60e4d95, org.springframework.security.web.header.HeaderWriterFilter@662438f1, org.springframework.security.web.authentication.logout.LogoutFilter@3fe19a69, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@35f0652c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6f18329, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3af91e7e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@641af961, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@184db8d7, org.springframework.security.web.session.ConcurrentSessionFilter@5f3a413f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e002852, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69a47ed3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6a355f4e, org.springframework.security.web.access.ExceptionTranslationFilter@6b787bd5, org.springframework.security.web.access.intercept.AuthorizationFilter@461b078f]
2023-07-02 23:55:36,493 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:36,498 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:36,531 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:36,535 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3ec06e6d]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@75defebe testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@957946a8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@5e0cc49d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e30db4ad, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:36,611 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:36,614 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:36,614 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:36,614 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:36,618 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:36,618 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3c29ef6e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:36,618 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:36,618 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:36,618 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:36,618 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@182c3b79 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:36,755 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:36,755 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:36,761 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:36,761 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:36,761 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:36,809 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:36,821 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:37,095 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f88558d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f5f52b, org.springframework.security.web.context.SecurityContextHolderFilter@67566bd4, org.springframework.security.web.header.HeaderWriterFilter@d552cbf, org.springframework.security.web.authentication.logout.LogoutFilter@15db58c9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@76797720, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@392b7436, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1cf6971b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@13b73714, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@601dbb87, org.springframework.security.web.session.ConcurrentSessionFilter@6ea34ece, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43023c0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6716d006, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@487bb6d0, org.springframework.security.web.access.ExceptionTranslationFilter@6328eb18, org.springframework.security.web.access.intercept.AuthorizationFilter@6e39ac84]
2023-07-02 23:55:37,114 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:37,116 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:37,117 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:37,118 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@6cfdb324]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@75defebe testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@957946a8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@5e0cc49d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e30db4ad, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:37,189 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:37,191 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:37,191 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:37,191 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:37,194 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:37,194 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4dd08e5b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:37,194 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:37,194 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:37,194 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:37,194 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@73e0cc07 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:37,334 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:37,334 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:37,341 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:37,341 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:37,341 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:37,386 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:37,393 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:37,640 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6422d5df, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63ab7cfb, org.springframework.security.web.context.SecurityContextHolderFilter@1b5c2310, org.springframework.security.web.header.HeaderWriterFilter@74db196c, org.springframework.security.web.authentication.logout.LogoutFilter@75a4ca1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1092e39b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@45788a6c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7bea6d16, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@28440529, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6201a108, org.springframework.security.web.session.ConcurrentSessionFilter@101c3833, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@75541428, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59687397, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4a2bf283, org.springframework.security.web.access.ExceptionTranslationFilter@7cb24a91, org.springframework.security.web.access.intercept.AuthorizationFilter@155150c4]
2023-07-02 23:55:37,657 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:37,658 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:37,660 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:37,662 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@300f34aa]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@75defebe testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@957946a8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@5e0cc49d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e30db4ad, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:37,727 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:37,729 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:37,729 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:37,729 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:37,731 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:37,731 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@a3331e4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:37,731 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:37,731 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:37,731 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:37,731 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3bc19d3d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:37,856 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:37,856 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:37,862 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:37,862 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:37,862 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:37,898 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:37,906 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:38,133 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@426dc148, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a126898, org.springframework.security.web.context.SecurityContextHolderFilter@50a526e2, org.springframework.security.web.header.HeaderWriterFilter@523ee4d6, org.springframework.security.web.authentication.logout.LogoutFilter@56b56566, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@20851e5b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5de6d178, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2960f500, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@32e0e20b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@21940db3, org.springframework.security.web.session.ConcurrentSessionFilter@15682f4a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@431bd70b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66a683ea, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f723474, org.springframework.security.web.access.ExceptionTranslationFilter@775c8e2b, org.springframework.security.web.access.intercept.AuthorizationFilter@319b4fb3]
2023-07-02 23:55:38,150 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:38,151 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:38,153 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:38,153 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@6ac62896]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@75defebe testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@957946a8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@5e0cc49d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e30db4ad, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:38,216 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:38,218 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:38,218 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:38,218 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:38,220 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:38,220 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ecc9052 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:38,220 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:38,220 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:38,220 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:38,220 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@76a0910c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:38,353 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:38,353 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:38,359 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:38,360 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:38,360 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:38,404 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:38,411 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:38,632 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@582fd243, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b2ff8b6, org.springframework.security.web.context.SecurityContextHolderFilter@78436905, org.springframework.security.web.header.HeaderWriterFilter@62d9d684, org.springframework.security.web.authentication.logout.LogoutFilter@4fbc116b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@517642a2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7eee26ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ba161e5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@338b9bbf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34fb622b, org.springframework.security.web.session.ConcurrentSessionFilter@34b58084, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7630471, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ba29fef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@44259318, org.springframework.security.web.access.ExceptionTranslationFilter@56f53541, org.springframework.security.web.access.intercept.AuthorizationFilter@1f678943]
2023-07-02 23:55:38,648 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:38,650 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:38,651 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:38,652 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3da82b44]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@75defebe testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@957946a8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@5e0cc49d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e30db4ad, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:38,710 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:38,712 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:38,712 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:38,712 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:38,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:38,714 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7175d37c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:38,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:38,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:38,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:38,715 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4aff0bac uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:38,836 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:38,836 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:38,842 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:38,842 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:38,842 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:38,883 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:38,890 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:39,104 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@294d2e39, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23f7d9fe, org.springframework.security.web.context.SecurityContextHolderFilter@41e38d89, org.springframework.security.web.header.HeaderWriterFilter@2ae85f78, org.springframework.security.web.authentication.logout.LogoutFilter@79f12c07, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@721a22c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@77c037db, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@40c6afcf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@21de5790, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@557f5cb4, org.springframework.security.web.session.ConcurrentSessionFilter@48dd5eed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6badcaa3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d65b31, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20b23903, org.springframework.security.web.access.ExceptionTranslationFilter@40fd532d, org.springframework.security.web.access.intercept.AuthorizationFilter@1bfe4385]
2023-07-02 23:55:39,120 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:39,121 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:39,122 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:39,123 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@4a6e93af]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@75defebe testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@957946a8, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@5e0cc49d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@e30db4ad, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:39,125 INFO o.e.j.s.Server [Test worker] Stopped Server@4d256e0{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:39,125 INFO o.e.j.s.Server [Test worker] Shutdown Server@4d256e0{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:39,126 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@53eb6ac5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:39,126 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7bf344dd{/,null,STOPPED}
2023-07-02 23:55:39,126 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@74d9afea{/__admin,null,STOPPED}
2023-07-02 23:55:39,144 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:55:39,145 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f903d2d{/__admin,null,AVAILABLE}
2023-07-02 23:55:39,145 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:55:39,145 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5733df81{/,null,AVAILABLE}
2023-07-02 23:55:39,145 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3fac6764{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:39,146 INFO o.e.j.s.Server [Test worker] Started Server@5ffc4a57{STARTING}[11.0.15,sto=1000] @12863ms
2023-07-02 23:55:39,201 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:39,203 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:39,203 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:39,203 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:39,204 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,204 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5ea7b4ab uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:39,204 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,204 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:39,205 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,205 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5f581cf0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:39,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:39,313 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:39,318 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:39,324 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:39,324 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:39,402 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:39,422 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:39,607 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5b0ed695, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@108eb810, org.springframework.security.web.context.SecurityContextHolderFilter@35d10409, org.springframework.security.web.header.HeaderWriterFilter@565e0e8f, org.springframework.security.web.authentication.logout.LogoutFilter@5190e105, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@243deeda, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7273bb91, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3e180ef1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5d4ece5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7f4e26a3, org.springframework.security.web.session.ConcurrentSessionFilter@62061bec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7153164a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@575f4499, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dfc03d, org.springframework.security.web.access.ExceptionTranslationFilter@78978a2b, org.springframework.security.web.access.intercept.AuthorizationFilter@5e57748b]
2023-07-02 23:55:39,619 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:39,620 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:39,622 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:39,622 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@74e87f03]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@152e15ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@52a841a6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@2c6f2bea key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@184eae4d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:39,670 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:39,672 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:39,672 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:39,672 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:39,673 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,674 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ad9f257 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:39,674 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,674 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:39,674 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,674 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1d9f9600 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:39,770 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:39,770 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:39,774 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:39,774 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:39,774 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:39,804 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:39,815 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:39,945 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@495b3de0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52abfdca, org.springframework.security.web.context.SecurityContextHolderFilter@14c84fd6, org.springframework.security.web.header.HeaderWriterFilter@82feb0b, org.springframework.security.web.authentication.logout.LogoutFilter@42f41162, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6a3e2ab3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8235997, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@617e89b5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@19e6bee1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4056f9e9, org.springframework.security.web.session.ConcurrentSessionFilter@2d996723, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@820abe5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f206e59, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55f0e377, org.springframework.security.web.access.ExceptionTranslationFilter@3265c228, org.springframework.security.web.access.intercept.AuthorizationFilter@12e74d4f]
2023-07-02 23:55:39,953 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:39,955 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:39,956 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:39,956 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@1f2da372]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@152e15ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@52a841a6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@2c6f2bea key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@184eae4d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:39,996 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:39,997 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:39,998 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:39,998 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:39,999 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,999 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5781d401 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:39,999 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,999 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:39,999 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:39,999 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d8b2f90 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:40,095 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:40,095 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:40,099 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,099 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,099 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:40,134 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:40,144 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:40,271 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@492bc6e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@15c44b8, org.springframework.security.web.context.SecurityContextHolderFilter@411f5b08, org.springframework.security.web.header.HeaderWriterFilter@18c47d20, org.springframework.security.web.authentication.logout.LogoutFilter@3b6d9f77, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@22dd4c4f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@759cf944, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1585bd5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4d251371, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1318db0e, org.springframework.security.web.session.ConcurrentSessionFilter@5997499b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@150b0e44, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e1d4cb8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50ddbc4b, org.springframework.security.web.access.ExceptionTranslationFilter@cab1d62, org.springframework.security.web.access.intercept.AuthorizationFilter@1a8a462e]
2023-07-02 23:55:40,280 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:40,281 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:40,282 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:40,282 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@df8a698]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@152e15ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@52a841a6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@2c6f2bea key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@184eae4d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:40,324 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:40,326 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:40,326 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:40,326 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:40,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,328 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41850d76 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:40,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:40,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,328 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2adb2ef4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:40,423 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:40,423 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:40,427 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,427 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:40,455 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:40,465 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:40,574 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c097c50, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@73aed147, org.springframework.security.web.context.SecurityContextHolderFilter@e26310d, org.springframework.security.web.header.HeaderWriterFilter@408a8971, org.springframework.security.web.authentication.logout.LogoutFilter@61fd8c74, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7cfc688e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@71efc549, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f3cd6f1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@491dfd8e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7c6497f6, org.springframework.security.web.session.ConcurrentSessionFilter@1280281f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e9b3fbb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5acee618, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55464dd5, org.springframework.security.web.access.ExceptionTranslationFilter@2bed7200, org.springframework.security.web.access.intercept.AuthorizationFilter@6a792df3]
2023-07-02 23:55:40,581 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:40,582 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:40,583 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:40,583 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@3d07f310]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@152e15ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@52a841a6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@2c6f2bea key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@184eae4d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:40,619 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:40,621 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:40,621 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:40,621 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:40,623 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,623 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1f82c447 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:40,623 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,623 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:40,623 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,623 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5b2027f8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:40,708 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:40,708 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:40,712 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,712 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,712 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:40,742 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:40,752 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:40,854 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@e2e331f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a00beaa, org.springframework.security.web.context.SecurityContextHolderFilter@6e73d8b6, org.springframework.security.web.header.HeaderWriterFilter@1c3ed0f6, org.springframework.security.web.authentication.logout.LogoutFilter@10e72b0f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@40189656, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@698e7209, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b7c18d0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@29dbc7b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@10048bd9, org.springframework.security.web.session.ConcurrentSessionFilter@5a0dc408, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c57d12b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@36040337, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bd5bb91, org.springframework.security.web.access.ExceptionTranslationFilter@12c41a41, org.springframework.security.web.access.intercept.AuthorizationFilter@69fd854d]
2023-07-02 23:55:40,862 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:40,863 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:40,864 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:40,864 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@834e0d0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@152e15ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@52a841a6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@2c6f2bea key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@184eae4d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:40,903 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:40,904 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:40,904 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:40,904 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:40,906 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,906 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@51b40d47 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:40,906 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,906 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:40,906 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:40,906 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56597d82 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:40,984 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:40,984 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:40,987 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,988 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:40,988 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:41,013 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:55:41,022 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:41,122 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8c19cff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65258683, org.springframework.security.web.context.SecurityContextHolderFilter@281f4497, org.springframework.security.web.header.HeaderWriterFilter@612b1b5, org.springframework.security.web.authentication.logout.LogoutFilter@7b636d1f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@181eb2e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@78753f6f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7450daab, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@21cdceb2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34fa530f, org.springframework.security.web.session.ConcurrentSessionFilter@28203154, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bc271aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@84ee47e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@460d42b9, org.springframework.security.web.access.ExceptionTranslationFilter@79994ef0, org.springframework.security.web.access.intercept.AuthorizationFilter@4b86ed6b]
2023-07-02 23:55:41,129 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:41,130 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:41,131 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:41,131 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@6f4da6a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@152e15ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@52a841a6, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@2c6f2bea key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@184eae4d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:41,132 INFO o.e.j.s.Server [Test worker] Stopped Server@5ffc4a57{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:41,132 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ffc4a57{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:41,133 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3fac6764{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:41,134 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5733df81{/,null,STOPPED}
2023-07-02 23:55:41,134 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f903d2d{/__admin,null,STOPPED}
2023-07-02 23:55:41,144 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:55:41,145 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c884847{/__admin,null,AVAILABLE}
2023-07-02 23:55:41,145 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:55:41,145 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@404b3bb5{/,null,AVAILABLE}
2023-07-02 23:55:41,146 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5e3569e8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:41,146 INFO o.e.j.s.Server [Test worker] Started Server@2718a85{STARTING}[11.0.15,sto=1000] @14863ms
2023-07-02 23:55:41,180 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:41,182 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:41,182 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:41,182 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:41,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:41,183 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4217145f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:41,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:41,183 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:41,184 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:41,184 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@720090ad uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:41,259 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:41,259 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:41,263 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:41,263 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:41,263 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:41,333 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:41,417 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@713616c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5feb63af, org.springframework.security.web.context.SecurityContextHolderFilter@60899a10, org.springframework.security.web.header.HeaderWriterFilter@217cb3f8, org.springframework.security.web.authentication.logout.LogoutFilter@8083147, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2f580c1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4bbe1bd1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3aee36c6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50033e95, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@64309b10, org.springframework.security.web.session.ConcurrentSessionFilter@6923d443, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63d2fb15, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27f567e4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2fa3d956, org.springframework.security.web.access.ExceptionTranslationFilter@2ab52db1, org.springframework.security.web.access.intercept.AuthorizationFilter@4df0dc7f]
2023-07-02 23:55:41,428 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:41,429 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:41,430 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:41,430 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.UserControllerTest@68f220b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7c671131 testClass = ru.clevertec.NewsManager.common.controller.UserControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c7526fa, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@d2bac71 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4930224d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:41,475 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:41,477 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:41,477 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:41,477 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:41,479 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:41,479 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@28a11abc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:41,479 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:41,479 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:41,479 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:41,479 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6a04f7c6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:41,557 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:41,557 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:41,560 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:41,561 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:41,561 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 3 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:41,592 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:55:41,680 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@f8ff413, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6936f8b, org.springframework.security.web.context.SecurityContextHolderFilter@7f7d7f5d, org.springframework.security.web.header.HeaderWriterFilter@283ab876, org.springframework.security.web.authentication.logout.LogoutFilter@db670a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@786e3f66, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@466373a9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@581cbf4c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3a1575f8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5bb0bacb, org.springframework.security.web.session.ConcurrentSessionFilter@3bfc4070, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e37b486, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63b3463e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@666b882e, org.springframework.security.web.access.ExceptionTranslationFilter@6891274b, org.springframework.security.web.access.intercept.AuthorizationFilter@65e65448]
2023-07-02 23:55:41,688 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:41,689 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:41,690 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:41,690 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.UserControllerTest@1a64f46b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7c671131 testClass = ru.clevertec.NewsManager.common.controller.UserControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@8c7526fa, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@26486f29, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@d2bac71 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@4930224d, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 114 common frames omitted
2023-07-02 23:55:41,691 INFO o.e.j.s.Server [Test worker] Stopped Server@2718a85{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:41,691 INFO o.e.j.s.Server [Test worker] Shutdown Server@2718a85{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:41,692 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5e3569e8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:41,692 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@404b3bb5{/,null,STOPPED}
2023-07-02 23:55:41,692 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c884847{/__admin,null,STOPPED}
2023-07-02 23:55:41,716 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 23:55:41,727 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-07-02 23:55:41,752 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-07-02 23:55:41,880 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-07-02 23:55:42,232 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-07-02 23:55:42,232 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-07-02 23:55:42,271 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-07-02 23:55:42,301 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-07-02 23:55:43,562 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-07-02 23:55:44,374 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 786ce49e652213b0bbab133471747c4c0ec03319c95253b738ea30ca249923c0
2023-07-02 23:55:45,611 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.336286S
2023-07-02 23:55:45,617 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-07-02 23:55:45,617 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-07-02 23:55:45,618 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-07-02 23:55:45,618 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 23:55:45,651 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 942448157ac358f8af08baf436fa36e8a4451b8465ca4295daf6059e5fe0c670
2023-07-02 23:55:47,286 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.667453S
2023-07-02 23:55:47,286 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:52000/test?loggerLevel=OFF)
2023-07-02 23:55:47,292 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:55:47,302 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@11e36c1c{/__admin,null,AVAILABLE}
2023-07-02 23:55:47,302 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:55:47,303 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@67d6007a{/,null,AVAILABLE}
2023-07-02 23:55:47,303 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7555000d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:47,303 INFO o.e.j.s.Server [Test worker] Started Server@615ae885{STARTING}[11.0.15,sto=1000] @21020ms
2023-07-02 23:55:47,388 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:47,392 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:47,392 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:47,392 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:47,393 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:47,394 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e3e85b9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:47,394 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:47,394 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:47,394 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:47,394 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@45abf1ec uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:47,468 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:47,469 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:47,478 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:47,479 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:47,479 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:47,486 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:47,486 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:55:47,501 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 14 ms. Found 2 JPA repository interfaces.
2023-07-02 23:55:47,559 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-07-02 23:55:47,690 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5cdacc83
2023-07-02 23:55:47,690 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-07-02 23:55:47,712 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:55:47,785 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:55:47,895 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-02 23:55:47,903 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:55:48,010 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:55:48,010 INFO l.util [Test worker] Run:                          5
2023-07-02 23:55:48,010 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:55:48,010 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:55:48,010 INFO l.util [Test worker] -------------------------------
2023-07-02 23:55:48,010 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:55:48,011 INFO l.util [Test worker] Update summary generated
2023-07-02 23:55:48,017 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:48,025 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:48,026 INFO l.command [Test worker] Command execution complete
2023-07-02 23:55:48,039 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:55:48,045 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:48,045 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:55:48,047 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1c9fed7b
2023-07-02 23:55:48,063 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:48,099 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:55:48,129 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:48,134 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:48,134 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:48,136 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-07-02 23:55:48,144 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-07-02 23:55:48,145 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:48,146 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:48,147 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@5b766a7e]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@7f5c7301 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@643b1df9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:55:48,215 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:48,218 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:48,218 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:48,218 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:48,219 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:48,219 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6b130992 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:48,219 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:48,220 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:48,220 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:48,220 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6b28cb13 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:48,291 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:48,291 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:48,301 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:48,301 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:48,301 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:48,306 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:48,306 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:55:48,320 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 13 ms. Found 2 JPA repository interfaces.
2023-07-02 23:55:48,369 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-07-02 23:55:48,431 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@30bec13e
2023-07-02 23:55:48,431 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-07-02 23:55:48,445 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:55:48,465 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:55:48,532 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:55:48,564 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:55:48,564 INFO l.util [Test worker] Run:                          5
2023-07-02 23:55:48,564 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:55:48,565 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:55:48,565 INFO l.util [Test worker] -------------------------------
2023-07-02 23:55:48,565 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:55:48,565 INFO l.util [Test worker] Update summary generated
2023-07-02 23:55:48,572 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:48,579 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:48,580 INFO l.command [Test worker] Command execution complete
2023-07-02 23:55:48,594 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:55:48,599 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:48,599 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:55:48,600 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@34a6a83d
2023-07-02 23:55:48,613 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:48,643 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:55:48,674 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:48,678 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:48,678 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:48,678 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-07-02 23:55:48,685 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-07-02 23:55:48,686 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:48,727 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:48,728 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@1faca978]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@7f5c7301 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@643b1df9 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:55:48,729 INFO o.e.j.s.Server [Test worker] Stopped Server@615ae885{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:48,729 INFO o.e.j.s.Server [Test worker] Shutdown Server@615ae885{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:48,731 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7555000d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:48,731 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@67d6007a{/,null,STOPPED}
2023-07-02 23:55:48,731 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@11e36c1c{/__admin,null,STOPPED}
2023-07-02 23:55:48,735 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 23:55:48,738 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-07-02 23:55:48,738 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-07-02 23:55:48,778 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a152b7f0b8ec41b4c212f104415d5e8a45475194e4bdfc603e0551c335211bde
2023-07-02 23:55:50,361 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.622822S
2023-07-02 23:55:50,361 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:52013/test?loggerLevel=OFF)
2023-07-02 23:55:50,364 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-07-02 23:55:50,366 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4e0bdde7{/__admin,null,AVAILABLE}
2023-07-02 23:55:50,366 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:55:50,366 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5d137f91{/,null,AVAILABLE}
2023-07-02 23:55:50,366 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f7b7e40{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:50,366 INFO o.e.j.s.Server [Test worker] Started Server@4ce65fa4{STARTING}[11.0.15,sto=1000] @24083ms
2023-07-02 23:55:50,402 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:50,404 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:50,404 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:50,404 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:50,405 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:50,405 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@522ec9b9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:50,405 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:50,405 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:50,405 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:50,405 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1cbb3894 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:50,454 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:50,454 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:50,459 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:50,459 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:50,459 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:50,463 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:50,463 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:55:50,471 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 7 ms. Found 2 JPA repository interfaces.
2023-07-02 23:55:50,493 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Starting...
2023-07-02 23:55:50,532 INFO c.z.h.p.HikariPool [Test worker] HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@6ec2ef59
2023-07-02 23:55:50,533 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Start completed.
2023-07-02 23:55:50,544 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:55:50,569 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:55:50,625 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-07-02 23:55:50,630 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:55:50,651 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:55:50,651 INFO l.util [Test worker] Run:                          5
2023-07-02 23:55:50,651 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:55:50,651 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:55:50,651 INFO l.util [Test worker] -------------------------------
2023-07-02 23:55:50,651 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:55:50,651 INFO l.util [Test worker] Update summary generated
2023-07-02 23:55:50,657 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:50,666 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:50,667 INFO l.command [Test worker] Command execution complete
2023-07-02 23:55:50,679 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:55:50,683 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:50,684 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:55:50,684 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3e45249a
2023-07-02 23:55:50,696 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:50,728 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:55:50,753 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:50,755 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:50,755 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:50,756 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown initiated...
2023-07-02 23:55:50,800 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown completed.
2023-07-02 23:55:50,803 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:50,804 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:50,805 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@45ab021e]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@18759ed testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@6c3f4afc key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:55:50,839 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:50,842 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:50,842 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:50,842 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:50,851 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:50,851 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74ea19b1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:50,851 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:50,852 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:50,852 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:50,852 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6d26d7e8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:50,929 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:50,930 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:50,936 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:50,936 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:50,937 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:50,940 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:50,940 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:55:50,949 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 8 ms. Found 2 JPA repository interfaces.
2023-07-02 23:55:50,976 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Starting...
2023-07-02 23:55:51,014 INFO c.z.h.p.HikariPool [Test worker] HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@13fa01f5
2023-07-02 23:55:51,014 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Start completed.
2023-07-02 23:55:51,030 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:55:51,048 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:55:51,099 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:55:51,126 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:55:51,127 INFO l.util [Test worker] Run:                          5
2023-07-02 23:55:51,127 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:55:51,127 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:55:51,127 INFO l.util [Test worker] -------------------------------
2023-07-02 23:55:51,127 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:55:51,127 INFO l.util [Test worker] Update summary generated
2023-07-02 23:55:51,131 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:51,138 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:51,139 INFO l.command [Test worker] Command execution complete
2023-07-02 23:55:51,152 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:55:51,158 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:51,158 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:55:51,159 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@623ffed6
2023-07-02 23:55:51,173 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:51,212 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:55:51,250 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:51,255 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:51,255 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:51,256 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown initiated...
2023-07-02 23:55:51,283 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown completed.
2023-07-02 23:55:51,284 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:51,286 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:51,286 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@5d3d454]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@18759ed testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@6c3f4afc key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:55:51,351 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:55:51,355 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.7 with PID 18226 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:55:51,356 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:55:51,356 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:55:51,358 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:51,358 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f3d9114 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:51,358 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:51,358 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:55:51,358 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:55:51,358 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3be9658a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:55:51,461 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:51,462 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:55:51,472 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:51,472 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:55:51,473 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 0 Redis repository interfaces.
2023-07-02 23:55:51,478 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:55:51,478 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:55:51,490 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 11 ms. Found 2 JPA repository interfaces.
2023-07-02 23:55:51,527 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Starting...
2023-07-02 23:55:51,564 INFO c.z.h.p.HikariPool [Test worker] HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@5ac1e6ee
2023-07-02 23:55:51,564 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Start completed.
2023-07-02 23:55:51,581 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:55:51,604 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:55:51,652 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:55:51,678 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:55:51,679 INFO l.util [Test worker] Run:                          5
2023-07-02 23:55:51,679 INFO l.util [Test worker] Previously run:               0
2023-07-02 23:55:51,679 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:55:51,679 INFO l.util [Test worker] -------------------------------
2023-07-02 23:55:51,679 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:55:51,679 INFO l.util [Test worker] Update summary generated
2023-07-02 23:55:51,683 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:51,689 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:55:51,690 INFO l.command [Test worker] Command execution complete
2023-07-02 23:55:51,701 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:55:51,706 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:51,706 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:55:51,707 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3a9b890b
2023-07-02 23:55:51,719 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:55:51,748 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:55:51,788 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:51,791 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:55:51,791 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:51,791 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown initiated...
2023-07-02 23:55:51,821 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown completed.
2023-07-02 23:55:51,822 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:55:51,823 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:55:51,823 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@7221f607]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@18759ed testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50836877, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@162fac66, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1a15b789, [ImportsContextCustomizer@6c3f4afc key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6c4f9535, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c1fca1e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@58a99dd9], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:110)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:90)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:85)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 87 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 113 common frames omitted
2023-07-02 23:55:51,824 INFO o.e.j.s.Server [Test worker] Stopped Server@4ce65fa4{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:51,824 INFO o.e.j.s.Server [Test worker] Shutdown Server@4ce65fa4{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:55:51,825 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f7b7e40{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:55:51,825 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5d137f91{/,null,STOPPED}
2023-07-02 23:55:51,826 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4e0bdde7{/__admin,null,STOPPED}
2023-07-02 23:55:52,118 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:55:52,119 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:55:52,121 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:56:46,723 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-02 23:56:46,773 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,AVAILABLE}
2023-07-02 23:56:46,797 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:56:46,800 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31db34da{/,null,AVAILABLE}
2023-07-02 23:56:46,810 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:56:46,828 INFO o.e.j.s.Server [Test worker] Started Server@43bdaa1b{STARTING}[11.0.15,sto=1000] @5319ms
2023-07-02 23:56:48,666 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:56:48,739 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:56:48,776 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18441 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:56:48,777 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:56:48,778 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:56:48,838 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:56:48,838 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@13278a41 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:56:48,839 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:56:48,839 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:56:48,839 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:56:48,839 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56fda064 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:56:50,165 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:56:50,166 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:56:50,386 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:56:50,399 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:56:50,404 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 195 ms. Found 0 Redis repository interfaces.
2023-07-02 23:56:55,267 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:56:55,658 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:56:57,579 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ef10d3b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@749ffdc7, org.springframework.security.web.context.SecurityContextHolderFilter@7359f3ac, org.springframework.security.web.header.HeaderWriterFilter@2faae7f6, org.springframework.security.web.authentication.logout.LogoutFilter@63b2418e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@39acf187, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@643a73fa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@dd3e1e3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34d0c331, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@690e7b89, org.springframework.security.web.session.ConcurrentSessionFilter@3cf7433e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d9cba2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@170f0fd6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17554316, org.springframework.security.web.access.ExceptionTranslationFilter@7ca0b05e, org.springframework.security.web.access.intercept.AuthorizationFilter@32bae609]
2023-07-02 23:56:57,739 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:56:57,760 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:56:57,799 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:56:57,821 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@67062a93]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@524418a2 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@322593ed key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-02 23:56:58,391 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:56:58,452 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18441 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:56:58,456 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:56:58,458 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:56:58,507 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:56:58,508 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2468c0e4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:56:58,508 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:56:58,508 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:56:58,508 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:56:58,508 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5746609e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:56:59,978 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:56:59,981 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:57:00,041 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:00,043 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:00,046 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 62 ms. Found 0 Redis repository interfaces.
2023-07-02 23:57:00,382 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:57:00,429 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:57:00,814 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3f31cf8f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@28721794, org.springframework.security.web.context.SecurityContextHolderFilter@2fb24ad8, org.springframework.security.web.header.HeaderWriterFilter@38affd02, org.springframework.security.web.authentication.logout.LogoutFilter@7a0f1f9d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6e8f3b76, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6cfe32cd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f14eb51, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6764201e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3507200d, org.springframework.security.web.session.ConcurrentSessionFilter@72e9f0f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1db7a4ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ab70df7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4db10b9f, org.springframework.security.web.access.ExceptionTranslationFilter@1bd53c5c, org.springframework.security.web.access.intercept.AuthorizationFilter@5e97da56]
2023-07-02 23:57:00,855 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:57:00,862 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:57:00,925 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:57:00,941 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@75708130]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@524418a2 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@322593ed key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-02 23:57:01,415 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:57:01,430 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18441 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:57:01,432 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:57:01,434 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:57:01,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:01,452 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71b6edfb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:01,453 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:01,453 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:57:01,453 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:01,453 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1da5635e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:02,161 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:57:02,162 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:57:02,188 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:02,189 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:02,190 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-07-02 23:57:02,414 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:57:02,459 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:57:02,764 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@48dfce5c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@eccaf1b, org.springframework.security.web.context.SecurityContextHolderFilter@2553fbd0, org.springframework.security.web.header.HeaderWriterFilter@5e9a9683, org.springframework.security.web.authentication.logout.LogoutFilter@137a9d69, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@17fa25f1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@50ac63b2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1545ef47, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7ecca48, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3dceec83, org.springframework.security.web.session.ConcurrentSessionFilter@7040d71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a8081f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20a434a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74b13aa, org.springframework.security.web.access.ExceptionTranslationFilter@650d5a3d, org.springframework.security.web.access.intercept.AuthorizationFilter@73a5cc47]
2023-07-02 23:57:02,787 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:57:02,791 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:57:02,795 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:57:02,799 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@5fa0943d]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@524418a2 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@322593ed key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-02 23:57:03,032 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:57:03,039 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18441 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:57:03,039 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:57:03,039 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:57:03,045 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:03,047 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6c89c92e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:03,049 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:03,049 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:57:03,049 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:03,049 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@65130cf2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:03,671 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:57:03,678 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:57:03,698 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:03,699 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:03,699 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-07-02 23:57:03,830 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:57:03,860 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:57:04,165 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8947a4b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@318155b1, org.springframework.security.web.context.SecurityContextHolderFilter@5c0d876c, org.springframework.security.web.header.HeaderWriterFilter@22858c21, org.springframework.security.web.authentication.logout.LogoutFilter@1902ad0f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@63bb52ea, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6f5df147, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7725470b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@87276c4, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@31d64d0f, org.springframework.security.web.session.ConcurrentSessionFilter@39a8c08f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@794b139b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77217c17, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c165921, org.springframework.security.web.access.ExceptionTranslationFilter@3803bc1a, org.springframework.security.web.access.intercept.AuthorizationFilter@7e6025c9]
2023-07-02 23:57:04,190 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:57:04,199 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:57:04,202 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:57:04,206 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@58545c2e]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@524418a2 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@322593ed key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-02 23:57:04,591 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:57:04,609 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18441 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:57:04,609 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:57:04,609 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:57:04,617 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:04,619 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7f478529 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:04,620 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:04,620 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:57:04,620 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:04,620 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@78b888df uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:05,982 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:57:05,991 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:57:06,018 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:06,018 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:06,018 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 26 ms. Found 0 Redis repository interfaces.
2023-07-02 23:57:06,296 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:57:06,384 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:57:07,052 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73136174, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34e4a136, org.springframework.security.web.context.SecurityContextHolderFilter@583b177a, org.springframework.security.web.header.HeaderWriterFilter@7b99e726, org.springframework.security.web.authentication.logout.LogoutFilter@44992466, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@57421e4e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5a75bad4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@77227b1f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@424ebf5b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@43300e64, org.springframework.security.web.session.ConcurrentSessionFilter@1b841396, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4d79651d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@796d0b43, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@27ae6f9e, org.springframework.security.web.access.ExceptionTranslationFilter@3b25ce5e, org.springframework.security.web.access.intercept.AuthorizationFilter@623cd12e]
2023-07-02 23:57:07,103 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:57:07,117 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:57:07,126 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:57:07,135 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@f7a8a7b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@524418a2 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@322593ed key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-02 23:57:07,536 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:57:07,549 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18441 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:57:07,549 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:57:07,550 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:57:07,558 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:07,559 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2c4142f8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:07,559 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:07,559 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:57:07,559 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:57:07,559 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1e250539 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:57:08,973 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:57:08,983 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:57:09,021 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:09,022 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:57:09,023 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 38 ms. Found 0 Redis repository interfaces.
2023-07-02 23:57:09,608 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:57:09,715 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:57:10,517 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58fa8762, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8cd00bc, org.springframework.security.web.context.SecurityContextHolderFilter@7d911f95, org.springframework.security.web.header.HeaderWriterFilter@19aa9540, org.springframework.security.web.authentication.logout.LogoutFilter@7b4b6dca, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5baabba, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@253fb3fa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@57283e4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@620ba19c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5035c23c, org.springframework.security.web.session.ConcurrentSessionFilter@4cb084b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7313e4fb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e5e7f4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4149067d, org.springframework.security.web.access.ExceptionTranslationFilter@444958a4, org.springframework.security.web.access.intercept.AuthorizationFilter@99a89e9]
2023-07-02 23:57:10,576 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-02 23:57:10,583 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-02 23:57:10,591 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-02 23:57:10,616 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@4016d5fe]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@524418a2 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@322593ed key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-02 23:57:10,733 INFO o.e.j.s.Server [Test worker] Stopped Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:57:10,734 INFO o.e.j.s.Server [Test worker] Shutdown Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:57:10,759 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:57:10,768 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@31db34da{/,null,STOPPED}
2023-07-02 23:57:10,770 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,STOPPED}
2023-07-02 23:58:56,192 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-02 23:58:56,476 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-02 23:58:58,284 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-02 23:58:58,326 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@35c4e864{/__admin,null,AVAILABLE}
2023-07-02 23:58:58,348 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:58:58,349 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@217bf99e{/,null,AVAILABLE}
2023-07-02 23:58:58,361 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@59cda16e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:58:58,383 INFO o.e.j.s.Server [Test worker] Started Server@37e69c43{STARTING}[11.0.15,sto=1000] @4503ms
2023-07-02 23:58:59,993 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-02 23:59:00,027 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-02 23:59:00,083 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 18691 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-02 23:59:00,084 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-02 23:59:00,085 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-02 23:59:00,148 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:59:00,148 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74f280bd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:59:00,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:59:00,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-02 23:59:00,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-02 23:59:00,150 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1df9186f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-02 23:59:01,876 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:59:01,878 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:59:02,001 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:59:02,003 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:59:02,004 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 107 ms. Found 0 Redis repository interfaces.
2023-07-02 23:59:02,496 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:59:02,497 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-02 23:59:02,743 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 238 ms. Found 2 JPA repository interfaces.
2023-07-02 23:59:02,800 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-02 23:59:02,802 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-02 23:59:02,823 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:59:02,826 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-02 23:59:02,826 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 24 ms. Found 0 Redis repository interfaces.
2023-07-02 23:59:03,587 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=8af4465b-7060-38ed-896b-1b39f01d2bd1
2023-07-02 23:59:03,837 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-02 23:59:03,967 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-02 23:59:06,379 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-02 23:59:06,713 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@33502cfe
2023-07-02 23:59:06,721 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-02 23:59:06,968 INFO l.database [Test worker] Set default schema name to public
2023-07-02 23:59:07,281 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-02 23:59:08,205 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:59:08,427 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-02 23:59:08,466 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-02 23:59:08,468 INFO l.util [Test worker] Run:                          0
2023-07-02 23:59:08,468 INFO l.util [Test worker] Previously run:               5
2023-07-02 23:59:08,468 INFO l.util [Test worker] Filtered out:                 0
2023-07-02 23:59:08,468 INFO l.util [Test worker] -------------------------------
2023-07-02 23:59:08,468 INFO l.util [Test worker] Total change sets:            5

2023-07-02 23:59:08,471 INFO l.util [Test worker] Update summary generated
2023-07-02 23:59:08,478 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:59:08,498 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-02 23:59:08,499 INFO l.command [Test worker] Command execution complete
2023-07-02 23:59:08,832 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-02 23:59:08,926 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-02 23:59:08,930 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-02 23:59:09,136 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:59:09,317 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-02 23:59:09,373 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5e8633da
2023-07-02 23:59:09,740 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-02 23:59:10,989 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-02 23:59:11,134 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:59:12,170 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-02 23:59:13,912 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-02 23:59:14,191 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-02 23:59:15,671 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@61bb5770, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f5246e2, org.springframework.security.web.context.SecurityContextHolderFilter@497dc589, org.springframework.security.web.header.HeaderWriterFilter@4e80eb4c, org.springframework.security.web.authentication.logout.LogoutFilter@49f4de0e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4dbae8f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2ffa8ce5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f17140d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@bf56981, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2b34a1e0, org.springframework.security.web.session.ConcurrentSessionFilter@59c68ed3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fa1004, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c9b416a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7eaa78f2, org.springframework.security.web.access.ExceptionTranslationFilter@239678d, org.springframework.security.web.access.intercept.AuthorizationFilter@3551aa2e]
2023-07-02 23:59:17,467 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 18.979 seconds (process running for 23.588)
2023-07-02 23:59:18,629 INFO o.e.j.s.Server [Test worker] Stopped Server@37e69c43{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:59:18,632 INFO o.e.j.s.Server [Test worker] Shutdown Server@37e69c43{STOPPING}[11.0.15,sto=1000]
2023-07-02 23:59:18,640 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@59cda16e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:59:18,645 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@217bf99e{/,null,STOPPED}
2023-07-02 23:59:18,645 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@35c4e864{/__admin,null,STOPPED}
2023-07-02 23:59:18,686 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-02 23:59:18,689 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-02 23:59:18,695 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-02 23:59:57,264 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-02 23:59:57,396 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,AVAILABLE}
2023-07-02 23:59:57,447 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-02 23:59:57,447 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31db34da{/,null,AVAILABLE}
2023-07-02 23:59:57,478 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-02 23:59:57,503 INFO o.e.j.s.Server [Test worker] Started Server@43bdaa1b{STARTING}[11.0.15,sto=1000] @7695ms
2023-07-03 00:00:01,410 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:00:01,609 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:00:01,788 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18817 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:00:01,795 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:00:01,807 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:00:01,928 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:01,930 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@13278a41 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:01,934 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:01,935 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:00:01,935 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:01,935 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56fda064 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:04,935 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:00:04,938 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:00:05,159 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:05,175 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:05,177 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 197 ms. Found 0 Redis repository interfaces.
2023-07-03 00:00:12,360 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:00:13,616 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:00:17,866 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ca006ac, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dc3eda6, org.springframework.security.web.context.SecurityContextHolderFilter@28c00acd, org.springframework.security.web.header.HeaderWriterFilter@34d0c331, org.springframework.security.web.authentication.logout.LogoutFilter@2487b621, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7a79d99c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1f27f354, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6dc7b7f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@543196f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1372696b, org.springframework.security.web.session.ConcurrentSessionFilter@2b06c388, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2267b0bb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@32bae609, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ca7bddd, org.springframework.security.web.access.ExceptionTranslationFilter@48d24d63, org.springframework.security.web.access.intercept.AuthorizationFilter@414d466e]
2023-07-03 00:00:18,171 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:00:18,195 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:00:18,272 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:00:18,317 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3f67f5ff]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7747571c testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@69e308e2 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:00:19,381 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:00:19,421 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18817 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:00:19,422 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:00:19,423 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:00:19,447 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:19,448 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3df54fd5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:19,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:19,452 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:00:19,456 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:19,456 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2cdd156b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:21,618 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:00:21,622 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:00:21,675 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:21,678 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:21,679 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 56 ms. Found 0 Redis repository interfaces.
2023-07-03 00:00:22,341 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:00:22,546 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:00:23,533 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1e86b2d1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65029fc, org.springframework.security.web.context.SecurityContextHolderFilter@6e8f3b76, org.springframework.security.web.header.HeaderWriterFilter@18356d9e, org.springframework.security.web.authentication.logout.LogoutFilter@3507200d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@443b9ebb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4830c979, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@d98ce13, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3f31cf8f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4865434e, org.springframework.security.web.session.ConcurrentSessionFilter@5e97da56, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6cfe32cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f14eb51, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c6e407, org.springframework.security.web.access.ExceptionTranslationFilter@7a0f1f9d, org.springframework.security.web.access.intercept.AuthorizationFilter@7c4de811]
2023-07-03 00:00:23,616 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:00:23,628 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:00:23,634 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:00:23,645 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@48cbb4c5]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7747571c testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@69e308e2 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:00:24,266 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:00:24,291 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18817 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:00:24,292 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:00:24,293 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:00:24,311 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:24,312 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@60493524 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:24,316 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:24,317 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:00:24,317 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:24,317 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@26398f67 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:25,263 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:00:25,264 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:00:25,293 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:25,295 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:25,296 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2023-07-03 00:00:25,932 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:00:26,094 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:00:26,916 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3203ffa3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49231d79, org.springframework.security.web.context.SecurityContextHolderFilter@1545ef47, org.springframework.security.web.header.HeaderWriterFilter@17fa25f1, org.springframework.security.web.authentication.logout.LogoutFilter@31d09031, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4fe687b5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7a02d760, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5a86112a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3dceec83, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@25f67aea, org.springframework.security.web.session.ConcurrentSessionFilter@50ac63b2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48dfce5c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@eccaf1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f93303f, org.springframework.security.web.access.ExceptionTranslationFilter@73a5cc47, org.springframework.security.web.access.intercept.AuthorizationFilter@106f0051]
2023-07-03 00:00:27,093 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:00:27,110 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:00:27,126 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:00:27,139 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@900ffc4]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7747571c testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@69e308e2 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:00:27,759 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:00:27,779 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18817 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:00:27,780 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:00:27,780 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:00:27,788 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:27,789 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19412eef uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:27,789 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:27,789 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:00:27,789 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:27,789 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6421e9e7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:29,150 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:00:29,153 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:00:29,186 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:29,187 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:29,187 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2023-07-03 00:00:29,634 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:00:29,723 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:00:30,297 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@566dc0c3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@c925ae1, org.springframework.security.web.context.SecurityContextHolderFilter@318155b1, org.springframework.security.web.header.HeaderWriterFilter@7725470b, org.springframework.security.web.authentication.logout.LogoutFilter@7f514dfe, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@258ff54a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@50c462b8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@77d03738, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@47fb30ca, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7fb02869, org.springframework.security.web.session.ConcurrentSessionFilter@8947a4b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31d64d0f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c165921, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@92fa950, org.springframework.security.web.access.ExceptionTranslationFilter@6f5df147, org.springframework.security.web.access.intercept.AuthorizationFilter@3f33c5e4]
2023-07-03 00:00:30,337 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:00:30,360 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:00:30,366 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:00:30,375 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@6f5d292c]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7747571c testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@69e308e2 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:00:31,007 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:00:31,026 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18817 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:00:31,028 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:00:31,028 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:00:31,039 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:31,040 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1e1f467f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:31,040 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:31,040 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:00:31,043 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:31,044 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3793896e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:31,827 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:00:31,828 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:00:31,851 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:31,852 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:31,852 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-07-03 00:00:32,122 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:00:32,155 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:00:32,716 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21b96db, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76a13b12, org.springframework.security.web.context.SecurityContextHolderFilter@27ae6f9e, org.springframework.security.web.header.HeaderWriterFilter@34e4a136, org.springframework.security.web.authentication.logout.LogoutFilter@7356ec91, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5915ab69, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1d63f6be, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@23a0c7f3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1da2219c, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7475f57e, org.springframework.security.web.session.ConcurrentSessionFilter@43300e64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fdea2de, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ea24702, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@514f2b5c, org.springframework.security.web.access.ExceptionTranslationFilter@73136174, org.springframework.security.web.access.intercept.AuthorizationFilter@33224703]
2023-07-03 00:00:32,750 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:00:32,758 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:00:32,764 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:00:32,769 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@21acc86a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7747571c testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@69e308e2 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:00:33,272 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:00:33,287 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 18817 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:00:33,288 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:00:33,288 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:00:33,295 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:33,295 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@65134e6c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:33,295 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:33,295 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:00:33,296 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:00:33,296 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1d7914a5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:00:34,584 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:00:34,591 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:00:34,621 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:34,622 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:00:34,623 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2023-07-03 00:00:34,893 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:00:34,967 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:00:35,660 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22bd6b0a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@221383c9, org.springframework.security.web.context.SecurityContextHolderFilter@2d2c794d, org.springframework.security.web.header.HeaderWriterFilter@4149067d, org.springframework.security.web.authentication.logout.LogoutFilter@1b42eb0f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@673ce246, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6baa673d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@124b1369, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@35abfeba, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1a389b39, org.springframework.security.web.session.ConcurrentSessionFilter@4d8458a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@53f67af6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a85f41b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50a2034c, org.springframework.security.web.access.ExceptionTranslationFilter@5035c23c, org.springframework.security.web.access.intercept.AuthorizationFilter@4268c16]
2023-07-03 00:00:35,684 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:00:35,692 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:00:35,697 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:00:35,705 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@69e3e1d9]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@7747571c testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@69e308e2 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:00:35,790 INFO o.e.j.s.Server [Test worker] Stopped Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:00:35,791 INFO o.e.j.s.Server [Test worker] Shutdown Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:00:35,815 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:00:35,821 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@31db34da{/,null,STOPPED}
2023-07-03 00:00:35,822 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,STOPPED}
2023-07-03 00:05:00,420 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:05:00,475 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58c1da09{/__admin,null,AVAILABLE}
2023-07-03 00:05:00,495 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:05:00,496 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4aa11206{/,null,AVAILABLE}
2023-07-03 00:05:00,507 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@15383681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:05:00,527 INFO o.e.j.s.Server [Test worker] Started Server@619f2afc{STARTING}[11.0.15,sto=1000] @4630ms
2023-07-03 00:05:02,210 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:05:02,271 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:05:02,309 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19400 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:05:02,310 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:05:02,310 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:05:02,371 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:02,372 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@545d2560 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:02,372 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:02,372 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:05:02,372 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:02,372 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18a98913 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:03,596 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:05:03,596 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:05:03,704 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:03,707 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:03,709 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 94 ms. Found 0 Redis repository interfaces.
2023-07-03 00:05:06,531 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:05:07,099 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:05:09,003 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@bb1b872, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64245ca9, org.springframework.security.web.context.SecurityContextHolderFilter@39007725, org.springframework.security.web.header.HeaderWriterFilter@28200d43, org.springframework.security.web.authentication.logout.LogoutFilter@8cce9ad, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2566247d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@363a09a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@63d14dbf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@62376bdd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@66cb9a63, org.springframework.security.web.session.ConcurrentSessionFilter@6e349258, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@be186df, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c257c0a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@256d8f17, org.springframework.security.web.access.ExceptionTranslationFilter@1acfc058, org.springframework.security.web.access.intercept.AuthorizationFilter@260f05ee]
2023-07-03 00:05:09,139 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:05:09,153 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:05:09,192 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:05:09,207 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@5e1e19af]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260043d testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@3338d29d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:05:09,862 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:05:09,893 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19400 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:05:09,898 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:05:09,899 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:05:09,934 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:09,939 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6d96a895 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:09,940 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:09,940 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:05:09,940 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:09,940 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a678e40 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:10,860 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:05:10,862 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:05:10,893 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:10,895 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:10,897 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2023-07-03 00:05:11,188 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:05:11,337 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:05:11,908 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@360d0c7a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32f8a37b, org.springframework.security.web.context.SecurityContextHolderFilter@51d80f6e, org.springframework.security.web.header.HeaderWriterFilter@4ffcb1bd, org.springframework.security.web.authentication.logout.LogoutFilter@7ccfed46, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@8318808, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@b97f195, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@408bb173, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@12a8d03b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@657e7e8, org.springframework.security.web.session.ConcurrentSessionFilter@5be8a92c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7fae6f43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55f54852, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1b4ade78, org.springframework.security.web.access.ExceptionTranslationFilter@66c91224, org.springframework.security.web.access.intercept.AuthorizationFilter@71e2ddd]
2023-07-03 00:05:11,977 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:05:11,996 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:05:12,004 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:05:12,012 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@cfe72b0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260043d testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@3338d29d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:05:12,576 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:05:12,588 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19400 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:05:12,588 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:05:12,589 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:05:12,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:12,605 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5edce7da uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:12,605 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:12,605 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:05:12,605 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:12,605 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1dfd3635 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:13,192 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:05:13,193 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:05:13,207 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:13,208 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:13,208 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-07-03 00:05:13,376 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:05:13,492 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:05:13,999 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@55854382, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7843b65e, org.springframework.security.web.context.SecurityContextHolderFilter@78762e87, org.springframework.security.web.header.HeaderWriterFilter@3e9e7a70, org.springframework.security.web.authentication.logout.LogoutFilter@112f8f8f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6fc84468, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2f6ede9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4583a186, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7a458c73, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4d6f951a, org.springframework.security.web.session.ConcurrentSessionFilter@360ccb68, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@672c4e24, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2aacf54b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15b882a0, org.springframework.security.web.access.ExceptionTranslationFilter@37d50217, org.springframework.security.web.access.intercept.AuthorizationFilter@11703cc8]
2023-07-03 00:05:14,032 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:05:14,041 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:05:14,045 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:05:14,049 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@76fdd5f1]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260043d testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@3338d29d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:05:14,559 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:05:14,569 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19400 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:05:14,572 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:05:14,573 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:05:14,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:14,592 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@664c0466 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:14,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:14,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:05:14,592 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:14,592 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6138ee0e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:15,557 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:05:15,561 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:05:15,579 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:15,580 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:15,581 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2023-07-03 00:05:15,754 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:05:15,821 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:05:16,338 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f1072ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b0a69b9, org.springframework.security.web.context.SecurityContextHolderFilter@2c64ee53, org.springframework.security.web.header.HeaderWriterFilter@8fd3eee, org.springframework.security.web.authentication.logout.LogoutFilter@306a9cd8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@678a7489, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3e2a8fc, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6921ce3f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5a513627, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6d398b6c, org.springframework.security.web.session.ConcurrentSessionFilter@d9ff1cd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77c7d3f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@162c89ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a8ef0c2, org.springframework.security.web.access.ExceptionTranslationFilter@3bb186b, org.springframework.security.web.access.intercept.AuthorizationFilter@2fe12ec3]
2023-07-03 00:05:16,371 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:05:16,386 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:05:16,390 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:05:16,396 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@16021f6e]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260043d testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@3338d29d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:05:16,694 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:05:16,709 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19400 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:05:16,710 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:05:16,710 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:05:16,718 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:16,719 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@e10809f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:16,719 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:16,719 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:05:16,719 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:16,719 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7b3d3d3d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:17,571 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:05:17,577 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:05:17,609 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:17,610 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:17,611 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2023-07-03 00:05:17,868 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:05:17,935 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:05:18,245 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ca9f1d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a467f08, org.springframework.security.web.context.SecurityContextHolderFilter@6e591c03, org.springframework.security.web.header.HeaderWriterFilter@6e6c723b, org.springframework.security.web.authentication.logout.LogoutFilter@27103726, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4d5d6297, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bd2c51d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@709c41da, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3b802baa, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3741a170, org.springframework.security.web.session.ConcurrentSessionFilter@66859669, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7115d5af, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ce58c1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2541b4d3, org.springframework.security.web.access.ExceptionTranslationFilter@5fe80760, org.springframework.security.web.access.intercept.AuthorizationFilter@1791670e]
2023-07-03 00:05:18,273 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:05:18,282 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:05:18,287 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:05:18,295 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@6945fdb8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260043d testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@3338d29d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:05:18,756 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:05:18,791 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19400 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:05:18,792 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:05:18,792 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:05:18,806 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:18,808 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@76a90ecb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:18,808 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:18,808 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:05:18,808 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:05:18,808 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48c5a07d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:05:19,616 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:05:19,622 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:05:19,645 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:19,647 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:05:19,647 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-07-03 00:05:19,864 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:05:19,956 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:05:20,300 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@73e21fb5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62371858, org.springframework.security.web.context.SecurityContextHolderFilter@3c32f3d8, org.springframework.security.web.header.HeaderWriterFilter@295f115d, org.springframework.security.web.authentication.logout.LogoutFilter@7ef706b0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@642ebd4c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@222af5ff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70721c2d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4f31e47a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@17478cec, org.springframework.security.web.session.ConcurrentSessionFilter@a6cb2c9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@46700301, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@17f4276b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7734695d, org.springframework.security.web.access.ExceptionTranslationFilter@78405f00, org.springframework.security.web.access.intercept.AuthorizationFilter@39e75e88]
2023-07-03 00:05:20,319 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:05:20,324 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:05:20,329 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:05:20,334 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@35266985]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260043d testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@3338d29d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:05:20,379 INFO o.e.j.s.Server [Test worker] Stopped Server@619f2afc{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:05:20,379 INFO o.e.j.s.Server [Test worker] Shutdown Server@619f2afc{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:05:20,393 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@15383681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:05:20,398 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4aa11206{/,null,STOPPED}
2023-07-03 00:05:20,399 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58c1da09{/__admin,null,STOPPED}
2023-07-03 00:07:01,751 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:07:01,805 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58c1da09{/__admin,null,AVAILABLE}
2023-07-03 00:07:01,840 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:07:01,842 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4aa11206{/,null,AVAILABLE}
2023-07-03 00:07:01,858 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@15383681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:07:01,873 INFO o.e.j.s.Server [Test worker] Started Server@619f2afc{STARTING}[11.0.15,sto=1000] @5286ms
2023-07-03 00:07:03,636 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:07:03,709 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:07:03,753 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19632 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:07:03,754 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:07:03,755 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:07:03,801 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:03,802 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@545d2560 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:03,802 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:03,802 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:07:03,802 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:03,802 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18a98913 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:04,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:07:04,978 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:07:05,085 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:05,088 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:05,091 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 91 ms. Found 0 Redis repository interfaces.
2023-07-03 00:07:09,188 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:07:10,155 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:07:12,994 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7a482b3a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@600b3bee, org.springframework.security.web.context.SecurityContextHolderFilter@35975b05, org.springframework.security.web.header.HeaderWriterFilter@684bfba9, org.springframework.security.web.authentication.logout.LogoutFilter@429dde4d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@16e0afab, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7b9b6a56, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e111aeb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6dc5e857, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@129348e8, org.springframework.security.web.session.ConcurrentSessionFilter@3180131e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ba02f70, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e88ad38, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20ad64c, org.springframework.security.web.access.ExceptionTranslationFilter@3eb8057c, org.springframework.security.web.access.intercept.AuthorizationFilter@5325674a]
2023-07-03 00:07:13,185 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:07:13,206 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:07:13,260 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:07:13,288 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@4d1f168]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2bd158ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@42d96745 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:07:14,255 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:07:14,283 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19632 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:07:14,284 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:07:14,286 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:07:14,318 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:14,321 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7137cd14 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:14,321 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:14,322 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:07:14,322 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:14,322 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@238c63df uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:15,482 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:07:15,484 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:07:15,512 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:15,513 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:15,515 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2023-07-03 00:07:15,826 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:07:15,937 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:07:16,513 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7ab8f93, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6037748a, org.springframework.security.web.context.SecurityContextHolderFilter@19a544cd, org.springframework.security.web.header.HeaderWriterFilter@f776b4a, org.springframework.security.web.authentication.logout.LogoutFilter@3db3668, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@24f8707c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7e4a6afd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c7aac7c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5dd62f07, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4d87e7f3, org.springframework.security.web.session.ConcurrentSessionFilter@2fb555e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6c502018, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58c93be3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14c7ab73, org.springframework.security.web.access.ExceptionTranslationFilter@3338d706, org.springframework.security.web.access.intercept.AuthorizationFilter@7e9ea888]
2023-07-03 00:07:16,540 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:07:16,549 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:07:16,552 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:07:16,557 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@657e7e8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2bd158ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@42d96745 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:07:16,916 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:07:16,926 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19632 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:07:16,927 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:07:16,927 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:07:16,938 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:16,939 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6980fa39 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:16,940 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:16,942 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:07:16,942 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:16,942 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1f138b74 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:17,804 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:07:17,808 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:07:17,826 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:17,826 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:17,827 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2023-07-03 00:07:17,972 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:07:18,041 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:07:18,680 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c04685, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5bbb351e, org.springframework.security.web.context.SecurityContextHolderFilter@4bfaff23, org.springframework.security.web.header.HeaderWriterFilter@2643c33f, org.springframework.security.web.authentication.logout.LogoutFilter@318ca53a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@69d6fe75, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3d273300, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3fe7c87c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3da8a302, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5f80b25a, org.springframework.security.web.session.ConcurrentSessionFilter@3c1fd5aa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@47bae235, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7f588bc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e2525fe, org.springframework.security.web.access.ExceptionTranslationFilter@42c9c0a1, org.springframework.security.web.access.intercept.AuthorizationFilter@72f91c91]
2023-07-03 00:07:18,754 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:07:18,764 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:07:18,774 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:07:18,784 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@360ccb68]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2bd158ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@42d96745 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:07:19,362 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:07:19,382 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19632 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:07:19,386 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:07:19,387 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:07:19,404 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:19,405 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@32cda33c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:19,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:19,408 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:07:19,409 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:19,409 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d7f4cbb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:20,373 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:07:20,382 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:07:20,424 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:20,426 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:20,427 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 41 ms. Found 0 Redis repository interfaces.
2023-07-03 00:07:20,666 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:07:20,764 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:07:21,175 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@14cd8dfa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5a438c0a, org.springframework.security.web.context.SecurityContextHolderFilter@47b72d3b, org.springframework.security.web.header.HeaderWriterFilter@3723de42, org.springframework.security.web.authentication.logout.LogoutFilter@4cdb7fd9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@225d93aa, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@35ef158f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@59d8a968, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4a5dc126, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@174da9a0, org.springframework.security.web.session.ConcurrentSessionFilter@293988dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63fcc21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fc7c36a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@b42d1c8, org.springframework.security.web.access.ExceptionTranslationFilter@3f4fd0dc, org.springframework.security.web.access.intercept.AuthorizationFilter@796687de]
2023-07-03 00:07:21,203 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:07:21,228 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:07:21,236 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:07:21,249 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@5e752a2a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2bd158ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@42d96745 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:07:21,632 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:07:21,648 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19632 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:07:21,649 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:07:21,649 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:07:21,654 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:21,655 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2fc51562 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:21,655 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:21,655 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:07:21,655 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:21,655 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@219bad15 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:22,320 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:07:22,325 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:07:22,341 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:22,341 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:22,341 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-07-03 00:07:22,513 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:07:22,592 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:07:22,918 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@369958b0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2d73aa17, org.springframework.security.web.context.SecurityContextHolderFilter@dcc7d1c, org.springframework.security.web.header.HeaderWriterFilter@9d455a6, org.springframework.security.web.authentication.logout.LogoutFilter@6eaa5458, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4f9a8d71, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@73ae084e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@363a1d8d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@21298c3a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2e1c3b8f, org.springframework.security.web.session.ConcurrentSessionFilter@124e538e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ac9742e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@411b75b4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@482c8db4, org.springframework.security.web.access.ExceptionTranslationFilter@68f1e261, org.springframework.security.web.access.intercept.AuthorizationFilter@1923301a]
2023-07-03 00:07:22,937 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:07:22,941 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:07:22,945 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:07:22,953 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@7e9b68c5]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2bd158ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@42d96745 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:07:23,235 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:07:23,242 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19632 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:07:23,242 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:07:23,242 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:07:23,248 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:23,248 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4467088e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:23,248 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:23,249 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:07:23,249 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:07:23,249 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9198fe3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:07:23,706 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:07:23,706 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:07:23,721 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:23,721 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:07:23,721 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 14 ms. Found 0 Redis repository interfaces.
2023-07-03 00:07:23,796 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:07:23,834 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:07:24,015 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ab5c335, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5769679b, org.springframework.security.web.context.SecurityContextHolderFilter@5bc150e9, org.springframework.security.web.header.HeaderWriterFilter@1b6824c1, org.springframework.security.web.authentication.logout.LogoutFilter@2d839402, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4723445c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7631fb3e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3aede2ff, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4698ae6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2ef89e43, org.springframework.security.web.session.ConcurrentSessionFilter@3118ed2c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@28fa0ff8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@726e780a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7bd76b79, org.springframework.security.web.access.ExceptionTranslationFilter@a6f34f5, org.springframework.security.web.access.intercept.AuthorizationFilter@645a9649]
2023-07-03 00:07:24,025 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:07:24,028 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:07:24,031 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:07:24,033 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@65595be7]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2bd158ea testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@42d96745 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:07:24,073 INFO o.e.j.s.Server [Test worker] Stopped Server@619f2afc{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:07:24,074 INFO o.e.j.s.Server [Test worker] Shutdown Server@619f2afc{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:07:24,107 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@15383681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:07:24,119 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4aa11206{/,null,STOPPED}
2023-07-03 00:07:24,121 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58c1da09{/__admin,null,STOPPED}
2023-07-03 00:08:32,116 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:08:32,167 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@58c1da09{/__admin,null,AVAILABLE}
2023-07-03 00:08:32,192 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:08:32,193 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4aa11206{/,null,AVAILABLE}
2023-07-03 00:08:32,204 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@15383681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:08:32,221 INFO o.e.j.s.Server [Test worker] Started Server@619f2afc{STARTING}[11.0.15,sto=1000] @4222ms
2023-07-03 00:08:33,970 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:08:34,059 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:08:34,106 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19821 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:08:34,107 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:08:34,108 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:08:34,178 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:34,178 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@545d2560 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:34,178 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:34,178 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:08:34,178 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:34,178 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18a98913 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:35,390 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:08:35,390 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:08:35,495 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:35,500 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:35,502 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 91 ms. Found 0 Redis repository interfaces.
2023-07-03 00:08:38,338 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:08:38,927 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:08:40,838 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50fe5df2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fafa9bf, org.springframework.security.web.context.SecurityContextHolderFilter@2165d4ab, org.springframework.security.web.header.HeaderWriterFilter@474deb4c, org.springframework.security.web.authentication.logout.LogoutFilter@67521a79, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3314f179, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1abd1a28, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5478597, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5b6ec94a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@53fd59d4, org.springframework.security.web.session.ConcurrentSessionFilter@c3a1d7f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@22657db1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@58b30e3e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43c3354, org.springframework.security.web.access.ExceptionTranslationFilter@b1f36e5, org.springframework.security.web.access.intercept.AuthorizationFilter@256d8f17]
2023-07-03 00:08:41,002 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:08:41,030 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:08:41,086 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:08:41,113 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@4402ed61]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2530baf6 testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@1e7797db key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:08:42,007 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:08:42,041 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19821 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:08:42,041 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:08:42,042 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:08:42,087 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:42,087 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@255482cb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:42,087 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:42,087 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:08:42,088 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:42,089 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@254210b1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:43,643 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:08:43,645 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:08:43,686 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:43,687 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:43,688 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 40 ms. Found 0 Redis repository interfaces.
2023-07-03 00:08:44,041 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:08:44,174 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:08:44,627 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3894d1b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5f6b1f19, org.springframework.security.web.context.SecurityContextHolderFilter@67748053, org.springframework.security.web.header.HeaderWriterFilter@505a48a2, org.springframework.security.web.authentication.logout.LogoutFilter@7e0393df, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7fd3197b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1d2ce035, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6a087c72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1df83569, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@253c7189, org.springframework.security.web.session.ConcurrentSessionFilter@15096b0e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@623be2a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b44ed3c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cfe72b0, org.springframework.security.web.access.ExceptionTranslationFilter@46cb800b, org.springframework.security.web.access.intercept.AuthorizationFilter@3e3d8e6c]
2023-07-03 00:08:44,655 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:08:44,661 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:08:44,664 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:08:44,666 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@8929865]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2530baf6 testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@1e7797db key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:08:44,896 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:08:44,908 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19821 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:08:44,909 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:08:44,909 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:08:44,917 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:44,919 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1488d1c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:44,920 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:44,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:08:44,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:44,921 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3420547 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:45,483 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:08:45,485 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:08:45,518 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:45,520 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:45,521 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 30 ms. Found 0 Redis repository interfaces.
2023-07-03 00:08:45,716 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:08:45,841 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:08:46,809 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d1a763c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d5ec2ed, org.springframework.security.web.context.SecurityContextHolderFilter@6ff05f85, org.springframework.security.web.header.HeaderWriterFilter@7212d3df, org.springframework.security.web.authentication.logout.LogoutFilter@76fdd5f1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@71ae1cb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1f50fe84, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3380313d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4407f129, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5e2ab1c, org.springframework.security.web.session.ConcurrentSessionFilter@9886ec3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1142843c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3993cecb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37596b44, org.springframework.security.web.access.ExceptionTranslationFilter@36299b83, org.springframework.security.web.access.intercept.AuthorizationFilter@2a4a95c4]
2023-07-03 00:08:46,849 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:08:46,856 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:08:46,860 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:08:46,866 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@f1d5f3]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2530baf6 testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@1e7797db key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:08:47,232 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:08:47,262 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19821 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:08:47,262 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:08:47,263 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:08:47,278 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:47,281 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4c0989f7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:47,283 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:47,285 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:08:47,285 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:47,285 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@76ac8c3d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:48,036 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:08:48,040 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:08:48,072 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:48,073 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:48,073 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 31 ms. Found 0 Redis repository interfaces.
2023-07-03 00:08:48,357 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:08:48,454 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:08:48,763 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@724e483f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27f6854b, org.springframework.security.web.context.SecurityContextHolderFilter@49976824, org.springframework.security.web.header.HeaderWriterFilter@64ee9290, org.springframework.security.web.authentication.logout.LogoutFilter@7a9e44ff, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1cd93693, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@14e8304b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b0d88e0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6b9ce7a3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@72499396, org.springframework.security.web.session.ConcurrentSessionFilter@17e7cc67, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71739267, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d810e94, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65145fb7, org.springframework.security.web.access.ExceptionTranslationFilter@6db160b4, org.springframework.security.web.access.intercept.AuthorizationFilter@13a35d3b]
2023-07-03 00:08:48,880 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:08:48,900 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:08:48,909 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:08:48,921 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@3fb54673]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2530baf6 testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@1e7797db key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:08:49,267 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:08:49,275 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19821 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:08:49,276 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:08:49,276 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:08:49,283 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:49,283 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48682f91 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:49,283 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:49,283 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:08:49,283 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:49,283 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@557abb68 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:49,950 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:08:49,951 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:08:49,969 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:49,969 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:49,969 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 17 ms. Found 0 Redis repository interfaces.
2023-07-03 00:08:50,114 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:08:50,215 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:08:50,672 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2eebb07, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ab1ff80, org.springframework.security.web.context.SecurityContextHolderFilter@5b6789cf, org.springframework.security.web.header.HeaderWriterFilter@51f91d19, org.springframework.security.web.authentication.logout.LogoutFilter@563bf9d2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@10cb1b89, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@19b7852b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24fcfdb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@367a245e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6f0ab520, org.springframework.security.web.session.ConcurrentSessionFilter@5ce593bc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30407f28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dac4d04, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13c79e0d, org.springframework.security.web.access.ExceptionTranslationFilter@17179a7e, org.springframework.security.web.access.intercept.AuthorizationFilter@7e0fc5d0]
2023-07-03 00:08:51,007 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:08:51,035 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:08:51,055 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:08:51,072 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@11c82829]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2530baf6 testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@1e7797db key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:08:51,530 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:08:51,546 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 19821 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:08:51,546 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:08:51,546 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:08:51,554 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:51,555 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@25bd8eab uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:51,555 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:51,555 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:08:51,555 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:08:51,555 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@54602d5a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:08:52,209 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:08:52,209 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:08:52,231 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:52,231 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:08:52,231 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 21 ms. Found 0 Redis repository interfaces.
2023-07-03 00:08:52,400 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:08:52,491 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:08:53,533 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c332922, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b8773c7, org.springframework.security.web.context.SecurityContextHolderFilter@5aa0d535, org.springframework.security.web.header.HeaderWriterFilter@2715b3ea, org.springframework.security.web.authentication.logout.LogoutFilter@3c67b7a9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4951c45f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@488ae823, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19b6b7e7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67d8e214, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@74534564, org.springframework.security.web.session.ConcurrentSessionFilter@30130a31, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c6f91d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@628721ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5876cd86, org.springframework.security.web.access.ExceptionTranslationFilter@68c9cf93, org.springframework.security.web.access.intercept.AuthorizationFilter@47de4dce]
2023-07-03 00:08:53,610 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:08:53,622 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:08:53,633 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:08:53,644 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.NewsControllerTest@7731504]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2530baf6 testClass = ru.clevertec.NewsManager.common.controller.NewsControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@63f34b70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@2bf855cf, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@1b347763, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3aacf32a, [ImportsContextCustomizer@1e7797db key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@2d8f2f3a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@c074c0c, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@5e325d89, org.springframework.boot.test.context.SpringBootTestAnnotation@3da53081], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:08:53,755 INFO o.e.j.s.Server [Test worker] Stopped Server@619f2afc{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:08:53,758 INFO o.e.j.s.Server [Test worker] Shutdown Server@619f2afc{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:08:53,799 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@15383681{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:08:53,811 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4aa11206{/,null,STOPPED}
2023-07-03 00:08:53,813 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@58c1da09{/__admin,null,STOPPED}
2023-07-03 00:16:29,537 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:16:29,584 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,AVAILABLE}
2023-07-03 00:16:29,606 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:16:29,608 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31db34da{/,null,AVAILABLE}
2023-07-03 00:16:29,619 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:16:29,635 INFO o.e.j.s.Server [Test worker] Started Server@43bdaa1b{STARTING}[11.0.15,sto=1000] @4897ms
2023-07-03 00:16:31,417 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:16:31,495 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:16:31,541 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 20826 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:16:31,542 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:16:31,542 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:16:31,622 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:31,622 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@13278a41 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:31,622 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:31,622 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:16:31,622 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:31,622 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56fda064 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:32,853 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:16:32,854 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:16:32,949 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:32,953 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:32,954 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 81 ms. Found 0 Redis repository interfaces.
2023-07-03 00:16:35,860 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:16:36,202 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:16:38,072 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@dc3eda6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1372696b, org.springframework.security.web.context.SecurityContextHolderFilter@590f806a, org.springframework.security.web.header.HeaderWriterFilter@3958db82, org.springframework.security.web.authentication.logout.LogoutFilter@3d2ff73a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1f27f354, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6dc7b7f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4425b6ed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4d7fba20, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7ca7bddd, org.springframework.security.web.session.ConcurrentSessionFilter@4c9bed65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20505460, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@106b476a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@206e5183, org.springframework.security.web.access.ExceptionTranslationFilter@695c8b32, org.springframework.security.web.access.intercept.AuthorizationFilter@39acf187]
2023-07-03 00:16:38,218 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:16:38,234 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:16:38,273 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:16:38,293 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@7f1b2f07]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@202fd4c4 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3b72860c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:16:38,829 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:16:38,850 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 20826 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:16:38,851 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:16:38,852 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:16:38,876 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:38,877 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@487bc2fe uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:38,877 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:38,877 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:16:38,877 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:38,877 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5eed2edf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:40,317 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:16:40,320 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:16:40,373 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:40,378 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:40,380 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 57 ms. Found 0 Redis repository interfaces.
2023-07-03 00:16:41,015 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:16:41,164 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:16:42,066 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@373c8f35, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d86b636, org.springframework.security.web.context.SecurityContextHolderFilter@d98ce13, org.springframework.security.web.header.HeaderWriterFilter@443b9ebb, org.springframework.security.web.authentication.logout.LogoutFilter@287dde94, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@79aa675b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3fe59f84, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@38eafdab, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4865434e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@e0c03bd, org.springframework.security.web.session.ConcurrentSessionFilter@4830c979, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e86b2d1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65029fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61e4a072, org.springframework.security.web.access.ExceptionTranslationFilter@7c4de811, org.springframework.security.web.access.intercept.AuthorizationFilter@4df8443f]
2023-07-03 00:16:42,115 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:16:42,123 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:16:42,127 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:16:42,136 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@2c989d82]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@202fd4c4 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3b72860c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:16:42,516 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:16:42,535 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 20826 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:16:42,538 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:16:42,538 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:16:42,551 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:42,553 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7ec729be uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:42,555 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:42,555 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:16:42,555 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:42,555 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@648bfebe uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:43,325 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:16:43,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:16:43,346 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:43,346 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:43,346 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 19 ms. Found 0 Redis repository interfaces.
2023-07-03 00:16:43,606 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:16:43,654 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:16:44,277 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1315f1d5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b32f0b4, org.springframework.security.web.context.SecurityContextHolderFilter@6a25c9ad, org.springframework.security.web.header.HeaderWriterFilter@732ae29c, org.springframework.security.web.authentication.logout.LogoutFilter@50b010d4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@73ab649f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@234dfc8e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@18918ab9, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@60147536, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@77d7d2d0, org.springframework.security.web.session.ConcurrentSessionFilter@100d5018, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e7940b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ae37be2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63075ad1, org.springframework.security.web.access.ExceptionTranslationFilter@25ee3cd6, org.springframework.security.web.access.intercept.AuthorizationFilter@12f32f99]
2023-07-03 00:16:44,309 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:16:44,317 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:16:44,324 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:16:44,330 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@647d3279]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@202fd4c4 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3b72860c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:16:44,799 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:16:44,869 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 20826 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:16:44,869 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:16:44,870 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:16:44,902 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:44,903 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@38447073 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:44,903 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:44,903 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:16:44,903 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:44,903 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@457dc809 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:45,590 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:16:45,591 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:16:45,614 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:45,616 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:45,619 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-07-03 00:16:45,795 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:16:45,823 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:16:46,622 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21139739, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f5d292c, org.springframework.security.web.context.SecurityContextHolderFilter@628f642d, org.springframework.security.web.header.HeaderWriterFilter@1872a7fe, org.springframework.security.web.authentication.logout.LogoutFilter@19cad9f0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6894d28d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@27de9336, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@19beeb61, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@58545c2e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c4940d2, org.springframework.security.web.session.ConcurrentSessionFilter@70720b78, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@355da59c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@381db99e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@524241d9, org.springframework.security.web.access.ExceptionTranslationFilter@77c41838, org.springframework.security.web.access.intercept.AuthorizationFilter@3681c285]
2023-07-03 00:16:46,646 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:16:46,660 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:16:46,664 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:16:46,671 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@2f318251]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@202fd4c4 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3b72860c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:16:47,121 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:16:47,140 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 20826 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:16:47,140 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:16:47,140 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:16:47,148 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:47,148 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6c80b1d2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:47,148 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:47,148 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:16:47,149 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:47,149 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7aac6d13 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:48,085 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:16:48,089 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:16:48,131 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:48,133 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:48,134 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 43 ms. Found 0 Redis repository interfaces.
2023-07-03 00:16:48,396 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:16:48,431 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:16:48,735 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5fe7454c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e92a27, org.springframework.security.web.context.SecurityContextHolderFilter@6efd83ac, org.springframework.security.web.header.HeaderWriterFilter@2d33aa31, org.springframework.security.web.authentication.logout.LogoutFilter@23938caa, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@76958827, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@495cac83, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7225583d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@443819d5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@297db6ad, org.springframework.security.web.session.ConcurrentSessionFilter@475454ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@117e9a56, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@21acc86a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71c1e70f, org.springframework.security.web.access.ExceptionTranslationFilter@f7e004d, org.springframework.security.web.access.intercept.AuthorizationFilter@6049b4c9]
2023-07-03 00:16:48,751 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:16:48,754 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:16:48,757 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:16:48,773 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@e4b9a64]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@202fd4c4 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3b72860c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:16:49,328 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:16:49,343 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 20826 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:16:49,343 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:16:49,344 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:16:49,360 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:49,360 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@36e7b91c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:49,360 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:49,360 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:16:49,360 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:16:49,360 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@42210d27 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:16:49,922 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:16:49,923 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:16:49,972 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:49,974 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:16:49,977 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 52 ms. Found 0 Redis repository interfaces.
2023-07-03 00:16:50,513 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:16:50,586 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:16:51,015 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28993a77, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c6b36d7, org.springframework.security.web.context.SecurityContextHolderFilter@37ec9c49, org.springframework.security.web.header.HeaderWriterFilter@1fa35f7e, org.springframework.security.web.authentication.logout.LogoutFilter@3f634608, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@44881fcc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@61fe5253, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b2a6ed3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@40123014, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3f1485c3, org.springframework.security.web.session.ConcurrentSessionFilter@7df0bb1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ab2d64c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f6f26cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17e03804, org.springframework.security.web.access.ExceptionTranslationFilter@4c683777, org.springframework.security.web.access.intercept.AuthorizationFilter@28bf7bea]
2023-07-03 00:16:51,032 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:16:51,036 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:16:51,041 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:16:51,047 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@75fdbd71]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@202fd4c4 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3b72860c key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:16:51,165 INFO o.e.j.s.Server [Test worker] Stopped Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:16:51,167 INFO o.e.j.s.Server [Test worker] Shutdown Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:16:51,216 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:16:51,228 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@31db34da{/,null,STOPPED}
2023-07-03 00:16:51,229 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,STOPPED}
2023-07-03 00:20:02,409 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:20:02,465 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,AVAILABLE}
2023-07-03 00:20:02,485 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:20:02,487 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@53c1179a{/,null,AVAILABLE}
2023-07-03 00:20:02,498 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:20:02,516 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @4983ms
2023-07-03 00:20:04,289 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:20:04,344 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:20:04,383 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21268 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:20:04,384 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:20:04,384 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:20:04,430 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:20:04,430 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e53c4ad uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:20:04,430 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:20:04,430 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:20:04,430 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:20:04,430 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27ab206 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:20:05,741 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:20:05,742 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:20:05,826 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:20:05,829 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:20:05,830 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 71 ms. Found 0 Redis repository interfaces.
2023-07-03 00:20:08,937 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:20:09,368 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:20:11,184 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@47fbf95e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49482761, org.springframework.security.web.context.SecurityContextHolderFilter@5003c114, org.springframework.security.web.header.HeaderWriterFilter@32bae609, org.springframework.security.web.authentication.logout.LogoutFilter@5af1b221, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3b3b2290, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@47d7e4b6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@623ed5ed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@414d466e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6ac0fd1d, org.springframework.security.web.session.ConcurrentSessionFilter@90c01ab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2487b621, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4964d801, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@744199bb, org.springframework.security.web.access.ExceptionTranslationFilter@2267b0bb, org.springframework.security.web.access.intercept.AuthorizationFilter@115924ba]
2023-07-03 00:20:11,331 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:20:11,353 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:20:11,389 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:20:11,407 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3013e1e8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd409c1 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@121c1a08 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:20:11,450 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:20:11,451 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:20:11,465 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:20:11,474 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@53c1179a{/,null,STOPPED}
2023-07-03 00:20:11,475 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,STOPPED}
2023-07-03 00:22:50,614 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 00:22:50,907 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-07-03 00:22:52,644 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:22:52,676 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@35c4e864{/__admin,null,AVAILABLE}
2023-07-03 00:22:52,697 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:22:52,698 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@217bf99e{/,null,AVAILABLE}
2023-07-03 00:22:52,716 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@59cda16e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:22:52,731 INFO o.e.j.s.Server [Test worker] Started Server@37e69c43{STARTING}[11.0.15,sto=1000] @4453ms
2023-07-03 00:22:54,794 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:22:54,882 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:22:55,070 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 21601 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:22:55,071 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:22:55,072 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:22:55,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:22:55,177 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74f280bd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:22:55,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:22:55,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:22:55,177 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:22:55,177 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1df9186f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:22:58,091 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:22:58,093 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:22:58,260 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:22:58,264 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:22:58,266 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 150 ms. Found 0 Redis repository interfaces.
2023-07-03 00:22:58,853 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:22:58,854 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-07-03 00:22:59,237 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 374 ms. Found 2 JPA repository interfaces.
2023-07-03 00:22:59,380 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:22:59,381 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:22:59,427 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:22:59,433 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:22:59,434 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 53 ms. Found 0 Redis repository interfaces.
2023-07-03 00:23:00,283 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=8af4465b-7060-38ed-896b-1b39f01d2bd1
2023-07-03 00:23:00,656 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:23:00,789 WARN o.s.c.LocalVariableTableParameterNameDiscoverer [Test worker] Using deprecated '-debug' fallback for parameter name resolution. Compile the affected code with '-parameters' instead or avoid its introspection: ru.clevertec.controllerlogspringbootstarter.aop.loger.ControllersLogAspect
2023-07-03 00:23:04,224 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-07-03 00:23:04,678 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@736a8aea
2023-07-03 00:23:04,687 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-07-03 00:23:05,005 INFO l.database [Test worker] Set default schema name to public
2023-07-03 00:23:05,344 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-07-03 00:23:06,530 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 00:23:06,876 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-07-03 00:23:06,922 INFO l.util [Test worker] UPDATE SUMMARY
2023-07-03 00:23:06,923 INFO l.util [Test worker] Run:                          0
2023-07-03 00:23:06,924 INFO l.util [Test worker] Previously run:               5
2023-07-03 00:23:06,924 INFO l.util [Test worker] Filtered out:                 0
2023-07-03 00:23:06,924 INFO l.util [Test worker] -------------------------------
2023-07-03 00:23:06,924 INFO l.util [Test worker] Total change sets:            5

2023-07-03 00:23:06,927 INFO l.util [Test worker] Update summary generated
2023-07-03 00:23:06,951 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 00:23:06,975 INFO l.lockservice [Test worker] Successfully released change log lock
2023-07-03 00:23:06,976 INFO l.command [Test worker] Command execution complete
2023-07-03 00:23:07,363 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-07-03 00:23:07,457 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-07-03 00:23:07,463 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-07-03 00:23:07,673 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 00:23:07,860 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-07-03 00:23:07,933 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@4c954b79
2023-07-03 00:23:08,412 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-07-03 00:23:09,658 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-07-03 00:23:09,836 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 00:23:11,012 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-07-03 00:23:13,278 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-07-03 00:23:13,578 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:23:15,323 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f6acdcc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@49f4de0e, org.springframework.security.web.context.SecurityContextHolderFilter@7215172a, org.springframework.security.web.header.HeaderWriterFilter@29dee1de, org.springframework.security.web.authentication.logout.LogoutFilter@3fef9832, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3e94fc76, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@469b55ae, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2e145f7b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@78a4764f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@63214338, org.springframework.security.web.session.ConcurrentSessionFilter@67f3b72d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@594c8879, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dee7142, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5eea3f69, org.springframework.security.web.access.ExceptionTranslationFilter@604c9f59, org.springframework.security.web.access.intercept.AuthorizationFilter@78bbc584]
2023-07-03 00:23:17,430 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 24.591 seconds (process running for 29.153)
2023-07-03 00:23:19,140 INFO o.e.j.s.Server [Test worker] Stopped Server@37e69c43{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:23:19,144 INFO o.e.j.s.Server [Test worker] Shutdown Server@37e69c43{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:23:19,153 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@59cda16e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:23:19,159 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@217bf99e{/,null,STOPPED}
2023-07-03 00:23:19,160 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@35c4e864{/__admin,null,STOPPED}
2023-07-03 00:23:19,211 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-07-03 00:23:19,224 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-07-03 00:23:19,233 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-07-03 00:24:24,982 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:24:25,035 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,AVAILABLE}
2023-07-03 00:24:25,056 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:24:25,058 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31db34da{/,null,AVAILABLE}
2023-07-03 00:24:25,068 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:24:25,084 INFO o.e.j.s.Server [Test worker] Started Server@43bdaa1b{STARTING}[11.0.15,sto=1000] @4297ms
2023-07-03 00:24:26,795 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:24:26,870 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:24:26,907 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:24:26,908 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:24:26,908 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:24:26,973 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:26,974 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@13278a41 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:26,974 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:26,974 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:24:26,974 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:26,974 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56fda064 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:28,173 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:24:28,174 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:24:28,263 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:28,267 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:28,270 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 76 ms. Found 0 Redis repository interfaces.
2023-07-03 00:24:31,109 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:24:31,472 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:24:33,316 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@355b4c34, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ca006ac, org.springframework.security.web.context.SecurityContextHolderFilter@789f5552, org.springframework.security.web.header.HeaderWriterFilter@6eb332d1, org.springframework.security.web.authentication.logout.LogoutFilter@6e4bccc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@36ce9eaf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7a79d99c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1f27f354, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1e2bc241, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@dc3eda6, org.springframework.security.web.session.ConcurrentSessionFilter@28521ed5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@590f806a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2dc77962, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1372696b, org.springframework.security.web.access.ExceptionTranslationFilter@59700156, org.springframework.security.web.access.intercept.AuthorizationFilter@49741e80]
2023-07-03 00:24:33,506 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:24:33,522 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:24:33,560 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:24:33,580 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@7866fe3e]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@593e594f testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3a1e5fa7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:24:34,069 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:24:34,088 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:24:34,090 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:24:34,092 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:24:34,111 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:34,112 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d200dce uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:34,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:34,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:24:34,112 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:34,112 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@74cf2d5f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:35,072 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:24:35,074 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:24:35,095 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:35,095 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:35,096 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 20 ms. Found 0 Redis repository interfaces.
2023-07-03 00:24:35,400 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:24:35,471 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:24:36,178 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21f421b8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e3bc13b, org.springframework.security.web.context.SecurityContextHolderFilter@2d6e09f0, org.springframework.security.web.header.HeaderWriterFilter@2740585b, org.springframework.security.web.authentication.logout.LogoutFilter@1a67bcaf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@77430c79, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@506654fa, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4468ced2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@f3e6876, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2c989d82, org.springframework.security.web.session.ConcurrentSessionFilter@3816efab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@257da215, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5aa461, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2e04c89d, org.springframework.security.web.access.ExceptionTranslationFilter@5ec25b61, org.springframework.security.web.access.intercept.AuthorizationFilter@334ac669]
2023-07-03 00:24:36,221 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:24:36,228 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:24:36,232 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:24:36,239 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@6d7a343f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@593e594f testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3a1e5fa7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:24:37,047 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:24:37,065 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:24:37,065 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:24:37,065 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:24:37,106 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:37,109 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@110f66e3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:37,109 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:37,109 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:24:37,109 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:37,110 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7305191e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:37,845 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:24:37,846 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:24:37,865 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:37,865 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:37,866 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 18 ms. Found 0 Redis repository interfaces.
2023-07-03 00:24:38,087 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:24:38,150 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:24:38,662 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5246453e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@299f9a81, org.springframework.security.web.context.SecurityContextHolderFilter@4b9a1be5, org.springframework.security.web.header.HeaderWriterFilter@94f79a7, org.springframework.security.web.authentication.logout.LogoutFilter@7c1f3125, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2c9af700, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@29897daf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@63e54c66, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2b20caed, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4b19ee18, org.springframework.security.web.session.ConcurrentSessionFilter@647d3279, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54b313d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2643caa6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2561d61, org.springframework.security.web.access.ExceptionTranslationFilter@684a34f4, org.springframework.security.web.access.intercept.AuthorizationFilter@69eb1f23]
2023-07-03 00:24:38,688 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:24:38,693 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:24:38,696 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:24:38,700 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@7bca98d5]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@593e594f testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3a1e5fa7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:24:38,926 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:24:38,932 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:24:38,932 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:24:38,932 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:24:38,936 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:38,936 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@32aa27a7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:38,936 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:38,936 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:24:38,936 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:38,936 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@69e58566 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:39,721 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:24:39,728 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:24:39,755 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:39,756 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:39,756 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 27 ms. Found 0 Redis repository interfaces.
2023-07-03 00:24:40,018 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:24:40,057 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:24:40,342 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bfd8f92, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@38503309, org.springframework.security.web.context.SecurityContextHolderFilter@f5b81f4, org.springframework.security.web.header.HeaderWriterFilter@788a7567, org.springframework.security.web.authentication.logout.LogoutFilter@33c91567, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7f478529, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@45ed58b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@465e9090, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3ce2c454, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4ad04b05, org.springframework.security.web.session.ConcurrentSessionFilter@62672ad5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c020e58, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@67887bf2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78b888df, org.springframework.security.web.access.ExceptionTranslationFilter@38a6ca39, org.springframework.security.web.access.intercept.AuthorizationFilter@3d5009c0]
2023-07-03 00:24:40,378 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:24:40,385 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:24:40,394 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:24:40,411 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@62525579]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@593e594f testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3a1e5fa7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:24:41,001 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:24:41,016 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:24:41,016 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:24:41,016 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:24:41,030 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:41,031 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2b01be54 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:41,031 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:41,031 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:24:41,031 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:41,031 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3397c8c0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:42,110 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:24:42,121 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:24:42,206 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:42,208 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:42,209 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 85 ms. Found 0 Redis repository interfaces.
2023-07-03 00:24:42,521 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:24:42,561 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:24:42,862 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2fedfff1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34db5935, org.springframework.security.web.context.SecurityContextHolderFilter@40fd25c7, org.springframework.security.web.header.HeaderWriterFilter@5629e904, org.springframework.security.web.authentication.logout.LogoutFilter@16a30d66, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5e18a6a7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@505e483f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@f81bd2c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@54bf2319, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1666e021, org.springframework.security.web.session.ConcurrentSessionFilter@1d7914a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18ce7872, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@136c3a6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@148c571c, org.springframework.security.web.access.ExceptionTranslationFilter@5860e4c3, org.springframework.security.web.access.intercept.AuthorizationFilter@c358f32]
2023-07-03 00:24:42,879 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:24:42,887 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:24:42,890 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:24:42,895 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@2f5378cd]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@593e594f testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3a1e5fa7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:24:43,191 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:24:43,206 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:24:43,206 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:24:43,206 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:24:43,213 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:43,213 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1d8e9f22 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:43,213 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:43,213 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:24:43,213 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:24:43,213 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@731a5a39 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:24:43,759 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:24:43,760 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:24:43,788 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:43,789 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:24:43,789 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2023-07-03 00:24:43,951 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:24:44,007 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:24:44,709 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7e7e34ef, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e7c3ba2, org.springframework.security.web.context.SecurityContextHolderFilter@1ff584d7, org.springframework.security.web.header.HeaderWriterFilter@6bb2b8d4, org.springframework.security.web.authentication.logout.LogoutFilter@267093ea, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5fe5f2f0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7d28d525, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4873c645, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@75edfe9a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@35c646b5, org.springframework.security.web.session.ConcurrentSessionFilter@64230d44, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7752f9fe, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9588bd8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6351efa6, org.springframework.security.web.access.ExceptionTranslationFilter@412bb41f, org.springframework.security.web.access.intercept.AuthorizationFilter@7138e064]
2023-07-03 00:24:44,745 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:24:44,749 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:24:44,752 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:24:44,758 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@5cc088a8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@593e594f testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@3a1e5fa7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:24:44,802 INFO o.e.j.s.Server [Test worker] Stopped Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:24:44,803 INFO o.e.j.s.Server [Test worker] Shutdown Server@43bdaa1b{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:24:44,827 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:24:44,834 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@31db34da{/,null,STOPPED}
2023-07-03 00:24:44,836 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,STOPPED}
2023-07-03 00:25:11,216 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.controller.CommentControllerTest]: CommentControllerTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-07-03 00:25:11,596 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.controller.CommentControllerTest
2023-07-03 00:25:13,263 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:25:13,302 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b9499fe{/__admin,null,AVAILABLE}
2023-07-03 00:25:13,327 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:25:13,328 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e36b7a0{/,null,AVAILABLE}
2023-07-03 00:25:13,340 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@35c12c7a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:25:13,362 INFO o.e.j.s.Server [Test worker] Started Server@58d6e55a{STARTING}[11.0.15,sto=1000] @4882ms
2023-07-03 00:25:15,162 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:25:15,230 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:25:15,270 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21917 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:25:15,270 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:25:15,271 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:25:15,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:15,328 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@226d5af0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:15,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:15,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:25:15,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:15,328 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2abc55c4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:16,580 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:25:16,581 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:25:16,683 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:16,689 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:16,692 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 86 ms. Found 0 Redis repository interfaces.
2023-07-03 00:25:19,888 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:25:20,213 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:25:22,132 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@248ba4fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54cce500, org.springframework.security.web.context.SecurityContextHolderFilter@518b0c12, org.springframework.security.web.header.HeaderWriterFilter@b307030, org.springframework.security.web.authentication.logout.LogoutFilter@dc3eda6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2e096ac0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d7c00de, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11fa11b2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1728d307, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@755033c5, org.springframework.security.web.session.ConcurrentSessionFilter@7878459f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@40b958c5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@296949c8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@229c4d34, org.springframework.security.web.access.ExceptionTranslationFilter@3d2ff73a, org.springframework.security.web.access.intercept.AuthorizationFilter@69d2c460]
2023-07-03 00:25:22,269 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:25:22,291 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:25:22,328 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:25:22,344 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3013e1e8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd409c1 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@226f885f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@a83e0e35, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e94ff808, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e587920, [ImportsContextCustomizer@121c1a08 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@547e29a4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1b39fd82, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3998e2bd, org.springframework.boot.test.context.SpringBootTestAnnotation@6a905b94], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:25:22,738 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:25:22,746 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21917 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:25:22,747 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:25:22,748 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:25:22,761 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:22,761 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@19834eb7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:22,761 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:22,761 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:25:22,761 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:22,761 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a286095 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:23,665 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:25:23,667 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:25:23,699 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:23,700 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:23,701 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 32 ms. Found 0 Redis repository interfaces.
2023-07-03 00:25:24,079 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:25:24,187 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:25:24,784 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@304cad3a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@628cb8e0, org.springframework.security.web.context.SecurityContextHolderFilter@54c697c, org.springframework.security.web.header.HeaderWriterFilter@771ede0d, org.springframework.security.web.authentication.logout.LogoutFilter@7bb888b7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@321c01c2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@d5eca06, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@79169472, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@45775a15, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@19f9404d, org.springframework.security.web.session.ConcurrentSessionFilter@1fd73dcb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62075e3d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63e81ac6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5481f204, org.springframework.security.web.access.ExceptionTranslationFilter@7fb313e3, org.springframework.security.web.access.intercept.AuthorizationFilter@277dddcf]
2023-07-03 00:25:24,816 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:25:24,824 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:25:24,827 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:25:24,834 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@7ec729be]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd409c1 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@226f885f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@a83e0e35, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e94ff808, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e587920, [ImportsContextCustomizer@121c1a08 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@547e29a4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1b39fd82, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3998e2bd, org.springframework.boot.test.context.SpringBootTestAnnotation@6a905b94], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:25:25,217 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:25:25,242 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21917 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:25:25,242 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:25:25,243 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:25:25,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:25,274 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@715523b8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:25,275 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:25,276 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:25:25,276 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:25,276 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48b1b469 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:26,255 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:25:26,256 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:25:26,280 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:26,282 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:26,282 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 25 ms. Found 0 Redis repository interfaces.
2023-07-03 00:25:26,484 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:25:26,551 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:25:27,202 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a4f15bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@67544105, org.springframework.security.web.context.SecurityContextHolderFilter@6c89c92e, org.springframework.security.web.header.HeaderWriterFilter@33ccab9c, org.springframework.security.web.authentication.logout.LogoutFilter@63661fc7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@542b27af, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7e092ca, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ae97a58, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@276b68af, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6421e9e7, org.springframework.security.web.session.ConcurrentSessionFilter@668ea404, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@62109320, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34d644b5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@552b7481, org.springframework.security.web.access.ExceptionTranslationFilter@75128cf, org.springframework.security.web.access.intercept.AuthorizationFilter@19412eef]
2023-07-03 00:25:27,283 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:25:27,295 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:25:27,304 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:25:27,316 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@523e019c]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd409c1 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@226f885f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@a83e0e35, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e94ff808, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e587920, [ImportsContextCustomizer@121c1a08 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@547e29a4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1b39fd82, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3998e2bd, org.springframework.boot.test.context.SpringBootTestAnnotation@6a905b94], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:25:27,838 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:25:27,859 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21917 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:25:27,860 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:25:27,860 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:25:27,872 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:27,873 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@715ea64a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:27,875 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:27,876 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:25:27,876 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:27,876 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@163cd4a6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:28,351 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:25:28,356 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:25:28,379 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:28,379 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:28,379 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-07-03 00:25:28,538 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:25:28,590 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:25:29,025 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5eba0cc5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5fb392e, org.springframework.security.web.context.SecurityContextHolderFilter@828e2d8, org.springframework.security.web.header.HeaderWriterFilter@791dcda7, org.springframework.security.web.authentication.logout.LogoutFilter@686ee555, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@8ba7408, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@17616c07, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58e46572, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2b14628b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@19e67cc2, org.springframework.security.web.session.ConcurrentSessionFilter@35c95587, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43e9eddf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@548e70f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@62525579, org.springframework.security.web.access.ExceptionTranslationFilter@1aaa3406, org.springframework.security.web.access.intercept.AuthorizationFilter@47483211]
2023-07-03 00:25:29,049 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:25:29,060 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:25:29,064 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:25:29,069 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3a3f1703]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd409c1 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@226f885f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@a83e0e35, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e94ff808, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e587920, [ImportsContextCustomizer@121c1a08 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@547e29a4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1b39fd82, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3998e2bd, org.springframework.boot.test.context.SpringBootTestAnnotation@6a905b94], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:25:29,291 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:25:29,300 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21917 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:25:29,300 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:25:29,301 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:25:29,309 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:29,309 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4eb43d2f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:29,309 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:29,309 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:25:29,309 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:29,309 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@77ac7cd6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:29,993 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:25:29,997 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:25:30,012 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:30,012 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:30,012 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 15 ms. Found 0 Redis repository interfaces.
2023-07-03 00:25:30,149 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:25:30,181 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:25:30,554 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5bdfae42, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4e396d1c, org.springframework.security.web.context.SecurityContextHolderFilter@12418d3f, org.springframework.security.web.header.HeaderWriterFilter@1dcfbad1, org.springframework.security.web.authentication.logout.LogoutFilter@9a932a4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6f2f4b9e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2f5378cd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3695e4f2, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@74307afd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7a98f106, org.springframework.security.web.session.ConcurrentSessionFilter@19e5e846, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2258228f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42210d27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@633328d3, org.springframework.security.web.access.ExceptionTranslationFilter@630a647c, org.springframework.security.web.access.intercept.AuthorizationFilter@343b3399]
2023-07-03 00:25:30,588 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:25:30,601 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:25:30,610 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:25:30,618 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@78854721]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd409c1 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@226f885f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@a83e0e35, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e94ff808, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e587920, [ImportsContextCustomizer@121c1a08 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@547e29a4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1b39fd82, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3998e2bd, org.springframework.boot.test.context.SpringBootTestAnnotation@6a905b94], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:25:31,085 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:25:31,095 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21917 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:25:31,097 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:25:31,098 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:25:31,116 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:31,116 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@363a1d8d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:31,116 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:31,116 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:25:31,116 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:25:31,117 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41f274d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:25:31,687 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:25:31,688 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:25:31,720 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:31,721 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:25:31,721 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 33 ms. Found 0 Redis repository interfaces.
2023-07-03 00:25:31,963 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:25:32,000 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:25:32,693 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@28fdce67, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24c9a52a, org.springframework.security.web.context.SecurityContextHolderFilter@42fe9099, org.springframework.security.web.header.HeaderWriterFilter@2620f935, org.springframework.security.web.authentication.logout.LogoutFilter@25777ab6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6f8c6694, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@71b01319, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@16fa28eb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6a0ca728, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@55105271, org.springframework.security.web.session.ConcurrentSessionFilter@6a3cb81c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4437af21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@657f1fc3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@126a8548, org.springframework.security.web.access.ExceptionTranslationFilter@7ecf001f, org.springframework.security.web.access.intercept.AuthorizationFilter@37d12d0e]
2023-07-03 00:25:32,749 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:25:32,758 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:25:32,767 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:25:32,778 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3ffa424d]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2fd409c1 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@226f885f, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@a83e0e35, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e94ff808, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@3e587920, [ImportsContextCustomizer@121c1a08 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@547e29a4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1b39fd82, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3998e2bd, org.springframework.boot.test.context.SpringBootTestAnnotation@6a905b94], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:25:32,896 INFO o.e.j.s.Server [Test worker] Stopped Server@58d6e55a{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:25:32,897 INFO o.e.j.s.Server [Test worker] Shutdown Server@58d6e55a{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:25:32,938 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@35c12c7a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:25:32,948 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e36b7a0{/,null,STOPPED}
2023-07-03 00:25:32,952 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b9499fe{/__admin,null,STOPPED}
2023-07-03 00:30:08,578 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:30:08,645 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@361abd01{/__admin,null,AVAILABLE}
2023-07-03 00:30:08,665 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:30:08,667 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ceddaf8{/,null,AVAILABLE}
2023-07-03 00:30:08,677 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@78010562{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:30:08,695 INFO o.e.j.s.Server [Test worker] Started Server@5ceecfee{STARTING}[11.0.15,sto=1000] @5596ms
2023-07-03 00:30:10,461 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:30:10,526 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:30:10,569 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 22469 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:30:10,570 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:30:10,571 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:30:10,626 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:30:10,626 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5dbab232 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:30:10,626 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:30:10,626 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:30:10,626 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:30:10,626 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3079c26a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:30:11,921 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:30:11,922 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:30:12,027 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:30:12,031 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:30:12,032 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 93 ms. Found 0 Redis repository interfaces.
2023-07-03 00:30:15,388 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:30:17,059 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5e643402, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ff12b53, org.springframework.security.web.context.SecurityContextHolderFilter@4028aab2, org.springframework.security.web.header.HeaderWriterFilter@3f5e64c9, org.springframework.security.web.authentication.logout.LogoutFilter@10f384a2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@15a5cc6e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4a65c40, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4fc84c92, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@68fc1e7f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@78141c58, org.springframework.security.web.session.ConcurrentSessionFilter@7c3ae369, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ca9d3b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1aebe759, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9863ed5, org.springframework.security.web.access.ExceptionTranslationFilter@4a977146, org.springframework.security.web.access.intercept.AuthorizationFilter@6dbdbb69]
2023-07-03 00:30:17,304 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:30:17,327 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:30:17,381 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:30:17,400 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.UserControllerTest@1372696b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5ca006ac testClass = ru.clevertec.NewsManager.common.controller.UserControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@2187fff7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@c10cca32, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@7b0bf0b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1b58ff9e, [ImportsContextCustomizer@dc3eda6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@42a9a63e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@37d80fe7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@daf6cbb, org.springframework.boot.test.context.SpringBootTestAnnotation@6ddac69d], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:30:17,884 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:30:17,896 INFO r.c.N.c.c.UserControllerTest [Test worker] Starting UserControllerTest using Java 17.0.2 with PID 22469 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:30:17,897 DEBUG r.c.N.c.c.UserControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:30:17,899 INFO r.c.N.c.c.UserControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:30:17,916 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:30:17,919 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@22ba30b0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:30:17,920 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:30:17,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:30:17,922 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:30:17,922 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@20276412 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:30:18,898 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:30:18,900 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:30:18,923 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:30:18,924 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:30:18,924 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 23 ms. Found 0 Redis repository interfaces.
2023-07-03 00:30:19,130 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:30:19,684 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b171fbd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ece052b, org.springframework.security.web.context.SecurityContextHolderFilter@75c45c4b, org.springframework.security.web.header.HeaderWriterFilter@2d398cfb, org.springframework.security.web.authentication.logout.LogoutFilter@65b07b9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2330c995, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7d086485, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@74130456, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@33cec966, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@20dc763b, org.springframework.security.web.session.ConcurrentSessionFilter@23307c6c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7202009e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@133d0471, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c81e7c2, org.springframework.security.web.access.ExceptionTranslationFilter@54da736e, org.springframework.security.web.access.intercept.AuthorizationFilter@387ef6a7]
2023-07-03 00:30:19,716 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:30:19,721 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:30:19,726 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:30:19,731 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.UserControllerTest@37f0fb02]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@5ca006ac testClass = ru.clevertec.NewsManager.common.controller.UserControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@2187fff7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@c10cca32, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@7b0bf0b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1b58ff9e, [ImportsContextCustomizer@dc3eda6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@42a9a63e, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@37d80fe7, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@daf6cbb, org.springframework.boot.test.context.SpringBootTestAnnotation@6ddac69d], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:30:19,764 INFO o.e.j.s.Server [Test worker] Stopped Server@5ceecfee{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:30:19,765 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ceecfee{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:30:19,776 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@78010562{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:30:19,780 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ceddaf8{/,null,STOPPED}
2023-07-03 00:30:19,781 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@361abd01{/__admin,null,STOPPED}
2023-07-03 00:32:45,404 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:32:45,459 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,AVAILABLE}
2023-07-03 00:32:45,480 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:32:45,482 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@53c1179a{/,null,AVAILABLE}
2023-07-03 00:32:45,494 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:32:45,512 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @5012ms
2023-07-03 00:32:47,308 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:32:47,388 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:32:47,424 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 22789 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:32:47,425 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:32:47,425 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:32:47,471 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:32:47,472 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e53c4ad uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:32:47,472 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:32:47,472 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:32:47,472 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:32:47,472 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27ab206 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:32:48,596 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:32:48,597 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:32:48,700 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:32:48,704 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:32:48,706 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 90 ms. Found 0 Redis repository interfaces.
2023-07-03 00:32:51,857 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:32:52,376 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:32:55,200 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1728d307, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@252d2ac0, org.springframework.security.web.context.SecurityContextHolderFilter@1256925b, org.springframework.security.web.header.HeaderWriterFilter@1e6e29d6, org.springframework.security.web.authentication.logout.LogoutFilter@4d7fba20, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@74ab8610, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@231c521e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@296949c8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@789f5552, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3f0b5619, org.springframework.security.web.session.ConcurrentSessionFilter@695c8b32, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@467421cc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c9bed65, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@67afc9b6, org.springframework.security.web.access.ExceptionTranslationFilter@3d0f4ac4, org.springframework.security.web.access.intercept.AuthorizationFilter@2d568cff]
2023-07-03 00:32:55,344 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:32:55,360 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:32:55,399 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:32:55,420 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@73483d4b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@6bc08a77 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@37922937 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:32:55,473 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:32:55,477 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:32:55,488 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:32:55,493 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@53c1179a{/,null,STOPPED}
2023-07-03 00:32:55,496 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,STOPPED}
2023-07-03 00:34:41,673 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:34:41,723 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,AVAILABLE}
2023-07-03 00:34:41,744 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:34:41,746 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@53c1179a{/,null,AVAILABLE}
2023-07-03 00:34:41,757 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:34:41,772 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @4197ms
2023-07-03 00:34:43,515 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:34:43,574 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:34:43,612 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 23012 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:34:43,613 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:34:43,613 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:34:43,677 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:34:43,677 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e53c4ad uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:34:43,677 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:34:43,677 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:34:43,677 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:34:43,677 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27ab206 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:34:44,811 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:34:44,812 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:34:44,903 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:34:44,907 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:34:44,908 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 78 ms. Found 0 Redis repository interfaces.
2023-07-03 00:34:47,635 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:34:47,925 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:34:49,798 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1390a415, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a5b1af7, org.springframework.security.web.context.SecurityContextHolderFilter@586b78d7, org.springframework.security.web.header.HeaderWriterFilter@24e31f06, org.springframework.security.web.authentication.logout.LogoutFilter@46c19350, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@14745c3c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6bbb3280, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7dda5b25, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5fe024a7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4932d580, org.springframework.security.web.session.ConcurrentSessionFilter@310cc4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@48b01607, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c29f6be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7603cfc2, org.springframework.security.web.access.ExceptionTranslationFilter@36f438f1, org.springframework.security.web.access.intercept.AuthorizationFilter@396519b]
2023-07-03 00:34:49,947 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:34:49,975 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:34:50,017 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:34:50,035 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@363a09a2]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@260ccf0 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@2566247d key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:34:50,067 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:34:50,067 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:34:50,079 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:34:50,083 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@53c1179a{/,null,STOPPED}
2023-07-03 00:34:50,086 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,STOPPED}
2023-07-03 00:36:45,235 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:36:45,312 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,AVAILABLE}
2023-07-03 00:36:45,344 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:36:45,345 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@53c1179a{/,null,AVAILABLE}
2023-07-03 00:36:45,361 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:36:45,384 INFO o.e.j.s.Server [Test worker] Started Server@77c10a5f{STARTING}[11.0.15,sto=1000] @4658ms
2023-07-03 00:36:47,568 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:36:47,705 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:36:47,851 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 23244 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:36:47,852 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:36:47,855 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:36:47,959 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:36:47,960 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3e53c4ad uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:36:47,960 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:36:47,960 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:36:47,960 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:36:47,960 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27ab206 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:36:49,730 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:36:49,732 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:36:49,820 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:36:49,824 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:36:49,825 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 74 ms. Found 0 Redis repository interfaces.
2023-07-03 00:36:53,515 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:36:54,039 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:36:55,960 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@231c521e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@296949c8, org.springframework.security.web.context.SecurityContextHolderFilter@1adec8d, org.springframework.security.web.header.HeaderWriterFilter@3cf7433e, org.springframework.security.web.authentication.logout.LogoutFilter@32bae609, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@690e7b89, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@17554316, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@518b0c12, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2b06c388, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1be3a294, org.springframework.security.web.session.ConcurrentSessionFilter@3d9cba2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34d0c331, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1256925b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33502cfe, org.springframework.security.web.access.ExceptionTranslationFilter@16a15261, org.springframework.security.web.access.intercept.AuthorizationFilter@90c01ab]
2023-07-03 00:36:56,114 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:36:56,134 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:36:56,178 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:36:56,194 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@674d2b8b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3b72860c testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@21362712, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@ecc8472b, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@615f972, [ImportsContextCustomizer@7f1b2f07 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@581d969c, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1d572e62, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@60b3cdcd, org.springframework.boot.test.context.SpringBootTestAnnotation@d135c7df], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:36:56,227 INFO o.e.j.s.Server [Test worker] Stopped Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:36:56,227 INFO o.e.j.s.Server [Test worker] Shutdown Server@77c10a5f{STOPPING}[11.0.15,sto=1000]
2023-07-03 00:36:56,236 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4195105b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:36:56,240 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@53c1179a{/,null,STOPPED}
2023-07-03 00:36:56,241 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7fc420b8{/__admin,null,STOPPED}
2023-07-03 00:49:22,057 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-07-03 00:49:22,165 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e0fbeb5{/__admin,null,AVAILABLE}
2023-07-03 00:49:22,208 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-07-03 00:49:22,208 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31db34da{/,null,AVAILABLE}
2023-07-03 00:49:22,221 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4d3ca6c7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-07-03 00:49:22,244 INFO o.e.j.s.Server [Test worker] Started Server@43bdaa1b{STARTING}[11.0.15,sto=1000] @6931ms
2023-07-03 00:49:24,420 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-07-03 00:49:24,505 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:49:24,540 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 24975 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:49:24,541 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:49:24,541 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:49:24,600 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:24,601 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@13278a41 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:24,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:24,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:49:24,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:24,601 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@56fda064 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:25,829 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:49:25,831 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:49:25,969 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:25,977 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:25,980 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 127 ms. Found 0 Redis repository interfaces.
2023-07-03 00:49:29,810 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:49:30,664 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:49:33,617 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@dc3eda6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1372696b, org.springframework.security.web.context.SecurityContextHolderFilter@590f806a, org.springframework.security.web.header.HeaderWriterFilter@3958db82, org.springframework.security.web.authentication.logout.LogoutFilter@3d2ff73a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1f27f354, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6dc7b7f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4425b6ed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4d7fba20, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7ca7bddd, org.springframework.security.web.session.ConcurrentSessionFilter@4c9bed65, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@20505460, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@106b476a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@206e5183, org.springframework.security.web.access.ExceptionTranslationFilter@695c8b32, org.springframework.security.web.access.intercept.AuthorizationFilter@39acf187]
2023-07-03 00:49:33,964 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:49:34,037 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:49:34,156 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:49:34,215 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@30b29f55]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@399a5a52 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@1677f98b key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:49:35,083 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:49:35,114 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 24975 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:49:35,120 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:49:35,120 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:49:35,148 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:35,149 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@42fb2be9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:35,149 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:35,149 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:49:35,149 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:35,149 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5c648e38 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:36,659 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:49:36,662 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:49:36,707 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:36,710 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:36,711 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 48 ms. Found 0 Redis repository interfaces.
2023-07-03 00:49:37,100 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:49:37,158 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:49:37,563 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74120029, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3031d9e9, org.springframework.security.web.context.SecurityContextHolderFilter@2f650dae, org.springframework.security.web.header.HeaderWriterFilter@3c6e407, org.springframework.security.web.authentication.logout.LogoutFilter@373c8f35, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@61e4a072, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@32f2de5c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1a6df932, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3fe59f84, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1415f18d, org.springframework.security.web.session.ConcurrentSessionFilter@287dde94, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4df8443f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@79aa675b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@61c42e54, org.springframework.security.web.access.ExceptionTranslationFilter@4865434e, org.springframework.security.web.access.intercept.AuthorizationFilter@e0c03bd]
2023-07-03 00:49:37,590 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:49:37,596 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:49:37,605 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:49:37,615 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@117be84a]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@399a5a52 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@1677f98b key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:49:38,205 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:49:38,223 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 24975 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:49:38,225 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:49:38,228 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:49:38,249 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:38,251 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4986b0ea uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:38,255 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:38,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:49:38,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:38,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@31c29db1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:39,124 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:49:39,126 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:49:39,155 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:39,156 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:39,156 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 28 ms. Found 0 Redis repository interfaces.
2023-07-03 00:49:39,517 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:49:39,570 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:49:40,257 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@900ffc4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@39d44217, org.springframework.security.web.context.SecurityContextHolderFilter@1315f1d5, org.springframework.security.web.header.HeaderWriterFilter@234dfc8e, org.springframework.security.web.authentication.logout.LogoutFilter@73bb782d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@38e100ab, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@10b36d8a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@318f47f1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@63075ad1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3280a79a, org.springframework.security.web.session.ConcurrentSessionFilter@18918ab9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b32f0b4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77d7d2d0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79fbcef4, org.springframework.security.web.access.ExceptionTranslationFilter@73ab649f, org.springframework.security.web.access.intercept.AuthorizationFilter@63bb719d]
2023-07-03 00:49:40,342 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:49:40,348 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:49:40,386 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:49:40,410 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@299f9a81]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@399a5a52 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@1677f98b key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:49:41,014 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:49:41,025 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 24975 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:49:41,025 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:49:41,025 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:49:41,034 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:41,034 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5a35efac uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:41,037 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:41,038 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:49:41,042 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:41,043 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@523e019c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:41,994 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:49:42,000 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:49:42,059 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:42,061 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:42,061 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 58 ms. Found 0 Redis repository interfaces.
2023-07-03 00:49:42,571 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:49:42,638 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:49:43,097 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@27381497, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@282c0891, org.springframework.security.web.context.SecurityContextHolderFilter@69c7fe78, org.springframework.security.web.header.HeaderWriterFilter@524241d9, org.springframework.security.web.authentication.logout.LogoutFilter@2700f556, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2b0483f2, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@b8e6981, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1e40edb7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1d9295e2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5096be74, org.springframework.security.web.session.ConcurrentSessionFilter@6f55aef7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ffe7c42, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f72aaed, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4922dc84, org.springframework.security.web.access.ExceptionTranslationFilter@3c4940d2, org.springframework.security.web.access.intercept.AuthorizationFilter@64dbb343]
2023-07-03 00:49:43,113 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:49:43,129 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:49:43,132 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:49:43,150 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3ce2c454]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@399a5a52 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@1677f98b key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
2023-07-03 00:49:43,617 WARN o.s.b.t.j.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer [Test worker] 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/Users/artemaverkov/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-07-03 00:49:43,637 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 24975 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-07-03 00:49:43,638 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-07-03 00:49:43,638 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-07-03 00:49:43,651 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:43,651 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6426ad0b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:43,651 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:43,651 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-07-03 00:49:43,651 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-07-03 00:49:43,651 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@664217a8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-07-03 00:49:44,845 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Multiple Spring Data modules found, entering strict repository configuration mode
2023-07-03 00:49:44,852 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data Redis repositories in DEFAULT mode.
2023-07-03 00:49:44,875 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.CommentRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:44,875 INFO o.s.d.r.c.RepositoryConfigurationExtensionSupport [Test worker] Spring Data Redis - Could not safely identify store assignment for repository candidate interface ru.clevertec.NewsManager.repository.NewsRepository; If you want this repository to be a Redis repository, consider annotating your entities with one of these annotations: org.springframework.data.redis.core.RedisHash (preferred), or consider extending one of the following types with your repository: org.springframework.data.keyvalue.repository.KeyValueRepository
2023-07-03 00:49:44,876 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 22 ms. Found 0 Redis repository interfaces.
2023-07-03 00:49:45,124 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-07-03 00:49:45,171 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-07-03 00:49:45,781 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7cbcd27e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b870ed3, org.springframework.security.web.context.SecurityContextHolderFilter@1a6ab328, org.springframework.security.web.header.HeaderWriterFilter@3ea95f79, org.springframework.security.web.authentication.logout.LogoutFilter@62857555, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@67441705, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2ea2f965, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4271960c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@452d4bb2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2d7b117, org.springframework.security.web.session.ConcurrentSessionFilter@bce93d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e24db00, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a02172a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cd886b7, org.springframework.security.web.access.ExceptionTranslationFilter@6296c184, org.springframework.security.web.access.intercept.AuthorizationFilter@674b2703]
2023-07-03 00:49:45,808 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
2023-07-03 00:49:45,811 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-07-03 00:49:45,816 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

A component required a bean named 'redisTemplate' that could not be found.


Action:

Consider defining a bean named 'redisTemplate' in your configuration.

2023-07-03 00:49:45,826 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3fd93330]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@399a5a52 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@aa22f1c, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@6091f69f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@e9ffed45, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@726386ed, [ImportsContextCustomizer@1677f98b key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1fe8d51b, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@60d84f61, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@3e2e363b, org.springframework.boot.test.context.SpringBootTestAnnotation@a2de5828], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'redisReferenceResolver': Cannot resolve reference to bean 'redisTemplate' while setting constructor argument
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:377)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveValueIfNecessary(BeanDefinitionValueResolver.java:135)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveConstructorArguments(ConstructorResolver.java:693)
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:211)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'redisTemplate' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanDefinition(DefaultListableBeanFactory.java:893)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getMergedLocalBeanDefinition(AbstractBeanFactory.java:1318)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:300)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.BeanDefinitionValueResolver.resolveReference(BeanDefinitionValueResolver.java:365)
	... 115 common frames omitted
