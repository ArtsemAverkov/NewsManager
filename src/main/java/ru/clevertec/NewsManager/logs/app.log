2023-06-18 18:45:51,193 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 18:45:51,344 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 20744 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 18:45:51,347 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 18:45:51,354 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 18:45:51,836 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:45:51,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-06-18 18:45:51,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:45:51,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 18:45:51,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:45:51,837 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-06-18 18:45:57,829 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 18:45:59,032 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 18:46:01,695 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@19e5e110, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e295f7f, org.springframework.security.web.context.SecurityContextHolderFilter@5e3d84a, org.springframework.security.web.header.HeaderWriterFilter@289da1bc, org.springframework.security.web.authentication.logout.LogoutFilter@2c731a16, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5cb76070, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3346e906, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@443ac5b8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3c8dea0b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4b762988, org.springframework.security.web.session.ConcurrentSessionFilter@79349b61, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4fce3ed7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@131b58d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24f2608b, org.springframework.security.web.access.ExceptionTranslationFilter@780dbed7, org.springframework.security.web.access.intercept.AuthorizationFilter@285b491f]
2023-06-18 18:46:02,494 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 18:46:02,494 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 18:46:02,500 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 6 ms
2023-06-18 18:46:02,724 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 13.427 seconds (process running for 16.573)
2023-06-18 18:47:07,101 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 18:47:07,272 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 21151 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 18:47:07,274 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 18:47:07,276 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 18:47:08,032 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:47:08,033 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-06-18 18:47:08,033 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:47:08,033 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 18:47:08,033 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:47:08,033 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-06-18 18:47:13,514 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 18:47:13,996 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 18:47:16,785 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d964c9e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@42172065, org.springframework.security.web.context.SecurityContextHolderFilter@24e7087a, org.springframework.security.web.header.HeaderWriterFilter@23d12a3a, org.springframework.security.web.authentication.logout.LogoutFilter@1978b0d5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7e8783b0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@788d9139, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@53d2f0ec, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@65f470f8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5b6f3d0b, org.springframework.security.web.session.ConcurrentSessionFilter@69a3bf40, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@284f25e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20d3fff4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@8e77c5b, org.springframework.security.web.access.ExceptionTranslationFilter@2d9df336, org.springframework.security.web.access.intercept.AuthorizationFilter@443ac5b8]
2023-06-18 18:47:17,680 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 18:47:17,681 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 18:47:17,688 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 7 ms
2023-06-18 18:47:17,974 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 14.021 seconds (process running for 19.187)
2023-06-18 18:50:46,704 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 18:50:46,832 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 22298 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 18:50:46,832 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 18:50:46,833 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 18:50:47,257 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:47,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 18:50:47,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@44ed0a8f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 18:50:47,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:47,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 18:50:47,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6a6f6c7e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 18:50:47,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:47,258 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 18:50:47,258 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1dbd580 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 18:50:51,194 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 18:50:51,470 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 18:50:52,981 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 18:50:52,999 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 18:50:53,061 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 18:50:54,232 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 18:50:54,272 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@74844f8a{/__admin,null,AVAILABLE}
2023-06-18 18:50:54,296 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 18:50:54,296 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@526f8cb0{/,null,AVAILABLE}
2023-06-18 18:50:54,307 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@69c51fdb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 18:50:54,324 INFO o.e.j.s.Server [Test worker] Started Server@3a225534{STARTING}[11.0.15,sto=1000] @12218ms
2023-06-18 18:50:55,038 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 22298 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 18:50:55,039 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 18:50:55,039 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 18:50:55,046 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:55,046 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6ca97ddf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 18:50:55,047 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:55,047 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 18:50:55,047 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:55,047 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@522f74a1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 18:50:55,970 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 18:50:55,983 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 18:50:56,391 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 18:50:56,396 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 18:50:56,421 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 18:50:56,427 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@5b58f639]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@233ece92 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@64da2a7, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@862bfc29, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@d733fa0a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@7927bd9f, [ImportsContextCustomizer@4a14f7d7 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@5ca17ab0, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@35293c05, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@a620710b, org.springframework.boot.test.context.SpringBootTestAnnotation@bebdee47], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:810)
	... 114 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 130 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:332)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1174)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepositoryBean(OAuth2ClientConfigurerUtils.java:56)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepository(OAuth2ClientConfigurerUtils.java:48)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:301)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:139)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:338)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:300)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at ru.clevertec.NewsManager.security.SecurityConfig.securityFilterChain(SecurityConfig.java:60)
	at ru.clevertec.NewsManager.security.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$2(<generated>)
	at ru.clevertec.NewsManager.security.SecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at ru.clevertec.NewsManager.security.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 131 common frames omitted
2023-06-18 18:50:56,482 INFO o.e.j.s.Server [Test worker] Stopped Server@3a225534{STOPPING}[11.0.15,sto=1000]
2023-06-18 18:50:56,484 INFO o.e.j.s.Server [Test worker] Shutdown Server@3a225534{STOPPING}[11.0.15,sto=1000]
2023-06-18 18:50:56,490 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@69c51fdb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 18:50:56,493 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@526f8cb0{/,null,STOPPED}
2023-06-18 18:50:56,494 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@74844f8a{/__admin,null,STOPPED}
2023-06-18 18:50:56,868 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 22298 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 18:50:56,869 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 18:50:56,870 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 18:50:56,879 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:56,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 18:50:56,880 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@36bd07ec uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 18:50:56,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:56,880 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 18:50:56,880 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@75b6bd41 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 18:50:56,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 18:50:56,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 18:50:56,881 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e484bd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 18:50:57,959 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 18:50:57,989 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 18:50:58,414 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 18:50:58,420 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 18:50:58,441 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 19:03:27,251 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 19:03:27,466 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 26088 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 19:03:27,467 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 19:03:27,468 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 19:03:27,992 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:03:27,993 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-06-18 19:03:27,993 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:03:27,993 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 19:03:27,993 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:03:27,993 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[default], label=null, version=null, state=null
2023-06-18 19:03:32,068 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 19:03:32,368 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 19:03:33,894 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@560be8c0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14d36bb2, org.springframework.security.web.context.SecurityContextHolderFilter@a4dcede, org.springframework.security.web.header.HeaderWriterFilter@56a72887, org.springframework.security.web.authentication.logout.LogoutFilter@332fa1c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5dbc4598, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1002d1c8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@38a27ace, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@52325940, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@432448, org.springframework.security.web.session.ConcurrentSessionFilter@66a93b25, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a773f08, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@284f25e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4452e13c, org.springframework.security.web.access.ExceptionTranslationFilter@2728add3, org.springframework.security.web.access.intercept.AuthorizationFilter@77401977]
2023-06-18 19:03:34,610 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 19:03:34,610 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 19:03:34,618 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 7 ms
2023-06-18 19:03:34,884 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 9.895 seconds (process running for 13.082)
2023-06-18 19:03:35,966 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 19:03:35,985 INFO o.e.j.s.Server [Test worker] Stopped Server@39d37da8{STOPPING}[11.0.15,sto=1000]
2023-06-18 19:03:35,986 INFO o.e.j.s.Server [Test worker] Shutdown Server@39d37da8{STOPPING}[11.0.15,sto=1000]
2023-06-18 19:04:17,198 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 19:04:17,395 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 26331 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 19:04:17,397 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 19:04:17,400 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 19:04:18,332 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:04:18,334 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 19:04:18,334 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@44ed0a8f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 19:04:18,334 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:04:18,334 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 19:04:18,334 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6a6f6c7e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 19:04:18,334 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:04:18,334 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 19:04:18,334 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1dbd580 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 19:04:23,028 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 19:04:23,465 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 19:04:25,431 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 19:04:25,456 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 19:04:25,560 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 19:04:26,815 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 19:04:26,876 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@407d2a01{/__admin,null,AVAILABLE}
2023-06-18 19:04:26,917 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 19:04:26,918 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@10abd94f{/,null,AVAILABLE}
2023-06-18 19:04:26,936 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@69ae7632{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 19:04:26,955 INFO o.e.j.s.Server [Test worker] Started Server@21f0cc97{STARTING}[11.0.15,sto=1000] @16303ms
2023-06-18 19:04:27,958 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 26331 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 19:04:27,959 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 19:04:27,959 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 19:04:27,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:04:27,968 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@62878d7c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 19:04:27,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:04:27,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 19:04:27,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 19:04:27,968 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1443539 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 19:04:29,564 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 19:04:29,591 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 19:04:30,250 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8bd9d08, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@189f3ccd, org.springframework.security.web.context.SecurityContextHolderFilter@2662e3ff, org.springframework.security.web.header.HeaderWriterFilter@673fdc28, org.springframework.security.web.authentication.logout.LogoutFilter@19a4cdea, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1bcdd302, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@648f48d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@30ce78e3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67b2c8bb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2eb0932c, org.springframework.security.web.session.ConcurrentSessionFilter@49616310, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@682482ee, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@60e5db1d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@82382d1, org.springframework.security.web.access.ExceptionTranslationFilter@9fd5dd0, org.springframework.security.web.access.intercept.AuthorizationFilter@25b87e1b]
2023-06-18 19:04:31,136 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 19:04:31,139 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 19:04:31,146 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 6 ms
2023-06-18 19:04:31,328 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 4.285 seconds (process running for 20.679)
2023-06-18 19:04:31,355 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static com.github.tomakehurst.wiremock.WireMockServer ru.clevertec.NewsManager.common.controller.CommentControllerTest.wireMockServer
2023-06-18 19:04:31,935 INFO o.e.j.s.Server [Test worker] Stopped Server@21f0cc97{STOPPING}[11.0.15,sto=1000]
2023-06-18 19:04:31,937 INFO o.e.j.s.Server [Test worker] Shutdown Server@21f0cc97{STOPPING}[11.0.15,sto=1000]
2023-06-18 19:04:31,946 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@69ae7632{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 19:04:31,951 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@10abd94f{/,null,STOPPED}
2023-06-18 19:04:31,953 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@407d2a01{/__admin,null,STOPPED}
2023-06-18 23:15:36,264 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 23:15:36,361 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 29060 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:15:36,362 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:15:36,363 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:15:36,907 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:36,908 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:15:36,908 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@24f870ee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:15:36,908 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:36,908 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:15:36,908 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@187e5235 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:15:36,908 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:36,908 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:15:36,909 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5434e40c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:15:41,028 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:15:41,358 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:15:43,009 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 23:15:43,024 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:15:43,077 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 23:15:43,403 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 29060 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:15:43,404 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:15:43,404 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:15:43,411 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:43,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:15:43,412 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@438a2d3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:15:43,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:43,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:15:43,412 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5c34b0f2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:15:43,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:43,412 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:15:43,412 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@12eaa2cd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:15:44,381 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:15:44,400 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:15:44,753 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 23:15:44,758 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:15:44,772 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 23:15:44,778 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.controller.CommentControllerTest@3465edf9]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@3ec62141 testClass = ru.clevertec.NewsManager.common.controller.CommentControllerTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@50687efb, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@f63f89af, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@32fd704b, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@16fb356, [ImportsContextCustomizer@402c9a60 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.context.MessageSourceAutoConfiguration, org.springframework.boot.autoconfigure.data.web.SpringDataWebAutoConfiguration, org.springframework.boot.autoconfigure.freemarker.FreeMarkerAutoConfiguration, org.springframework.boot.autoconfigure.groovy.template.GroovyTemplateAutoConfiguration, org.springframework.boot.autoconfigure.gson.GsonAutoConfiguration, org.springframework.boot.autoconfigure.hateoas.HypermediaAutoConfiguration, org.springframework.boot.autoconfigure.http.HttpMessageConvertersAutoConfiguration, org.springframework.boot.autoconfigure.jackson.JacksonAutoConfiguration, org.springframework.boot.autoconfigure.jsonb.JsonbAutoConfiguration, org.springframework.boot.autoconfigure.mustache.MustacheAutoConfiguration, org.springframework.boot.autoconfigure.task.TaskExecutionAutoConfiguration, org.springframework.boot.autoconfigure.thymeleaf.ThymeleafAutoConfiguration, org.springframework.boot.autoconfigure.validation.ValidationAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.HttpEncodingAutoConfiguration, org.springframework.boot.autoconfigure.web.servlet.WebMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebClientAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcWebDriverAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.client.servlet.OAuth2ClientAutoConfiguration, org.springframework.boot.autoconfigure.security.oauth2.resource.servlet.OAuth2ResourceServerAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.SecurityFilterAutoConfiguration, org.springframework.boot.autoconfigure.security.servlet.UserDetailsServiceAutoConfiguration, org.springframework.boot.test.autoconfigure.web.servlet.MockMvcSecurityConfiguration, org.springframework.boot.test.autoconfigure.web.reactive.WebTestClientAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@585811a4, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@4c4d362a, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@7830999b, org.springframework.boot.test.context.SpringBootTestAnnotation@4523adeb], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.postProcessFields(MockitoTestExecutionListener.java:110)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.injectFields(MockitoTestExecutionListener.java:94)
	at org.springframework.boot.test.mock.mockito.MockitoTestExecutionListener.prepareTestInstance(MockitoTestExecutionListener.java:61)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:818)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.inject(AutowiredAnnotationBeanPostProcessor.java:770)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:133)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:482)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1416)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:597)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:941)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 89 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1633)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1597)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1488)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1375)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredMethodElement.resolveMethodArguments(AutowiredAnnotationBeanPostProcessor.java:810)
	... 114 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 130 common frames omitted
Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:341)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBean(DefaultListableBeanFactory.java:332)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1174)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepositoryBean(OAuth2ClientConfigurerUtils.java:56)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2ClientConfigurerUtils.getClientRegistrationRepository(OAuth2ClientConfigurerUtils.java:48)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:301)
	at org.springframework.security.config.annotation.web.configurers.oauth2.client.OAuth2LoginConfigurer.init(OAuth2LoginConfigurer.java:139)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.init(AbstractConfiguredSecurityBuilder.java:338)
	at org.springframework.security.config.annotation.AbstractConfiguredSecurityBuilder.doBuild(AbstractConfiguredSecurityBuilder.java:300)
	at org.springframework.security.config.annotation.AbstractSecurityBuilder.build(AbstractSecurityBuilder.java:38)
	at ru.clevertec.NewsManager.security.SecurityConfig.securityFilterChain(SecurityConfig.java:60)
	at ru.clevertec.NewsManager.security.SecurityConfig$$SpringCGLIB$$0.CGLIB$securityFilterChain$2(<generated>)
	at ru.clevertec.NewsManager.security.SecurityConfig$$SpringCGLIB$$2.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:258)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at ru.clevertec.NewsManager.security.SecurityConfig$$SpringCGLIB$$0.securityFilterChain(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 131 common frames omitted
2023-06-18 23:15:45,133 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 29060 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:15:45,134 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:15:45,134 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:15:45,147 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:45,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:15:45,150 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7c857e8f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:15:45,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:45,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:15:45,150 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@58647985 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:15:45,150 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:15:45,151 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:15:45,151 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@69e8b711 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:15:46,303 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:15:46,324 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:15:46,814 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 23:15:46,818 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:15:46,837 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 23:17:38,166 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 23:17:38,278 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 29646 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:17:38,279 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:17:38,280 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:17:38,731 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:17:38,733 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:17:38,733 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5c441290 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:17:38,734 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:17:38,734 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:17:38,734 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@d1d8e1a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:17:38,734 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:17:38,734 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:17:38,734 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b48e183 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:17:42,845 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:17:43,168 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:17:44,947 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 23:17:44,961 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:17:45,020 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 23:17:46,120 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:17:46,156 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1f86f7da{/__admin,null,AVAILABLE}
2023-06-18 23:17:46,178 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:17:46,178 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6b8f87dc{/,null,AVAILABLE}
2023-06-18 23:17:46,190 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@594f508f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:17:46,206 INFO o.e.j.s.Server [Test worker] Started Server@6802c10e{STARTING}[11.0.15,sto=1000] @13515ms
2023-06-18 23:17:46,900 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 29646 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:17:46,900 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:17:46,901 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:17:46,906 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:17:46,907 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@31921151 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:17:46,907 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:17:46,907 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:17:46,907 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:17:46,907 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3d0f4ac4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:17:48,171 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:17:48,203 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:17:48,812 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bf2e475, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e75bae7, org.springframework.security.web.context.SecurityContextHolderFilter@83bbab, org.springframework.security.web.header.HeaderWriterFilter@5ee76cf2, org.springframework.security.web.authentication.logout.LogoutFilter@623a891d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@82382d1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6c120b00, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@d8a2b1b, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5fb0a09e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3531509c, org.springframework.security.web.session.ConcurrentSessionFilter@261b27db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@32029cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26d02dc6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@23169374, org.springframework.security.web.access.ExceptionTranslationFilter@1c149539, org.springframework.security.web.access.intercept.AuthorizationFilter@1b84d03d]
2023-06-18 23:17:49,637 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:17:49,639 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:17:49,644 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 4 ms
2023-06-18 23:17:49,852 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 3.588 seconds (process running for 17.161)
2023-06-18 23:17:50,393 INFO o.e.j.s.Server [Test worker] Stopped Server@6802c10e{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:17:50,394 INFO o.e.j.s.Server [Test worker] Shutdown Server@6802c10e{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:17:50,401 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@594f508f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:17:50,407 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6b8f87dc{/,null,STOPPED}
2023-06-18 23:17:50,410 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1f86f7da{/__admin,null,STOPPED}
2023-06-18 23:18:35,422 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 23:18:35,641 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 29929 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:18:35,642 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:18:35,643 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:18:36,607 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:18:36,608 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:18:36,608 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@17dd671f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:18:36,609 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:18:36,609 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:18:36,609 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f1ef9d6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:18:36,609 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:18:36,609 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:18:36,609 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3fd9e827 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:18:41,698 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:18:42,035 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:18:43,745 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration': Unsatisfied dependency expressed through method 'setFilterChains' parameter 0: Error creating bean with name 'securityFilterChain' defined in class path resource [ru/clevertec/NewsManager/security/SecurityConfig.class]: Failed to instantiate [org.springframework.security.web.SecurityFilterChain]: Factory method 'securityFilterChain' threw exception with message: No qualifying bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' available
2023-06-18 23:18:43,758 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:18:43,815 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of method setFilterChains in org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration required a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' that could not be found.


Action:

Consider defining a bean of type 'org.springframework.security.oauth2.client.registration.ClientRegistrationRepository' in your configuration.

2023-06-18 23:18:44,766 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:18:44,801 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@8f8717b{/__admin,null,AVAILABLE}
2023-06-18 23:18:44,904 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:18:44,904 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f5f79d8{/,null,AVAILABLE}
2023-06-18 23:18:44,915 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@394950ad{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:18:44,936 INFO o.e.j.s.Server [Test worker] Started Server@64f2b1b4{STARTING}[11.0.15,sto=1000] @16052ms
2023-06-18 23:18:45,610 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 29929 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:18:45,610 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:18:45,610 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:18:45,616 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:18:45,616 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@47d4468a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:18:45,616 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:18:45,616 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:18:45,616 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:18:45,616 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5a464be7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:18:46,677 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:18:46,693 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:18:47,240 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c7787a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ca464bb, org.springframework.security.web.context.SecurityContextHolderFilter@45e68fac, org.springframework.security.web.header.HeaderWriterFilter@175745fc, org.springframework.security.web.authentication.logout.LogoutFilter@41d8ac75, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@23169374, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4f2b1a2f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6c2a33af, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@722d3ddb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4767be27, org.springframework.security.web.session.ConcurrentSessionFilter@48f95f96, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@732bb49d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6debf1b8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@46f041cb, org.springframework.security.web.access.ExceptionTranslationFilter@487ee2a, org.springframework.security.web.access.intercept.AuthorizationFilter@76efa2b7]
2023-06-18 23:18:48,070 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:18:48,073 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:18:48,079 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 5 ms
2023-06-18 23:18:48,337 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 3.323 seconds (process running for 19.453)
2023-06-18 23:18:48,931 INFO o.e.j.s.Server [Test worker] Stopped Server@64f2b1b4{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:18:48,932 INFO o.e.j.s.Server [Test worker] Shutdown Server@64f2b1b4{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:18:48,939 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@394950ad{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:18:48,942 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f5f79d8{/,null,STOPPED}
2023-06-18 23:18:48,943 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@8f8717b{/__admin,null,STOPPED}
2023-06-18 23:32:55,307 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:32:55,352 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4a8e6e89{/__admin,null,AVAILABLE}
2023-06-18 23:32:55,372 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:32:55,372 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6f798482{/,null,AVAILABLE}
2023-06-18 23:32:55,383 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7158daf2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:32:55,401 INFO o.e.j.s.Server [Test worker] Started Server@1cdc1bbc{STARTING}[11.0.15,sto=1000] @4555ms
2023-06-18 23:32:57,336 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 23:32:57,473 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 34177 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:32:57,474 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:32:57,474 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:32:57,964 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:32:57,964 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6d0e45a5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:32:57,964 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:32:57,964 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:32:57,964 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:32:57,964 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@14f060b8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:33:02,408 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:33:02,707 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:33:04,681 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8eeb4c5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2dc77962, org.springframework.security.web.context.SecurityContextHolderFilter@7e5e7753, org.springframework.security.web.header.HeaderWriterFilter@66acaa54, org.springframework.security.web.authentication.logout.LogoutFilter@5b160208, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@63b2418e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@70d16858, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@789f5552, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2fca9fae, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@32bae609, org.springframework.security.web.session.ConcurrentSessionFilter@293ba26c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@395115ac, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@278cbf5a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@106b476a, org.springframework.security.web.access.ExceptionTranslationFilter@7d0312a, org.springframework.security.web.access.intercept.AuthorizationFilter@544733a4]
2023-06-18 23:33:05,694 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:33:05,698 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:33:05,706 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 8 ms
2023-06-18 23:33:05,961 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 10.413 seconds (process running for 15.116)
2023-06-18 23:33:06,774 INFO o.e.j.s.Server [Test worker] Stopped Server@1cdc1bbc{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:33:06,785 INFO o.e.j.s.Server [Test worker] Shutdown Server@1cdc1bbc{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:33:06,800 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7158daf2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:33:06,810 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6f798482{/,null,STOPPED}
2023-06-18 23:33:06,811 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4a8e6e89{/__admin,null,STOPPED}
2023-06-18 23:52:24,751 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-18 23:52:25,040 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-18 23:52:27,939 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 23:52:28,071 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:52:28,072 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:52:28,074 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:52:28,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:28,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:52:28,967 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@11c3ff67 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:52:28,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:28,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:52:28,968 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43a09ce2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:52:28,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:28,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:52:28,968 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7b66322e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:52:31,748 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:52:32,308 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 515 ms. Found 2 JPA repository interfaces.
2023-06-18 23:52:33,389 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=f07537ec-b284-37de-97b9-5fcc2c9f7989
2023-06-18 23:52:33,784 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:52:34,828 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
2023-06-18 23:52:34,858 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:52:34,951 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active).

2023-06-18 23:52:34,975 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.NewsManagerApplicationTests@61d42275]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@670c171c testClass = ru.clevertec.NewsManager.NewsManagerApplicationTests, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72c927f1, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3aa3193a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16fb356, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@4d63b624, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@2e185cd7, org.springframework.boot.test.context.SpringBootTestAnnotation@2af3cbcd], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 114 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 115 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 133 common frames omitted
Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class
	at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:186)
	at org.springframework.boot.autoconfigure.jdbc.PropertiesJdbcConnectionDetails.getDriverClassName(PropertiesJdbcConnectionDetails.java:49)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:55)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 134 common frames omitted
2023-06-18 23:52:37,394 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:52:37,442 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@d99df7a{/__admin,null,AVAILABLE}
2023-06-18 23:52:37,489 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:52:37,490 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@495f3965{/,null,AVAILABLE}
2023-06-18 23:52:37,510 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3a7dcfb7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:52:37,548 INFO o.e.j.s.Server [Test worker] Started Server@b04a6a4{STARTING}[11.0.15,sto=1000] @18725ms
2023-06-18 23:52:38,899 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:52:38,903 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:52:38,904 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:52:38,921 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:38,927 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@52849956 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:52:38,927 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:38,927 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:52:38,927 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:38,927 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@346e5cc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:52:44,963 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:52:45,286 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:52:49,740 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b26d289, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f680a9a, org.springframework.security.web.context.SecurityContextHolderFilter@4a4979bf, org.springframework.security.web.header.HeaderWriterFilter@106e6dfe, org.springframework.security.web.authentication.logout.LogoutFilter@4d2bcca8, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2f726cf4, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@514eefc4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4700db93, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3b09582d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3a33d655, org.springframework.security.web.session.ConcurrentSessionFilter@59fa5a39, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6a2d0a19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c10f9f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@526a1b51, org.springframework.security.web.access.ExceptionTranslationFilter@87cb1d8, org.springframework.security.web.access.intercept.AuthorizationFilter@6f45a2fd]
2023-06-18 23:52:50,630 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:52:50,633 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:52:50,644 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 8 ms
2023-06-18 23:52:51,022 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 13.334 seconds (process running for 32.2)
2023-06-18 23:52:52,607 INFO o.e.j.s.Server [Test worker] Stopped Server@b04a6a4{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:52:52,609 INFO o.e.j.s.Server [Test worker] Shutdown Server@b04a6a4{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:52:52,622 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3a7dcfb7{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:52:52,630 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@495f3965{/,null,STOPPED}
2023-06-18 23:52:52,634 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@d99df7a{/__admin,null,STOPPED}
2023-06-18 23:52:52,803 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:52:52,826 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3652ce04{/__admin,null,AVAILABLE}
2023-06-18 23:52:52,834 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:52:52,834 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40d1e561{/,null,AVAILABLE}
2023-06-18 23:52:52,839 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2ca9e25a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:52:52,841 INFO o.e.j.s.Server [Test worker] Started Server@2ee91bdf{STARTING}[11.0.15,sto=1000] @34019ms
2023-06-18 23:52:53,694 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:52:53,695 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:52:53,695 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:52:53,707 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:53,710 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3110bb19 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:52:53,712 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:53,712 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:52:53,712 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:52:53,712 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48ebcce5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:52:56,338 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:52:56,433 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:52:57,602 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4390b78f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@230ea983, org.springframework.security.web.context.SecurityContextHolderFilter@5d52a17b, org.springframework.security.web.header.HeaderWriterFilter@4cbf1c30, org.springframework.security.web.authentication.logout.LogoutFilter@57f8a3cf, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@16bed816, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4cae7d5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4c821dc7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7d6e2366, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@70290678, org.springframework.security.web.session.ConcurrentSessionFilter@3c5095df, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71c264e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4528a871, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c99419f, org.springframework.security.web.access.ExceptionTranslationFilter@7eaa52d6, org.springframework.security.web.access.intercept.AuthorizationFilter@5b6a9ef6]
2023-06-18 23:52:57,820 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:52:57,820 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:52:57,823 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 3 ms
2023-06-18 23:52:57,898 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 5.031 seconds (process running for 39.076)
2023-06-18 23:52:58,314 INFO o.e.j.s.Server [Test worker] Stopped Server@2ee91bdf{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:52:58,314 INFO o.e.j.s.Server [Test worker] Shutdown Server@2ee91bdf{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:52:58,321 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2ca9e25a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:52:58,323 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40d1e561{/,null,STOPPED}
2023-06-18 23:52:58,324 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3652ce04{/__admin,null,STOPPED}
2023-06-18 23:52:58,445 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-18 23:52:58,555 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-18 23:52:58,654 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-18 23:52:58,941 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-18 23:53:00,115 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-18 23:53:00,130 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-18 23:53:00,393 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-18 23:53:00,641 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-18 23:53:02,331 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-18 23:53:03,380 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 1fc4086bbde8929e43bd2dc87ace2256d062b1a64c7288d61b9d73b8618757dd
2023-06-18 23:53:05,722 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT5.279321S
2023-06-18 23:53:05,788 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-18 23:53:05,788 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-18 23:53:05,789 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-06-18 23:53:05,792 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-18 23:53:05,863 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: b9458cbba8cac5575a8e707d8cd516290050e935620dd48b2351a2d307f9fc14
2023-06-18 23:53:07,949 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.158249S
2023-06-18 23:53:07,955 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54473/test?loggerLevel=OFF)
2023-06-18 23:53:08,261 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:53:08,262 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:53:08,262 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:53:08,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:08,270 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:08,271 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@57fd93f9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:08,271 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:08,271 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:53:08,272 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9e2946 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:53:08,272 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:08,272 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:08,272 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4913465d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:08,642 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:53:08,679 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 35 ms. Found 2 JPA repository interfaces.
2023-06-18 23:53:08,929 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-18 23:53:09,176 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@61c0a61
2023-06-18 23:53:09,180 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-18 23:53:09,410 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:53:09,864 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:53:09,958 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:53:09,959 INFO l.command [Test worker] Command execution complete
2023-06-18 23:53:09,966 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:53:09,966 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown initiated...
2023-06-18 23:53:09,983 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown completed.
2023-06-18 23:53:09,989 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:53:09,997 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:53:10,003 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@2674c88f]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@414749f8 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6585df70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cbf36618, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72c927f1, [ImportsContextCustomizer@40d22a60 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3aa3193a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16fb356, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@21bcf575], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:53:10,251 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:53:10,252 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:53:10,252 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:53:10,256 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:10,256 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:10,256 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b977a31 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:10,256 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:10,256 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:53:10,256 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@35e04107 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:53:10,256 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:10,256 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:10,256 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@465652a2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:10,531 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:53:10,554 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 23 ms. Found 2 JPA repository interfaces.
2023-06-18 23:53:10,650 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-18 23:53:10,706 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@791d785c
2023-06-18 23:53:10,707 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-18 23:53:10,735 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:53:10,779 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:53:10,789 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:53:10,791 INFO l.command [Test worker] Command execution complete
2023-06-18 23:53:10,792 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:53:10,793 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-06-18 23:53:10,794 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-06-18 23:53:10,795 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:53:10,798 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:53:10,799 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@345236c6]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@414749f8 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6585df70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cbf36618, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72c927f1, [ImportsContextCustomizer@40d22a60 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3aa3193a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16fb356, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@21bcf575], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:53:10,843 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-18 23:53:10,855 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-18 23:53:10,859 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-18 23:53:10,980 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 141810e99114d397cc9917bff355e5679ef89795762e5fe7e6a3f313f9dfaf39
2023-06-18 23:53:12,768 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.909189S
2023-06-18 23:53:12,770 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54492/test?loggerLevel=OFF)
2023-06-18 23:53:12,963 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:53:12,964 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:53:12,964 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:53:12,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:12,969 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:12,969 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@53ef0db3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:12,969 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:12,969 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:53:12,969 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@76312df9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:53:12,969 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:12,969 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:12,969 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1b256636 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:13,167 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:53:13,188 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 20 ms. Found 2 JPA repository interfaces.
2023-06-18 23:53:13,435 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-06-18 23:53:13,512 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@3cac962e
2023-06-18 23:53:13,513 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-06-18 23:53:13,534 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:53:13,615 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:53:13,629 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:53:13,630 INFO l.command [Test worker] Command execution complete
2023-06-18 23:53:13,632 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:53:13,633 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-06-18 23:53:13,657 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-06-18 23:53:13,660 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:53:13,665 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:53:13,669 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@14221dc6]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@7d6e3e42 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6585df70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cbf36618, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72c927f1, [ImportsContextCustomizer@103388c6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3aa3193a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16fb356, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@21bcf575], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:53:13,885 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:53:13,885 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:53:13,885 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:53:13,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:13,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:13,890 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3546439b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:13,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:13,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:53:13,890 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@29ac632a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:53:13,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:13,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:13,890 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3cc9957d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:14,113 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:53:14,137 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 22 ms. Found 2 JPA repository interfaces.
2023-06-18 23:53:14,208 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Starting...
2023-06-18 23:53:14,253 INFO c.z.h.p.HikariPool [Test worker] HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@5a1b205
2023-06-18 23:53:14,253 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Start completed.
2023-06-18 23:53:14,272 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:53:14,321 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:53:14,331 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:53:14,332 INFO l.command [Test worker] Command execution complete
2023-06-18 23:53:14,334 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:53:14,335 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown initiated...
2023-06-18 23:53:14,335 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown completed.
2023-06-18 23:53:14,337 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:53:14,339 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:53:14,342 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@60296d11]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@7d6e3e42 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6585df70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cbf36618, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72c927f1, [ImportsContextCustomizer@103388c6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3aa3193a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16fb356, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@21bcf575], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:53:14,552 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 40486 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:53:14,553 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:53:14,554 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:53:14,563 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:14,563 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:14,563 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@47b8f783 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:14,563 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:14,563 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:53:14,563 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@595f803 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:53:14,563 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:53:14,563 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:53:14,563 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@46ddf016 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:53:14,771 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:53:14,810 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 38 ms. Found 2 JPA repository interfaces.
2023-06-18 23:53:14,866 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Starting...
2023-06-18 23:53:14,907 INFO c.z.h.p.HikariPool [Test worker] HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@4ba64e36
2023-06-18 23:53:14,907 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Start completed.
2023-06-18 23:53:14,925 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:53:14,970 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:53:14,979 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:53:14,980 INFO l.command [Test worker] Command execution complete
2023-06-18 23:53:14,981 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:53:14,982 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown initiated...
2023-06-18 23:53:14,983 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown completed.
2023-06-18 23:53:14,984 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:53:14,986 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:53:14,988 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@27b8daa1]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@7d6e3e42 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@6585df70, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cbf36618, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@72c927f1, [ImportsContextCustomizer@103388c6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@3aa3193a, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@16fb356, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@21bcf575], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:55:56,746 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-18 23:55:57,170 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-18 23:56:01,567 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 23:56:01,795 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:01,796 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:01,797 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:03,422 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:03,435 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:03,436 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4397a639 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:03,437 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:03,441 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:56:03,441 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f183caa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:56:03,441 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:03,441 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:03,442 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@63538bb4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:07,730 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:56:08,640 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 725 ms. Found 2 JPA repository interfaces.
2023-06-18 23:56:10,248 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=f07537ec-b284-37de-97b9-5fcc2c9f7989
2023-06-18 23:56:10,859 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:56:12,341 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
2023-06-18 23:56:12,393 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:56:12,468 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active).

2023-06-18 23:56:12,488 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.NewsManagerApplicationTests@61d42275]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@670c171c testClass = ru.clevertec.NewsManager.NewsManagerApplicationTests, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1ac85b0c, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1ee4730, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6bc248ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@466cf502, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@7e1a1da6, org.springframework.boot.test.context.SpringBootTestAnnotation@2af3cbcd], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 114 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 115 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 133 common frames omitted
Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class
	at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:186)
	at org.springframework.boot.autoconfigure.jdbc.PropertiesJdbcConnectionDetails.getDriverClassName(PropertiesJdbcConnectionDetails.java:49)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:55)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 134 common frames omitted
2023-06-18 23:56:12,847 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-18 23:56:13,139 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-18 23:56:13,325 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-18 23:56:13,855 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-18 23:56:15,275 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-18 23:56:15,301 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-18 23:56:15,464 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-18 23:56:15,760 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-18 23:56:17,259 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-18 23:56:18,553 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: a5321e111b332fb2faad90709c1238b3c883ee030d53496bfa3657345ee773d3
2023-06-18 23:56:21,195 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT5.700845S
2023-06-18 23:56:21,215 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-18 23:56:21,217 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-18 23:56:21,218 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-06-18 23:56:21,222 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-18 23:56:21,270 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 669559e0b1e7f341b8918d44c8931cebada20ae4c9bc8290e7d0fbe10b77f2a2
2023-06-18 23:56:23,266 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.044843S
2023-06-18 23:56:23,272 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:55259/test?loggerLevel=OFF)
2023-06-18 23:56:23,639 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:23,639 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:23,640 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:23,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:23,650 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:23,650 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5cc152f9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:23,650 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:23,650 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:56:23,650 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4797023d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:56:23,650 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:23,650 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:23,650 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2b06f498 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:24,366 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:56:24,419 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2023-06-18 23:56:24,710 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-18 23:56:25,064 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6a24c41d
2023-06-18 23:56:25,067 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-18 23:56:25,357 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:56:26,038 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:56:26,251 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:56:26,252 INFO l.command [Test worker] Command execution complete
2023-06-18 23:56:26,257 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:56:26,258 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown initiated...
2023-06-18 23:56:26,276 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown completed.
2023-06-18 23:56:26,290 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:56:26,316 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:56:26,334 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@3ef4a8fb]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@341141ab testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@66abb2fa, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cab274ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1ac85b0c, [ImportsContextCustomizer@1773faf8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1ee4730, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6bc248ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@659ae868], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:56:26,861 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:26,862 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:26,862 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:26,874 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:26,876 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:26,876 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4b9dd787 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:26,876 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:26,876 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:56:26,877 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@195888a6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:56:26,877 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:26,877 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:26,877 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@580c4c0b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:27,368 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:56:27,413 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-06-18 23:56:27,640 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-18 23:56:27,717 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@47a90d2a
2023-06-18 23:56:27,718 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-18 23:56:27,751 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:56:27,805 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:56:27,821 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:56:27,824 INFO l.command [Test worker] Command execution complete
2023-06-18 23:56:27,826 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:56:27,826 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-06-18 23:56:27,870 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-06-18 23:56:27,875 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:56:27,880 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:56:27,885 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@3c1ef806]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@341141ab testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@66abb2fa, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cab274ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1ac85b0c, [ImportsContextCustomizer@1773faf8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1ee4730, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6bc248ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@659ae868], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:56:27,965 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-18 23:56:28,022 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-18 23:56:28,030 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-18 23:56:28,244 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 0680ad7f41cafd33bedbee3827b66c93a9754d8baafb6f6a6e3f5aeee35c1d1e
2023-06-18 23:56:30,388 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.358482S
2023-06-18 23:56:30,390 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:55280/test?loggerLevel=OFF)
2023-06-18 23:56:30,597 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:30,598 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:30,598 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:30,603 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:30,604 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:30,605 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@94b5fe3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:30,606 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:30,608 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:56:30,608 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@c6db00d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:56:30,608 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:30,608 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:30,608 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@413e8246 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:30,948 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:56:31,158 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 206 ms. Found 2 JPA repository interfaces.
2023-06-18 23:56:31,511 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-06-18 23:56:31,617 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@5d3f583d
2023-06-18 23:56:31,618 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-06-18 23:56:31,646 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:56:31,810 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:56:31,849 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:56:31,852 INFO l.command [Test worker] Command execution complete
2023-06-18 23:56:31,858 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:56:31,859 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-06-18 23:56:31,895 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-06-18 23:56:31,911 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:56:31,916 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:56:31,931 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@712dd0b0]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@2c3f81ef testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@66abb2fa, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cab274ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1ac85b0c, [ImportsContextCustomizer@374013e8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1ee4730, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6bc248ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@659ae868], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:56:32,381 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:32,382 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:32,382 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:32,390 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:32,390 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:32,390 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@60660d21 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:32,390 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:32,390 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:56:32,390 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@347f0950 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:56:32,390 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:32,390 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:32,390 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@671561b9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:32,866 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:56:32,910 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2023-06-18 23:56:33,155 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Starting...
2023-06-18 23:56:33,232 INFO c.z.h.p.HikariPool [Test worker] HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@62109320
2023-06-18 23:56:33,233 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Start completed.
2023-06-18 23:56:33,265 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:56:33,342 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:56:33,364 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:56:33,367 INFO l.command [Test worker] Command execution complete
2023-06-18 23:56:33,370 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:56:33,370 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown initiated...
2023-06-18 23:56:33,406 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown completed.
2023-06-18 23:56:33,408 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:56:33,412 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:56:33,417 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@3d72abea]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@2c3f81ef testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@66abb2fa, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cab274ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1ac85b0c, [ImportsContextCustomizer@374013e8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1ee4730, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6bc248ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@659ae868], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:56:33,658 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:33,659 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:33,660 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:33,669 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:33,671 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:33,671 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6db84cae uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:33,671 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:33,671 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:56:33,671 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@738ed8d3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:56:33,671 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:33,671 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:56:33,671 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@517fb2c3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:56:34,515 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:56:34,591 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 67 ms. Found 2 JPA repository interfaces.
2023-06-18 23:56:34,830 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Starting...
2023-06-18 23:56:34,924 INFO c.z.h.p.HikariPool [Test worker] HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@70799ca7
2023-06-18 23:56:34,926 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Start completed.
2023-06-18 23:56:34,960 INFO l.database [Test worker] Set default schema name to public
2023-06-18 23:56:35,028 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-18 23:56:35,042 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-18 23:56:35,044 INFO l.command [Test worker] Command execution complete
2023-06-18 23:56:35,046 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-18 23:56:35,047 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown initiated...
2023-06-18 23:56:35,088 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown completed.
2023-06-18 23:56:35,101 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:56:35,109 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-18 23:56:35,119 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@157ff8f8]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@2c3f81ef testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@66abb2fa, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@cab274ea, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@1ac85b0c, [ImportsContextCustomizer@374013e8 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1ee4730, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@6bc248ed, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@659ae868], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-18 23:56:36,448 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:56:36,543 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@69e3e1d9{/__admin,null,AVAILABLE}
2023-06-18 23:56:36,579 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:56:36,579 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15c042fc{/,null,AVAILABLE}
2023-06-18 23:56:36,589 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1368e451{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:56:36,601 INFO o.e.j.s.Server [Test worker] Started Server@2a6dfbb2{STARTING}[11.0.15,sto=1000] @44506ms
2023-06-18 23:56:37,269 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:37,271 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:37,272 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:37,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:37,282 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7dd3f20e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:56:37,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:37,282 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:56:37,283 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:37,283 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27d9a016 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:56:40,118 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:56:40,304 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:56:42,928 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@200eaca, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@29f68e88, org.springframework.security.web.context.SecurityContextHolderFilter@1e019687, org.springframework.security.web.header.HeaderWriterFilter@68ae86a2, org.springframework.security.web.authentication.logout.LogoutFilter@12cb9eda, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@497c267a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@38f553d0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@507a53b6, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1bf2cf15, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5dca9fd8, org.springframework.security.web.session.ConcurrentSessionFilter@5b5b9038, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@250e9655, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e74914d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@325fa8c, org.springframework.security.web.access.ExceptionTranslationFilter@30cf61ca, org.springframework.security.web.access.intercept.AuthorizationFilter@1bbf750]
2023-06-18 23:56:43,395 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:56:43,399 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:56:43,411 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 10 ms
2023-06-18 23:56:43,709 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 7.057 seconds (process running for 51.614)
2023-06-18 23:56:44,395 INFO o.e.j.s.Server [Test worker] Stopped Server@2a6dfbb2{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:56:44,397 INFO o.e.j.s.Server [Test worker] Shutdown Server@2a6dfbb2{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:56:44,406 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1368e451{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:56:44,411 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15c042fc{/,null,STOPPED}
2023-06-18 23:56:44,413 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@69e3e1d9{/__admin,null,STOPPED}
2023-06-18 23:56:44,494 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:56:44,512 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@157affc1{/__admin,null,AVAILABLE}
2023-06-18 23:56:44,520 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:56:44,522 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@11306ed7{/,null,AVAILABLE}
2023-06-18 23:56:44,525 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5ca01e01{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:56:44,531 INFO o.e.j.s.Server [Test worker] Started Server@12278d1c{STARTING}[11.0.15,sto=1000] @52432ms
2023-06-18 23:56:44,960 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 41617 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:56:44,961 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:56:44,961 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:56:44,966 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:44,967 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@400bf062 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:56:44,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:44,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:56:44,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:56:44,967 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@60fc87e8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:56:45,958 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:56:45,973 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:56:46,387 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7b6419dd, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7acc95a2, org.springframework.security.web.context.SecurityContextHolderFilter@5073b0b8, org.springframework.security.web.header.HeaderWriterFilter@463e413b, org.springframework.security.web.authentication.logout.LogoutFilter@5be86750, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@623c62b9, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7af65b49, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@32e14e55, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@17c373d3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3228b5a1, org.springframework.security.web.session.ConcurrentSessionFilter@28736857, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@10c23a76, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@24c186cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a83c657, org.springframework.security.web.access.ExceptionTranslationFilter@23bc69a1, org.springframework.security.web.access.intercept.AuthorizationFilter@7f66d549]
2023-06-18 23:56:46,475 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:56:46,475 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:56:46,476 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-18 23:56:46,499 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.946 seconds (process running for 54.405)
2023-06-18 23:56:46,673 INFO o.e.j.s.Server [Test worker] Stopped Server@12278d1c{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:56:46,674 INFO o.e.j.s.Server [Test worker] Shutdown Server@12278d1c{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:56:46,678 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5ca01e01{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:56:46,679 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@11306ed7{/,null,STOPPED}
2023-06-18 23:56:46,679 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@157affc1{/__admin,null,STOPPED}
2023-06-18 23:59:25,851 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-18 23:59:26,084 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-18 23:59:27,837 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-18 23:59:27,918 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 42706 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:59:27,919 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:59:27,920 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:59:28,465 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:28,466 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:59:28,466 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@21ba2445 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:59:28,467 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:28,467 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-18 23:59:28,467 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7ab4ae59 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-18 23:59:28,467 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:28,467 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-18 23:59:28,467 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d96bdf8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-18 23:59:30,391 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-18 23:59:30,755 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 338 ms. Found 2 JPA repository interfaces.
2023-06-18 23:59:31,349 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=f07537ec-b284-37de-97b9-5fcc2c9f7989
2023-06-18 23:59:31,591 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:59:32,142 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
2023-06-18 23:59:32,166 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-18 23:59:32,198 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (the profiles prod are currently active).

2023-06-18 23:59:32,207 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.NewsManagerApplicationTests@7109b603]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@2cd5b19c testClass = ru.clevertec.NewsManager.NewsManagerApplicationTests, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@60cf80e7, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@48c40605, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@3bd7f8dc, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@44a2b17b, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@7eb01b12, org.springframework.boot.test.context.SpringBootTestAnnotation@2af3cbcd], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [liquibase.integration.spring.SpringLiquibase]: Factory method 'liquibase' threw exception with message: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 114 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [org/springframework/boot/autoconfigure/jdbc/DataSourceConfiguration$Hikari.class]: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:659)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:647)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1332)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1162)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.getIfUnique(DefaultListableBeanFactory.java:2098)
	at org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration$LiquibaseConfiguration.liquibase(LiquibaseAutoConfiguration.java:100)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 115 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.zaxxer.hikari.HikariDataSource]: Factory method 'dataSource' threw exception with message: Failed to determine a suitable driver class
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:171)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:655)
	... 133 common frames omitted
Caused by: org.springframework.boot.autoconfigure.jdbc.DataSourceProperties$DataSourceBeanCreationException: Failed to determine a suitable driver class
	at org.springframework.boot.autoconfigure.jdbc.DataSourceProperties.determineDriverClassName(DataSourceProperties.java:186)
	at org.springframework.boot.autoconfigure.jdbc.PropertiesJdbcConnectionDetails.getDriverClassName(PropertiesJdbcConnectionDetails.java:49)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration.createDataSource(DataSourceConfiguration.java:55)
	at org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Hikari.dataSource(DataSourceConfiguration.java:117)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:139)
	... 134 common frames omitted
2023-06-18 23:59:33,537 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:59:33,572 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ca0a21f{/__admin,null,AVAILABLE}
2023-06-18 23:59:33,606 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:59:33,606 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@548f4f60{/,null,AVAILABLE}
2023-06-18 23:59:33,707 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@182dcd2b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:59:33,819 INFO o.e.j.s.Server [Test worker] Started Server@354e2bff{STARTING}[11.0.15,sto=1000] @10505ms
2023-06-18 23:59:35,374 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 42706 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:59:35,375 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:59:35,376 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:59:35,392 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:35,395 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3c108c05 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:59:35,395 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:35,396 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:59:35,396 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:35,396 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2696b687 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:59:38,329 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:59:38,482 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:59:40,314 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ab1693b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35e0d91e, org.springframework.security.web.context.SecurityContextHolderFilter@c11ec9b, org.springframework.security.web.header.HeaderWriterFilter@7594d189, org.springframework.security.web.authentication.logout.LogoutFilter@149162a4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@718b9d56, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@36a59d8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@51751265, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7b1a9ab3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3204146d, org.springframework.security.web.session.ConcurrentSessionFilter@45594dfe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18372705, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ecb87b2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3299e315, org.springframework.security.web.access.ExceptionTranslationFilter@68312b85, org.springframework.security.web.access.intercept.AuthorizationFilter@208ce928]
2023-06-18 23:59:40,792 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:59:40,794 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:59:40,800 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 5 ms
2023-06-18 23:59:41,105 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 7.074 seconds (process running for 17.792)
2023-06-18 23:59:41,825 INFO o.e.j.s.Server [Test worker] Stopped Server@354e2bff{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:59:41,826 INFO o.e.j.s.Server [Test worker] Shutdown Server@354e2bff{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:59:41,835 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@182dcd2b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:59:41,843 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@548f4f60{/,null,STOPPED}
2023-06-18 23:59:41,846 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ca0a21f{/__admin,null,STOPPED}
2023-06-18 23:59:41,943 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-18 23:59:41,949 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@776eb512{/__admin,null,AVAILABLE}
2023-06-18 23:59:41,951 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-18 23:59:41,951 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4ba29b51{/,null,AVAILABLE}
2023-06-18 23:59:41,953 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@16ef07fa{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:59:41,954 INFO o.e.j.s.Server [Test worker] Started Server@1ac8f29c{STARTING}[11.0.15,sto=1000] @18641ms
2023-06-18 23:59:42,280 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 42706 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-18 23:59:42,281 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-18 23:59:42,281 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-18 23:59:42,285 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:42,286 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@79224636 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:59:42,287 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:42,287 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-18 23:59:42,287 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-18 23:59:42,288 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@63a833c5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-18 23:59:43,200 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-18 23:59:43,215 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-18 23:59:43,501 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6655b4e6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@33c6c4f, org.springframework.security.web.context.SecurityContextHolderFilter@32107bba, org.springframework.security.web.header.HeaderWriterFilter@63088bbd, org.springframework.security.web.authentication.logout.LogoutFilter@398a27e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@298990ab, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6fc44cb6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4d53dfb7, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7c75f3a8, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4e502162, org.springframework.security.web.session.ConcurrentSessionFilter@4d20d8e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@102bce96, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3759ea4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1dade178, org.springframework.security.web.access.ExceptionTranslationFilter@7acb0a44, org.springframework.security.web.access.intercept.AuthorizationFilter@28d07fa4]
2023-06-18 23:59:43,574 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-18 23:59:43,575 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-18 23:59:43,576 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-18 23:59:43,609 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.647 seconds (process running for 20.297)
2023-06-18 23:59:43,764 INFO o.e.j.s.Server [Test worker] Stopped Server@1ac8f29c{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:59:43,764 INFO o.e.j.s.Server [Test worker] Shutdown Server@1ac8f29c{STOPPING}[11.0.15,sto=1000]
2023-06-18 23:59:43,768 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@16ef07fa{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-18 23:59:43,768 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4ba29b51{/,null,STOPPED}
2023-06-18 23:59:43,769 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@776eb512{/__admin,null,STOPPED}
2023-06-19 00:01:08,555 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 00:01:08,835 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 00:01:10,505 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 00:01:10,550 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3b95a6db{/__admin,null,AVAILABLE}
2023-06-19 00:01:10,572 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:01:10,573 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@53b1a3f8{/,null,AVAILABLE}
2023-06-19 00:01:10,584 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@40e37b06{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:01:10,610 INFO o.e.j.s.Server [Test worker] Started Server@9e54c59{STARTING}[11.0.15,sto=1000] @4606ms
2023-06-19 00:01:12,326 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 00:01:12,416 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 43251 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:01:12,417 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:01:12,418 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:01:12,886 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:12,886 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16cb9989 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:01:12,886 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:12,886 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:01:12,886 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:12,886 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@353c6da1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:01:15,013 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 00:01:15,260 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 237 ms. Found 2 JPA repository interfaces.
2023-06-19 00:01:15,930 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 00:01:16,140 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:01:16,919 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 00:01:17,126 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@62871522
2023-06-19 00:01:17,134 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 00:01:17,426 INFO l.database [Test worker] Set default schema name to public
2023-06-19 00:01:17,819 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 00:01:18,810 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:01:18,904 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:01:18,931 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 00:01:18,933 INFO l.util [Test worker] Run:                          0
2023-06-19 00:01:18,933 INFO l.util [Test worker] Previously run:               5
2023-06-19 00:01:18,933 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 00:01:18,933 INFO l.util [Test worker] -------------------------------
2023-06-19 00:01:18,933 INFO l.util [Test worker] Total change sets:            5

2023-06-19 00:01:18,936 INFO l.util [Test worker] Update summary generated
2023-06-19 00:01:18,945 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:01:18,960 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:01:18,962 INFO l.command [Test worker] Command execution complete
2023-06-19 00:01:19,275 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 00:01:19,357 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 00:01:19,363 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 00:01:19,578 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:01:19,775 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 00:01:19,851 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6a94bd69
2023-06-19 00:01:20,188 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:01:21,330 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 00:01:21,469 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:01:22,181 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 00:01:23,197 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:01:23,545 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 00:01:24,611 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20461e2b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f607db6, org.springframework.security.web.context.SecurityContextHolderFilter@6c884b0d, org.springframework.security.web.header.HeaderWriterFilter@7cb39309, org.springframework.security.web.authentication.logout.LogoutFilter@58f6dab9, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@48c7773, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@306ea73f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@29ff01df, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3074d565, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@75288f47, org.springframework.security.web.session.ConcurrentSessionFilter@695d0adc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ccf845a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22ecee76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4effab3b, org.springframework.security.web.access.ExceptionTranslationFilter@14270715, org.springframework.security.web.access.intercept.AuthorizationFilter@5a78e7e3]
2023-06-19 00:01:25,634 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 14.924 seconds (process running for 19.631)
2023-06-19 00:01:26,646 INFO o.e.j.s.Server [Test worker] Stopped Server@9e54c59{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:01:26,647 INFO o.e.j.s.Server [Test worker] Shutdown Server@9e54c59{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:01:26,655 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@40e37b06{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:01:26,659 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@53b1a3f8{/,null,STOPPED}
2023-06-19 00:01:26,660 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3b95a6db{/__admin,null,STOPPED}
2023-06-19 00:01:26,772 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 00:01:26,776 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@a5a9502{/__admin,null,AVAILABLE}
2023-06-19 00:01:26,778 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:01:26,778 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41991619{/,null,AVAILABLE}
2023-06-19 00:01:26,779 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@73dc387{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:01:26,780 INFO o.e.j.s.Server [Test worker] Started Server@72bae57c{STARTING}[11.0.15,sto=1000] @20777ms
2023-06-19 00:01:27,007 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 43251 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:01:27,008 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:01:27,008 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:01:27,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:27,012 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@69f4143 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:01:27,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:27,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:01:27,012 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:27,012 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@30360716 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:01:28,469 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:01:28,546 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:01:29,704 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53a1baf5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30f6791d, org.springframework.security.web.context.SecurityContextHolderFilter@48c49c1a, org.springframework.security.web.header.HeaderWriterFilter@6da640fe, org.springframework.security.web.authentication.logout.LogoutFilter@3f94bd59, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3c9be5f1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@26ffe94e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42c63e72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50091386, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@699a53d4, org.springframework.security.web.session.ConcurrentSessionFilter@62832e24, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@747ef51d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b80fadc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1adcd53b, org.springframework.security.web.access.ExceptionTranslationFilter@1175ae79, org.springframework.security.web.access.intercept.AuthorizationFilter@b6352a5]
2023-06-19 00:01:29,932 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:01:29,933 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:01:29,937 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 3 ms
2023-06-19 00:01:30,154 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 3.369 seconds (process running for 24.152)
2023-06-19 00:01:30,676 INFO o.e.j.s.Server [Test worker] Stopped Server@72bae57c{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:01:30,676 INFO o.e.j.s.Server [Test worker] Shutdown Server@72bae57c{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:01:30,680 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@73dc387{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:01:30,683 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41991619{/,null,STOPPED}
2023-06-19 00:01:30,684 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@a5a9502{/__admin,null,STOPPED}
2023-06-19 00:01:30,738 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 00:01:30,746 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@32c50b97{/__admin,null,AVAILABLE}
2023-06-19 00:01:30,748 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:01:30,748 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@67d9abfb{/,null,AVAILABLE}
2023-06-19 00:01:30,750 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2ad447d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:01:30,752 INFO o.e.j.s.Server [Test worker] Started Server@35c7c803{STARTING}[11.0.15,sto=1000] @24749ms
2023-06-19 00:01:31,184 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 43251 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:01:31,185 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:01:31,185 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:01:31,192 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:31,192 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1de8248f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:01:31,192 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:31,193 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:01:31,193 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:01:31,193 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2622efb0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:01:32,039 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:01:32,078 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:01:32,433 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@17adeb0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6dfd4db2, org.springframework.security.web.context.SecurityContextHolderFilter@4ddb3312, org.springframework.security.web.header.HeaderWriterFilter@6185f1ec, org.springframework.security.web.authentication.logout.LogoutFilter@22d45306, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@26dc0c5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@221ffed, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@351cc4b5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@57fcc568, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@60ae0977, org.springframework.security.web.session.ConcurrentSessionFilter@3a87c694, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d8f923f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@534b0af3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@33c440bb, org.springframework.security.web.access.ExceptionTranslationFilter@5be16caa, org.springframework.security.web.access.intercept.AuthorizationFilter@18a59ef8]
2023-06-19 00:01:32,484 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:01:32,485 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:01:32,485 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-19 00:01:32,502 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.742 seconds (process running for 26.499)
2023-06-19 00:01:32,657 INFO o.e.j.s.Server [Test worker] Stopped Server@35c7c803{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:01:32,658 INFO o.e.j.s.Server [Test worker] Shutdown Server@35c7c803{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:01:32,660 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2ad447d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:01:32,661 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@67d9abfb{/,null,STOPPED}
2023-06-19 00:01:32,661 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@32c50b97{/__admin,null,STOPPED}
2023-06-19 00:01:33,317 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:01:33,320 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 00:01:33,325 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 00:14:05,070 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 00:14:05,462 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 00:14:09,426 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 00:14:09,496 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@799f916e{/__admin,null,AVAILABLE}
2023-06-19 00:14:09,527 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:14:09,527 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@60cb1ed6{/,null,AVAILABLE}
2023-06-19 00:14:09,557 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6dd1f638{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:14:09,581 INFO o.e.j.s.Server [Test worker] Started Server@4c19d42e{STARTING}[11.0.15,sto=1000] @11914ms
2023-06-19 00:14:13,053 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 00:14:13,162 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 47048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:14:13,162 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:14:13,163 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:14:14,003 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:14,004 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@240a2619 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:14:14,004 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:14,004 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:14:14,004 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:14,004 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7fc7152e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:14:17,377 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 00:14:17,899 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 504 ms. Found 2 JPA repository interfaces.
2023-06-19 00:14:19,220 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 00:14:19,573 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:14:20,730 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 00:14:21,092 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@442151d1
2023-06-19 00:14:21,097 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 00:14:21,552 INFO l.database [Test worker] Set default schema name to public
2023-06-19 00:14:21,993 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 00:14:23,299 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:14:23,409 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:14:23,441 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 00:14:23,442 INFO l.util [Test worker] Run:                          0
2023-06-19 00:14:23,442 INFO l.util [Test worker] Previously run:               5
2023-06-19 00:14:23,443 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 00:14:23,443 INFO l.util [Test worker] -------------------------------
2023-06-19 00:14:23,443 INFO l.util [Test worker] Total change sets:            5

2023-06-19 00:14:23,444 INFO l.util [Test worker] Update summary generated
2023-06-19 00:14:23,453 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:14:23,476 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:14:23,479 INFO l.command [Test worker] Command execution complete
2023-06-19 00:14:23,850 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 00:14:24,022 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 00:14:24,031 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 00:14:24,375 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:14:24,750 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 00:14:24,845 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7d14efc
2023-06-19 00:14:25,425 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:14:27,486 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 00:14:27,675 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:14:29,021 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 00:14:30,656 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:14:31,310 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 00:14:32,817 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a16b724, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1328a5de, org.springframework.security.web.context.SecurityContextHolderFilter@2c6db83a, org.springframework.security.web.header.HeaderWriterFilter@1d5ada5a, org.springframework.security.web.authentication.logout.LogoutFilter@5ca32d1a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@55947250, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@28e3bcb8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1b06e304, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@76ce2e7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4426f362, org.springframework.security.web.session.ConcurrentSessionFilter@2028ecf4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4110e631, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7bd03562, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@29007172, org.springframework.security.web.access.ExceptionTranslationFilter@1f4c8062, org.springframework.security.web.access.intercept.AuthorizationFilter@69f4143]
2023-06-19 00:14:34,138 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 24.364 seconds (process running for 36.473)
2023-06-19 00:14:35,528 INFO o.e.j.s.Server [Test worker] Stopped Server@4c19d42e{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:14:35,534 INFO o.e.j.s.Server [Test worker] Shutdown Server@4c19d42e{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:14:35,551 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6dd1f638{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:14:35,559 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@60cb1ed6{/,null,STOPPED}
2023-06-19 00:14:35,561 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@799f916e{/__admin,null,STOPPED}
2023-06-19 00:14:35,721 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 00:14:35,726 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3e680b29{/__admin,null,AVAILABLE}
2023-06-19 00:14:35,728 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:14:35,728 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37826951{/,null,AVAILABLE}
2023-06-19 00:14:35,730 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@fdbf68d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:14:35,731 INFO o.e.j.s.Server [Test worker] Started Server@2315ba0b{STARTING}[11.0.15,sto=1000] @38066ms
2023-06-19 00:14:36,172 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 47048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:14:36,173 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:14:36,173 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:14:36,182 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:36,182 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4611fe60 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:14:36,182 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:36,182 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:14:36,182 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:36,182 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4110e312 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:14:37,221 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:14:37,250 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:14:37,602 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@8e5090a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@485d3d1, org.springframework.security.web.context.SecurityContextHolderFilter@50bdd956, org.springframework.security.web.header.HeaderWriterFilter@78b2504d, org.springframework.security.web.authentication.logout.LogoutFilter@17de3ab5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3157a760, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@57ba286d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@470a65ae, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43cd2f26, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2fa7a6c, org.springframework.security.web.session.ConcurrentSessionFilter@babef5e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7d12e459, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1748e38e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16494888, org.springframework.security.web.access.ExceptionTranslationFilter@536fddad, org.springframework.security.web.access.intercept.AuthorizationFilter@6d445c91]
2023-06-19 00:14:37,779 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:14:37,779 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:14:37,794 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 15 ms
2023-06-19 00:14:38,003 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.26 seconds (process running for 40.338)
2023-06-19 00:14:38,587 INFO o.e.j.s.Server [Test worker] Stopped Server@2315ba0b{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:14:38,587 INFO o.e.j.s.Server [Test worker] Shutdown Server@2315ba0b{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:14:38,590 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@fdbf68d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:14:38,591 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37826951{/,null,STOPPED}
2023-06-19 00:14:38,592 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3e680b29{/__admin,null,STOPPED}
2023-06-19 00:14:38,660 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 00:14:38,664 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c062a89{/__admin,null,AVAILABLE}
2023-06-19 00:14:38,665 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:14:38,665 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@cdeb5f5{/,null,AVAILABLE}
2023-06-19 00:14:38,666 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3da73f13{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:14:38,667 INFO o.e.j.s.Server [Test worker] Started Server@3e91384d{STARTING}[11.0.15,sto=1000] @41002ms
2023-06-19 00:14:38,879 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 47048 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:14:38,880 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:14:38,880 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:14:38,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:38,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f126927 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:14:38,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:38,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:14:38,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:14:38,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@485aa0d9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:14:39,693 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:14:39,739 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:14:40,232 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6c1a08f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6760a74e, org.springframework.security.web.context.SecurityContextHolderFilter@48e1928a, org.springframework.security.web.header.HeaderWriterFilter@9bdf4e, org.springframework.security.web.authentication.logout.LogoutFilter@107b7bea, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5a6a336c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1105a7e0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b48f52e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7707cd05, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5b6626e5, org.springframework.security.web.session.ConcurrentSessionFilter@579ffb7e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d45746, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5f6b899d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@673b5922, org.springframework.security.web.access.ExceptionTranslationFilter@107b30e0, org.springframework.security.web.access.intercept.AuthorizationFilter@5a79b792]
2023-06-19 00:14:40,314 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:14:40,315 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:14:40,316 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 00:14:40,345 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.671 seconds (process running for 42.681)
2023-06-19 00:14:40,798 INFO o.e.j.s.Server [Test worker] Stopped Server@3e91384d{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:14:40,801 INFO o.e.j.s.Server [Test worker] Shutdown Server@3e91384d{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:14:40,806 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3da73f13{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:14:40,809 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@cdeb5f5{/,null,STOPPED}
2023-06-19 00:14:40,810 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c062a89{/__admin,null,STOPPED}
2023-06-19 00:14:42,373 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-06-19 00:14:42,408 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:14:42,434 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 00:14:42,453 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 00:16:46,910 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 00:16:46,988 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 00:16:47,786 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 00:16:47,801 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6ebc9573{/__admin,null,AVAILABLE}
2023-06-19 00:16:47,807 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:16:47,807 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6d0be7ab{/,null,AVAILABLE}
2023-06-19 00:16:47,812 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cc86152{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:16:47,820 INFO o.e.j.s.Server [Test worker] Started Server@19a20bb2{STARTING}[11.0.15,sto=1000] @1918ms
2023-06-19 00:16:48,404 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 00:16:48,426 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 47957 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:16:48,426 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:16:48,427 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:16:48,568 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:48,568 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@14de1901 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:16:48,568 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:48,568 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:16:48,568 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:48,568 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a4a5f3c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:16:49,024 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 00:16:49,129 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 100 ms. Found 2 JPA repository interfaces.
2023-06-19 00:16:49,298 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 00:16:49,351 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:16:49,565 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 00:16:49,649 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d4f266
2023-06-19 00:16:49,650 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 00:16:49,740 INFO l.database [Test worker] Set default schema name to public
2023-06-19 00:16:49,849 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 00:16:50,198 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:16:50,228 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:16:50,233 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 00:16:50,233 INFO l.util [Test worker] Run:                          0
2023-06-19 00:16:50,233 INFO l.util [Test worker] Previously run:               5
2023-06-19 00:16:50,234 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 00:16:50,234 INFO l.util [Test worker] -------------------------------
2023-06-19 00:16:50,234 INFO l.util [Test worker] Total change sets:            5

2023-06-19 00:16:50,234 INFO l.util [Test worker] Update summary generated
2023-06-19 00:16:50,238 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:16:50,241 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:16:50,251 INFO l.command [Test worker] Command execution complete
2023-06-19 00:16:50,357 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 00:16:50,414 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 00:16:50,416 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 00:16:50,520 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:16:50,626 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 00:16:50,657 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7893b8c
2023-06-19 00:16:50,798 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:16:51,281 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 00:16:51,339 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:16:51,526 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 00:16:51,847 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:16:51,932 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 00:16:52,273 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2cda8be9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@698cc99d, org.springframework.security.web.context.SecurityContextHolderFilter@3b829ef, org.springframework.security.web.header.HeaderWriterFilter@2ca08575, org.springframework.security.web.authentication.logout.LogoutFilter@63c9017b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7b6419dd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7acc95a2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3228b5a1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2d8b8469, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4d34baec, org.springframework.security.web.session.ConcurrentSessionFilter@66e478c7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@500039b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c09f8c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f9769ae, org.springframework.security.web.access.ExceptionTranslationFilter@5008c5a, org.springframework.security.web.access.intercept.AuthorizationFilter@42775280]
2023-06-19 00:16:52,608 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 4.746 seconds (process running for 6.706)
2023-06-19 00:16:53,030 INFO o.e.j.s.Server [Test worker] Stopped Server@19a20bb2{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:16:53,030 INFO o.e.j.s.Server [Test worker] Shutdown Server@19a20bb2{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:16:53,033 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cc86152{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:16:53,034 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6d0be7ab{/,null,STOPPED}
2023-06-19 00:16:53,034 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6ebc9573{/__admin,null,STOPPED}
2023-06-19 00:16:53,053 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 00:16:53,054 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@a5a9502{/__admin,null,AVAILABLE}
2023-06-19 00:16:53,054 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:16:53,054 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41991619{/,null,AVAILABLE}
2023-06-19 00:16:53,054 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@73dc387{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:16:53,054 INFO o.e.j.s.Server [Test worker] Started Server@72bae57c{STARTING}[11.0.15,sto=1000] @7152ms
2023-06-19 00:16:53,105 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 47957 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:16:53,105 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:16:53,105 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:16:53,106 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:53,106 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@69f4143 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:16:53,106 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:53,106 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:16:53,106 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:53,106 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@30360716 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:16:53,389 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:16:53,402 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:16:53,667 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53a1baf5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@30f6791d, org.springframework.security.web.context.SecurityContextHolderFilter@48c49c1a, org.springframework.security.web.header.HeaderWriterFilter@6da640fe, org.springframework.security.web.authentication.logout.LogoutFilter@3f94bd59, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3c9be5f1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@26ffe94e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42c63e72, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50091386, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@699a53d4, org.springframework.security.web.session.ConcurrentSessionFilter@62832e24, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@747ef51d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b80fadc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1adcd53b, org.springframework.security.web.access.ExceptionTranslationFilter@1175ae79, org.springframework.security.web.access.intercept.AuthorizationFilter@b6352a5]
2023-06-19 00:16:53,748 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:16:53,748 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:16:53,750 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-19 00:16:53,868 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.811 seconds (process running for 7.966)
2023-06-19 00:16:54,074 INFO o.e.j.s.Server [Test worker] Stopped Server@72bae57c{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:16:54,074 INFO o.e.j.s.Server [Test worker] Shutdown Server@72bae57c{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:16:54,075 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@73dc387{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:16:54,076 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41991619{/,null,STOPPED}
2023-06-19 00:16:54,076 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@a5a9502{/__admin,null,STOPPED}
2023-06-19 00:16:54,096 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 00:16:54,098 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5c98b98{/__admin,null,AVAILABLE}
2023-06-19 00:16:54,098 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:16:54,098 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@32c50b97{/,null,AVAILABLE}
2023-06-19 00:16:54,099 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@57cd757a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:16:54,099 INFO o.e.j.s.Server [Test worker] Started Server@1b0e55b{STARTING}[11.0.15,sto=1000] @8197ms
2023-06-19 00:16:54,196 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 47957 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:16:54,196 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:16:54,196 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:16:54,197 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:54,197 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50bac431 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:16:54,197 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:54,197 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:16:54,197 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:16:54,197 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@425ee3ab uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:16:54,492 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:16:54,496 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:16:54,612 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@351cc4b5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17adeb0, org.springframework.security.web.context.SecurityContextHolderFilter@3a87c694, org.springframework.security.web.header.HeaderWriterFilter@5be16caa, org.springframework.security.web.authentication.logout.LogoutFilter@43ab3f26, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@18a59ef8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@26dc0c5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@221ffed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@534b0af3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6dfd4db2, org.springframework.security.web.session.ConcurrentSessionFilter@6185f1ec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4ddb3312, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d8f923f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60ae0977, org.springframework.security.web.access.ExceptionTranslationFilter@4ea7218f, org.springframework.security.web.access.intercept.AuthorizationFilter@2943c93d]
2023-06-19 00:16:54,649 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:16:54,649 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:16:54,650 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 00:16:54,665 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.563 seconds (process running for 8.763)
2023-06-19 00:16:54,722 INFO o.e.j.s.Server [Test worker] Stopped Server@1b0e55b{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:16:54,722 INFO o.e.j.s.Server [Test worker] Shutdown Server@1b0e55b{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:16:54,724 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@57cd757a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:16:54,724 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@32c50b97{/,null,STOPPED}
2023-06-19 00:16:54,724 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5c98b98{/__admin,null,STOPPED}
2023-06-19 00:16:54,967 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:16:54,968 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 00:16:54,970 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 00:52:45,664 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 00:52:45,786 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 00:52:46,644 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 00:52:46,680 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@479111ba{/__admin,null,AVAILABLE}
2023-06-19 00:52:46,691 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:52:46,692 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@36b9cb99{/,null,AVAILABLE}
2023-06-19 00:52:46,706 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@c3edf4c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:52:46,726 INFO o.e.j.s.Server [Test worker] Started Server@bc6288b{STARTING}[11.0.15,sto=1000] @2613ms
2023-06-19 00:52:47,770 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 00:52:47,801 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 58676 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:52:47,802 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:52:47,803 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:52:48,028 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:48,029 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6de7778f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:52:48,029 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:48,029 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:52:48,029 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:48,029 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1332dec4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:52:48,670 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 00:52:48,889 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 214 ms. Found 2 JPA repository interfaces.
2023-06-19 00:52:49,221 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 00:52:49,312 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:52:49,694 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 00:52:49,811 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@19b3d3a4
2023-06-19 00:52:49,812 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 00:52:49,971 INFO l.database [Test worker] Set default schema name to public
2023-06-19 00:52:50,166 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 00:52:50,741 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:52:50,785 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 00:52:50,797 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 00:52:50,797 INFO l.util [Test worker] Run:                          0
2023-06-19 00:52:50,798 INFO l.util [Test worker] Previously run:               5
2023-06-19 00:52:50,798 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 00:52:50,798 INFO l.util [Test worker] -------------------------------
2023-06-19 00:52:50,798 INFO l.util [Test worker] Total change sets:            5

2023-06-19 00:52:50,800 INFO l.util [Test worker] Update summary generated
2023-06-19 00:52:50,806 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:52:50,824 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 00:52:50,824 INFO l.command [Test worker] Command execution complete
2023-06-19 00:52:50,978 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 00:52:51,054 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 00:52:51,058 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 00:52:51,217 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:52:51,347 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 00:52:51,384 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6888a33
2023-06-19 00:52:51,633 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 00:52:52,437 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 00:52:52,538 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:52:52,849 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 00:52:53,375 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:52:53,560 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 00:52:54,032 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f607db6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@75288f47, org.springframework.security.web.context.SecurityContextHolderFilter@53f785df, org.springframework.security.web.header.HeaderWriterFilter@3e063a21, org.springframework.security.web.authentication.logout.LogoutFilter@68d21554, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@306ea73f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@29ff01df, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@dfa6f48, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@42775280, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4effab3b, org.springframework.security.web.session.ConcurrentSessionFilter@55456711, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@63c9017b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@905e189, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5e584389, org.springframework.security.web.access.ExceptionTranslationFilter@3b829ef, org.springframework.security.web.access.intercept.AuthorizationFilter@5be86750]
2023-06-19 00:52:54,658 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 7.841 seconds (process running for 10.544)
2023-06-19 00:52:55,455 INFO o.e.j.s.Server [Test worker] Stopped Server@bc6288b{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:52:55,455 INFO o.e.j.s.Server [Test worker] Shutdown Server@bc6288b{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:52:55,461 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@c3edf4c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:52:55,474 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@36b9cb99{/,null,STOPPED}
2023-06-19 00:52:55,475 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@479111ba{/__admin,null,STOPPED}
2023-06-19 00:52:55,521 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 00:52:55,531 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@32a2da8c{/__admin,null,AVAILABLE}
2023-06-19 00:52:55,531 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:52:55,531 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@47c9b8ee{/,null,AVAILABLE}
2023-06-19 00:52:55,535 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@543982ac{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:52:55,536 INFO o.e.j.s.Server [Test worker] Started Server@6f677c34{STARTING}[11.0.15,sto=1000] @11422ms
2023-06-19 00:52:55,674 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 58676 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:52:55,674 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:52:55,674 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:52:55,676 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:55,676 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@29007172 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:52:55,676 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:55,676 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:52:55,676 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:55,676 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2d21fa63 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:52:56,162 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:52:56,181 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:52:56,526 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b8d9b97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5284d7f2, org.springframework.security.web.context.SecurityContextHolderFilter@34f195e8, org.springframework.security.web.header.HeaderWriterFilter@7dbfb886, org.springframework.security.web.authentication.logout.LogoutFilter@2053e50a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6bfe4dd1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@54ba8e11, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5bdf8295, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@d750a, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@52ce11b5, org.springframework.security.web.session.ConcurrentSessionFilter@5519eea8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a00440d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1a7ba443, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7522ea53, org.springframework.security.web.access.ExceptionTranslationFilter@6ed810f3, org.springframework.security.web.access.intercept.AuthorizationFilter@c038839]
2023-06-19 00:52:56,684 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:52:56,684 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:52:56,686 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 00:52:56,864 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 1.325 seconds (process running for 12.751)
2023-06-19 00:52:57,292 INFO o.e.j.s.Server [Test worker] Stopped Server@6f677c34{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:52:57,293 INFO o.e.j.s.Server [Test worker] Shutdown Server@6f677c34{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:52:57,295 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@543982ac{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:52:57,296 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@47c9b8ee{/,null,STOPPED}
2023-06-19 00:52:57,297 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@32a2da8c{/__admin,null,STOPPED}
2023-06-19 00:52:57,326 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 00:52:57,328 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@131c0796{/__admin,null,AVAILABLE}
2023-06-19 00:52:57,328 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 00:52:57,328 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5c35a03b{/,null,AVAILABLE}
2023-06-19 00:52:57,331 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5dce3e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:52:57,332 INFO o.e.j.s.Server [Test worker] Started Server@60d6d8d0{STARTING}[11.0.15,sto=1000] @13218ms
2023-06-19 00:52:57,483 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 58676 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 00:52:57,484 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 00:52:57,484 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 00:52:57,486 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:57,486 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@40146340 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:52:57,486 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:57,486 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 00:52:57,486 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 00:52:57,486 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6d462dd1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 00:52:58,069 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 00:52:58,075 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 00:52:58,306 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7550b03f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@557b62fc, org.springframework.security.web.context.SecurityContextHolderFilter@f233eb6, org.springframework.security.web.header.HeaderWriterFilter@5552f9e0, org.springframework.security.web.authentication.logout.LogoutFilter@2cf22f15, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@35b2a73e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@885ac1a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@65dfb9ed, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ebbe9f3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@703be135, org.springframework.security.web.session.ConcurrentSessionFilter@2a6e54c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14741927, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@562b6fb0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68332e0e, org.springframework.security.web.access.ExceptionTranslationFilter@5b58129f, org.springframework.security.web.access.intercept.AuthorizationFilter@708c1263]
2023-06-19 00:52:58,372 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 00:52:58,373 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 00:52:58,374 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 00:52:58,402 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.066 seconds (process running for 14.288)
2023-06-19 00:52:58,510 INFO o.e.j.s.Server [Test worker] Stopped Server@60d6d8d0{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:52:58,511 INFO o.e.j.s.Server [Test worker] Shutdown Server@60d6d8d0{STOPPING}[11.0.15,sto=1000]
2023-06-19 00:52:58,521 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5dce3e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 00:52:58,522 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5c35a03b{/,null,STOPPED}
2023-06-19 00:52:58,522 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@131c0796{/__admin,null,STOPPED}
2023-06-19 00:52:59,005 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 00:52:59,011 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 00:52:59,018 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 22:42:19,856 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:42:20,205 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-19 22:42:20,341 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-19 22:42:20,724 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-19 22:42:21,908 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-19 22:42:21,924 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-19 22:42:22,052 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-19 22:42:22,186 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-19 22:42:24,041 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-19 22:42:24,950 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: f0f9673b7b5700f6f1b0197aa51c3a6e19538c78d92ca21b682f8faead4d38c6
2023-06-19 22:42:28,098 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT6.032875S
2023-06-19 22:42:28,151 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-19 22:42:28,152 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-19 22:42:28,153 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-19 22:42:28,156 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:42:28,267 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 34b932a4722a2058643785b9fd3d9b6bebd71d4b933bc687b6b940d872cc8010
2023-06-19 22:42:30,418 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.262891S
2023-06-19 22:42:30,421 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60593/test?loggerLevel=OFF)
2023-06-19 22:42:32,009 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 22:42:32,163 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 98869 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:42:32,164 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:42:32,165 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:42:32,683 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:42:32,685 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-19 22:42:32,686 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6380e9e9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-19 22:42:32,686 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:42:32,686 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-19 22:42:32,686 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6d294ddc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-19 22:42:32,686 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:42:32,686 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-19 22:42:32,686 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@50bc3219 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-19 22:42:33,581 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:42:33,844 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 252 ms. Found 2 JPA repository interfaces.
2023-06-19 22:42:34,642 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 22:42:34,970 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@af04f09
2023-06-19 22:42:34,973 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 22:42:35,242 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:42:35,692 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:42:35,784 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:42:35,786 INFO l.command [Test worker] Command execution complete
2023-06-19 22:42:35,796 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-19 22:42:35,796 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown initiated...
2023-06-19 22:42:35,804 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown completed.
2023-06-19 22:42:35,821 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-19 22:42:35,859 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-19 22:42:35,872 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@6fafbdac]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@90394d testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@e6516e, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@50ee58a0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@9573b3b, [ImportsContextCustomizer@50caeb4b key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@4b4dd216, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@1051817b, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@ca9e7e1e], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-19 22:43:57,294 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:43:58,649 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-19 22:43:59,097 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-19 22:43:59,977 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-19 22:44:02,804 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-19 22:44:02,820 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-19 22:44:02,991 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-19 22:44:03,171 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-19 22:44:04,633 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-19 22:44:05,679 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 9343c1b032ab9e38c8a1bc1d3b910ae004669d6880ec482aa854ae793c158c0d
2023-06-19 22:44:07,860 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT4.840149S
2023-06-19 22:44:07,924 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-19 22:44:07,924 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-19 22:44:07,925 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-19 22:44:07,928 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:44:08,015 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: b0879cd1fb3007110571c597af4efe32acc57e2a84352dfddadf8dc8e870bb74
2023-06-19 22:44:10,039 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.112308S
2023-06-19 22:44:10,042 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60639/test?loggerLevel=OFF)
2023-06-19 22:44:11,544 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:44:11,644 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@76e4212{/__admin,null,AVAILABLE}
2023-06-19 22:44:11,676 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:44:11,676 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7ac058a0{/,null,AVAILABLE}
2023-06-19 22:44:11,686 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@364b1061{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:44:11,705 INFO o.e.j.s.Server [Test worker] Started Server@6af87130{STARTING}[11.0.15,sto=1000] @17028ms
2023-06-19 22:44:13,093 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 22:44:13,224 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 99820 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:44:13,225 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:44:13,227 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:44:13,601 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:44:13,602 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@9bf63d2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:44:13,602 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:44:13,602 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:44:13,602 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:44:13,602 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@72a34537 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:44:14,451 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:44:14,701 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 236 ms. Found 2 JPA repository interfaces.
2023-06-19 22:44:15,587 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 22:44:15,997 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@3fc14dc0
2023-06-19 22:44:16,009 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 22:44:16,252 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:44:16,563 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:44:17,439 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-19 22:44:17,455 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:44:17,713 INFO l.command [Test worker] Using deploymentId: 7203857463
2023-06-19 22:44:17,836 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:44:17,926 INFO l.changelog [Test worker] Table comment created
2023-06-19 22:44:17,929 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableComment::ArtsemAverkov ran successfully in 49ms
2023-06-19 22:44:17,961 INFO l.changelog [Test worker] Table news created
2023-06-19 22:44:17,963 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableNews::ArtsemAverkov ran successfully in 15ms
2023-06-19 22:44:17,983 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-06-19 22:44:17,984 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 14ms
2023-06-19 22:44:17,999 INFO l.changelog [Test worker] New row inserted into news
2023-06-19 22:44:18,000 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertData::ArtsemAverkov ran successfully in 10ms
2023-06-19 22:44:18,022 INFO l.changelog [Test worker] New row inserted into comment
2023-06-19 22:44:18,023 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertCommentData::ArtsemAverkov ran successfully in 13ms
2023-06-19 22:44:18,033 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 22:44:18,034 INFO l.util [Test worker] Run:                          5
2023-06-19 22:44:18,034 INFO l.util [Test worker] Previously run:               0
2023-06-19 22:44:18,034 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 22:44:18,034 INFO l.util [Test worker] -------------------------------
2023-06-19 22:44:18,034 INFO l.util [Test worker] Total change sets:            5

2023-06-19 22:44:18,035 INFO l.util [Test worker] Update summary generated
2023-06-19 22:44:18,038 INFO l.command [Test worker] Update command completed successfully.
2023-06-19 22:44:18,046 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:44:18,060 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:44:18,062 INFO l.command [Test worker] Command execution complete
2023-06-19 22:44:18,313 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 22:44:18,399 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 22:44:18,403 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 22:44:18,640 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:44:18,840 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 22:44:18,904 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@5166fe7a
2023-06-19 22:44:19,329 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:44:20,511 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 22:44:20,698 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:44:21,356 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 22:44:22,348 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 10.524 seconds (process running for 27.672)
2023-06-19 22:44:24,393 INFO o.e.j.s.Server [Test worker] Stopped Server@6af87130{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:44:24,396 INFO o.e.j.s.Server [Test worker] Shutdown Server@6af87130{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:44:24,407 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@364b1061{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:44:24,414 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7ac058a0{/,null,STOPPED}
2023-06-19 22:44:24,415 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@76e4212{/__admin,null,STOPPED}
2023-06-19 22:44:24,449 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:44:24,453 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 22:44:24,458 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 22:50:07,798 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:50:08,414 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 22:50:12,318 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:50:12,404 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3730f716{/__admin,null,AVAILABLE}
2023-06-19 22:50:12,430 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:50:12,431 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@566e142{/,null,AVAILABLE}
2023-06-19 22:50:12,460 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2ab26378{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:12,486 INFO o.e.j.s.Server [Test worker] Started Server@4a1a256d{STARTING}[11.0.15,sto=1000] @9239ms
2023-06-19 22:50:15,451 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 22:50:15,555 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 2368 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:50:15,555 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:50:15,556 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:50:16,441 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:16,443 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@54c11750 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:16,443 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:16,443 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:50:16,443 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:16,444 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3d512652 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:19,904 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:50:20,327 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 400 ms. Found 2 JPA repository interfaces.
2023-06-19 22:50:21,179 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 22:50:21,577 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:50:22,633 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 22:50:23,136 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@70680f88
2023-06-19 22:50:23,147 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 22:50:23,710 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:50:24,257 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:50:25,340 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:50:25,426 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:50:25,458 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 22:50:25,458 INFO l.util [Test worker] Run:                          0
2023-06-19 22:50:25,459 INFO l.util [Test worker] Previously run:               5
2023-06-19 22:50:25,459 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 22:50:25,459 INFO l.util [Test worker] -------------------------------
2023-06-19 22:50:25,459 INFO l.util [Test worker] Total change sets:            5

2023-06-19 22:50:25,461 INFO l.util [Test worker] Update summary generated
2023-06-19 22:50:25,477 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:50:25,490 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:50:25,494 INFO l.command [Test worker] Command execution complete
2023-06-19 22:50:25,890 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 22:50:26,051 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 22:50:26,056 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 22:50:26,393 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:50:26,837 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 22:50:27,068 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@44992466
2023-06-19 22:50:28,073 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:50:30,059 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 22:50:30,296 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:50:31,252 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 22:50:32,769 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:50:33,197 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 22:50:34,413 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@58cce034, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58830b31, org.springframework.security.web.context.SecurityContextHolderFilter@4426f362, org.springframework.security.web.header.HeaderWriterFilter@6a377a, org.springframework.security.web.csrf.CsrfFilter@3f6aaa7, org.springframework.security.web.authentication.logout.LogoutFilter@75adbfae, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@c49bc5, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@68cca23e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22b6e26d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@448a2c5d, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@517fd762, org.springframework.security.web.session.ConcurrentSessionFilter@55947250, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76705ce1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d2ce743, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c44ed49, org.springframework.security.web.access.ExceptionTranslationFilter@62f4ae5a, org.springframework.security.web.access.intercept.AuthorizationFilter@7826c5ef]
2023-06-19 22:50:36,057 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 23.315 seconds (process running for 32.812)
2023-06-19 22:50:37,332 INFO o.e.j.s.Server [Test worker] Stopped Server@4a1a256d{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:37,333 INFO o.e.j.s.Server [Test worker] Shutdown Server@4a1a256d{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:37,363 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2ab26378{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:37,377 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@566e142{/,null,STOPPED}
2023-06-19 22:50:37,380 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3730f716{/__admin,null,STOPPED}
2023-06-19 22:50:37,558 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:50:37,565 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4c33ad71{/__admin,null,AVAILABLE}
2023-06-19 22:50:37,566 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:50:37,566 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4d40c056{/,null,AVAILABLE}
2023-06-19 22:50:37,567 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@131c01d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:37,568 INFO o.e.j.s.Server [Test worker] Started Server@52f7a138{STARTING}[11.0.15,sto=1000] @34323ms
2023-06-19 22:50:37,966 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 2368 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:50:37,967 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:50:37,967 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:50:37,974 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:37,974 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@51413fc7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:37,974 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:37,974 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:50:37,975 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:37,975 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e278ada uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:38,977 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:50:39,009 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:50:39,378 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@361fb3b3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50ba8e64, org.springframework.security.web.context.SecurityContextHolderFilter@6252d1c, org.springframework.security.web.header.HeaderWriterFilter@6ac7e58e, org.springframework.security.web.csrf.CsrfFilter@602d7631, org.springframework.security.web.authentication.logout.LogoutFilter@1e19635d, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6200887c, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@37d61cea, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1765ca4d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@501f3c79, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@570cf9d5, org.springframework.security.web.session.ConcurrentSessionFilter@d325e75, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1aff6f46, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4fc11202, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e8276db, org.springframework.security.web.access.ExceptionTranslationFilter@2e66541a, org.springframework.security.web.access.intercept.AuthorizationFilter@705a2022]
2023-06-19 22:50:39,548 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 22:50:39,548 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 22:50:39,551 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 3 ms
2023-06-19 22:50:39,940 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.347 seconds (process running for 36.695)
2023-06-19 22:50:41,188 INFO o.e.j.s.Server [Test worker] Stopped Server@52f7a138{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:41,191 INFO o.e.j.s.Server [Test worker] Shutdown Server@52f7a138{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:41,197 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@131c01d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:41,199 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4d40c056{/,null,STOPPED}
2023-06-19 22:50:41,200 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4c33ad71{/__admin,null,STOPPED}
2023-06-19 22:50:41,327 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:50:41,332 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4856ec9{/__admin,null,AVAILABLE}
2023-06-19 22:50:41,334 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:50:41,334 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7248ec5f{/,null,AVAILABLE}
2023-06-19 22:50:41,337 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@79b850d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:41,338 INFO o.e.j.s.Server [Test worker] Started Server@5437039a{STARTING}[11.0.15,sto=1000] @38093ms
2023-06-19 22:50:41,635 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 2368 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:50:41,635 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:50:41,636 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:50:41,641 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:41,641 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7ec09f73 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:41,641 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:41,641 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:50:41,641 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:41,641 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@347e6bc6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:42,316 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:50:42,336 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:50:42,567 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b595d7e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5938041b, org.springframework.security.web.context.SecurityContextHolderFilter@5c997892, org.springframework.security.web.header.HeaderWriterFilter@49f09ccf, org.springframework.security.web.csrf.CsrfFilter@4679df4b, org.springframework.security.web.authentication.logout.LogoutFilter@6a230707, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1cadc7c1, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6e44f06c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1c90bdbd, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5b96272e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@10b648c0, org.springframework.security.web.session.ConcurrentSessionFilter@541276dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@512efef4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1cf516fa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9d2723e, org.springframework.security.web.access.ExceptionTranslationFilter@800a742, org.springframework.security.web.access.intercept.AuthorizationFilter@34106ddc]
2023-06-19 22:50:42,635 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 22:50:42,635 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 22:50:42,636 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 22:50:42,663 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.315 seconds (process running for 39.418)
2023-06-19 22:50:42,915 INFO o.e.j.s.Server [Test worker] Stopped Server@5437039a{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:42,915 INFO o.e.j.s.Server [Test worker] Shutdown Server@5437039a{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:42,918 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@79b850d8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:42,919 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7248ec5f{/,null,STOPPED}
2023-06-19 22:50:42,919 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4856ec9{/__admin,null,STOPPED}
2023-06-19 22:50:43,020 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:50:43,074 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-19 22:50:43,302 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-19 22:50:44,484 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-19 22:50:45,725 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-19 22:50:45,728 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-19 22:50:45,838 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-19 22:50:45,990 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-19 22:50:47,373 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-19 22:50:48,346 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: e8e4eb273984cc76162d94eee4f1fd6aff88b0944f73403f79d392d6411798f0
2023-06-19 22:50:50,479 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT4.623883S
2023-06-19 22:50:50,513 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-19 22:50:50,513 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-19 22:50:50,516 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-19 22:50:50,519 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:50:50,610 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 56d7dd7f6dcb564eb34b54f50f9ac46442eca2de835227e5d7a380943897567f
2023-06-19 22:50:52,617 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.098537S
2023-06-19 22:50:52,622 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:49973/test?loggerLevel=OFF)
2023-06-19 22:50:52,668 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:50:52,676 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7ef93968{/__admin,null,AVAILABLE}
2023-06-19 22:50:52,677 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:50:52,677 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@578dbfa0{/,null,AVAILABLE}
2023-06-19 22:50:52,683 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3f817fbe{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:52,690 INFO o.e.j.s.Server [Test worker] Started Server@4f3ea60d{STARTING}[11.0.15,sto=1000] @49445ms
2023-06-19 22:50:53,312 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 2368 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:50:53,314 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:50:53,314 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:50:53,325 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:53,325 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@46acc228 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:53,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:53,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:50:53,328 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:50:53,328 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4196c03b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:50:53,780 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:50:53,823 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-06-19 22:50:54,027 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-19 22:50:54,250 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@43aa64e9
2023-06-19 22:50:54,251 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-19 22:50:54,277 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:50:54,456 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:50:54,643 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-19 22:50:54,655 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:50:54,897 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 22:50:54,898 INFO l.util [Test worker] Run:                          5
2023-06-19 22:50:54,898 INFO l.util [Test worker] Previously run:               0
2023-06-19 22:50:54,898 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 22:50:54,899 INFO l.util [Test worker] -------------------------------
2023-06-19 22:50:54,900 INFO l.util [Test worker] Total change sets:            5

2023-06-19 22:50:54,902 INFO l.util [Test worker] Update summary generated
2023-06-19 22:50:54,920 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:50:54,939 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:50:54,941 INFO l.command [Test worker] Command execution complete
2023-06-19 22:50:55,006 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 22:50:55,029 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:50:55,032 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 22:50:55,035 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@58703290
2023-06-19 22:50:55,110 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:50:55,298 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 22:50:55,356 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:50:55,691 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 2.96 seconds (process running for 52.446)
2023-06-19 22:50:56,509 INFO o.e.j.s.Server [Test worker] Stopped Server@4f3ea60d{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:56,510 INFO o.e.j.s.Server [Test worker] Shutdown Server@4f3ea60d{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:56,515 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3f817fbe{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:56,518 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@578dbfa0{/,null,STOPPED}
2023-06-19 22:50:56,518 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7ef93968{/__admin,null,STOPPED}
2023-06-19 22:50:56,538 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:50:56,550 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-19 22:50:56,559 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:50:56,722 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 3cfed62a36e5144c5bc77f8342138a0c3d6d1155fa67ecf5c0413c6e6f925f85
2023-06-19 22:50:58,487 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.92925S
2023-06-19 22:50:58,488 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:49986/test?loggerLevel=OFF)
2023-06-19 22:50:58,524 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:50:58,528 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@708f30e6{/__admin,null,AVAILABLE}
2023-06-19 22:50:58,530 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:50:58,530 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@8f65a66{/,null,AVAILABLE}
2023-06-19 22:50:58,532 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7d4f6072{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:58,535 INFO o.e.j.s.Server [Test worker] Started Server@6c7fb7f6{STARTING}[11.0.15,sto=1000] @55291ms
2023-06-19 22:50:58,888 INFO o.e.j.s.Server [Test worker] Stopped Server@6c7fb7f6{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:58,889 INFO o.e.j.s.Server [Test worker] Shutdown Server@6c7fb7f6{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:50:58,894 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7d4f6072{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:50:58,895 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@8f65a66{/,null,STOPPED}
2023-06-19 22:50:58,899 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@708f30e6{/__admin,null,STOPPED}
2023-06-19 22:51:00,287 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:51:00,298 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 22:51:00,307 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 22:51:00,342 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:51:00,343 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-19 22:51:00,345 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-19 22:52:11,441 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:52:11,495 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@403c3a01{/__admin,null,AVAILABLE}
2023-06-19 22:52:11,536 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:52:11,537 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@161aa04a{/,null,AVAILABLE}
2023-06-19 22:52:11,552 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cd56321{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:52:11,573 INFO o.e.j.s.Server [Test worker] Started Server@541179e7{STARTING}[11.0.15,sto=1000] @6526ms
2023-06-19 22:52:13,326 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 22:52:13,415 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 2990 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:52:13,416 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:52:13,417 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:52:13,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:52:13,835 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6de43bc1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:52:13,835 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:52:13,836 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:52:13,836 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:52:13,836 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@b022551 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:52:17,600 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:52:17,860 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:52:19,456 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51d2d336, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@90c01ab, org.springframework.security.web.context.SecurityContextHolderFilter@3f030217, org.springframework.security.web.header.HeaderWriterFilter@36dc6b9, org.springframework.security.web.csrf.CsrfFilter@3e563293, org.springframework.security.web.authentication.logout.LogoutFilter@522f74a1, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@106b476a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6dde913e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b44e98e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@2faae7f6, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@39921410, org.springframework.security.web.session.ConcurrentSessionFilter@36c1b6ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1104ad6a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c717ef2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@71e55e48, org.springframework.security.web.access.ExceptionTranslationFilter@5df7ae0a, org.springframework.security.web.access.intercept.AuthorizationFilter@170f0fd6]
2023-06-19 22:52:20,216 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 22:52:20,217 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 22:52:20,224 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 7 ms
2023-06-19 22:52:20,425 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 8.697 seconds (process running for 15.379)
2023-06-19 22:52:21,109 INFO o.e.j.s.Server [Test worker] Stopped Server@541179e7{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:52:21,110 INFO o.e.j.s.Server [Test worker] Shutdown Server@541179e7{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:52:21,124 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cd56321{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:52:21,130 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@161aa04a{/,null,STOPPED}
2023-06-19 22:52:21,131 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@403c3a01{/__admin,null,STOPPED}
2023-06-19 22:53:36,333 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:53:36,467 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5995851e{/__admin,null,AVAILABLE}
2023-06-19 22:53:36,512 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:53:36,513 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@20d33ea{/,null,AVAILABLE}
2023-06-19 22:53:36,565 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1645f294{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:53:36,604 INFO o.e.j.s.Server [Test worker] Started Server@32118208{STARTING}[11.0.15,sto=1000] @8944ms
2023-06-19 22:53:41,533 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 22:53:41,719 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 3401 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:53:41,720 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:53:41,721 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:53:42,699 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:53:42,700 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@28cb86b2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:53:42,701 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:53:42,701 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:53:42,701 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:53:42,701 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@23f60b7d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:53:47,963 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:53:48,110 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:53:49,705 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@268f126f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@467e7793, org.springframework.security.web.context.SecurityContextHolderFilter@27260f9c, org.springframework.security.web.header.HeaderWriterFilter@16160a37, org.springframework.security.web.authentication.logout.LogoutFilter@86e8469, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@44b5b54, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7e8f97dd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@183435c0, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@24455d50, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3e8995cc, org.springframework.security.web.session.ConcurrentSessionFilter@31dbca5d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54faa040, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e205025, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@625c9248, org.springframework.security.web.access.ExceptionTranslationFilter@7c7a4986, org.springframework.security.web.access.intercept.AuthorizationFilter@350ede1]
2023-06-19 22:53:50,400 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 22:53:50,401 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 22:53:50,408 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 7 ms
2023-06-19 22:53:50,660 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 13.642 seconds (process running for 23.007)
2023-06-19 22:53:51,470 INFO o.e.j.s.Server [Test worker] Stopped Server@32118208{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:53:51,471 INFO o.e.j.s.Server [Test worker] Shutdown Server@32118208{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:53:51,481 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1645f294{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:53:51,485 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@20d33ea{/,null,STOPPED}
2023-06-19 22:53:51,487 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5995851e{/__admin,null,STOPPED}
2023-06-19 22:53:51,504 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:53:51,564 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 22:53:51,592 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:53:51,598 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40ff56f7{/__admin,null,AVAILABLE}
2023-06-19 22:53:51,601 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:53:51,601 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@64648af1{/,null,AVAILABLE}
2023-06-19 22:53:51,602 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4a0dd851{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:53:51,602 INFO o.e.j.s.Server [Test worker] Started Server@72f5fb36{STARTING}[11.0.15,sto=1000] @23949ms
2023-06-19 22:53:52,003 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 3401 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:53:52,004 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:53:52,004 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:53:52,022 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:53:52,023 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@61f18997 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:53:52,023 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:53:52,023 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:53:52,023 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:53:52,023 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1676e501 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:53:53,476 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:53:53,610 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 115 ms. Found 2 JPA repository interfaces.
2023-06-19 22:53:53,949 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 22:53:54,096 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:53:54,856 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 22:53:55,164 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@50be5d6f
2023-06-19 22:53:55,167 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 22:53:55,584 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:53:55,980 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:53:57,341 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:53:57,541 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:53:57,583 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 22:53:57,585 INFO l.util [Test worker] Run:                          0
2023-06-19 22:53:57,585 INFO l.util [Test worker] Previously run:               5
2023-06-19 22:53:57,585 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 22:53:57,586 INFO l.util [Test worker] -------------------------------
2023-06-19 22:53:57,586 INFO l.util [Test worker] Total change sets:            5

2023-06-19 22:53:57,589 INFO l.util [Test worker] Update summary generated
2023-06-19 22:53:57,604 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:53:57,622 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:53:57,626 INFO l.command [Test worker] Command execution complete
2023-06-19 22:53:58,020 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 22:53:58,211 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 22:53:58,217 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 22:53:58,723 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:53:58,793 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 22:53:58,934 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@221b4175
2023-06-19 22:53:59,690 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:54:01,010 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 22:54:01,207 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:54:02,037 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 22:54:03,736 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:54:04,023 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 22:54:04,588 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@227032ec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@518a9c8a, org.springframework.security.web.context.SecurityContextHolderFilter@1990d2bb, org.springframework.security.web.header.HeaderWriterFilter@15fc044d, org.springframework.security.web.authentication.logout.LogoutFilter@6b620300, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5cd5fb8b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@27d48912, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ca3e595, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@34bba7f7, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@529503b0, org.springframework.security.web.session.ConcurrentSessionFilter@753e5e51, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1edbdb0e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3df7184, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31f9cb3a, org.springframework.security.web.access.ExceptionTranslationFilter@11518582, org.springframework.security.web.access.intercept.AuthorizationFilter@7a248528]
2023-06-19 22:54:05,511 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 13.902 seconds (process running for 37.858)
2023-06-19 22:54:05,547 INFO o.e.j.s.Server [Test worker] Stopped Server@72f5fb36{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:05,547 INFO o.e.j.s.Server [Test worker] Shutdown Server@72f5fb36{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:05,551 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4a0dd851{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:54:05,560 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@64648af1{/,null,STOPPED}
2023-06-19 22:54:05,561 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40ff56f7{/__admin,null,STOPPED}
2023-06-19 22:54:05,631 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:54:05,634 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@177c8d08{/__admin,null,AVAILABLE}
2023-06-19 22:54:05,635 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:54:05,636 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4856ec9{/,null,AVAILABLE}
2023-06-19 22:54:05,636 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1f238bc9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:54:05,637 INFO o.e.j.s.Server [Test worker] Started Server@7d8a546d{STARTING}[11.0.15,sto=1000] @37984ms
2023-06-19 22:54:05,885 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 3401 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:54:05,886 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:54:05,886 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:54:05,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:54:05,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18275381 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:54:05,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:54:05,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:54:05,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:54:05,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@67ac1be1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:54:06,555 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:54:06,573 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:54:06,783 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c07798b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9b79784, org.springframework.security.web.context.SecurityContextHolderFilter@5e53faa8, org.springframework.security.web.header.HeaderWriterFilter@490bc86e, org.springframework.security.web.authentication.logout.LogoutFilter@7cdab66c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@aa3e0d7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@23635e39, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e2cd4f4, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5bcc10fa, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@309c821d, org.springframework.security.web.session.ConcurrentSessionFilter@2a0f625c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ddf7d19, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@a809e74, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@381f7b8e, org.springframework.security.web.access.ExceptionTranslationFilter@535203b8, org.springframework.security.web.access.intercept.AuthorizationFilter@49d761c3]
2023-06-19 22:54:06,832 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 22:54:06,832 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 22:54:06,833 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 22:54:06,845 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.2 seconds (process running for 39.192)
2023-06-19 22:54:07,009 INFO o.e.j.s.Server [Test worker] Stopped Server@7d8a546d{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:07,010 INFO o.e.j.s.Server [Test worker] Shutdown Server@7d8a546d{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:07,013 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1f238bc9{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:54:07,015 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4856ec9{/,null,STOPPED}
2023-06-19 22:54:07,015 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@177c8d08{/__admin,null,STOPPED}
2023-06-19 22:54:07,066 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:54:07,097 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-19 22:54:07,205 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-19 22:54:07,898 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-19 22:54:08,946 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-19 22:54:08,971 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-19 22:54:09,078 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-19 22:54:09,273 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-19 22:54:10,592 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-19 22:54:11,180 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: ceb1e3bfcaf74fa1616be0b4c7d3e5b4da745117006a351ca621aa079959d876
2023-06-19 22:54:12,838 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.738183S
2023-06-19 22:54:12,867 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-19 22:54:12,867 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-19 22:54:12,870 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-19 22:54:12,873 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:54:12,926 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 676e9869c497328e1ae8e40892e73d595a5f672ab53b14ac7f34e2750bafe4db
2023-06-19 22:54:14,754 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.881577S
2023-06-19 22:54:14,760 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:50018/test?loggerLevel=OFF)
2023-06-19 22:54:14,819 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:54:14,828 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@75a4ca1{/__admin,null,AVAILABLE}
2023-06-19 22:54:14,830 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:54:14,830 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1db47316{/,null,AVAILABLE}
2023-06-19 22:54:14,837 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36a2bc42{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:54:14,841 INFO o.e.j.s.Server [Test worker] Started Server@69dc42f2{STARTING}[11.0.15,sto=1000] @47189ms
2023-06-19 22:54:15,254 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 3401 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:54:15,255 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:54:15,255 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:54:15,264 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:54:15,264 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@fe618cc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:54:15,264 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:54:15,264 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:54:15,264 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:54:15,264 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@72daa416 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:54:15,579 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:54:15,623 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
2023-06-19 22:54:15,760 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-19 22:54:15,984 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5f55f3d8
2023-06-19 22:54:15,987 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-19 22:54:16,015 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:54:16,143 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:54:16,357 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-19 22:54:16,371 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:54:16,551 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 22:54:16,552 INFO l.util [Test worker] Run:                          5
2023-06-19 22:54:16,552 INFO l.util [Test worker] Previously run:               0
2023-06-19 22:54:16,552 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 22:54:16,552 INFO l.util [Test worker] -------------------------------
2023-06-19 22:54:16,552 INFO l.util [Test worker] Total change sets:            5

2023-06-19 22:54:16,553 INFO l.util [Test worker] Update summary generated
2023-06-19 22:54:16,560 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:54:16,571 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:54:16,572 INFO l.command [Test worker] Command execution complete
2023-06-19 22:54:16,632 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 22:54:16,654 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:54:16,655 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 22:54:16,658 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@59d2198d
2023-06-19 22:54:16,697 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:54:16,884 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 22:54:16,937 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:54:17,178 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 2.311 seconds (process running for 49.525)
2023-06-19 22:54:17,923 INFO o.e.j.s.Server [Test worker] Stopped Server@69dc42f2{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:17,923 INFO o.e.j.s.Server [Test worker] Shutdown Server@69dc42f2{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:17,929 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36a2bc42{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:54:17,931 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1db47316{/,null,STOPPED}
2023-06-19 22:54:17,932 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@75a4ca1{/__admin,null,STOPPED}
2023-06-19 22:54:17,948 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:54:17,980 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-19 22:54:17,995 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:54:18,143 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 956a1b754636e830d1e6c0183ae553224ac8553d5119e9fc2a897a513f62976e
2023-06-19 22:54:19,957 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.963142S
2023-06-19 22:54:19,959 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:50031/test?loggerLevel=OFF)
2023-06-19 22:54:20,023 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-19 22:54:20,029 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@135e3c72{/__admin,null,AVAILABLE}
2023-06-19 22:54:20,031 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:54:20,031 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@63e1dd68{/,null,AVAILABLE}
2023-06-19 22:54:20,034 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@3f727390{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:54:20,041 INFO o.e.j.s.Server [Test worker] Started Server@1b1cd763{STARTING}[11.0.15,sto=1000] @52387ms
2023-06-19 22:54:20,504 INFO o.e.j.s.Server [Test worker] Stopped Server@1b1cd763{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:20,505 INFO o.e.j.s.Server [Test worker] Shutdown Server@1b1cd763{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:54:20,512 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@3f727390{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:54:20,514 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@63e1dd68{/,null,STOPPED}
2023-06-19 22:54:20,516 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@135e3c72{/__admin,null,STOPPED}
2023-06-19 22:54:22,126 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:54:22,143 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 22:54:22,164 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 22:54:22,196 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:54:22,200 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-19 22:54:22,209 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-19 22:59:19,504 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:59:19,571 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 22:59:20,353 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 22:59:20,368 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7a3b7122{/__admin,null,AVAILABLE}
2023-06-19 22:59:20,374 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:59:20,374 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5b88b8e{/,null,AVAILABLE}
2023-06-19 22:59:20,379 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@23f3da8b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:20,386 INFO o.e.j.s.Server [Test worker] Started Server@33a55bd8{STARTING}[11.0.15,sto=1000] @1792ms
2023-06-19 22:59:20,914 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 22:59:20,936 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 5239 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:59:20,937 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:59:20,937 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:59:21,074 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:21,074 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@10b8b900 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:21,074 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:21,074 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:59:21,074 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:21,074 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@756808cc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:21,533 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:59:21,641 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 102 ms. Found 2 JPA repository interfaces.
2023-06-19 22:59:21,802 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 22:59:21,858 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:59:22,072 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 22:59:22,148 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@38e052b2
2023-06-19 22:59:22,149 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 22:59:22,244 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:59:22,355 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:59:22,763 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:59:22,800 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:59:22,805 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 22:59:22,805 INFO l.util [Test worker] Run:                          0
2023-06-19 22:59:22,805 INFO l.util [Test worker] Previously run:               5
2023-06-19 22:59:22,805 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 22:59:22,805 INFO l.util [Test worker] -------------------------------
2023-06-19 22:59:22,805 INFO l.util [Test worker] Total change sets:            5

2023-06-19 22:59:22,806 INFO l.util [Test worker] Update summary generated
2023-06-19 22:59:22,813 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:59:22,834 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:59:22,835 INFO l.command [Test worker] Command execution complete
2023-06-19 22:59:22,945 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 22:59:23,072 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 22:59:23,076 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 22:59:23,272 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:59:23,427 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 22:59:23,497 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@309ac89e
2023-06-19 22:59:23,642 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:59:24,129 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 22:59:24,218 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:59:24,408 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 22:59:24,716 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:59:24,800 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 22:59:25,081 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56653a4d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@72c743f4, org.springframework.security.web.context.SecurityContextHolderFilter@5381acc6, org.springframework.security.web.header.HeaderWriterFilter@695d0adc, org.springframework.security.web.authentication.logout.LogoutFilter@5a78e7e3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@75288f47, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4effab3b, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e584389, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4694dfd, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4bb4c147, org.springframework.security.web.session.ConcurrentSessionFilter@6c884b0d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3074d565, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@472d7ab0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c7ddfa0, org.springframework.security.web.access.ExceptionTranslationFilter@131af11d, org.springframework.security.web.access.intercept.AuthorizationFilter@3228b5a1]
2023-06-19 22:59:25,389 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 4.966 seconds (process running for 6.796)
2023-06-19 22:59:25,803 INFO o.e.j.s.Server [Test worker] Stopped Server@33a55bd8{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:25,804 INFO o.e.j.s.Server [Test worker] Shutdown Server@33a55bd8{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:25,807 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@23f3da8b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:25,808 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5b88b8e{/,null,STOPPED}
2023-06-19 22:59:25,808 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7a3b7122{/__admin,null,STOPPED}
2023-06-19 22:59:25,826 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 22:59:25,827 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@28e3bcb8{/__admin,null,AVAILABLE}
2023-06-19 22:59:25,827 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:59:25,827 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1b06e304{/,null,AVAILABLE}
2023-06-19 22:59:25,828 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5d88471a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:25,828 INFO o.e.j.s.Server [Test worker] Started Server@472bcf53{STARTING}[11.0.15,sto=1000] @7234ms
2023-06-19 22:59:25,886 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 5239 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:59:25,886 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:59:25,886 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:59:25,887 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:25,887 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@415b83fa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:25,887 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:25,887 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:59:25,887 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:25,887 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48313ada uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:26,128 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:59:26,138 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:59:26,382 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@88d308b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6ed810f3, org.springframework.security.web.context.SecurityContextHolderFilter@1d6d5c2a, org.springframework.security.web.header.HeaderWriterFilter@2b5747f0, org.springframework.security.web.authentication.logout.LogoutFilter@f002a22, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4064daeb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4ebba9ff, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@934375e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@40df1311, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7dbfb886, org.springframework.security.web.session.ConcurrentSessionFilter@75352929, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d06a341, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c7f0dd6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5519eea8, org.springframework.security.web.access.ExceptionTranslationFilter@1c018f41, org.springframework.security.web.access.intercept.AuthorizationFilter@538a465d]
2023-06-19 22:59:26,447 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 22:59:26,447 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 22:59:26,448 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 22:59:26,543 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.713 seconds (process running for 7.949)
2023-06-19 22:59:26,722 INFO o.e.j.s.Server [Test worker] Stopped Server@472bcf53{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:26,722 INFO o.e.j.s.Server [Test worker] Shutdown Server@472bcf53{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:26,723 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5d88471a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:26,723 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1b06e304{/,null,STOPPED}
2023-06-19 22:59:26,723 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@28e3bcb8{/__admin,null,STOPPED}
2023-06-19 22:59:26,740 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 22:59:26,741 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2c7c805f{/__admin,null,AVAILABLE}
2023-06-19 22:59:26,742 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:59:26,742 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@79309b5c{/,null,AVAILABLE}
2023-06-19 22:59:26,742 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1ac74499{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:26,743 INFO o.e.j.s.Server [Test worker] Started Server@7f814c6e{STARTING}[11.0.15,sto=1000] @8149ms
2023-06-19 22:59:26,839 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 5239 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:59:26,839 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:59:26,840 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:59:26,841 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:26,841 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@116d3f22 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:26,841 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:26,841 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:59:26,841 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:26,841 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4d77a14d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:27,084 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 22:59:27,088 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 22:59:27,215 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c00c7ab, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4178d53c, org.springframework.security.web.context.SecurityContextHolderFilter@80cec05, org.springframework.security.web.header.HeaderWriterFilter@30107313, org.springframework.security.web.authentication.logout.LogoutFilter@26159658, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@70c1a887, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7aec4791, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@614ff138, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@579f253, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@59b0d24d, org.springframework.security.web.session.ConcurrentSessionFilter@1e6dbdb1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45313248, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@760a4916, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47e83e72, org.springframework.security.web.access.ExceptionTranslationFilter@344f27f3, org.springframework.security.web.access.intercept.AuthorizationFilter@48d2a802]
2023-06-19 22:59:27,256 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 22:59:27,256 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 22:59:27,257 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 22:59:27,272 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.527 seconds (process running for 8.678)
2023-06-19 22:59:27,337 INFO o.e.j.s.Server [Test worker] Stopped Server@7f814c6e{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:27,337 INFO o.e.j.s.Server [Test worker] Shutdown Server@7f814c6e{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:27,339 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1ac74499{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:27,339 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@79309b5c{/,null,STOPPED}
2023-06-19 22:59:27,339 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2c7c805f{/__admin,null,STOPPED}
2023-06-19 22:59:27,354 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:59:27,367 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-19 22:59:27,400 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-19 22:59:27,580 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-19 22:59:28,266 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-19 22:59:28,267 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-19 22:59:28,367 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-19 22:59:28,439 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-19 22:59:29,876 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-19 22:59:30,757 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: fdcde5c2462ed24f335f07774e1a0075905949e1eaa5713e6b318f3c7b219934
2023-06-19 22:59:32,674 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT4.302993S
2023-06-19 22:59:32,693 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-19 22:59:32,693 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-19 22:59:32,693 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-06-19 22:59:32,694 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:59:32,739 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 03219715260a07bbe226e151fce5909f21425811a2c09a8929e1db668dc50fc4
2023-06-19 22:59:34,653 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.959602S
2023-06-19 22:59:34,654 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:50141/test?loggerLevel=OFF)
2023-06-19 22:59:34,661 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 22:59:34,663 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@71d8985{/__admin,null,AVAILABLE}
2023-06-19 22:59:34,664 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:59:34,664 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5f70053e{/,null,AVAILABLE}
2023-06-19 22:59:34,664 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@614876bc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:34,665 INFO o.e.j.s.Server [Test worker] Started Server@2b60c832{STARTING}[11.0.15,sto=1000] @16071ms
2023-06-19 22:59:34,726 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 5239 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 22:59:34,726 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 22:59:34,726 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 22:59:34,727 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:34,727 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1a2f40e6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:34,728 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:34,728 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 22:59:34,728 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 22:59:34,728 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1fb25bca uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 22:59:34,801 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 22:59:34,812 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 10 ms. Found 2 JPA repository interfaces.
2023-06-19 22:59:34,849 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-19 22:59:34,937 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@43ec81be
2023-06-19 22:59:34,937 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-19 22:59:34,951 INFO l.database [Test worker] Set default schema name to public
2023-06-19 22:59:35,002 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 22:59:35,183 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-19 22:59:35,195 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 22:59:35,283 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 22:59:35,283 INFO l.util [Test worker] Run:                          5
2023-06-19 22:59:35,283 INFO l.util [Test worker] Previously run:               0
2023-06-19 22:59:35,283 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 22:59:35,283 INFO l.util [Test worker] -------------------------------
2023-06-19 22:59:35,283 INFO l.util [Test worker] Total change sets:            5

2023-06-19 22:59:35,284 INFO l.util [Test worker] Update summary generated
2023-06-19 22:59:35,297 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:59:35,305 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 22:59:35,306 INFO l.command [Test worker] Command execution complete
2023-06-19 22:59:35,319 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 22:59:35,326 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:59:35,326 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 22:59:35,327 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6af2203
2023-06-19 22:59:35,338 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 22:59:35,387 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 22:59:35,417 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:59:35,510 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.841 seconds (process running for 16.917)
2023-06-19 22:59:35,682 INFO o.e.j.s.Server [Test worker] Stopped Server@2b60c832{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:35,682 INFO o.e.j.s.Server [Test worker] Shutdown Server@2b60c832{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:35,682 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@614876bc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:35,683 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5f70053e{/,null,STOPPED}
2023-06-19 22:59:35,683 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@71d8985{/__admin,null,STOPPED}
2023-06-19 22:59:35,685 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 22:59:35,688 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-19 22:59:35,689 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-19 22:59:35,799 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 50bb9bc6a06ce3e7a5417817cc8d57e326d2ee310d749b790b027dfd56be7bbe
2023-06-19 22:59:37,495 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.806315S
2023-06-19 22:59:37,495 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:50153/test?loggerLevel=OFF)
2023-06-19 22:59:37,501 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 22:59:37,503 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4eb92e4b{/__admin,null,AVAILABLE}
2023-06-19 22:59:37,503 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 22:59:37,503 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3186efcc{/,null,AVAILABLE}
2023-06-19 22:59:37,504 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@48b73b02{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:37,504 INFO o.e.j.s.Server [Test worker] Started Server@6f1499f0{STARTING}[11.0.15,sto=1000] @18911ms
2023-06-19 22:59:37,557 INFO o.e.j.s.Server [Test worker] Stopped Server@6f1499f0{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:37,557 INFO o.e.j.s.Server [Test worker] Shutdown Server@6f1499f0{STOPPING}[11.0.15,sto=1000]
2023-06-19 22:59:37,558 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@48b73b02{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 22:59:37,559 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3186efcc{/,null,STOPPED}
2023-06-19 22:59:37,559 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4eb92e4b{/__admin,null,STOPPED}
2023-06-19 22:59:37,808 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:59:37,809 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 22:59:37,811 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 22:59:37,815 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 22:59:37,815 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-19 22:59:37,816 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-19 23:00:39,677 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 23:00:39,757 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 23:00:40,417 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 23:00:40,432 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6ebc9573{/__admin,null,AVAILABLE}
2023-06-19 23:00:40,438 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 23:00:40,438 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6d0be7ab{/,null,AVAILABLE}
2023-06-19 23:00:40,444 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cc86152{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:00:40,452 INFO o.e.j.s.Server [Test worker] Started Server@19a20bb2{STARTING}[11.0.15,sto=1000] @2077ms
2023-06-19 23:00:41,026 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 23:00:41,049 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 5710 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 23:00:41,050 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 23:00:41,050 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 23:00:41,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:41,269 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@14de1901 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:00:41,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:41,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 23:00:41,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:41,269 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a4a5f3c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:00:42,029 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 23:00:42,166 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 129 ms. Found 2 JPA repository interfaces.
2023-06-19 23:00:42,360 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 23:00:42,431 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 23:00:42,677 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 23:00:42,780 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@55d8f6bb
2023-06-19 23:00:42,781 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 23:00:42,878 INFO l.database [Test worker] Set default schema name to public
2023-06-19 23:00:43,033 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 23:00:43,501 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 23:00:43,544 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 23:00:43,551 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 23:00:43,551 INFO l.util [Test worker] Run:                          0
2023-06-19 23:00:43,552 INFO l.util [Test worker] Previously run:               5
2023-06-19 23:00:43,552 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 23:00:43,552 INFO l.util [Test worker] -------------------------------
2023-06-19 23:00:43,552 INFO l.util [Test worker] Total change sets:            5

2023-06-19 23:00:43,553 INFO l.util [Test worker] Update summary generated
2023-06-19 23:00:43,555 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 23:00:43,558 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 23:00:43,559 INFO l.command [Test worker] Command execution complete
2023-06-19 23:00:43,654 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 23:00:43,720 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 23:00:43,722 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 23:00:43,824 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 23:00:43,927 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 23:00:43,960 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@179cdf4f
2023-06-19 23:00:44,116 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 23:00:44,656 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 23:00:44,715 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 23:00:44,931 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 23:00:45,403 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 23:00:45,541 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 23:00:45,881 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4bc15d49, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4a4ba507, org.springframework.security.web.context.SecurityContextHolderFilter@48430066, org.springframework.security.web.header.HeaderWriterFilter@3fa43b05, org.springframework.security.web.authentication.logout.LogoutFilter@7e9074b2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@131af11d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1205d422, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@21f9d977, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@b234301, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@34c83eb0, org.springframework.security.web.session.ConcurrentSessionFilter@7f1bf2db, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@761eaf72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47690183, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4fde13d0, org.springframework.security.web.access.ExceptionTranslationFilter@2202eee0, org.springframework.security.web.access.intercept.AuthorizationFilter@2dadadd9]
2023-06-19 23:00:46,265 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 5.774 seconds (process running for 7.891)
2023-06-19 23:00:46,724 INFO o.e.j.s.Server [Test worker] Stopped Server@19a20bb2{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:00:46,725 INFO o.e.j.s.Server [Test worker] Shutdown Server@19a20bb2{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:00:46,728 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cc86152{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:00:46,729 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6d0be7ab{/,null,STOPPED}
2023-06-19 23:00:46,729 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6ebc9573{/__admin,null,STOPPED}
2023-06-19 23:00:46,747 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 23:00:46,748 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15774e00{/__admin,null,AVAILABLE}
2023-06-19 23:00:46,748 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 23:00:46,748 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@561419ce{/,null,AVAILABLE}
2023-06-19 23:00:46,749 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@44cea6bb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:00:46,749 INFO o.e.j.s.Server [Test worker] Started Server@27cc72fb{STARTING}[11.0.15,sto=1000] @8374ms
2023-06-19 23:00:46,805 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 5710 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 23:00:46,805 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 23:00:46,805 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 23:00:46,806 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:46,807 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@717616da uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:00:46,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:46,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 23:00:46,807 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:46,807 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5ca32d1a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:00:47,062 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 23:00:47,073 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 23:00:47,299 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16c5974d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c3013ea, org.springframework.security.web.context.SecurityContextHolderFilter@e4afa08, org.springframework.security.web.header.HeaderWriterFilter@1a1c68f5, org.springframework.security.web.authentication.logout.LogoutFilter@28488f2e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4f54b976, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@23096e4d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@620bb4ea, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3bb99ed3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@14a37127, org.springframework.security.web.session.ConcurrentSessionFilter@13da85f2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a9fa35, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c0b71b5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2bb03bbd, org.springframework.security.web.access.ExceptionTranslationFilter@f60910d, org.springframework.security.web.access.intercept.AuthorizationFilter@78519d63]
2023-06-19 23:00:47,378 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 23:00:47,378 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 23:00:47,381 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-06-19 23:00:47,505 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.754 seconds (process running for 9.13)
2023-06-19 23:00:47,701 INFO o.e.j.s.Server [Test worker] Stopped Server@27cc72fb{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:00:47,701 INFO o.e.j.s.Server [Test worker] Shutdown Server@27cc72fb{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:00:47,702 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@44cea6bb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:00:47,702 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@561419ce{/,null,STOPPED}
2023-06-19 23:00:47,703 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15774e00{/__admin,null,STOPPED}
2023-06-19 23:00:47,723 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 23:00:47,724 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4599f10c{/__admin,null,AVAILABLE}
2023-06-19 23:00:47,725 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 23:00:47,725 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@256216b6{/,null,AVAILABLE}
2023-06-19 23:00:47,725 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@521090f1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:00:47,726 INFO o.e.j.s.Server [Test worker] Started Server@5ac4f417{STARTING}[11.0.15,sto=1000] @9351ms
2023-06-19 23:00:47,824 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 5710 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 23:00:47,825 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 23:00:47,825 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 23:00:47,826 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:47,827 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41e67819 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:00:47,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:47,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 23:00:47,827 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:00:47,827 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1fb81254 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:00:48,069 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 23:00:48,073 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 23:00:48,187 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70ecb7f6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7419c8e2, org.springframework.security.web.context.SecurityContextHolderFilter@534a5e70, org.springframework.security.web.header.HeaderWriterFilter@6b0a37a5, org.springframework.security.web.authentication.logout.LogoutFilter@289bc75c, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@e314809, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@78e6cfb4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@55843367, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1a7ca7a3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3acc22ba, org.springframework.security.web.session.ConcurrentSessionFilter@71fcdd48, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3770938d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d7d2dd9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ea7218f, org.springframework.security.web.access.ExceptionTranslationFilter@5756611d, org.springframework.security.web.access.intercept.AuthorizationFilter@33d2d3e2]
2023-06-19 23:00:48,222 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 23:00:48,222 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 23:00:48,222 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-19 23:00:48,236 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.507 seconds (process running for 9.861)
2023-06-19 23:00:48,290 INFO o.e.j.s.Server [Test worker] Stopped Server@5ac4f417{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:00:48,290 INFO o.e.j.s.Server [Test worker] Shutdown Server@5ac4f417{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:00:48,291 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@521090f1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:00:48,292 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@256216b6{/,null,STOPPED}
2023-06-19 23:00:48,292 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4599f10c{/__admin,null,STOPPED}
2023-06-19 23:00:48,557 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 23:00:48,559 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 23:00:48,561 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-19 23:14:34,343 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-19 23:14:34,425 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-19 23:14:35,160 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 23:14:35,177 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6ebc9573{/__admin,null,AVAILABLE}
2023-06-19 23:14:35,183 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 23:14:35,183 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6d0be7ab{/,null,AVAILABLE}
2023-06-19 23:14:35,188 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6cc86152{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:14:35,196 INFO o.e.j.s.Server [Test worker] Started Server@19a20bb2{STARTING}[11.0.15,sto=1000] @1763ms
2023-06-19 23:14:35,725 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-19 23:14:35,744 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 9954 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 23:14:35,744 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 23:14:35,745 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-19 23:14:35,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:35,881 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@14de1901 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:14:35,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:35,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 23:14:35,881 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:35,881 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a4a5f3c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:14:36,318 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-19 23:14:36,420 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 98 ms. Found 2 JPA repository interfaces.
2023-06-19 23:14:36,572 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-19 23:14:36,625 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 23:14:36,816 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-19 23:14:36,920 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@6d4f266
2023-06-19 23:14:36,922 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-19 23:14:37,014 INFO l.database [Test worker] Set default schema name to public
2023-06-19 23:14:37,112 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-19 23:14:37,418 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 23:14:37,442 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-19 23:14:37,449 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-19 23:14:37,449 INFO l.util [Test worker] Run:                          0
2023-06-19 23:14:37,449 INFO l.util [Test worker] Previously run:               5
2023-06-19 23:14:37,449 INFO l.util [Test worker] Filtered out:                 0
2023-06-19 23:14:37,449 INFO l.util [Test worker] -------------------------------
2023-06-19 23:14:37,449 INFO l.util [Test worker] Total change sets:            5

2023-06-19 23:14:37,450 INFO l.util [Test worker] Update summary generated
2023-06-19 23:14:37,452 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 23:14:37,456 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-19 23:14:37,456 INFO l.command [Test worker] Command execution complete
2023-06-19 23:14:37,549 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-19 23:14:37,583 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-19 23:14:37,585 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-19 23:14:37,664 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 23:14:37,751 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-19 23:14:37,775 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7893b8c
2023-06-19 23:14:37,910 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-19 23:14:38,375 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-19 23:14:38,438 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 23:14:38,626 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-19 23:14:38,931 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 23:14:39,016 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-19 23:14:39,292 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@905e189, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b31281b, org.springframework.security.web.context.SecurityContextHolderFilter@6c88026b, org.springframework.security.web.header.HeaderWriterFilter@48c74c4f, org.springframework.security.web.authentication.logout.LogoutFilter@5c3d91bc, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6c884b0d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@53f785df, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7ccf845a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7e9074b2, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@5381acc6, org.springframework.security.web.session.ConcurrentSessionFilter@73ebf7cc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@aa9b6a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@78e547aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@16db679e, org.springframework.security.web.access.ExceptionTranslationFilter@7f1bf2db, org.springframework.security.web.access.intercept.AuthorizationFilter@1c32c581]
2023-06-19 23:14:39,588 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 4.357 seconds (process running for 6.155)
2023-06-19 23:14:39,963 INFO o.e.j.s.Server [Test worker] Stopped Server@19a20bb2{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:14:39,964 INFO o.e.j.s.Server [Test worker] Shutdown Server@19a20bb2{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:14:39,966 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6cc86152{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:14:39,968 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6d0be7ab{/,null,STOPPED}
2023-06-19 23:14:39,968 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6ebc9573{/__admin,null,STOPPED}
2023-06-19 23:14:39,985 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 23:14:39,986 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@48306cc8{/__admin,null,AVAILABLE}
2023-06-19 23:14:39,986 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 23:14:39,986 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1c6912db{/,null,AVAILABLE}
2023-06-19 23:14:39,987 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2d5cb887{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:14:39,987 INFO o.e.j.s.Server [Test worker] Started Server@56fff809{STARTING}[11.0.15,sto=1000] @6554ms
2023-06-19 23:14:40,049 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 9954 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 23:14:40,049 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 23:14:40,049 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 23:14:40,050 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:40,050 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@28494fd9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:14:40,050 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:40,050 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 23:14:40,050 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:40,050 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7f9f66c3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:14:40,293 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 23:14:40,302 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 23:14:40,494 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@136ee66d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@b6352a5, org.springframework.security.web.context.SecurityContextHolderFilter@14a37127, org.springframework.security.web.header.HeaderWriterFilter@16c5974d, org.springframework.security.web.authentication.logout.LogoutFilter@48c49c1a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@50091386, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3c4161d1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3f94bd59, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6da640fe, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3c9be5f1, org.springframework.security.web.session.ConcurrentSessionFilter@7c3013ea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bb03bbd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1175ae79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26ffe94e, org.springframework.security.web.access.ExceptionTranslationFilter@620bb4ea, org.springframework.security.web.access.intercept.AuthorizationFilter@2b80fadc]
2023-06-19 23:14:40,561 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 23:14:40,561 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 23:14:40,562 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-19 23:14:40,652 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.663 seconds (process running for 7.219)
2023-06-19 23:14:40,853 INFO o.e.j.s.Server [Test worker] Stopped Server@56fff809{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:14:40,854 INFO o.e.j.s.Server [Test worker] Shutdown Server@56fff809{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:14:40,854 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2d5cb887{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:14:40,855 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1c6912db{/,null,STOPPED}
2023-06-19 23:14:40,855 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@48306cc8{/__admin,null,STOPPED}
2023-06-19 23:14:40,870 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-19 23:14:40,871 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6cf737db{/__admin,null,AVAILABLE}
2023-06-19 23:14:40,872 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-19 23:14:40,872 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6a00b08c{/,null,AVAILABLE}
2023-06-19 23:14:40,873 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@34615ef4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:14:40,873 INFO o.e.j.s.Server [Test worker] Started Server@3e491595{STARTING}[11.0.15,sto=1000] @7440ms
2023-06-19 23:14:40,965 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 9954 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-19 23:14:40,965 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-19 23:14:40,966 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-19 23:14:40,967 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:40,967 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@230ac978 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:14:40,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:40,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-19 23:14:40,968 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-19 23:14:40,968 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@156329de uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-19 23:14:41,186 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-19 23:14:41,189 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-19 23:14:41,302 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@22d45306, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2943c93d, org.springframework.security.web.context.SecurityContextHolderFilter@7419c8e2, org.springframework.security.web.header.HeaderWriterFilter@55843367, org.springframework.security.web.authentication.logout.LogoutFilter@3a87c694, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@534b0af3, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@57fcc568, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@43ab3f26, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5be16caa, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@18a59ef8, org.springframework.security.web.session.ConcurrentSessionFilter@70ecb7f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3acc22ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ea7218f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26dc0c5, org.springframework.security.web.access.ExceptionTranslationFilter@78e6cfb4, org.springframework.security.web.access.intercept.AuthorizationFilter@1d8f923f]
2023-06-19 23:14:41,337 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-19 23:14:41,337 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-19 23:14:41,337 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-19 23:14:41,351 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.476 seconds (process running for 7.918)
2023-06-19 23:14:41,412 INFO o.e.j.s.Server [Test worker] Stopped Server@3e491595{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:14:41,412 INFO o.e.j.s.Server [Test worker] Shutdown Server@3e491595{STOPPING}[11.0.15,sto=1000]
2023-06-19 23:14:41,413 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@34615ef4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-19 23:14:41,413 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6a00b08c{/,null,STOPPED}
2023-06-19 23:14:41,414 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6cf737db{/__admin,null,STOPPED}
2023-06-19 23:14:41,659 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-19 23:14:41,661 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-19 23:14:41,663 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 02:05:20,226 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:05:20,746 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 02:05:23,988 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:05:24,111 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@45843650{/__admin,null,AVAILABLE}
2023-06-20 02:05:24,211 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:05:24,212 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@390037e7{/,null,AVAILABLE}
2023-06-20 02:05:24,355 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4667c4c1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:05:24,440 INFO o.e.j.s.Server [Test worker] Started Server@34451ed8{STARTING}[11.0.15,sto=1000] @9369ms
2023-06-20 02:05:27,770 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 02:05:27,999 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 60816 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:05:28,000 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:05:28,002 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:05:28,944 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:28,945 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1753475d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:05:28,945 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:28,945 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:05:28,945 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:28,945 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@42107318 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:05:31,991 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 02:05:32,348 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 340 ms. Found 2 JPA repository interfaces.
2023-06-20 02:05:33,300 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 02:05:33,987 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:05:35,063 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 02:05:35,379 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@28200d43
2023-06-20 02:05:35,385 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 02:05:35,817 INFO l.database [Test worker] Set default schema name to public
2023-06-20 02:05:36,251 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 02:05:37,423 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:05:37,508 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:05:37,537 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 02:05:37,538 INFO l.util [Test worker] Run:                          0
2023-06-20 02:05:37,538 INFO l.util [Test worker] Previously run:               5
2023-06-20 02:05:37,538 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 02:05:37,538 INFO l.util [Test worker] -------------------------------
2023-06-20 02:05:37,539 INFO l.util [Test worker] Total change sets:            5

2023-06-20 02:05:37,541 INFO l.util [Test worker] Update summary generated
2023-06-20 02:05:37,555 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:05:37,568 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:05:37,570 INFO l.command [Test worker] Command execution complete
2023-06-20 02:05:37,996 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 02:05:38,180 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 02:05:38,187 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 02:05:38,569 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:05:38,902 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 02:05:39,011 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@33224703
2023-06-20 02:05:39,580 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:05:41,361 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 02:05:41,552 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:05:42,462 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 02:05:44,075 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:05:44,864 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 02:05:46,369 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@517fd762, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4c44ed49, org.springframework.security.web.context.SecurityContextHolderFilter@76705ce1, org.springframework.security.web.header.HeaderWriterFilter@629eeeec, org.springframework.security.web.authentication.logout.LogoutFilter@511b6a3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@22b6e26d, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@354c986c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11f237b3, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4a09a4df, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@73b669b5, org.springframework.security.web.session.ConcurrentSessionFilter@1b06e304, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@536e5b21, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c370bb5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@332c3e71, org.springframework.security.web.access.ExceptionTranslationFilter@5c1f31f3, org.springframework.security.web.access.intercept.AuthorizationFilter@58e8535e]
2023-06-20 02:05:47,828 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 23.07 seconds (process running for 32.758)
2023-06-20 02:05:49,031 INFO o.e.j.s.Server [Test worker] Stopped Server@34451ed8{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:05:49,032 INFO o.e.j.s.Server [Test worker] Shutdown Server@34451ed8{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:05:49,042 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4667c4c1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:05:49,045 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@390037e7{/,null,STOPPED}
2023-06-20 02:05:49,046 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@45843650{/__admin,null,STOPPED}
2023-06-20 02:05:49,228 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:05:49,240 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da82b00{/__admin,null,AVAILABLE}
2023-06-20 02:05:49,242 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:05:49,242 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5c8079c5{/,null,AVAILABLE}
2023-06-20 02:05:49,244 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@28a3c051{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:05:49,244 INFO o.e.j.s.Server [Test worker] Started Server@510f3f13{STARTING}[11.0.15,sto=1000] @34175ms
2023-06-20 02:05:49,603 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 60816 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:05:49,604 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:05:49,604 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:05:49,612 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:49,613 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@571f1e9d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:05:49,613 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:49,613 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:05:49,613 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:49,613 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@49b6704a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:05:51,047 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:05:51,092 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:05:51,484 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1459ffe4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6aa4e927, org.springframework.security.web.context.SecurityContextHolderFilter@a588739, org.springframework.security.web.header.HeaderWriterFilter@2e4f3c14, org.springframework.security.web.authentication.logout.LogoutFilter@295e3370, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@117dffcf, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@49e09b23, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@296023de, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7e82a5fb, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@27504ed3, org.springframework.security.web.session.ConcurrentSessionFilter@1c204621, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3775c3e3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@608df685, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f06e734, org.springframework.security.web.access.ExceptionTranslationFilter@6eba6554, org.springframework.security.web.access.intercept.AuthorizationFilter@4dae054b]
2023-06-20 02:05:51,624 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 02:05:51,624 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 02:05:51,626 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-06-20 02:05:51,888 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.634 seconds (process running for 36.819)
2023-06-20 02:05:52,398 INFO o.e.j.s.Server [Test worker] Stopped Server@510f3f13{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:05:52,398 INFO o.e.j.s.Server [Test worker] Shutdown Server@510f3f13{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:05:52,402 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@28a3c051{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:05:52,404 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5c8079c5{/,null,STOPPED}
2023-06-20 02:05:52,404 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da82b00{/__admin,null,STOPPED}
2023-06-20 02:05:52,466 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:05:52,478 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@681229e8{/__admin,null,AVAILABLE}
2023-06-20 02:05:52,479 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:05:52,480 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3d18ae81{/,null,AVAILABLE}
2023-06-20 02:05:52,481 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@ac61487{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:05:52,482 INFO o.e.j.s.Server [Test worker] Started Server@662d42e{STARTING}[11.0.15,sto=1000] @37413ms
2023-06-20 02:05:52,743 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 60816 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:05:52,743 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:05:52,744 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:05:52,747 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:52,747 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@76419338 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:05:52,747 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:52,747 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:05:52,747 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:05:52,748 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@46b70adb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:05:53,298 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:05:53,316 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:05:53,522 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f739627, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a4d39fa, org.springframework.security.web.context.SecurityContextHolderFilter@1a8b3791, org.springframework.security.web.header.HeaderWriterFilter@a809e74, org.springframework.security.web.authentication.logout.LogoutFilter@23635e39, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@9b79784, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@309c821d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@381f7b8e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@49d761c3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@7e15cac4, org.springframework.security.web.session.ConcurrentSessionFilter@5bcc10fa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cdab66c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7227f4bd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d150d83, org.springframework.security.web.access.ExceptionTranslationFilter@1ddf7d19, org.springframework.security.web.access.intercept.AuthorizationFilter@1c07798b]
2023-06-20 02:05:53,581 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 02:05:53,582 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 02:05:53,582 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-20 02:05:53,599 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.107 seconds (process running for 38.53)
2023-06-20 02:05:53,754 INFO o.e.j.s.Server [Test worker] Stopped Server@662d42e{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:05:53,754 INFO o.e.j.s.Server [Test worker] Shutdown Server@662d42e{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:05:53,755 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@ac61487{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:05:53,756 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3d18ae81{/,null,STOPPED}
2023-06-20 02:05:53,756 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@681229e8{/__admin,null,STOPPED}
2023-06-20 02:05:53,811 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:05:53,845 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 02:05:53,955 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 02:05:54,579 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 02:05:56,123 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 02:05:56,145 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 02:05:56,439 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 02:05:56,626 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 02:05:58,180 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 02:05:59,148 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 05c092be265257b1f64a004e28385aa9b8aa402ea4be7a23dabdd89e49f679bc
2023-06-20 02:06:01,675 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT5.209417S
2023-06-20 02:06:01,705 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 02:06:01,705 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 02:06:01,708 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 02:06:01,711 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 02:06:01,776 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 6d4ee14d2225d49589ff482df1d27393839ea4fa406586b4de24eeb1e172e39c
2023-06-20 02:06:04,134 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.423799S
2023-06-20 02:06:04,139 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:53695/test?loggerLevel=OFF)
2023-06-20 02:06:04,202 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:06:04,215 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@75a4ca1{/__admin,null,AVAILABLE}
2023-06-20 02:06:04,218 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:06:04,218 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1db47316{/,null,AVAILABLE}
2023-06-20 02:06:04,224 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36a2bc42{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:06:04,230 INFO o.e.j.s.Server [Test worker] Started Server@69dc42f2{STARTING}[11.0.15,sto=1000] @49160ms
2023-06-20 02:06:04,700 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 60816 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:06:04,701 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:06:04,702 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:06:04,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:06:04,715 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@fe618cc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:06:04,715 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:06:04,715 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:06:04,715 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:06:04,715 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@72daa416 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:06:05,117 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 02:06:05,160 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 41 ms. Found 2 JPA repository interfaces.
2023-06-20 02:06:05,319 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 02:06:05,565 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@24e2435f
2023-06-20 02:06:05,565 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 02:06:05,594 INFO l.database [Test worker] Set default schema name to public
2023-06-20 02:06:05,751 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 02:06:05,958 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 02:06:05,972 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:06:06,305 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 02:06:06,308 INFO l.util [Test worker] Run:                          5
2023-06-20 02:06:06,309 INFO l.util [Test worker] Previously run:               0
2023-06-20 02:06:06,309 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 02:06:06,309 INFO l.util [Test worker] -------------------------------
2023-06-20 02:06:06,310 INFO l.util [Test worker] Total change sets:            5

2023-06-20 02:06:06,312 INFO l.util [Test worker] Update summary generated
2023-06-20 02:06:06,327 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:06:06,363 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:06:06,364 INFO l.command [Test worker] Command execution complete
2023-06-20 02:06:06,434 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 02:06:06,460 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:06:06,462 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 02:06:06,466 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3b94d98d
2023-06-20 02:06:06,512 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:06:06,784 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 02:06:06,834 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:06:07,110 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 2.845 seconds (process running for 52.041)
2023-06-20 02:06:07,926 INFO o.e.j.s.Server [Test worker] Stopped Server@69dc42f2{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:06:07,930 INFO o.e.j.s.Server [Test worker] Shutdown Server@69dc42f2{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:06:07,945 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36a2bc42{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:06:07,947 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1db47316{/,null,STOPPED}
2023-06-20 02:06:07,947 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@75a4ca1{/__admin,null,STOPPED}
2023-06-20 02:06:07,984 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:06:08,014 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 02:06:08,033 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 02:06:08,237 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: fe6a3602393c729d0f18fadccdcd7ff8b495bfef4e685cde3ac394e8be1531fa
2023-06-20 02:06:10,451 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.417809S
2023-06-20 02:06:10,453 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:53712/test?loggerLevel=OFF)
2023-06-20 02:06:10,504 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:06:10,510 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@38cde4f2{/__admin,null,AVAILABLE}
2023-06-20 02:06:10,512 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:06:10,512 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@374ea446{/,null,AVAILABLE}
2023-06-20 02:06:10,513 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@23e585e4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:06:10,515 INFO o.e.j.s.Server [Test worker] Started Server@35e04167{STARTING}[11.0.15,sto=1000] @55446ms
2023-06-20 02:06:10,856 INFO o.e.j.s.Server [Test worker] Stopped Server@35e04167{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:06:10,856 INFO o.e.j.s.Server [Test worker] Shutdown Server@35e04167{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:06:10,862 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@23e585e4{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:06:10,863 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@374ea446{/,null,STOPPED}
2023-06-20 02:06:10,864 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@38cde4f2{/__admin,null,STOPPED}
2023-06-20 02:06:12,024 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-06-20 02:06:12,036 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:06:12,042 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 02:06:12,050 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 02:06:12,069 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:06:12,071 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 02:06:12,073 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 02:16:15,882 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:16:15,929 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@16e7b402{/__admin,null,AVAILABLE}
2023-06-20 02:16:15,972 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:16:15,972 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6c9320c2{/,null,AVAILABLE}
2023-06-20 02:16:15,984 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@66c83fc8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:16:16,003 INFO o.e.j.s.Server [Test worker] Started Server@1f3165e7{STARTING}[11.0.15,sto=1000] @3798ms
2023-06-20 02:16:19,406 INFO o.e.j.s.Server [Test worker] Stopped Server@1f3165e7{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:16:19,407 INFO o.e.j.s.Server [Test worker] Shutdown Server@1f3165e7{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:16:19,425 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@66c83fc8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:16:19,431 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6c9320c2{/,null,STOPPED}
2023-06-20 02:16:19,432 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@16e7b402{/__admin,null,STOPPED}
2023-06-20 02:42:19,364 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:42:19,901 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 02:42:23,497 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:42:23,710 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@52c9d3d0{/__admin,null,AVAILABLE}
2023-06-20 02:42:23,742 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:42:23,743 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2b08772d{/,null,AVAILABLE}
2023-06-20 02:42:23,790 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@49f40c00{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:42:23,908 INFO o.e.j.s.Server [Test worker] Started Server@10850d17{STARTING}[11.0.15,sto=1000] @9041ms
2023-06-20 02:42:27,947 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 02:42:28,083 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 71818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:42:28,084 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:42:28,084 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:42:29,090 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:42:29,091 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@77663cd7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:42:29,091 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:42:29,091 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:42:29,091 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:42:29,091 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@781c2497 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:42:32,209 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 02:42:32,591 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 362 ms. Found 2 JPA repository interfaces.
2023-06-20 02:42:33,906 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 02:42:34,648 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:42:36,428 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 02:42:36,932 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@619b7436
2023-06-20 02:42:36,940 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 02:42:37,633 INFO l.database [Test worker] Set default schema name to public
2023-06-20 02:42:38,562 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 02:42:40,235 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:42:40,370 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:42:40,410 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 02:42:40,411 INFO l.util [Test worker] Run:                          0
2023-06-20 02:42:40,412 INFO l.util [Test worker] Previously run:               5
2023-06-20 02:42:40,412 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 02:42:40,412 INFO l.util [Test worker] -------------------------------
2023-06-20 02:42:40,412 INFO l.util [Test worker] Total change sets:            5

2023-06-20 02:42:40,414 INFO l.util [Test worker] Update summary generated
2023-06-20 02:42:40,431 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:42:40,443 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:42:40,446 INFO l.command [Test worker] Command execution complete
2023-06-20 02:42:40,970 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 02:42:41,310 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 02:42:41,319 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 02:42:41,810 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:42:42,242 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 02:42:42,387 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@43300e64
2023-06-20 02:42:43,119 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:42:45,532 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 02:42:45,808 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:42:47,180 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 02:42:50,087 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:42:52,207 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 02:42:55,646 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68cca23e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22b6e26d, org.springframework.security.web.context.SecurityContextHolderFilter@d70bdec, org.springframework.security.web.header.HeaderWriterFilter@1c244e31, org.springframework.security.web.authentication.logout.LogoutFilter@661a5ac0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@12d658c0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@32f79272, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@545bdccb, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@794f2bdf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@354c986c, org.springframework.security.web.session.ConcurrentSessionFilter@53ca202f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4eb32d54, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4426f362, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@11f237b3, org.springframework.security.web.access.ExceptionTranslationFilter@5d88471a, org.springframework.security.web.access.intercept.AuthorizationFilter@6aef91e6]
2023-06-20 02:42:58,647 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 34.227 seconds (process running for 43.778)
2023-06-20 02:43:00,581 INFO o.e.j.s.Server [Test worker] Stopped Server@10850d17{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:00,582 INFO o.e.j.s.Server [Test worker] Shutdown Server@10850d17{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:00,617 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@49f40c00{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:00,623 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2b08772d{/,null,STOPPED}
2023-06-20 02:43:00,625 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@52c9d3d0{/__admin,null,STOPPED}
2023-06-20 02:43:03,474 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:43:03,486 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4a229e9d{/__admin,null,AVAILABLE}
2023-06-20 02:43:03,489 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:43:03,489 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@77dfc923{/,null,AVAILABLE}
2023-06-20 02:43:03,490 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4b6d894d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:03,496 INFO o.e.j.s.Server [Test worker] Started Server@3ce295f9{STARTING}[11.0.15,sto=1000] @48627ms
2023-06-20 02:43:04,149 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 71818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:43:04,150 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:43:04,150 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:43:04,164 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:04,165 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2fbdc8e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:43:04,165 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:04,165 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:43:04,165 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:04,165 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@407e7434 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:43:05,990 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:43:06,052 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:43:06,773 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@430925e0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d5ea58e, org.springframework.security.web.context.SecurityContextHolderFilter@6853d6fb, org.springframework.security.web.header.HeaderWriterFilter@661de25, org.springframework.security.web.authentication.logout.LogoutFilter@4477baf2, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6195f18e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@184c6764, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7b4679a8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3da73f13, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@76d28406, org.springframework.security.web.session.ConcurrentSessionFilter@13ff5061, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5caa7cea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@543211ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3e91384d, org.springframework.security.web.access.ExceptionTranslationFilter@63daf2e1, org.springframework.security.web.access.intercept.AuthorizationFilter@4d79414]
2023-06-20 02:43:07,216 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 02:43:07,217 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 02:43:07,225 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 5 ms
2023-06-20 02:43:07,916 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 4.401 seconds (process running for 53.047)
2023-06-20 02:43:09,396 INFO o.e.j.s.Server [Test worker] Stopped Server@3ce295f9{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:09,397 INFO o.e.j.s.Server [Test worker] Shutdown Server@3ce295f9{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:09,405 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4b6d894d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:09,408 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@77dfc923{/,null,STOPPED}
2023-06-20 02:43:09,410 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4a229e9d{/__admin,null,STOPPED}
2023-06-20 02:43:09,630 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:43:09,643 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@350e34e7{/__admin,null,AVAILABLE}
2023-06-20 02:43:09,644 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:43:09,644 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5f9479{/,null,AVAILABLE}
2023-06-20 02:43:09,646 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@58ef8069{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:09,649 INFO o.e.j.s.Server [Test worker] Started Server@bf90cf8{STARTING}[11.0.15,sto=1000] @54779ms
2023-06-20 02:43:10,294 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 71818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:43:10,295 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:43:10,296 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:43:10,309 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:10,310 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7e30dfa4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:43:10,310 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:10,310 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:43:10,310 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:10,310 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@55e1ac0f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:43:11,922 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:43:11,960 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:43:12,423 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67dab898, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68be702f, org.springframework.security.web.context.SecurityContextHolderFilter@6b475c1e, org.springframework.security.web.header.HeaderWriterFilter@23ece5f3, org.springframework.security.web.authentication.logout.LogoutFilter@49edb6d0, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@ad0a773, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2e2fcbcf, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@b51e53c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@43040840, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@381fbf44, org.springframework.security.web.session.ConcurrentSessionFilter@1d4767be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@21df4367, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@65d8f9d2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c63d57e, org.springframework.security.web.access.ExceptionTranslationFilter@689448d1, org.springframework.security.web.access.intercept.AuthorizationFilter@8fc8365]
2023-06-20 02:43:12,585 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 02:43:12,585 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 02:43:12,586 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 02:43:12,638 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 2.953 seconds (process running for 57.769)
2023-06-20 02:43:12,996 INFO o.e.j.s.Server [Test worker] Stopped Server@bf90cf8{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:12,997 INFO o.e.j.s.Server [Test worker] Shutdown Server@bf90cf8{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:13,002 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@58ef8069{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:13,005 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5f9479{/,null,STOPPED}
2023-06-20 02:43:13,007 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@350e34e7{/__admin,null,STOPPED}
2023-06-20 02:43:13,155 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:43:13,257 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 02:43:13,521 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 02:43:15,189 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 02:43:18,667 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 02:43:18,737 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 02:43:19,040 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 02:43:19,546 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 02:43:21,666 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 02:43:24,438 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 4af2a87ef0f51e3bcb2a633c3c3ba98a2994e4de12cd73c48f671df674b12a7f
2023-06-20 02:43:29,338 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT10.21218S
2023-06-20 02:43:29,435 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 02:43:29,435 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 02:43:29,442 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 02:43:29,450 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 02:43:29,599 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: a2128dc88adb58139ba7ed4582fac9b4ff769e20149b92e6bc4178c3839807e5
2023-06-20 02:43:33,664 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT4.218592S
2023-06-20 02:43:33,692 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54073/test?loggerLevel=OFF)
2023-06-20 02:43:33,817 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:43:33,830 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@391c6239{/__admin,null,AVAILABLE}
2023-06-20 02:43:33,837 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:43:33,837 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5cf16f6a{/,null,AVAILABLE}
2023-06-20 02:43:33,845 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@784ceacb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:33,850 INFO o.e.j.s.Server [Test worker] Started Server@3c419521{STARTING}[11.0.15,sto=1000] @78980ms
2023-06-20 02:43:35,041 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 71818 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:43:35,044 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:43:35,045 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:43:35,070 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:35,070 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2e1189ce uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:43:35,071 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:35,071 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:43:35,071 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:43:35,071 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@10130823 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:43:36,172 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 02:43:36,338 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 160 ms. Found 2 JPA repository interfaces.
2023-06-20 02:43:37,140 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 02:43:38,220 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@49b99
2023-06-20 02:43:38,225 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 02:43:38,337 INFO l.database [Test worker] Set default schema name to public
2023-06-20 02:43:39,392 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 02:43:40,395 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 02:43:40,444 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:43:41,260 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 02:43:41,267 INFO l.util [Test worker] Run:                          5
2023-06-20 02:43:41,267 INFO l.util [Test worker] Previously run:               0
2023-06-20 02:43:41,267 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 02:43:41,267 INFO l.util [Test worker] -------------------------------
2023-06-20 02:43:41,268 INFO l.util [Test worker] Total change sets:            5

2023-06-20 02:43:41,273 INFO l.util [Test worker] Update summary generated
2023-06-20 02:43:41,293 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:43:41,318 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:43:41,323 INFO l.command [Test worker] Command execution complete
2023-06-20 02:43:42,116 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 02:43:42,557 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:43:42,617 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 02:43:42,736 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2e365bd3
2023-06-20 02:43:42,963 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:43:43,566 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 02:43:43,709 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:43:44,759 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 10.846 seconds (process running for 89.889)
2023-06-20 02:43:49,105 INFO o.e.j.s.Server [Test worker] Stopped Server@3c419521{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:49,124 INFO o.e.j.s.Server [Test worker] Shutdown Server@3c419521{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:49,155 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@784ceacb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:49,164 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5cf16f6a{/,null,STOPPED}
2023-06-20 02:43:49,167 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@391c6239{/__admin,null,STOPPED}
2023-06-20 02:43:49,334 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:43:49,426 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 02:43:49,446 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 02:43:50,722 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 6cab03507f65a1b4789d95dfdbae5789a64e560e88d85e845eb3811f83d685e1
2023-06-20 02:43:53,987 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT4.545604S
2023-06-20 02:43:53,998 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54087/test?loggerLevel=OFF)
2023-06-20 02:43:54,184 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:43:54,222 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f5af72f{/__admin,null,AVAILABLE}
2023-06-20 02:43:54,227 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:43:54,228 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@31678a2a{/,null,AVAILABLE}
2023-06-20 02:43:54,230 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@36f8ea6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:54,242 INFO o.e.j.s.Server [Test worker] Started Server@7485c18{STARTING}[11.0.15,sto=1000] @99371ms
2023-06-20 02:43:55,726 INFO o.e.j.s.Server [Test worker] Stopped Server@7485c18{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:55,749 INFO o.e.j.s.Server [Test worker] Shutdown Server@7485c18{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:43:55,829 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@36f8ea6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:43:55,837 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@31678a2a{/,null,STOPPED}
2023-06-20 02:43:55,842 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f5af72f{/__admin,null,STOPPED}
2023-06-20 02:43:59,676 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:43:59,700 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 02:43:59,731 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 02:43:59,891 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:43:59,895 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 02:43:59,929 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 02:53:02,539 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:53:03,015 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 02:53:06,464 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:53:06,521 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@33feda48{/__admin,null,AVAILABLE}
2023-06-20 02:53:06,541 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:53:06,541 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7f4596d0{/,null,AVAILABLE}
2023-06-20 02:53:06,561 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1806bc4c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:06,583 INFO o.e.j.s.Server [Test worker] Started Server@79e7188e{STARTING}[11.0.15,sto=1000] @8488ms
2023-06-20 02:53:09,808 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 02:53:09,938 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 75213 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:53:09,939 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:53:09,940 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:53:10,825 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:10,826 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6e00837f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:10,826 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:10,826 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:53:10,826 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:10,826 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4416e18d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:14,366 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 02:53:14,778 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 389 ms. Found 2 JPA repository interfaces.
2023-06-20 02:53:15,844 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 02:53:16,301 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:53:17,837 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 02:53:18,153 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@561c031
2023-06-20 02:53:18,158 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 02:53:18,697 INFO l.database [Test worker] Set default schema name to public
2023-06-20 02:53:19,180 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 02:53:20,338 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:53:20,448 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:53:20,482 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 02:53:20,483 INFO l.util [Test worker] Run:                          0
2023-06-20 02:53:20,483 INFO l.util [Test worker] Previously run:               5
2023-06-20 02:53:20,483 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 02:53:20,484 INFO l.util [Test worker] -------------------------------
2023-06-20 02:53:20,484 INFO l.util [Test worker] Total change sets:            5

2023-06-20 02:53:20,485 INFO l.util [Test worker] Update summary generated
2023-06-20 02:53:20,498 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:53:20,513 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:53:20,515 INFO l.command [Test worker] Command execution complete
2023-06-20 02:53:20,954 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 02:53:21,154 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 02:53:21,162 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 02:53:21,696 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:53:22,048 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 02:53:22,171 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@77227b1f
2023-06-20 02:53:22,746 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:53:24,588 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 02:53:24,793 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:53:25,869 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 02:53:27,328 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:53:27,806 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 02:53:29,548 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@419c537, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a73b3c4, org.springframework.security.web.context.SecurityContextHolderFilter@55947250, org.springframework.security.web.header.HeaderWriterFilter@6a4fb518, org.springframework.security.web.authentication.logout.LogoutFilter@68194ca4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@62885131, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2f193a75, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2f2be537, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@76705ce1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@c49bc5, org.springframework.security.web.session.ConcurrentSessionFilter@6a377a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b06e304, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6281f945, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@68cca23e, org.springframework.security.web.access.ExceptionTranslationFilter@5dbd49aa, org.springframework.security.web.access.intercept.AuthorizationFilter@75adbfae]
2023-06-20 02:53:31,017 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 24.256 seconds (process running for 32.923)
2023-06-20 02:53:32,338 INFO o.e.j.s.Server [Test worker] Stopped Server@79e7188e{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:32,339 INFO o.e.j.s.Server [Test worker] Shutdown Server@79e7188e{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:32,354 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1806bc4c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:32,361 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7f4596d0{/,null,STOPPED}
2023-06-20 02:53:32,362 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@33feda48{/__admin,null,STOPPED}
2023-06-20 02:53:34,498 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:53:34,509 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4c7d7912{/__admin,null,AVAILABLE}
2023-06-20 02:53:34,512 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:53:34,512 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2bfd3970{/,null,AVAILABLE}
2023-06-20 02:53:34,513 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@722479ba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:34,516 INFO o.e.j.s.Server [Test worker] Started Server@f7ee1ba{STARTING}[11.0.15,sto=1000] @36422ms
2023-06-20 02:53:35,072 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 75213 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:53:35,073 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:53:35,073 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:53:35,087 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:35,087 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4fe57305 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:35,087 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:35,087 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:53:35,088 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:35,088 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@12734eb5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:36,519 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:53:36,558 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:53:37,024 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@24c8fc2b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23af9455, org.springframework.security.web.context.SecurityContextHolderFilter@7b4679a8, org.springframework.security.web.header.HeaderWriterFilter@6195f18e, org.springframework.security.web.authentication.logout.LogoutFilter@343d2c5a, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1943d46b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@44c164e5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@346a8a46, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@76d28406, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6c062a89, org.springframework.security.web.session.ConcurrentSessionFilter@184c6764, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@430925e0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@d5ea58e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@cdeb5f5, org.springframework.security.web.access.ExceptionTranslationFilter@4d79414, org.springframework.security.web.access.intercept.AuthorizationFilter@2e27c2b2]
2023-06-20 02:53:37,212 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 02:53:37,212 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 02:53:37,214 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-06-20 02:53:37,463 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.937 seconds (process running for 39.369)
2023-06-20 02:53:37,971 INFO o.e.j.s.Server [Test worker] Stopped Server@f7ee1ba{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:37,971 INFO o.e.j.s.Server [Test worker] Shutdown Server@f7ee1ba{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:37,974 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@722479ba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:37,975 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2bfd3970{/,null,STOPPED}
2023-06-20 02:53:37,976 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4c7d7912{/__admin,null,STOPPED}
2023-06-20 02:53:38,029 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:53:38,031 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@132bc3fb{/__admin,null,AVAILABLE}
2023-06-20 02:53:38,032 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:53:38,032 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@591e5020{/,null,AVAILABLE}
2023-06-20 02:53:38,033 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@df31866{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:38,034 INFO o.e.j.s.Server [Test worker] Started Server@3ac5bce4{STARTING}[11.0.15,sto=1000] @39939ms
2023-06-20 02:53:38,235 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 75213 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:53:38,236 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:53:38,236 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:53:38,239 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:38,239 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4150175 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:38,240 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:38,240 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:53:38,240 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:38,240 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6046e11d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:38,887 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 02:53:38,907 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 02:53:39,131 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1bd58aa, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4808c603, org.springframework.security.web.context.SecurityContextHolderFilter@ad0a773, org.springframework.security.web.header.HeaderWriterFilter@6bd9d056, org.springframework.security.web.authentication.logout.LogoutFilter@381fbf44, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@15eb82fc, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@504bfa9a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@72211dc8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@67dab898, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@47987ab2, org.springframework.security.web.session.ConcurrentSessionFilter@8fc8365, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2e2fcbcf, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b51e53c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3dade0d4, org.springframework.security.web.access.ExceptionTranslationFilter@49edb6d0, org.springframework.security.web.access.intercept.AuthorizationFilter@e4fa412]
2023-06-20 02:53:39,184 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 02:53:39,185 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 02:53:39,185 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-20 02:53:39,203 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.165 seconds (process running for 41.109)
2023-06-20 02:53:39,373 INFO o.e.j.s.Server [Test worker] Stopped Server@3ac5bce4{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:39,373 INFO o.e.j.s.Server [Test worker] Shutdown Server@3ac5bce4{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:39,377 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@df31866{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:39,379 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@591e5020{/,null,STOPPED}
2023-06-20 02:53:39,380 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@132bc3fb{/__admin,null,STOPPED}
2023-06-20 02:53:39,456 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:53:39,510 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 02:53:39,656 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 02:53:40,240 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 02:53:41,463 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 02:53:41,470 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 02:53:41,609 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 02:53:41,817 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 02:53:43,245 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 02:53:44,220 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 7e45690c50055a9afe3ea7c9396b33efb1d7a8cc0eb988b119a9289d4f6ea335
2023-06-20 02:53:47,221 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT5.573964S
2023-06-20 02:53:47,278 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 02:53:47,281 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 02:53:47,287 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 02:53:47,291 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 02:53:47,404 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 72a50d4334d8bebffc44c79ba1c9af22b3484386950a6d527c83f8fb54146c00
2023-06-20 02:53:49,454 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.164409S
2023-06-20 02:53:49,474 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54167/test?loggerLevel=OFF)
2023-06-20 02:53:49,535 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:53:49,544 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@625b827b{/__admin,null,AVAILABLE}
2023-06-20 02:53:49,545 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:53:49,546 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7c625ffd{/,null,AVAILABLE}
2023-06-20 02:53:49,547 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1e7fcf3a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:49,551 INFO o.e.j.s.Server [Test worker] Started Server@5cf16f6a{STARTING}[11.0.15,sto=1000] @51456ms
2023-06-20 02:53:49,949 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 75213 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 02:53:49,950 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 02:53:49,950 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 02:53:49,962 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:49,962 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4e99b33 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:49,962 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:49,962 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 02:53:49,962 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 02:53:49,962 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@aa2ae2d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 02:53:50,311 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 02:53:50,357 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2023-06-20 02:53:50,610 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 02:53:50,822 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@3a40bc06
2023-06-20 02:53:50,825 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 02:53:50,853 INFO l.database [Test worker] Set default schema name to public
2023-06-20 02:53:50,985 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 02:53:51,220 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 02:53:51,233 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 02:53:51,411 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 02:53:51,412 INFO l.util [Test worker] Run:                          5
2023-06-20 02:53:51,413 INFO l.util [Test worker] Previously run:               0
2023-06-20 02:53:51,414 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 02:53:51,414 INFO l.util [Test worker] -------------------------------
2023-06-20 02:53:51,415 INFO l.util [Test worker] Total change sets:            5

2023-06-20 02:53:51,416 INFO l.util [Test worker] Update summary generated
2023-06-20 02:53:51,427 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:53:51,443 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 02:53:51,445 INFO l.command [Test worker] Command execution complete
2023-06-20 02:53:51,507 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 02:53:51,541 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:53:51,543 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 02:53:51,547 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3005644e
2023-06-20 02:53:51,587 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 02:53:51,779 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 02:53:51,843 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:53:52,113 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 2.528 seconds (process running for 54.019)
2023-06-20 02:53:52,819 INFO o.e.j.s.Server [Test worker] Stopped Server@5cf16f6a{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:52,820 INFO o.e.j.s.Server [Test worker] Shutdown Server@5cf16f6a{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:52,824 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1e7fcf3a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:52,825 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7c625ffd{/,null,STOPPED}
2023-06-20 02:53:52,826 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@625b827b{/__admin,null,STOPPED}
2023-06-20 02:53:52,840 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 02:53:52,856 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 02:53:52,867 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 02:53:53,067 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e3900b69649c263e9ace84e8777e3ba3ae77186cffd94b32dd1fe354dbe8836c
2023-06-20 02:53:54,974 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.107994S
2023-06-20 02:53:54,981 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54179/test?loggerLevel=OFF)
2023-06-20 02:53:55,042 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 02:53:55,064 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6a6ff523{/__admin,null,AVAILABLE}
2023-06-20 02:53:55,067 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 02:53:55,067 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5021c160{/,null,AVAILABLE}
2023-06-20 02:53:55,069 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7cf7583d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:55,077 INFO o.e.j.s.Server [Test worker] Started Server@31678a2a{STARTING}[11.0.15,sto=1000] @56981ms
2023-06-20 02:53:55,595 INFO o.e.j.s.Server [Test worker] Stopped Server@31678a2a{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:55,597 INFO o.e.j.s.Server [Test worker] Shutdown Server@31678a2a{STOPPING}[11.0.15,sto=1000]
2023-06-20 02:53:55,603 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7cf7583d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 02:53:55,606 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5021c160{/,null,STOPPED}
2023-06-20 02:53:55,608 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6a6ff523{/__admin,null,STOPPED}
2023-06-20 02:53:57,138 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:53:57,153 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 02:53:57,162 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 02:53:57,215 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 02:53:57,218 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 02:53:57,224 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 03:11:24,416 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 03:11:24,908 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 03:11:28,414 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 03:11:28,468 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@52c9d3d0{/__admin,null,AVAILABLE}
2023-06-20 03:11:28,486 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 03:11:28,486 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2b08772d{/,null,AVAILABLE}
2023-06-20 03:11:28,504 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@49f40c00{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:11:28,528 INFO o.e.j.s.Server [Test worker] Started Server@10850d17{STARTING}[11.0.15,sto=1000] @8607ms
2023-06-20 03:11:31,945 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 03:11:32,080 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 80659 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 03:11:32,080 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 03:11:32,081 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 03:11:33,172 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:11:33,174 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@77663cd7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:11:33,174 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:11:33,174 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 03:11:33,175 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:11:33,175 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@781c2497 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:11:36,289 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 03:11:36,649 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 340 ms. Found 2 JPA repository interfaces.
2023-06-20 03:11:38,083 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 03:11:38,500 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 03:11:39,884 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 03:11:40,197 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@4c89c98a
2023-06-20 03:11:40,204 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 03:11:40,857 INFO l.database [Test worker] Set default schema name to public
2023-06-20 03:11:41,271 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 03:11:42,553 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 03:11:42,719 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 03:11:42,759 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 03:11:42,760 INFO l.util [Test worker] Run:                          0
2023-06-20 03:11:42,760 INFO l.util [Test worker] Previously run:               5
2023-06-20 03:11:42,760 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 03:11:42,760 INFO l.util [Test worker] -------------------------------
2023-06-20 03:11:42,761 INFO l.util [Test worker] Total change sets:            5

2023-06-20 03:11:42,763 INFO l.util [Test worker] Update summary generated
2023-06-20 03:11:42,774 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 03:11:42,800 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 03:11:42,802 INFO l.command [Test worker] Command execution complete
2023-06-20 03:11:43,183 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 03:11:43,334 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 03:11:43,339 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 03:11:43,700 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 03:11:44,013 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 03:11:44,105 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@3f803fae
2023-06-20 03:11:44,664 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 03:11:48,179 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 03:11:48,397 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 03:11:50,145 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 03:11:52,880 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 03:11:53,754 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 03:11:55,610 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@167c0e2e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c60c2dd, org.springframework.security.web.context.SecurityContextHolderFilter@663b3ab0, org.springframework.security.web.header.HeaderWriterFilter@52e7bed1, org.springframework.security.web.authentication.logout.LogoutFilter@a73b3c4, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@129e6f3a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@4f1179e7, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@591f5945, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1606721f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6133a1b, org.springframework.security.web.session.ConcurrentSessionFilter@4e8c27f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3a0f497e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8b5de1b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3afd2bdf, org.springframework.security.web.access.ExceptionTranslationFilter@444456cb, org.springframework.security.web.access.intercept.AuthorizationFilter@58830b31]
2023-06-20 03:11:57,126 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 28.065 seconds (process running for 37.205)
2023-06-20 03:11:58,339 INFO o.e.j.s.Server [Test worker] Stopped Server@10850d17{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:11:58,340 INFO o.e.j.s.Server [Test worker] Shutdown Server@10850d17{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:11:58,351 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@49f40c00{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:11:58,355 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2b08772d{/,null,STOPPED}
2023-06-20 03:11:58,356 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@52c9d3d0{/__admin,null,STOPPED}
2023-06-20 03:12:00,986 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 03:12:01,001 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@43fd117c{/__admin,null,AVAILABLE}
2023-06-20 03:12:01,003 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 03:12:01,003 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3157a760{/,null,AVAILABLE}
2023-06-20 03:12:01,006 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@545df2c5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:01,020 INFO o.e.j.s.Server [Test worker] Started Server@315d4207{STARTING}[11.0.15,sto=1000] @41098ms
2023-06-20 03:12:01,707 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 80659 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 03:12:01,708 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 03:12:01,709 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 03:12:01,725 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:01,726 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@17844cbd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:12:01,726 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:01,726 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 03:12:01,726 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:01,726 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@506328aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:12:03,150 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 03:12:03,196 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 03:12:03,615 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@547a8927, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@46c38d77, org.springframework.security.web.context.SecurityContextHolderFilter@11cac5f3, org.springframework.security.web.header.HeaderWriterFilter@600c19ec, org.springframework.security.web.authentication.logout.LogoutFilter@3246b04b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1100757a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@16c35bf9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@34f9275f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@19ed6130, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@4ad30ac5, org.springframework.security.web.session.ConcurrentSessionFilter@6dd3a1a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6900bca5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69430b10, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@376d1f1f, org.springframework.security.web.access.ExceptionTranslationFilter@277be936, org.springframework.security.web.access.intercept.AuthorizationFilter@31ba3b3c]
2023-06-20 03:12:03,846 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 03:12:03,847 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 03:12:03,849 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-06-20 03:12:04,143 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 3.106 seconds (process running for 44.222)
2023-06-20 03:12:04,979 INFO o.e.j.s.Server [Test worker] Stopped Server@315d4207{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:04,980 INFO o.e.j.s.Server [Test worker] Shutdown Server@315d4207{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:04,983 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@545df2c5{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:04,985 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3157a760{/,null,STOPPED}
2023-06-20 03:12:04,986 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@43fd117c{/__admin,null,STOPPED}
2023-06-20 03:12:05,076 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 03:12:05,085 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@91ea12{/__admin,null,AVAILABLE}
2023-06-20 03:12:05,088 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 03:12:05,091 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f9e1b6{/,null,AVAILABLE}
2023-06-20 03:12:05,098 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1370b4df{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:05,099 INFO o.e.j.s.Server [Test worker] Started Server@742c7d35{STARTING}[11.0.15,sto=1000] @45178ms
2023-06-20 03:12:05,437 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 80659 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 03:12:05,438 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 03:12:05,438 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 03:12:05,442 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:05,442 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@42f461c5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:12:05,442 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:05,442 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 03:12:05,443 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:05,443 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6915ba65 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:12:06,442 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 03:12:06,467 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 03:12:06,781 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f554ab3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@765cfcbd, org.springframework.security.web.context.SecurityContextHolderFilter@5fc3aed0, org.springframework.security.web.header.HeaderWriterFilter@7879e3ac, org.springframework.security.web.authentication.logout.LogoutFilter@5867bfb6, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@478fc7fb, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@22f04ab3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4b0c589c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@53d458db, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@56598517, org.springframework.security.web.session.ConcurrentSessionFilter@4b288c86, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b445934, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5c97a373, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7fb8eff8, org.springframework.security.web.access.ExceptionTranslationFilter@5e8d57d3, org.springframework.security.web.access.intercept.AuthorizationFilter@48e98688]
2023-06-20 03:12:06,851 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 03:12:06,852 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 03:12:06,853 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 03:12:06,876 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.76 seconds (process running for 46.955)
2023-06-20 03:12:07,176 INFO o.e.j.s.Server [Test worker] Stopped Server@742c7d35{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:07,177 INFO o.e.j.s.Server [Test worker] Shutdown Server@742c7d35{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:07,183 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1370b4df{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:07,185 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f9e1b6{/,null,STOPPED}
2023-06-20 03:12:07,187 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@91ea12{/__admin,null,STOPPED}
2023-06-20 03:12:07,323 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 03:12:07,376 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 03:12:07,524 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 03:12:08,270 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 03:12:09,749 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 03:12:09,758 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 03:12:09,898 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 03:12:10,132 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 03:12:11,892 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 03:12:13,379 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: e1fbf7260192f383363d26b548a1b8ed7276025073a4118e72d03df765f7d37f
2023-06-20 03:12:16,001 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT6.07919S
2023-06-20 03:12:16,065 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 03:12:16,066 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 03:12:16,071 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 03:12:16,076 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 03:12:16,216 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d1d814d1680d890edcbd84a0dbdaf090e8a66d03c052fad6e7f84890f1dcefd5
2023-06-20 03:12:18,281 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.206579S
2023-06-20 03:12:18,303 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54381/test?loggerLevel=OFF)
2023-06-20 03:12:18,379 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 03:12:18,391 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6e42970a{/__admin,null,AVAILABLE}
2023-06-20 03:12:18,393 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 03:12:18,394 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@440bf250{/,null,AVAILABLE}
2023-06-20 03:12:18,399 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@700735e2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:18,403 INFO o.e.j.s.Server [Test worker] Started Server@56af11fc{STARTING}[11.0.15,sto=1000] @58482ms
2023-06-20 03:12:19,080 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 80659 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 03:12:19,083 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 03:12:19,084 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 03:12:19,102 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:19,102 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@49fa32ee uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:12:19,102 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:19,102 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 03:12:19,102 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 03:12:19,102 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3b0f224c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 03:12:19,507 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 03:12:19,551 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 43 ms. Found 2 JPA repository interfaces.
2023-06-20 03:12:19,738 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 03:12:19,997 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@b9f6c33
2023-06-20 03:12:19,999 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 03:12:20,029 INFO l.database [Test worker] Set default schema name to public
2023-06-20 03:12:20,198 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 03:12:20,443 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 03:12:20,459 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 03:12:20,649 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 03:12:20,650 INFO l.util [Test worker] Run:                          5
2023-06-20 03:12:20,650 INFO l.util [Test worker] Previously run:               0
2023-06-20 03:12:20,650 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 03:12:20,650 INFO l.util [Test worker] -------------------------------
2023-06-20 03:12:20,651 INFO l.util [Test worker] Total change sets:            5

2023-06-20 03:12:20,652 INFO l.util [Test worker] Update summary generated
2023-06-20 03:12:20,676 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 03:12:20,691 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 03:12:20,692 INFO l.command [Test worker] Command execution complete
2023-06-20 03:12:20,773 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 03:12:20,808 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 03:12:20,811 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 03:12:20,816 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6c1c89e2
2023-06-20 03:12:20,857 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 03:12:21,026 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 03:12:21,097 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 03:12:21,388 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 2.946 seconds (process running for 61.467)
2023-06-20 03:12:22,143 INFO o.e.j.s.Server [Test worker] Stopped Server@56af11fc{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:22,144 INFO o.e.j.s.Server [Test worker] Shutdown Server@56af11fc{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:22,146 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@700735e2{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:22,148 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@440bf250{/,null,STOPPED}
2023-06-20 03:12:22,148 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6e42970a{/__admin,null,STOPPED}
2023-06-20 03:12:22,162 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 03:12:22,178 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 03:12:22,186 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 03:12:22,326 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: d8b17c6fb57dfe092e98ac122d17db13b8de53f352f2940f16d013c04333b034
2023-06-20 03:12:24,305 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.119949S
2023-06-20 03:12:24,309 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:54393/test?loggerLevel=OFF)
2023-06-20 03:12:24,352 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 03:12:24,357 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1642ae82{/__admin,null,AVAILABLE}
2023-06-20 03:12:24,359 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 03:12:24,359 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5da55e25{/,null,AVAILABLE}
2023-06-20 03:12:24,360 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@31678a2a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:24,364 INFO o.e.j.s.Server [Test worker] Started Server@6f5467ac{STARTING}[11.0.15,sto=1000] @64443ms
2023-06-20 03:12:24,956 INFO o.e.j.s.Server [Test worker] Stopped Server@6f5467ac{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:24,957 INFO o.e.j.s.Server [Test worker] Shutdown Server@6f5467ac{STOPPING}[11.0.15,sto=1000]
2023-06-20 03:12:24,967 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@31678a2a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 03:12:24,970 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5da55e25{/,null,STOPPED}
2023-06-20 03:12:24,975 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1642ae82{/__admin,null,STOPPED}
2023-06-20 03:12:26,474 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-06-20 03:12:26,501 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 03:12:26,540 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 03:12:26,569 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 03:12:26,640 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 03:12:26,648 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 03:12:26,668 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 11:54:53,446 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 11:54:53,901 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 11:54:54,260 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 11:54:55,278 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 11:54:56,680 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 11:54:56,684 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 11:54:56,893 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 11:54:57,167 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 11:54:58,786 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 11:55:00,404 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 23669e4e1d11e27deb91c5db5d96a66eed7f08f95ebeb63fba523a2a2017baba
2023-06-20 11:55:03,152 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT6.19094S
2023-06-20 11:55:03,214 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 11:55:03,215 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 11:55:03,219 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 11:55:03,222 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 11:55:03,360 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: de2569dde1de0af6fe847e54d248c9639c27c9297eded07fea7c2c5435d554c6
2023-06-20 11:55:05,447 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.225718S
2023-06-20 11:55:05,451 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60729/test?loggerLevel=OFF)
2023-06-20 11:55:08,522 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:55:08,621 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3dc46f24{/__admin,null,AVAILABLE}
2023-06-20 11:55:08,651 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:55:08,651 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@44b9c7c4{/,null,AVAILABLE}
2023-06-20 11:55:08,673 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4fb57fb3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:08,710 INFO o.e.j.s.Server [Test worker] Started Server@79f1e22e{STARTING}[11.0.15,sto=1000] @20210ms
2023-06-20 11:55:12,662 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 11:55:12,893 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 87534 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:55:12,893 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:55:12,898 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:55:13,656 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:13,658 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6a0c7af6 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:13,659 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:13,659 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:55:13,659 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:13,659 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7b8cb283 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:14,930 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 11:55:15,315 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 369 ms. Found 2 JPA repository interfaces.
2023-06-20 11:55:16,586 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 11:55:17,091 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@c2191a8
2023-06-20 11:55:17,096 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 11:55:17,458 INFO l.database [Test worker] Set default schema name to public
2023-06-20 11:55:17,895 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 11:55:18,946 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 11:55:18,963 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:55:19,269 INFO l.command [Test worker] Using deploymentId: 7251318973
2023-06-20 11:55:19,377 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:55:19,562 INFO l.changelog [Test worker] Table comment created
2023-06-20 11:55:19,575 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableComment::ArtsemAverkov ran successfully in 64ms
2023-06-20 11:55:19,659 INFO l.changelog [Test worker] Table news created
2023-06-20 11:55:19,664 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableNews::ArtsemAverkov ran successfully in 37ms
2023-06-20 11:55:19,709 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-06-20 11:55:19,711 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 30ms
2023-06-20 11:55:19,726 INFO l.changelog [Test worker] New row inserted into news
2023-06-20 11:55:19,728 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertData::ArtsemAverkov ran successfully in 7ms
2023-06-20 11:55:19,747 INFO l.changelog [Test worker] New row inserted into comment
2023-06-20 11:55:19,749 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertCommentData::ArtsemAverkov ran successfully in 13ms
2023-06-20 11:55:19,789 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 11:55:19,792 INFO l.util [Test worker] Run:                          5
2023-06-20 11:55:19,792 INFO l.util [Test worker] Previously run:               0
2023-06-20 11:55:19,792 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 11:55:19,792 INFO l.util [Test worker] -------------------------------
2023-06-20 11:55:19,793 INFO l.util [Test worker] Total change sets:            5

2023-06-20 11:55:19,796 INFO l.util [Test worker] Update summary generated
2023-06-20 11:55:19,798 INFO l.command [Test worker] Update command completed successfully.
2023-06-20 11:55:19,821 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:55:19,850 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:55:19,852 INFO l.command [Test worker] Command execution complete
2023-06-20 11:55:20,183 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 11:55:20,343 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 11:55:20,348 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 11:55:20,701 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:55:21,016 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 11:55:21,121 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7220ff10
2023-06-20 11:55:21,749 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:55:23,514 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 11:55:23,727 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:55:24,772 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 11:55:26,471 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 17.467 seconds (process running for 37.973)
2023-06-20 11:55:28,940 INFO o.e.j.s.Server [Test worker] Stopped Server@79f1e22e{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:28,947 INFO o.e.j.s.Server [Test worker] Shutdown Server@79f1e22e{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:28,966 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4fb57fb3{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:28,974 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@44b9c7c4{/,null,STOPPED}
2023-06-20 11:55:28,976 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3dc46f24{/__admin,null,STOPPED}
2023-06-20 11:55:29,035 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 11:55:29,070 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 11:55:29,080 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 11:55:29,255 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 8eb75e90d8b0a777df4016a82fc5fa14894f8ea0615380d92d9ddacea9e1ba49
2023-06-20 11:55:31,121 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.042867S
2023-06-20 11:55:31,123 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60744/test?loggerLevel=OFF)
2023-06-20 11:55:31,165 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:55:31,173 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4c57b0e7{/__admin,null,AVAILABLE}
2023-06-20 11:55:31,174 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:55:31,174 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@258fe58c{/,null,AVAILABLE}
2023-06-20 11:55:31,175 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@734c98ff{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:31,181 INFO o.e.j.s.Server [Test worker] Started Server@1332e410{STARTING}[11.0.15,sto=1000] @42683ms
2023-06-20 11:55:31,605 INFO o.e.j.s.Server [Test worker] Stopped Server@1332e410{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:31,606 INFO o.e.j.s.Server [Test worker] Shutdown Server@1332e410{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:31,608 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@734c98ff{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:31,610 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@258fe58c{/,null,STOPPED}
2023-06-20 11:55:31,612 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4c57b0e7{/__admin,null,STOPPED}
2023-06-20 11:55:31,635 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 11:55:31,673 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 11:55:31,695 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:55:31,698 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40b63796{/__admin,null,AVAILABLE}
2023-06-20 11:55:31,699 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:55:31,699 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@15fb5531{/,null,AVAILABLE}
2023-06-20 11:55:31,700 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@41366811{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:31,700 INFO o.e.j.s.Server [Test worker] Started Server@ffd66e1{STARTING}[11.0.15,sto=1000] @43202ms
2023-06-20 11:55:32,052 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 87534 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:55:32,053 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:55:32,053 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:55:32,061 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:32,062 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@e0500bc uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:32,062 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:32,062 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:55:32,062 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:32,062 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2ebff011 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:33,571 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 11:55:33,618 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2023-06-20 11:55:33,925 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 11:55:34,056 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:55:34,600 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 11:55:34,637 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1085fad8
2023-06-20 11:55:34,638 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 11:55:34,665 INFO l.database [Test worker] Set default schema name to public
2023-06-20 11:55:34,733 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 11:55:34,939 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:55:34,973 INFO l.command [Test worker] Using deploymentId: 7251334956
2023-06-20 11:55:34,993 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 11:55:34,994 INFO l.util [Test worker] Run:                          0
2023-06-20 11:55:34,995 INFO l.util [Test worker] Previously run:               5
2023-06-20 11:55:34,996 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 11:55:34,996 INFO l.util [Test worker] -------------------------------
2023-06-20 11:55:34,998 INFO l.util [Test worker] Total change sets:            5

2023-06-20 11:55:35,000 INFO l.util [Test worker] Update summary generated
2023-06-20 11:55:35,000 INFO l.command [Test worker] Update command completed successfully.
2023-06-20 11:55:35,004 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:55:35,012 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:55:35,013 INFO l.command [Test worker] Command execution complete
2023-06-20 11:55:35,177 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 11:55:35,206 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:55:35,209 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 11:55:35,224 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@1a18b66
2023-06-20 11:55:35,282 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:55:35,610 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 11:55:35,742 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:55:36,368 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 11:55:36,646 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 11:55:38,167 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@67b3cd01, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@8ff8955, org.springframework.security.web.context.SecurityContextHolderFilter@68f4c7e8, org.springframework.security.web.header.HeaderWriterFilter@40364b40, org.springframework.security.web.authentication.logout.LogoutFilter@382d9324, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@453cd994, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@523247d6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@60eeefe, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@235cbf67, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@408708d5, org.springframework.security.web.session.ConcurrentSessionFilter@3470a705, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@861dafd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44a98855, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3a3c7e7b, org.springframework.security.web.access.ExceptionTranslationFilter@5ecd2979, org.springframework.security.web.access.intercept.AuthorizationFilter@391bce40]
2023-06-20 11:55:39,429 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 7.703 seconds (process running for 50.931)
2023-06-20 11:55:39,497 INFO o.e.j.s.Server [Test worker] Stopped Server@ffd66e1{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:39,497 INFO o.e.j.s.Server [Test worker] Shutdown Server@ffd66e1{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:39,500 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@41366811{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:39,502 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@15fb5531{/,null,STOPPED}
2023-06-20 11:55:39,502 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40b63796{/__admin,null,STOPPED}
2023-06-20 11:55:42,254 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:55:42,267 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1db078d9{/__admin,null,AVAILABLE}
2023-06-20 11:55:42,270 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:55:42,270 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@41b1686e{/,null,AVAILABLE}
2023-06-20 11:55:42,276 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1ef8f1ca{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:42,286 INFO o.e.j.s.Server [Test worker] Started Server@9fd26ec{STARTING}[11.0.15,sto=1000] @53784ms
2023-06-20 11:55:42,962 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 87534 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:55:42,964 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:55:42,964 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:55:42,978 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:42,979 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6754608e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:42,980 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:42,980 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:55:42,980 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:42,980 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3cbfa4c0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:44,179 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:55:44,212 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 11:55:44,617 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4a6e6db0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27051ae8, org.springframework.security.web.context.SecurityContextHolderFilter@2960f500, org.springframework.security.web.header.HeaderWriterFilter@20851e5b, org.springframework.security.web.authentication.logout.LogoutFilter@23b9d353, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@658100fd, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@8cf7455, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@43fa82c1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@21940db3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@549baf81, org.springframework.security.web.session.ConcurrentSessionFilter@5de6d178, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@426dc148, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4a126898, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4360d359, org.springframework.security.web.access.ExceptionTranslationFilter@319b4fb3, org.springframework.security.web.access.intercept.AuthorizationFilter@7bce4a64]
2023-06-20 11:55:44,813 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 11:55:44,813 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 11:55:44,817 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 11:55:45,101 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.788 seconds (process running for 56.604)
2023-06-20 11:55:45,908 INFO o.e.j.s.Server [Test worker] Stopped Server@9fd26ec{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:45,910 INFO o.e.j.s.Server [Test worker] Shutdown Server@9fd26ec{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:45,915 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1ef8f1ca{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:45,918 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@41b1686e{/,null,STOPPED}
2023-06-20 11:55:45,920 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1db078d9{/__admin,null,STOPPED}
2023-06-20 11:55:46,024 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:55:46,038 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4e80e1b5{/__admin,null,AVAILABLE}
2023-06-20 11:55:46,048 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:55:46,049 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@40d3f93d{/,null,AVAILABLE}
2023-06-20 11:55:46,057 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@768f6f7e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:46,058 INFO o.e.j.s.Server [Test worker] Started Server@5c98f64f{STARTING}[11.0.15,sto=1000] @57561ms
2023-06-20 11:55:46,439 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 87534 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:55:46,439 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:55:46,440 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:55:46,446 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:46,446 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@61a01e85 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:46,447 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:46,447 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:55:46,447 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:55:46,447 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@e30d60 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:55:48,075 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:55:48,120 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 11:55:48,582 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2c7ac668, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@757ba3dc, org.springframework.security.web.context.SecurityContextHolderFilter@5fc38804, org.springframework.security.web.header.HeaderWriterFilter@48d2348a, org.springframework.security.web.authentication.logout.LogoutFilter@c7ae966, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@385c3093, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6336df27, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@45761ad8, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@18f92361, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@206185b3, org.springframework.security.web.session.ConcurrentSessionFilter@49e666e2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3b7d8d2e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@62d288af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55b4ebbd, org.springframework.security.web.access.ExceptionTranslationFilter@177e6486, org.springframework.security.web.access.intercept.AuthorizationFilter@2ba859bf]
2023-06-20 11:55:48,944 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 11:55:48,948 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 11:55:48,950 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-06-20 11:55:48,998 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 2.917 seconds (process running for 60.5)
2023-06-20 11:55:49,381 INFO o.e.j.s.Server [Test worker] Stopped Server@5c98f64f{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:49,381 INFO o.e.j.s.Server [Test worker] Shutdown Server@5c98f64f{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:55:49,386 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@768f6f7e{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:55:49,395 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@40d3f93d{/,null,STOPPED}
2023-06-20 11:55:49,397 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4e80e1b5{/__admin,null,STOPPED}
2023-06-20 11:55:51,024 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:55:51,283 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 11:55:51,348 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 11:55:51,461 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-06-20 11:55:51,465 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:55:51,468 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 11:55:51,470 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 11:57:25,750 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 11:57:26,316 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 11:57:26,618 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 11:57:27,725 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 11:57:28,735 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 11:57:28,745 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 11:57:28,817 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 11:57:29,084 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 11:57:30,443 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 11:57:30,933 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 95247d382023a20633d4eecfc99823e84b144ba44a0e7f1704e21aa7d5cd7168
2023-06-20 11:57:32,363 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.4493S
2023-06-20 11:57:32,405 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 11:57:32,407 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 11:57:32,411 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 11:57:32,414 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 11:57:32,480 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 29774d71250b402eca20d9ce4429d9ca3ef5c46f3820896d548f7047fdf81b19
2023-06-20 11:57:34,197 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.784481S
2023-06-20 11:57:34,205 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60768/test?loggerLevel=OFF)
2023-06-20 11:57:37,187 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:57:37,372 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@ff03361{/__admin,null,AVAILABLE}
2023-06-20 11:57:37,403 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:57:37,404 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1a10c47e{/,null,AVAILABLE}
2023-06-20 11:57:37,427 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@340afaf8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:57:37,458 INFO o.e.j.s.Server [Test worker] Started Server@793cef95{STARTING}[11.0.15,sto=1000] @16224ms
2023-06-20 11:57:40,505 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 11:57:40,903 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 88331 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:57:40,904 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:57:40,908 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:57:41,845 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:57:41,847 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@16e5344c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:57:41,847 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:57:41,847 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:57:41,847 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:57:41,847 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@96be1ae uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:57:43,281 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 11:57:43,674 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 373 ms. Found 2 JPA repository interfaces.
2023-06-20 11:57:45,066 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 11:57:45,708 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@433362e0
2023-06-20 11:57:45,718 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 11:57:46,150 INFO l.database [Test worker] Set default schema name to public
2023-06-20 11:57:46,626 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 11:57:47,669 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 11:57:47,698 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:57:47,919 INFO l.command [Test worker] Using deploymentId: 7251467707
2023-06-20 11:57:47,992 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:57:48,138 INFO l.changelog [Test worker] Table comment created
2023-06-20 11:57:48,142 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableComment::ArtsemAverkov ran successfully in 45ms
2023-06-20 11:57:48,199 INFO l.changelog [Test worker] Table news created
2023-06-20 11:57:48,202 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableNews::ArtsemAverkov ran successfully in 25ms
2023-06-20 11:57:48,228 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-06-20 11:57:48,229 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 17ms
2023-06-20 11:57:48,247 INFO l.changelog [Test worker] New row inserted into news
2023-06-20 11:57:48,248 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertData::ArtsemAverkov ran successfully in 10ms
2023-06-20 11:57:48,271 INFO l.changelog [Test worker] New row inserted into comment
2023-06-20 11:57:48,273 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertCommentData::ArtsemAverkov ran successfully in 13ms
2023-06-20 11:57:48,289 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 11:57:48,291 INFO l.util [Test worker] Run:                          5
2023-06-20 11:57:48,291 INFO l.util [Test worker] Previously run:               0
2023-06-20 11:57:48,291 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 11:57:48,291 INFO l.util [Test worker] -------------------------------
2023-06-20 11:57:48,291 INFO l.util [Test worker] Total change sets:            5

2023-06-20 11:57:48,294 INFO l.util [Test worker] Update summary generated
2023-06-20 11:57:48,296 INFO l.command [Test worker] Update command completed successfully.
2023-06-20 11:57:48,304 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:57:48,342 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:57:48,347 INFO l.command [Test worker] Command execution complete
2023-06-20 11:57:48,737 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 11:57:48,911 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 11:57:48,917 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 11:57:49,280 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:57:49,759 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 11:57:49,902 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@246701d5
2023-06-20 11:57:50,578 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:57:52,587 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 11:57:52,801 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:57:53,708 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 11:57:55,320 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 17.538 seconds (process running for 34.087)
2023-06-20 11:57:57,547 INFO o.e.j.s.Server [Test worker] Stopped Server@793cef95{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:57:57,550 INFO o.e.j.s.Server [Test worker] Shutdown Server@793cef95{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:57:57,567 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@340afaf8{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:57:57,572 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1a10c47e{/,null,STOPPED}
2023-06-20 11:57:57,572 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@ff03361{/__admin,null,STOPPED}
2023-06-20 11:57:57,595 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 11:57:57,616 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 11:57:57,623 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 11:57:57,748 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 7ec2b35523a7c828b91d9e595c4d289e3da48061741228032d049bdf24fb3452
2023-06-20 11:57:59,411 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.789097S
2023-06-20 11:57:59,413 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60780/test?loggerLevel=OFF)
2023-06-20 11:57:59,444 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:57:59,449 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@59ca0db6{/__admin,null,AVAILABLE}
2023-06-20 11:57:59,450 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:57:59,450 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@33293dac{/,null,AVAILABLE}
2023-06-20 11:57:59,452 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1ce4f3ac{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:57:59,453 INFO o.e.j.s.Server [Test worker] Started Server@5c51515f{STARTING}[11.0.15,sto=1000] @38220ms
2023-06-20 11:57:59,792 INFO o.e.j.s.Server [Test worker] Stopped Server@5c51515f{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:57:59,792 INFO o.e.j.s.Server [Test worker] Shutdown Server@5c51515f{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:57:59,795 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1ce4f3ac{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:57:59,796 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@33293dac{/,null,STOPPED}
2023-06-20 11:57:59,799 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@59ca0db6{/__admin,null,STOPPED}
2023-06-20 11:57:59,827 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 11:57:59,880 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 11:57:59,905 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:57:59,908 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7ec6cb51{/__admin,null,AVAILABLE}
2023-06-20 11:57:59,909 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:57:59,910 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6a8129d1{/,null,AVAILABLE}
2023-06-20 11:57:59,910 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@486674f6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:57:59,911 INFO o.e.j.s.Server [Test worker] Started Server@16819885{STARTING}[11.0.15,sto=1000] @38677ms
2023-06-20 11:58:00,311 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 88331 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:58:00,313 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:58:00,314 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:58:00,329 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:00,330 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4fb52fa5 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:58:00,330 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:00,330 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:58:00,330 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:00,330 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71a65c31 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:58:02,027 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 11:58:02,081 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 50 ms. Found 2 JPA repository interfaces.
2023-06-20 11:58:02,391 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 11:58:02,545 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:58:03,079 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 11:58:03,114 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@26569cfa
2023-06-20 11:58:03,115 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 11:58:03,139 INFO l.database [Test worker] Set default schema name to public
2023-06-20 11:58:03,212 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 11:58:03,452 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:58:03,485 INFO l.command [Test worker] Using deploymentId: 7251483468
2023-06-20 11:58:03,504 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 11:58:03,505 INFO l.util [Test worker] Run:                          0
2023-06-20 11:58:03,508 INFO l.util [Test worker] Previously run:               5
2023-06-20 11:58:03,511 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 11:58:03,511 INFO l.util [Test worker] -------------------------------
2023-06-20 11:58:03,512 INFO l.util [Test worker] Total change sets:            5

2023-06-20 11:58:03,514 INFO l.util [Test worker] Update summary generated
2023-06-20 11:58:03,515 INFO l.command [Test worker] Update command completed successfully.
2023-06-20 11:58:03,521 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:58:03,531 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:58:03,532 INFO l.command [Test worker] Command execution complete
2023-06-20 11:58:03,642 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 11:58:03,665 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:58:03,666 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 11:58:03,669 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@6f8a8101
2023-06-20 11:58:03,703 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:58:03,865 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 11:58:03,926 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:58:04,425 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 11:58:04,686 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 11:58:06,186 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@44a98855, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@58bb2185, org.springframework.security.web.context.SecurityContextHolderFilter@121e3c62, org.springframework.security.web.header.HeaderWriterFilter@6e2ff120, org.springframework.security.web.authentication.logout.LogoutFilter@73f344bb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@a52aba0, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@68f4c7e8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@38b46854, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@73153938, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@20bc2c00, org.springframework.security.web.session.ConcurrentSessionFilter@18f9d638, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14d7d1a8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54a6c296, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2a89db92, org.springframework.security.web.access.ExceptionTranslationFilter@7fa20767, org.springframework.security.web.access.intercept.AuthorizationFilter@742b3192]
2023-06-20 11:58:07,640 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 7.704 seconds (process running for 46.408)
2023-06-20 11:58:07,709 INFO o.e.j.s.Server [Test worker] Stopped Server@16819885{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:58:07,710 INFO o.e.j.s.Server [Test worker] Shutdown Server@16819885{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:58:07,713 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@486674f6{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:58:07,715 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6a8129d1{/,null,STOPPED}
2023-06-20 11:58:07,715 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7ec6cb51{/__admin,null,STOPPED}
2023-06-20 11:58:10,502 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:58:10,523 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@191c7dce{/__admin,null,AVAILABLE}
2023-06-20 11:58:10,527 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:58:10,527 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3d98f7fc{/,null,AVAILABLE}
2023-06-20 11:58:10,534 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6f7d5b8a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:58:10,548 INFO o.e.j.s.Server [Test worker] Started Server@662c71e5{STARTING}[11.0.15,sto=1000] @49309ms
2023-06-20 11:58:11,285 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 88331 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:58:11,285 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:58:11,286 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:58:11,297 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:11,297 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@52aac6ff uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:58:11,297 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:11,297 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:58:11,297 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:11,298 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@71231636 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:58:12,469 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:58:12,505 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 11:58:12,899 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a2e250b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6f55a3e3, org.springframework.security.web.context.SecurityContextHolderFilter@52fec246, org.springframework.security.web.header.HeaderWriterFilter@3a85d9d, org.springframework.security.web.authentication.logout.LogoutFilter@16b6b9ee, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@1c55237e, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3f8f80d3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@37904d56, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@321f5a46, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2c9f2fc2, org.springframework.security.web.session.ConcurrentSessionFilter@66c3c813, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b61601d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4ae48059, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@19503dfa, org.springframework.security.web.access.ExceptionTranslationFilter@54b1beea, org.springframework.security.web.access.intercept.AuthorizationFilter@303bbd02]
2023-06-20 11:58:13,054 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 11:58:13,054 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 11:58:13,057 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 11:58:13,319 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.755 seconds (process running for 52.086)
2023-06-20 11:58:14,161 INFO o.e.j.s.Server [Test worker] Stopped Server@662c71e5{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:58:14,162 INFO o.e.j.s.Server [Test worker] Shutdown Server@662c71e5{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:58:14,165 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6f7d5b8a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:58:14,166 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3d98f7fc{/,null,STOPPED}
2023-06-20 11:58:14,167 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@191c7dce{/__admin,null,STOPPED}
2023-06-20 11:58:14,224 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:58:14,227 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3d223638{/__admin,null,AVAILABLE}
2023-06-20 11:58:14,231 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:58:14,231 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@741f1e49{/,null,AVAILABLE}
2023-06-20 11:58:14,233 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@bef3ffc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:58:14,233 INFO o.e.j.s.Server [Test worker] Started Server@552f3c3b{STARTING}[11.0.15,sto=1000] @53000ms
2023-06-20 11:58:14,456 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 88331 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:58:14,456 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:58:14,456 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:58:14,463 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:14,463 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@81a48a8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:58:14,463 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:14,464 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:58:14,464 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:58:14,464 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7bafb922 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:58:15,094 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:58:15,111 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 11:58:15,318 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@21d856ee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fae3045, org.springframework.security.web.context.SecurityContextHolderFilter@5fe7f384, org.springframework.security.web.header.HeaderWriterFilter@50833f62, org.springframework.security.web.authentication.logout.LogoutFilter@6e297f29, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@58b8ca0a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7dcd2603, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4f7cf154, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@46b6ce71, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2bc7f48d, org.springframework.security.web.session.ConcurrentSessionFilter@5d75b88f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f46e155, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3677b9f0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39946f0, org.springframework.security.web.access.ExceptionTranslationFilter@21002025, org.springframework.security.web.access.intercept.AuthorizationFilter@152f6cb1]
2023-06-20 11:58:15,386 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 11:58:15,386 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 11:58:15,386 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-20 11:58:15,400 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.162 seconds (process running for 54.167)
2023-06-20 11:58:15,574 INFO o.e.j.s.Server [Test worker] Stopped Server@552f3c3b{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:58:15,574 INFO o.e.j.s.Server [Test worker] Shutdown Server@552f3c3b{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:58:15,577 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@bef3ffc{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:58:15,579 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@741f1e49{/,null,STOPPED}
2023-06-20 11:58:15,579 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3d223638{/__admin,null,STOPPED}
2023-06-20 11:58:16,576 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:58:16,585 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 11:58:16,612 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 11:58:16,646 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-06-20 11:58:16,658 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:58:16,663 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 11:58:16,675 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 11:59:27,712 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 11:59:28,236 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 11:59:31,531 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:59:31,577 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2da81754{/__admin,null,AVAILABLE}
2023-06-20 11:59:31,619 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:59:31,619 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4293e066{/,null,AVAILABLE}
2023-06-20 11:59:31,649 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@63d5874f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:59:31,693 INFO o.e.j.s.Server [Test worker] Started Server@331ff3ac{STARTING}[11.0.15,sto=1000] @8390ms
2023-06-20 11:59:34,767 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 11:59:34,913 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:59:34,914 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:59:34,915 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:59:35,918 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:59:35,919 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@f03ee8f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:59:35,919 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:59:35,919 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:59:35,919 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:59:35,919 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7606bd03 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:59:38,823 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 11:59:39,199 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 357 ms. Found 2 JPA repository interfaces.
2023-06-20 11:59:40,346 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 11:59:40,860 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:59:41,822 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 11:59:42,147 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@c3a1d7f
2023-06-20 11:59:42,153 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 11:59:42,671 INFO l.database [Test worker] Set default schema name to public
2023-06-20 11:59:43,054 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 11:59:44,221 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:59:44,333 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 11:59:44,366 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 11:59:44,367 INFO l.util [Test worker] Run:                          0
2023-06-20 11:59:44,368 INFO l.util [Test worker] Previously run:               5
2023-06-20 11:59:44,368 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 11:59:44,368 INFO l.util [Test worker] -------------------------------
2023-06-20 11:59:44,368 INFO l.util [Test worker] Total change sets:            5

2023-06-20 11:59:44,369 INFO l.util [Test worker] Update summary generated
2023-06-20 11:59:44,379 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:59:44,392 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 11:59:44,396 INFO l.command [Test worker] Command execution complete
2023-06-20 11:59:44,711 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 11:59:44,878 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 11:59:44,907 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 11:59:45,315 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:59:45,636 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 11:59:45,747 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@71c1e70f
2023-06-20 11:59:46,328 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 11:59:48,199 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 11:59:48,420 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 11:59:49,332 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 11:59:50,763 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 11:59:51,207 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 11:59:52,959 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3aaa8361, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3d2ee1a8, org.springframework.security.web.context.SecurityContextHolderFilter@1c66e404, org.springframework.security.web.header.HeaderWriterFilter@73b669b5, org.springframework.security.web.authentication.logout.LogoutFilter@66da0ab7, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@2473eaa8, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@245b6b85, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@505c675a, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@4a9d481b, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@76fabd1, org.springframework.security.web.session.ConcurrentSessionFilter@1b38563a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56482084, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5eef570, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@20309fde, org.springframework.security.web.access.ExceptionTranslationFilter@58cce034, org.springframework.security.web.access.intercept.AuthorizationFilter@388555bd]
2023-06-20 11:59:54,324 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 22.103 seconds (process running for 31.024)
2023-06-20 11:59:55,522 INFO o.e.j.s.Server [Test worker] Stopped Server@331ff3ac{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:59:55,523 INFO o.e.j.s.Server [Test worker] Shutdown Server@331ff3ac{STOPPING}[11.0.15,sto=1000]
2023-06-20 11:59:55,534 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@63d5874f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:59:55,539 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4293e066{/,null,STOPPED}
2023-06-20 11:59:55,541 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2da81754{/__admin,null,STOPPED}
2023-06-20 11:59:58,122 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 11:59:58,133 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@78c04131{/__admin,null,AVAILABLE}
2023-06-20 11:59:58,135 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 11:59:58,136 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@14eaec27{/,null,AVAILABLE}
2023-06-20 11:59:58,137 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@47daff53{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 11:59:58,143 INFO o.e.j.s.Server [Test worker] Started Server@7c096764{STARTING}[11.0.15,sto=1000] @34844ms
2023-06-20 11:59:58,635 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 11:59:58,636 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 11:59:58,638 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 11:59:58,648 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:59:58,649 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@61fab063 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:59:58,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:59:58,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 11:59:58,649 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 11:59:58,649 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43874d7f uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 11:59:59,731 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 11:59:59,768 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 12:00:00,173 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@39fa3fc5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5d35e169, org.springframework.security.web.context.SecurityContextHolderFilter@26569cfa, org.springframework.security.web.header.HeaderWriterFilter@5b7ec35a, org.springframework.security.web.authentication.logout.LogoutFilter@12599bf3, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@23f8fa61, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@7d207bee, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5e7558ef, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5a99e4cf, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@23b40e2a, org.springframework.security.web.session.ConcurrentSessionFilter@463ffc84, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4e328167, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@63fbefe8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@57f28893, org.springframework.security.web.access.ExceptionTranslationFilter@5ca69552, org.springframework.security.web.access.intercept.AuthorizationFilter@3bcb8460]
2023-06-20 12:00:00,370 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 12:00:00,371 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 12:00:00,373 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 12:00:00,622 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.467 seconds (process running for 37.323)
2023-06-20 12:00:01,115 INFO o.e.j.s.Server [Test worker] Stopped Server@7c096764{STOPPING}[11.0.15,sto=1000]
2023-06-20 12:00:01,115 INFO o.e.j.s.Server [Test worker] Shutdown Server@7c096764{STOPPING}[11.0.15,sto=1000]
2023-06-20 12:00:01,134 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@47daff53{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 12:00:01,135 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@14eaec27{/,null,STOPPED}
2023-06-20 12:00:01,136 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@78c04131{/__admin,null,STOPPED}
2023-06-20 12:00:01,187 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 12:00:01,191 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3bf7e9a1{/__admin,null,AVAILABLE}
2023-06-20 12:00:01,193 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 12:00:01,193 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2c2a6ccc{/,null,AVAILABLE}
2023-06-20 12:00:01,194 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@29a83a1f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 12:00:01,194 INFO o.e.j.s.Server [Test worker] Started Server@46c805be{STARTING}[11.0.15,sto=1000] @37895ms
2023-06-20 12:00:01,383 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 12:00:01,383 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 12:00:01,383 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 12:00:01,386 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:01,386 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6e3f990b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 12:00:01,387 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:01,387 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 12:00:01,387 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:01,387 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5e15c93e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 12:00:01,960 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 12:00:01,977 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 12:00:02,198 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@378c41e5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@798e786d, org.springframework.security.web.context.SecurityContextHolderFilter@419ffde3, org.springframework.security.web.header.HeaderWriterFilter@4e7b9365, org.springframework.security.web.authentication.logout.LogoutFilter@42b35632, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6f54230a, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@370efa14, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e9fcd1e, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@1bf22938, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3990f312, org.springframework.security.web.session.ConcurrentSessionFilter@519565a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@73c29540, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@61b0d0e6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@49172e03, org.springframework.security.web.access.ExceptionTranslationFilter@957771f, org.springframework.security.web.access.intercept.AuthorizationFilter@2fd2cf1f]
2023-06-20 12:00:02,251 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 12:00:02,252 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 12:00:02,253 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 12:00:02,270 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.072 seconds (process running for 38.972)
2023-06-20 12:00:02,410 INFO o.e.j.s.Server [Test worker] Stopped Server@46c805be{STOPPING}[11.0.15,sto=1000]
2023-06-20 12:00:02,411 INFO o.e.j.s.Server [Test worker] Shutdown Server@46c805be{STOPPING}[11.0.15,sto=1000]
2023-06-20 12:00:02,412 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@29a83a1f{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 12:00:02,413 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2c2a6ccc{/,null,STOPPED}
2023-06-20 12:00:02,414 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3bf7e9a1{/__admin,null,STOPPED}
2023-06-20 12:00:02,499 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 12:00:02,533 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 12:00:02,637 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 12:00:03,235 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 12:00:04,211 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 12:00:04,214 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 12:00:04,310 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 12:00:04,488 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 12:00:05,584 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 12:00:05,945 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 77a86233487901f5d2b330162f4294b5e4d3e469656b66985a30dacfc2e5a8d0
2023-06-20 12:00:07,407 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.061859S
2023-06-20 12:00:07,439 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 12:00:07,440 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 12:00:07,446 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 12:00:07,451 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 12:00:07,507 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 038c79f9990c53c09146f69d5b111c17ab9f5b029678d47137b876fa60ae87b0
2023-06-20 12:00:09,427 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.977655S
2023-06-20 12:00:09,431 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60817/test?loggerLevel=OFF)
2023-06-20 12:00:09,918 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 12:00:09,920 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 12:00:09,921 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 12:00:09,936 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:09,937 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:09,938 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5f3ecc1c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:09,938 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:09,938 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-20 12:00:09,938 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4bc71f6e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-20 12:00:09,938 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:09,939 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:09,939 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43ddde24 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:10,499 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 12:00:10,598 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 95 ms. Found 2 JPA repository interfaces.
2023-06-20 12:00:11,084 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 12:00:11,319 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@1251cdec
2023-06-20 12:00:11,320 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 12:00:11,356 INFO l.database [Test worker] Set default schema name to public
2023-06-20 12:00:11,512 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 12:00:11,535 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 12:00:11,536 INFO l.command [Test worker] Command execution complete
2023-06-20 12:00:11,540 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 12:00:11,541 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-06-20 12:00:11,557 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-06-20 12:00:11,572 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 12:00:11,623 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 12:00:11,635 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@3862d1ee]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@17b1fde5 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@c1539bf, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@56774a93, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@33a2499c, [ImportsContextCustomizer@3344bc4 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1dfd5f51, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@cae530b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 12:00:11,959 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 12:00:11,960 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 12:00:11,960 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 12:00:11,970 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:11,970 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:11,970 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7fd1342c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:11,970 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:11,970 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-20 12:00:11,970 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@b28fd1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-20 12:00:11,970 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:11,970 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:11,970 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f123e4e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:12,274 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 12:00:12,323 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 49 ms. Found 2 JPA repository interfaces.
2023-06-20 12:00:12,475 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-06-20 12:00:12,587 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@e9c9cd4
2023-06-20 12:00:12,588 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-06-20 12:00:12,617 INFO l.database [Test worker] Set default schema name to public
2023-06-20 12:00:12,713 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 12:00:12,746 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 12:00:12,748 INFO l.command [Test worker] Command execution complete
2023-06-20 12:00:12,752 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 12:00:12,753 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-06-20 12:00:12,773 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-06-20 12:00:12,779 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 12:00:12,783 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 12:00:12,788 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@1a74e65]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@17b1fde5 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@c1539bf, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@56774a93, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@33a2499c, [ImportsContextCustomizer@3344bc4 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1dfd5f51, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@cae530b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 12:00:12,945 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 12:00:12,976 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 12:00:12,984 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 12:00:13,164 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: caf9bd08532ed7b00068b5436aeff0bdd28b6ed05ce0d225529aef2d89be7596
2023-06-20 12:00:14,927 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.944591S
2023-06-20 12:00:14,929 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:60829/test?loggerLevel=OFF)
2023-06-20 12:00:15,146 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 12:00:15,148 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 12:00:15,148 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 12:00:15,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:15,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:15,155 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6373a753 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:15,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:15,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-20 12:00:15,155 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6850dec4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-20 12:00:15,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:15,155 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:15,155 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@18f333f2 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:15,362 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 12:00:15,386 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 23 ms. Found 2 JPA repository interfaces.
2023-06-20 12:00:15,513 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Starting...
2023-06-20 12:00:15,581 INFO c.z.h.p.HikariPool [Test worker] HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@3b44855
2023-06-20 12:00:15,582 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Start completed.
2023-06-20 12:00:15,600 INFO l.database [Test worker] Set default schema name to public
2023-06-20 12:00:15,671 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 12:00:15,680 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 12:00:15,684 INFO l.command [Test worker] Command execution complete
2023-06-20 12:00:15,688 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 12:00:15,688 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown initiated...
2023-06-20 12:00:15,730 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown completed.
2023-06-20 12:00:15,732 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 12:00:15,735 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 12:00:15,738 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@7a32ded4]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@2def6a91 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@c1539bf, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@56774a93, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@33a2499c, [ImportsContextCustomizer@2a056ee6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1dfd5f51, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@cae530b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 12:00:16,035 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 12:00:16,045 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 12:00:16,046 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 12:00:16,050 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:16,050 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:16,051 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@40c6afcf uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:16,051 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:16,051 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-20 12:00:16,051 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@20b23903 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-20 12:00:16,051 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:16,051 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:16,051 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7debfa04 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:16,266 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 12:00:16,294 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 27 ms. Found 2 JPA repository interfaces.
2023-06-20 12:00:16,398 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Starting...
2023-06-20 12:00:16,460 INFO c.z.h.p.HikariPool [Test worker] HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@5052423c
2023-06-20 12:00:16,461 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Start completed.
2023-06-20 12:00:16,481 INFO l.database [Test worker] Set default schema name to public
2023-06-20 12:00:16,527 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 12:00:16,538 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 12:00:16,540 INFO l.command [Test worker] Command execution complete
2023-06-20 12:00:16,541 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 12:00:16,542 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown initiated...
2023-06-20 12:00:16,543 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown completed.
2023-06-20 12:00:16,547 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 12:00:16,550 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 12:00:16,553 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@11cc4fea]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@2def6a91 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@c1539bf, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@56774a93, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@33a2499c, [ImportsContextCustomizer@2a056ee6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1dfd5f51, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@cae530b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 12:00:16,737 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 88966 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 12:00:16,738 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 12:00:16,738 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 12:00:16,740 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:16,740 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:16,740 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2843a12d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:16,740 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:16,740 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-20 12:00:16,741 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@31986d2d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-20 12:00:16,741 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 12:00:16,741 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 12:00:16,741 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@b4530ca uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 12:00:16,897 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 12:00:16,928 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 30 ms. Found 2 JPA repository interfaces.
2023-06-20 12:00:17,003 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Starting...
2023-06-20 12:00:17,046 INFO c.z.h.p.HikariPool [Test worker] HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@16107de0
2023-06-20 12:00:17,047 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Start completed.
2023-06-20 12:00:17,086 INFO l.database [Test worker] Set default schema name to public
2023-06-20 12:00:17,135 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 12:00:17,146 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 12:00:17,148 INFO l.command [Test worker] Command execution complete
2023-06-20 12:00:17,150 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 12:00:17,150 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown initiated...
2023-06-20 12:00:17,193 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown completed.
2023-06-20 12:00:17,194 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 12:00:17,196 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 12:00:17,200 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@505ba679]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@2def6a91 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@c1539bf, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@56774a93, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@33a2499c, [ImportsContextCustomizer@2a056ee6 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@1dfd5f51, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@610db97e, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@cae530b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 12:00:18,540 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 12:00:18,551 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 12:00:18,558 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 13:15:38,987 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 13:15:39,109 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 12387 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:15:39,109 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:15:39,110 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:15:39,605 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:15:39,606 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 13:15:39,606 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@348ad293 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 13:15:39,606 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:15:39,606 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused. Will be trying the next url if available
2023-06-20 13:15:39,606 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@257e0827 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['prod']]): I/O error on GET request for "http://localhost:8086/news-api/prod": Connection refused
2023-06-20 13:15:39,606 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:15:39,606 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Exception on Url - http://localhost:8086:org.springframework.web.client.ResourceAccessException: I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused. Will be trying the next url if available
2023-06-20 13:15:39,606 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@21ba2445 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): I/O error on GET request for "http://localhost:8086/news-api/default": Connection refused
2023-06-20 13:15:44,662 WARN o.s.b.a.s.s.UserDetailsServiceAutoConfiguration [Test worker] 

Using generated security password: 97be4c75-9b3f-4cda-a4a4-13039a7c125f

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-06-20 13:15:44,899 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@59ac77f9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d92e327, org.springframework.security.web.context.SecurityContextHolderFilter@5f9ccd0c, org.springframework.security.web.header.HeaderWriterFilter@42cf5a6f, org.springframework.security.web.csrf.CsrfFilter@5617168c, org.springframework.security.web.authentication.logout.LogoutFilter@5444f1c3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5acd7d1c, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@50e6ee24, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@76134251, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3ba1f56e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@609ad016, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@229514ff, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4177d422, org.springframework.security.web.access.ExceptionTranslationFilter@59282dc6, org.springframework.security.web.access.intercept.AuthorizationFilter@3ca6bd01]
2023-06-20 13:15:45,028 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 13:15:45,030 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 13:15:45,039 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 7 ms
2023-06-20 13:15:45,277 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 7.778 seconds (process running for 10.774)
2023-06-20 13:18:44,581 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:18:44,835 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5503de1{/__admin,null,AVAILABLE}
2023-06-20 13:18:44,923 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:18:44,925 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@468173fa{/,null,AVAILABLE}
2023-06-20 13:18:45,063 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@70e94ecb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:18:45,174 INFO o.e.j.s.Server [Test worker] Started Server@41fa769c{STARTING}[11.0.15,sto=1000] @9729ms
2023-06-20 13:18:48,706 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 13:18:48,886 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:18:48,886 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:18:48,890 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:18:49,890 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:18:49,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@ad0bb4e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:18:49,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:18:49,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:18:49,891 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:18:49,891 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@38089dae uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:18:55,019 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:18:55,174 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:18:56,783 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@5319e4fc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b48361e, org.springframework.security.web.context.SecurityContextHolderFilter@7e8f97dd, org.springframework.security.web.header.HeaderWriterFilter@1cb7f2fe, org.springframework.security.web.authentication.logout.LogoutFilter@129b0ed, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@7f33ad20, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@52a23575, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3f473daf, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@969c2f9, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@44b82007, org.springframework.security.web.session.ConcurrentSessionFilter@34907a49, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@69862a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@268f126f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ae22651, org.springframework.security.web.access.ExceptionTranslationFilter@28dd038f, org.springframework.security.web.access.intercept.AuthorizationFilter@5ce1ec7]
2023-06-20 13:18:57,537 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 13:18:57,537 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 13:18:57,548 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 7 ms
2023-06-20 13:18:57,850 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 12.16 seconds (process running for 22.41)
2023-06-20 13:18:58,611 INFO o.e.j.s.Server [Test worker] Stopped Server@41fa769c{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:18:58,612 INFO o.e.j.s.Server [Test worker] Shutdown Server@41fa769c{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:18:58,623 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@70e94ecb{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:18:58,626 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@468173fa{/,null,STOPPED}
2023-06-20 13:18:58,627 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5503de1{/__admin,null,STOPPED}
2023-06-20 13:18:58,706 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:18:58,758 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 13:18:58,787 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:18:58,801 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7d364bce{/__admin,null,AVAILABLE}
2023-06-20 13:18:58,802 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:18:58,802 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1aa7d66e{/,null,AVAILABLE}
2023-06-20 13:18:58,803 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4adb2b87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:18:58,806 INFO o.e.j.s.Server [Test worker] Started Server@221ef0f0{STARTING}[11.0.15,sto=1000] @23365ms
2023-06-20 13:18:59,040 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:18:59,041 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:18:59,042 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:18:59,051 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:18:59,053 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7892635c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:18:59,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:18:59,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:18:59,053 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:18:59,053 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@28ab7ffb uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:00,326 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:19:00,600 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 219 ms. Found 2 JPA repository interfaces.
2023-06-20 13:19:00,995 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 13:19:01,169 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:19:02,063 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 13:19:02,428 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@1377b7bf
2023-06-20 13:19:02,435 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 13:19:02,871 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:19:03,350 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:19:03,562 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:19:03,563 INFO l.command [Test worker] Command execution complete
2023-06-20 13:19:03,567 WARN o.s.w.c.s.GenericWebApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 13:19:03,567 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown initiated...
2023-06-20 13:19:03,573 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Shutdown completed.
2023-06-20 13:19:03,597 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 13:19:03,666 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 13:19:03,683 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.NewsManagerApplicationTests@74d6d5ca]
java.lang.IllegalStateException: Failed to load ApplicationContext for [WebMergedContextConfiguration@49842c0d testClass = ru.clevertec.NewsManager.NewsManagerApplicationTests, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.context.SpringBootTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@0, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@30457e14, org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6aa648b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@88a8218, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.boot.test.web.client.TestRestTemplateContextCustomizer@294aaa6, org.springframework.boot.test.web.reactive.server.WebTestClientContextCustomizer@57e9cd2, org.springframework.boot.test.context.SpringBootTestAnnotation@92a47355], resourceBasePath = "src/main/webapp", contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.web.ServletTestExecutionListener.setUpRequestContextIfNecessary(ServletTestExecutionListener.java:191)
	at org.springframework.test.context.web.ServletTestExecutionListener.prepareTestInstance(ServletTestExecutionListener.java:130)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 13:19:03,750 INFO o.e.j.s.Server [Test worker] Stopped Server@221ef0f0{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:03,751 INFO o.e.j.s.Server [Test worker] Shutdown Server@221ef0f0{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:03,754 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4adb2b87{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:19:03,756 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1aa7d66e{/,null,STOPPED}
2023-06-20 13:19:03,756 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7d364bce{/__admin,null,STOPPED}
2023-06-20 13:19:06,073 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:19:06,087 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@c04a1ca{/__admin,null,AVAILABLE}
2023-06-20 13:19:06,090 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:19:06,091 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5c00b341{/,null,AVAILABLE}
2023-06-20 13:19:06,092 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f62fa28{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:19:06,096 INFO o.e.j.s.Server [Test worker] Started Server@4cb3e76c{STARTING}[11.0.15,sto=1000] @30656ms
2023-06-20 13:19:07,324 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:19:07,328 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:19:07,328 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:19:07,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:07,346 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@27cd156a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:07,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:07,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:19:07,346 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:07,346 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3f41a7ab uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:08,975 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:19:09,016 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:19:09,472 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@40f95b87, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4907472e, org.springframework.security.web.context.SecurityContextHolderFilter@6d5ef5ee, org.springframework.security.web.header.HeaderWriterFilter@393d1a05, org.springframework.security.web.authentication.logout.LogoutFilter@2073d71b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@63ad4b55, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@5dd88334, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@258d7d06, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@ff03384, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@50dfac19, org.springframework.security.web.session.ConcurrentSessionFilter@7e8c465d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@426ee667, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1352211d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ef48e49, org.springframework.security.web.access.ExceptionTranslationFilter@3b5299a3, org.springframework.security.web.access.intercept.AuthorizationFilter@2c492b03]
2023-06-20 13:19:09,599 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 13:19:09,599 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 13:19:09,601 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-06-20 13:19:09,634 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 3.528 seconds (process running for 34.193)
2023-06-20 13:19:09,888 INFO o.e.j.s.Server [Test worker] Stopped Server@4cb3e76c{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:09,889 INFO o.e.j.s.Server [Test worker] Shutdown Server@4cb3e76c{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:09,899 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f62fa28{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:19:09,900 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5c00b341{/,null,STOPPED}
2023-06-20 13:19:09,901 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@c04a1ca{/__admin,null,STOPPED}
2023-06-20 13:19:10,234 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:19:10,309 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 13:19:10,522 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 13:19:11,455 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 13:19:12,766 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 13:19:12,776 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 13:19:12,895 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 13:19:13,066 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 13:19:14,380 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 13:19:15,469 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 888cc7df562fd1dcedf780e5d0d9e4d329a5cdb1ef46f69705f549614c8ba1f0
2023-06-20 13:19:17,836 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT4.915218S
2023-06-20 13:19:17,977 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 13:19:17,977 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 13:19:17,980 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 13:19:17,983 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 13:19:18,283 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 34f3f848dd041e3b70a93811f4b6a2f058c8065ce4cea95ceacff87afa72542e
2023-06-20 13:19:20,194 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.212383S
2023-06-20 13:19:20,202 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62362/test?loggerLevel=OFF)
2023-06-20 13:19:20,254 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:19:20,263 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4b1c6936{/__admin,null,AVAILABLE}
2023-06-20 13:19:20,266 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:19:20,266 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@16e483d9{/,null,AVAILABLE}
2023-06-20 13:19:20,275 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@408227af{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:19:20,281 INFO o.e.j.s.Server [Test worker] Started Server@7b6c6005{STARTING}[11.0.15,sto=1000] @44841ms
2023-06-20 13:19:20,701 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:19:20,702 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:19:20,702 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:19:20,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:20,714 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@68cacf8b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:20,714 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:20,715 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:19:20,715 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:20,715 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@75c85a8a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:21,198 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:19:21,240 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 40 ms. Found 2 JPA repository interfaces.
2023-06-20 13:19:21,431 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 13:19:21,631 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@5d7b361
2023-06-20 13:19:21,633 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 13:19:21,662 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:19:21,828 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:19:21,847 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:19:21,851 INFO l.command [Test worker] Command execution complete
2023-06-20 13:19:21,855 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 13:19:21,855 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown initiated...
2023-06-20 13:19:21,861 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Shutdown completed.
2023-06-20 13:19:21,867 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 13:19:21,873 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 13:19:21,876 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@5c4b230c]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@5c3e0c92 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@10ad20cb, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@44a9ea9a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@30457e14, [ImportsContextCustomizer@6dafdb99 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6aa648b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@88a8218, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@8c57d28b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 13:19:22,136 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:19:22,138 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:19:22,138 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:19:22,143 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:22,144 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4f1545bd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:22,145 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:22,146 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:19:22,146 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:22,146 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1df2b230 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:22,374 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:19:22,408 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 33 ms. Found 2 JPA repository interfaces.
2023-06-20 13:19:22,527 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Starting...
2023-06-20 13:19:22,613 INFO c.z.h.p.HikariPool [Test worker] HikariPool-3 - Added connection org.postgresql.jdbc.PgConnection@65dfce2f
2023-06-20 13:19:22,614 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Start completed.
2023-06-20 13:19:22,635 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:19:22,689 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:19:22,727 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:19:22,730 INFO l.command [Test worker] Command execution complete
2023-06-20 13:19:22,735 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 13:19:22,736 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown initiated...
2023-06-20 13:19:22,784 INFO c.z.h.HikariDataSource [Test worker] HikariPool-3 - Shutdown completed.
2023-06-20 13:19:22,789 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 13:19:22,792 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 13:19:22,800 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest@5769eb7b]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@5c3e0c92 testClass = ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@10ad20cb, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@44a9ea9a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@30457e14, [ImportsContextCustomizer@6dafdb99 key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6aa648b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@88a8218, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@8c57d28b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 13:19:22,814 INFO o.e.j.s.Server [Test worker] Stopped Server@7b6c6005{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:22,814 INFO o.e.j.s.Server [Test worker] Shutdown Server@7b6c6005{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:22,819 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@408227af{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:19:22,820 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@16e483d9{/,null,STOPPED}
2023-06-20 13:19:22,820 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4b1c6936{/__admin,null,STOPPED}
2023-06-20 13:19:22,894 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:19:22,916 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 13:19:22,926 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 13:19:23,175 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 6915a71f882ecdb4306db40c6154ddcd73f2d0a49bf025d67718e7909d6327e6
2023-06-20 13:19:25,316 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.390723S
2023-06-20 13:19:25,318 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62369/test?loggerLevel=OFF)
2023-06-20 13:19:25,348 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:19:25,353 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5db9952b{/__admin,null,AVAILABLE}
2023-06-20 13:19:25,354 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:19:25,355 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5eea3f69{/,null,AVAILABLE}
2023-06-20 13:19:25,356 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@367fd31a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:19:25,357 INFO o.e.j.s.Server [Test worker] Started Server@f0ced73{STARTING}[11.0.15,sto=1000] @49917ms
2023-06-20 13:19:25,699 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:19:25,700 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:19:25,700 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:19:25,705 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:25,706 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2351ad5a uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:25,707 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:25,707 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:19:25,707 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:25,707 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@60bd7262 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:25,902 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:19:25,928 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2023-06-20 13:19:26,031 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Starting...
2023-06-20 13:19:26,111 INFO c.z.h.p.HikariPool [Test worker] HikariPool-4 - Added connection org.postgresql.jdbc.PgConnection@1f122cbb
2023-06-20 13:19:26,111 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Start completed.
2023-06-20 13:19:26,131 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:19:26,209 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:19:26,220 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:19:26,222 INFO l.command [Test worker] Command execution complete
2023-06-20 13:19:26,224 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 13:19:26,224 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown initiated...
2023-06-20 13:19:26,264 INFO c.z.h.HikariDataSource [Test worker] HikariPool-4 - Shutdown completed.
2023-06-20 13:19:26,266 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 13:19:26,268 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 13:19:26,270 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@42cb75c9]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@5e0bf895 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@10ad20cb, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@44a9ea9a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@30457e14, [ImportsContextCustomizer@701dbfbd key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6aa648b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@88a8218, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@8c57d28b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 13:19:26,510 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:19:26,512 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:19:26,512 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:19:26,519 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:26,522 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2b7e44af uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:26,522 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:26,522 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:19:26,522 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:26,522 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3fbda43d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:26,749 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:19:26,774 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 24 ms. Found 2 JPA repository interfaces.
2023-06-20 13:19:26,891 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Starting...
2023-06-20 13:19:26,941 INFO c.z.h.p.HikariPool [Test worker] HikariPool-5 - Added connection org.postgresql.jdbc.PgConnection@601f58a3
2023-06-20 13:19:26,942 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Start completed.
2023-06-20 13:19:26,966 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:19:27,013 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:19:27,023 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:19:27,025 INFO l.command [Test worker] Command execution complete
2023-06-20 13:19:27,026 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 13:19:27,026 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown initiated...
2023-06-20 13:19:27,027 INFO c.z.h.HikariDataSource [Test worker] HikariPool-5 - Shutdown completed.
2023-06-20 13:19:27,028 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 13:19:27,035 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 13:19:27,039 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@45b97486]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@5e0bf895 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@10ad20cb, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@44a9ea9a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@30457e14, [ImportsContextCustomizer@701dbfbd key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6aa648b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@88a8218, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@8c57d28b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 13:19:27,263 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Starting NewsPostgresQLRepositoryTest using Java 17.0.2 with PID 13317 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:19:27,264 DEBUG r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:19:27,265 INFO r.c.N.c.i.NewsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:19:27,268 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:27,268 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@41a6a728 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:27,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:27,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:19:27,269 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:19:27,269 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@43582af1 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:19:27,446 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:19:27,475 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 28 ms. Found 2 JPA repository interfaces.
2023-06-20 13:19:27,554 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Starting...
2023-06-20 13:19:27,618 INFO c.z.h.p.HikariPool [Test worker] HikariPool-6 - Added connection org.postgresql.jdbc.PgConnection@1e92420f
2023-06-20 13:19:27,618 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Start completed.
2023-06-20 13:19:27,640 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:19:27,684 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:19:27,698 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:19:27,701 INFO l.command [Test worker] Command execution complete
2023-06-20 13:19:27,702 WARN o.s.c.a.AnnotationConfigApplicationContext [Test worker] Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
2023-06-20 13:19:27,702 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown initiated...
2023-06-20 13:19:27,703 INFO c.z.h.HikariDataSource [Test worker] HikariPool-6 - Shutdown completed.
2023-06-20 13:19:27,705 INFO o.s.b.a.l.ConditionEvaluationReportLogger [Test worker] 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2023-06-20 13:19:27,707 ERROR o.s.b.d.LoggingFailureAnalysisReporter [Test worker] 

***************************
APPLICATION FAILED TO START
***************************

Description:

Liquibase failed to start because no changelog could be found at 'classpath:/db/changelog/db.changelog-master.yaml'.

Action:

Make sure a Liquibase changelog is present at the configured path.

2023-06-20 13:19:27,709 ERROR o.s.t.c.TestContextManager [Test worker] Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener] to prepare test instance [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest@e6f7638]
java.lang.IllegalStateException: Failed to load ApplicationContext for [MergedContextConfiguration@5e0bf895 testClass = ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest, locations = [], classes = [ru.clevertec.NewsManager.NewsManagerApplication], contextInitializerClasses = [], activeProfiles = [], propertySourceLocations = [], propertySourceProperties = ["org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTestContextBootstrapper=true"], contextCustomizers = [org.springframework.boot.test.autoconfigure.OverrideAutoConfigurationContextCustomizerFactory$DisableAutoConfigurationContextCustomizer@10ad20cb, org.springframework.boot.test.autoconfigure.actuate.observability.ObservabilityContextCustomizerFactory$DisableObservabilityContextCustomizer@1f, org.springframework.boot.test.autoconfigure.filter.TypeExcludeFiltersContextCustomizer@351584c0, org.springframework.boot.test.autoconfigure.properties.PropertyMappingContextCustomizer@44a9ea9a, org.springframework.boot.test.autoconfigure.web.servlet.WebDriverContextCustomizerFactory$Customizer@30457e14, [ImportsContextCustomizer@701dbfbd key = [org.springframework.boot.autoconfigure.cache.CacheAutoConfiguration, org.springframework.boot.autoconfigure.data.jpa.JpaRepositoriesAutoConfiguration, org.springframework.boot.autoconfigure.flyway.FlywayAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.DataSourceTransactionManagerAutoConfiguration, org.springframework.boot.autoconfigure.jdbc.JdbcTemplateAutoConfiguration, org.springframework.boot.autoconfigure.liquibase.LiquibaseAutoConfiguration, org.springframework.boot.autoconfigure.orm.jpa.HibernateJpaAutoConfiguration, org.springframework.boot.autoconfigure.sql.init.SqlInitializationAutoConfiguration, org.springframework.boot.autoconfigure.transaction.TransactionAutoConfiguration, org.springframework.boot.test.autoconfigure.jdbc.TestDatabaseAutoConfiguration, org.springframework.boot.test.autoconfigure.orm.jpa.TestEntityManagerAutoConfiguration]], org.springframework.boot.test.context.filter.ExcludeFilterContextCustomizer@6aa648b9, org.springframework.boot.test.json.DuplicateJsonObjectContextCustomizerFactory$DuplicateJsonObjectContextCustomizer@88a8218, org.springframework.boot.test.mock.mockito.MockitoContextCustomizer@0, org.springframework.test.context.support.DynamicPropertiesContextCustomizer@9ece5abb, org.springframework.boot.test.context.SpringBootTestAnnotation@8c57d28b], contextLoader = org.springframework.boot.test.context.SpringBootContextLoader, parent = null]
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:142)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:127)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:141)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:97)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:241)
	at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$10(ClassBasedTestDescriptor.java:377)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:382)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$11(ClassBasedTestDescriptor.java:377)
	at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)
	at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)
	at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)
	at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)
	at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)
	at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)
	at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)
	at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:376)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:289)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:288)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:278)
	at java.base/java.util.Optional.orElseGet(Optional.java:364)
	at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:277)
	at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:105)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:104)
	at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:68)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)
	at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)
	at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)
	at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)
	at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)
	at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:147)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:127)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:90)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:55)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:102)
	at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:54)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)
	at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)
	at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)
	at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:99)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)
	at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)
	at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:62)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:568)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)
	at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)
	at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)
	at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)
	at jdk.proxy1/jdk.proxy1.$Proxy2.stop(Unknown Source)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker$3.run(TestWorker.java:193)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.executeAndMaintainThreadName(TestWorker.java:129)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:100)
	at org.gradle.api.internal.tasks.testing.worker.TestWorker.execute(TestWorker.java:60)
	at org.gradle.process.internal.worker.child.ActionExecutionWorker.execute(ActionExecutionWorker.java:56)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:113)
	at org.gradle.process.internal.worker.child.SystemApplicationClassLoaderWorker.call(SystemApplicationClassLoaderWorker.java:65)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.run(GradleWorkerMain.java:69)
	at worker.org.gradle.process.internal.worker.GradleWorkerMain.main(GradleWorkerMain.java:74)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'liquibase' defined in class path resource [org/springframework/boot/autoconfigure/liquibase/LiquibaseAutoConfiguration$LiquibaseConfiguration.class]: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:313)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200)
	at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1156)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:733)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:435)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:311)
	at org.springframework.boot.test.context.SpringBootContextLoader.lambda$loadContext$3(SpringBootContextLoader.java:137)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:58)
	at org.springframework.util.function.ThrowingSupplier.get(ThrowingSupplier.java:46)
	at org.springframework.boot.SpringApplication.withHook(SpringApplication.java:1405)
	at org.springframework.boot.test.context.SpringBootContextLoader$ContextLoaderHook.run(SpringBootContextLoader.java:545)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:137)
	at org.springframework.boot.test.context.SpringBootContextLoader.loadContext(SpringBootContextLoader.java:108)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:184)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:118)
	... 88 common frames omitted
Caused by: liquibase.exception.CommandExecutionException: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.command.CommandScope.execute(CommandScope.java:235)
	at liquibase.Liquibase.lambda$update$0(Liquibase.java:237)
	at liquibase.Scope.lambda$child$0(Scope.java:194)
	at liquibase.Scope.child(Scope.java:203)
	at liquibase.Scope.child(Scope.java:193)
	at liquibase.Scope.child(Scope.java:172)
	at liquibase.Liquibase.runInScope(Liquibase.java:1605)
	at liquibase.Liquibase.update(Liquibase.java:229)
	at liquibase.Liquibase.update(Liquibase.java:213)
	at liquibase.integration.spring.SpringLiquibase.performUpdate(SpringLiquibase.java:329)
	at liquibase.integration.spring.SpringLiquibase.afterPropertiesSet(SpringLiquibase.java:284)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766)
	... 111 common frames omitted
Caused by: liquibase.exception.ChangeLogParseException: classpath:/db/changelog/db.changelog-master.yaml does not exist
	at liquibase.parser.core.yaml.YamlChangeLogParser.parse(YamlChangeLogParser.java:31)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.getDatabaseChangeLog(DatabaseChangelogCommandStep.java:104)
	at liquibase.command.core.helpers.DatabaseChangelogCommandStep.run(DatabaseChangelogCommandStep.java:81)
	at liquibase.command.CommandScope.execute(CommandScope.java:212)
	... 123 common frames omitted
2023-06-20 13:19:27,713 INFO o.e.j.s.Server [Test worker] Stopped Server@f0ced73{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:27,713 INFO o.e.j.s.Server [Test worker] Shutdown Server@f0ced73{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:19:27,719 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@367fd31a{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:19:27,722 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5eea3f69{/,null,STOPPED}
2023-06-20 13:19:27,722 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5db9952b{/__admin,null,STOPPED}
2023-06-20 13:21:02,717 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:21:03,733 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 13:21:09,724 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:21:09,986 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@30bf26df{/__admin,null,AVAILABLE}
2023-06-20 13:21:10,024 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:21:10,025 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@27f3f512{/,null,AVAILABLE}
2023-06-20 13:21:10,054 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5a034157{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:10,089 INFO o.e.j.s.Server [Test worker] Started Server@715a70e9{STARTING}[11.0.15,sto=1000] @14865ms
2023-06-20 13:21:13,461 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 13:21:13,774 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 14037 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:21:13,776 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:21:13,779 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:21:15,099 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:15,101 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@40dd552c uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:15,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:15,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:21:15,101 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:15,101 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@afee63 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:19,480 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:21:19,859 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 358 ms. Found 2 JPA repository interfaces.
2023-06-20 13:21:21,104 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 13:21:21,493 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:21:22,552 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 13:21:22,921 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@35975b05
2023-06-20 13:21:22,924 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 13:21:23,356 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:21:23,842 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:21:25,093 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 13:21:25,220 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 13:21:25,256 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 13:21:25,257 INFO l.util [Test worker] Run:                          0
2023-06-20 13:21:25,257 INFO l.util [Test worker] Previously run:               5
2023-06-20 13:21:25,257 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 13:21:25,257 INFO l.util [Test worker] -------------------------------
2023-06-20 13:21:25,257 INFO l.util [Test worker] Total change sets:            5

2023-06-20 13:21:25,259 INFO l.util [Test worker] Update summary generated
2023-06-20 13:21:25,267 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:21:25,284 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:21:25,287 INFO l.command [Test worker] Command execution complete
2023-06-20 13:21:25,677 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 13:21:25,840 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 13:21:25,846 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 13:21:26,205 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:21:26,525 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 13:21:26,628 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@465a121d
2023-06-20 13:21:27,218 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:21:29,085 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 13:21:29,145 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 13:21:29,145 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] constraint "fknxm8x9npdhuwxv2x2wxsghm17" of relation "comment" does not exist, skipping
2023-06-20 13:21:29,213 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-06-20 13:21:29,217 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:21:30,119 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 13:21:31,888 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:21:32,375 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 13:21:33,724 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@598dca0a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1b38563a, org.springframework.security.web.context.SecurityContextHolderFilter@7054edda, org.springframework.security.web.header.HeaderWriterFilter@d70bdec, org.springframework.security.web.authentication.logout.LogoutFilter@77f4742b, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@332c3e71, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1cc73bb1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7782b3c5, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@52e7bed1, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@1c7c56d, org.springframework.security.web.session.ConcurrentSessionFilter@202001a4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7de47f81, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@661a5ac0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d2aa65d, org.springframework.security.web.access.ExceptionTranslationFilter@5e491535, org.springframework.security.web.access.intercept.AuthorizationFilter@18870976]
2023-06-20 13:21:34,970 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 24.704 seconds (process running for 39.748)
2023-06-20 13:21:36,463 INFO o.e.j.s.Server [Test worker] Stopped Server@715a70e9{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:36,464 INFO o.e.j.s.Server [Test worker] Shutdown Server@715a70e9{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:36,474 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5a034157{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:36,480 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@27f3f512{/,null,STOPPED}
2023-06-20 13:21:36,482 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@30bf26df{/__admin,null,STOPPED}
2023-06-20 13:21:36,882 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:21:37,035 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 13:21:37,162 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 13:21:37,933 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 13:21:39,019 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 13:21:39,023 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 13:21:39,166 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 13:21:39,341 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 13:21:40,577 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 13:21:41,447 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: 3bd804469cbb4a6d9665d71b7296f1220a3330fdd99adde799a2bef2f122371c
2023-06-20 13:21:43,169 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT3.989355S
2023-06-20 13:21:43,196 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 13:21:43,197 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 13:21:43,199 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 13:21:43,203 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 13:21:43,266 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: ddfbc03848a4c2751b299835326a86ba9f5dc4dcb3d15a716a7674e0647bef7e
2023-06-20 13:21:45,014 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.812245S
2023-06-20 13:21:45,019 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62411/test?loggerLevel=OFF)
2023-06-20 13:21:45,058 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:21:45,064 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4bd2a8b0{/__admin,null,AVAILABLE}
2023-06-20 13:21:45,065 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:21:45,065 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@37c595aa{/,null,AVAILABLE}
2023-06-20 13:21:45,067 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@63f22d37{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:45,069 INFO o.e.j.s.Server [Test worker] Started Server@f3bea57{STARTING}[11.0.15,sto=1000] @49847ms
2023-06-20 13:21:45,500 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 14037 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:21:45,501 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:21:45,501 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:21:45,512 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:45,512 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@611ce139 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:45,512 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:45,512 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:21:45,512 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:45,512 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@221577de uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:46,059 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:21:46,108 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 46 ms. Found 2 JPA repository interfaces.
2023-06-20 13:21:46,323 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 13:21:46,540 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@321b8863
2023-06-20 13:21:46,541 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 13:21:46,582 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:21:46,758 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:21:46,982 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 13:21:46,994 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 13:21:47,196 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 13:21:47,197 INFO l.util [Test worker] Run:                          5
2023-06-20 13:21:47,198 INFO l.util [Test worker] Previously run:               0
2023-06-20 13:21:47,198 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 13:21:47,198 INFO l.util [Test worker] -------------------------------
2023-06-20 13:21:47,199 INFO l.util [Test worker] Total change sets:            5

2023-06-20 13:21:47,201 INFO l.util [Test worker] Update summary generated
2023-06-20 13:21:47,214 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:21:47,229 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:21:47,230 INFO l.command [Test worker] Command execution complete
2023-06-20 13:21:47,386 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 13:21:47,429 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:21:47,431 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 13:21:47,446 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@32bfd243
2023-06-20 13:21:47,523 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:21:47,859 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 13:21:47,877 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 13:21:47,878 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-06-20 13:21:47,881 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 13:21:47,881 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-06-20 13:21:47,883 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 13:21:47,883 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-06-20 13:21:47,919 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-06-20 13:21:47,922 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:21:48,340 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 3.246 seconds (process running for 53.118)
2023-06-20 13:21:49,306 INFO o.e.j.s.Server [Test worker] Stopped Server@f3bea57{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:49,310 INFO o.e.j.s.Server [Test worker] Shutdown Server@f3bea57{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:49,318 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@63f22d37{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:49,319 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@37c595aa{/,null,STOPPED}
2023-06-20 13:21:49,320 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4bd2a8b0{/__admin,null,STOPPED}
2023-06-20 13:21:49,354 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:21:49,386 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 13:21:49,401 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 13:21:49,580 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f0ffd0be96cb64fde758fe15cf52429669316de69f7813432d31b2a5cb3c2762
2023-06-20 13:21:51,434 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT2.034882S
2023-06-20 13:21:51,436 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62425/test?loggerLevel=OFF)
2023-06-20 13:21:51,478 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:21:51,485 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5fd6cf33{/__admin,null,AVAILABLE}
2023-06-20 13:21:51,486 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:21:51,486 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3ed545ab{/,null,AVAILABLE}
2023-06-20 13:21:51,487 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7e5700c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:51,488 INFO o.e.j.s.Server [Test worker] Started Server@48b16f22{STARTING}[11.0.15,sto=1000] @56266ms
2023-06-20 13:21:51,870 INFO o.e.j.s.Server [Test worker] Stopped Server@48b16f22{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:51,870 INFO o.e.j.s.Server [Test worker] Shutdown Server@48b16f22{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:51,872 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7e5700c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:51,873 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3ed545ab{/,null,STOPPED}
2023-06-20 13:21:51,873 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5fd6cf33{/__admin,null,STOPPED}
2023-06-20 13:21:54,318 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:21:54,328 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@6e8d2ccd{/__admin,null,AVAILABLE}
2023-06-20 13:21:54,332 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:21:54,333 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3210454{/,null,AVAILABLE}
2023-06-20 13:21:54,335 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@da3cab{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:54,340 INFO o.e.j.s.Server [Test worker] Started Server@6e7103dd{STARTING}[11.0.15,sto=1000] @59117ms
2023-06-20 13:21:54,820 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 14037 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:21:54,822 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:21:54,822 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:21:54,830 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:54,831 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@281e68dd uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:54,831 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:54,831 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:21:54,831 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:54,831 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@280005ed uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:55,904 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:21:55,945 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:21:56,401 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@560a7823, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@397b68ed, org.springframework.security.web.context.SecurityContextHolderFilter@c8de603, org.springframework.security.web.header.HeaderWriterFilter@11b9cbef, org.springframework.security.web.authentication.logout.LogoutFilter@65988f4f, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3dfa4c9b, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@1c395e9c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@3616e609, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@5abac3d5, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6f601ce0, org.springframework.security.web.session.ConcurrentSessionFilter@32fbea, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12f9db3f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d408c3c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ec789ab, org.springframework.security.web.access.ExceptionTranslationFilter@721d8efb, org.springframework.security.web.access.intercept.AuthorizationFilter@20d8048c]
2023-06-20 13:21:56,747 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 13:21:56,748 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 13:21:56,755 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 4 ms
2023-06-20 13:21:57,297 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.941 seconds (process running for 62.076)
2023-06-20 13:21:58,135 INFO o.e.j.s.Server [Test worker] Stopped Server@6e7103dd{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:58,136 INFO o.e.j.s.Server [Test worker] Shutdown Server@6e7103dd{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:21:58,139 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@da3cab{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:58,142 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3210454{/,null,STOPPED}
2023-06-20 13:21:58,143 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@6e8d2ccd{/__admin,null,STOPPED}
2023-06-20 13:21:58,203 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:21:58,213 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3f5b2857{/__admin,null,AVAILABLE}
2023-06-20 13:21:58,219 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:21:58,219 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3cea2750{/,null,AVAILABLE}
2023-06-20 13:21:58,221 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1b3fadda{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:21:58,222 INFO o.e.j.s.Server [Test worker] Started Server@530e1f71{STARTING}[11.0.15,sto=1000] @63000ms
2023-06-20 13:21:58,569 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 14037 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:21:58,570 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:21:58,570 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:21:58,579 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:58,579 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@66023b3 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:58,579 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:58,579 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:21:58,579 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:21:58,579 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4836e093 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:21:59,386 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:21:59,408 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:21:59,719 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@72f855b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@23b31c6c, org.springframework.security.web.context.SecurityContextHolderFilter@4c914e12, org.springframework.security.web.header.HeaderWriterFilter@11d5a35b, org.springframework.security.web.authentication.logout.LogoutFilter@3c4e4344, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@72b475c7, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@3c2e5cb6, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@70573f5f, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6a38c91e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@6d362f40, org.springframework.security.web.session.ConcurrentSessionFilter@7c17d7d1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14209c3e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@28533a9a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@24d2587e, org.springframework.security.web.access.ExceptionTranslationFilter@16f9d20c, org.springframework.security.web.access.intercept.AuthorizationFilter@21247135]
2023-06-20 13:21:59,813 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 13:21:59,813 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 13:21:59,814 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 13:21:59,836 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.59 seconds (process running for 64.615)
2023-06-20 13:22:00,242 INFO o.e.j.s.Server [Test worker] Stopped Server@530e1f71{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:22:00,248 INFO o.e.j.s.Server [Test worker] Shutdown Server@530e1f71{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:22:00,266 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1b3fadda{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:22:00,268 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3cea2750{/,null,STOPPED}
2023-06-20 13:22:00,269 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3f5b2857{/__admin,null,STOPPED}
2023-06-20 13:22:02,487 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:22:02,495 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 13:22:02,503 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 13:22:02,507 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:22:02,508 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 13:22:02,517 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 13:23:59,352 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:24:00,036 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 13:24:00,455 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 13:24:01,568 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 13:24:02,771 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 13:24:02,776 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 13:24:02,840 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 13:24:03,017 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 13:24:04,296 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 13:24:05,024 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: a0a94757d238f2566ece253dbd8287fd5a17cea4f865560718b1d753329421c8
2023-06-20 13:24:06,875 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT4.016458S
2023-06-20 13:24:06,901 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 13:24:06,901 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 13:24:06,904 INFO o.t.DockerClientFactory [Test worker]  Docker server version should be at least 1.6.0
2023-06-20 13:24:06,906 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 13:24:06,977 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: e09bb46be5743f8921073fee5b641873e0d5207b24b4d6f26c268de7ba68b079
2023-06-20 13:24:08,800 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.894127S
2023-06-20 13:24:08,803 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62436/test?loggerLevel=OFF)
2023-06-20 13:24:11,732 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:24:11,806 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3313463c{/__admin,null,AVAILABLE}
2023-06-20 13:24:11,836 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:24:11,836 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3611153f{/,null,AVAILABLE}
2023-06-20 13:24:11,861 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@1de13f34{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:11,900 INFO o.e.j.s.Server [Test worker] Started Server@6d17914a{STARTING}[11.0.15,sto=1000] @17185ms
2023-06-20 13:24:14,879 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 13:24:15,369 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.2 with PID 14973 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:24:15,373 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:24:15,380 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:24:15,997 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:15,997 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5d5ae6aa uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:15,997 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:15,997 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:24:15,997 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:15,998 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@7619fbe7 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:17,233 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:24:17,623 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 373 ms. Found 2 JPA repository interfaces.
2023-06-20 13:24:18,711 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 13:24:19,234 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@54d9b23a
2023-06-20 13:24:19,245 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 13:24:19,636 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:24:20,093 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:24:21,173 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 13:24:21,199 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 13:24:21,470 INFO l.command [Test worker] Using deploymentId: 7256661215
2023-06-20 13:24:21,510 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 13:24:21,576 INFO l.changelog [Test worker] Table comment created
2023-06-20 13:24:21,578 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableComment::ArtsemAverkov ran successfully in 23ms
2023-06-20 13:24:21,607 INFO l.changelog [Test worker] Table news created
2023-06-20 13:24:21,609 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::createTableNews::ArtsemAverkov ran successfully in 11ms
2023-06-20 13:24:21,634 INFO l.changelog [Test worker] Foreign key constraint added to comment (news_id)
2023-06-20 13:24:21,636 INFO l.changelog [Test worker] ChangeSet db/changelog/003-create-tables.xml::addForeignKey::ArtsemAverkov ran successfully in 14ms
2023-06-20 13:24:21,649 INFO l.changelog [Test worker] New row inserted into news
2023-06-20 13:24:21,651 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertData::ArtsemAverkov ran successfully in 10ms
2023-06-20 13:24:21,670 INFO l.changelog [Test worker] New row inserted into comment
2023-06-20 13:24:21,672 INFO l.changelog [Test worker] ChangeSet db/changelog/004-insert-data.xml::insertCommentData::ArtsemAverkov ran successfully in 6ms
2023-06-20 13:24:21,687 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 13:24:21,688 INFO l.util [Test worker] Run:                          5
2023-06-20 13:24:21,689 INFO l.util [Test worker] Previously run:               0
2023-06-20 13:24:21,689 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 13:24:21,690 INFO l.util [Test worker] -------------------------------
2023-06-20 13:24:21,690 INFO l.util [Test worker] Total change sets:            5

2023-06-20 13:24:21,691 INFO l.util [Test worker] Update summary generated
2023-06-20 13:24:21,693 INFO l.command [Test worker] Update command completed successfully.
2023-06-20 13:24:21,701 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:24:21,721 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:24:21,723 INFO l.command [Test worker] Command execution complete
2023-06-20 13:24:22,067 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 13:24:22,240 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 13:24:22,246 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 13:24:22,568 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:24:22,900 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 13:24:23,016 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@592efd6
2023-06-20 13:24:23,731 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:24:25,868 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 13:24:25,929 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 13:24:25,930 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] constraint "fknxm8x9npdhuwxv2x2wxsghm17" of relation "comment" does not exist, skipping
2023-06-20 13:24:25,977 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-06-20 13:24:25,980 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:24:26,866 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 13:24:28,321 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 16.173 seconds (process running for 33.607)
2023-06-20 13:24:30,676 INFO o.e.j.s.Server [Test worker] Stopped Server@6d17914a{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:30,677 INFO o.e.j.s.Server [Test worker] Shutdown Server@6d17914a{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:30,686 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@1de13f34{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:30,690 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3611153f{/,null,STOPPED}
2023-06-20 13:24:30,690 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3313463c{/__admin,null,STOPPED}
2023-06-20 13:24:30,708 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:24:30,753 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 13:24:30,767 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 13:24:30,896 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: 0369a7023d4e788c3671e250ae5bcb73a5eaf16863400b4e367ad774ec547200
2023-06-20 13:24:32,561 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.795668S
2023-06-20 13:24:32,562 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:62448/test?loggerLevel=OFF)
2023-06-20 13:24:32,589 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:24:32,598 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7fb7be26{/__admin,null,AVAILABLE}
2023-06-20 13:24:32,599 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:24:32,599 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7da1bf14{/,null,AVAILABLE}
2023-06-20 13:24:32,600 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@4fbc7da0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:32,605 INFO o.e.j.s.Server [Test worker] Started Server@4ba5272e{STARTING}[11.0.15,sto=1000] @37891ms
2023-06-20 13:24:33,047 INFO o.e.j.s.Server [Test worker] Stopped Server@4ba5272e{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:33,050 INFO o.e.j.s.Server [Test worker] Shutdown Server@4ba5272e{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:33,056 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@4fbc7da0{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:33,058 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7da1bf14{/,null,STOPPED}
2023-06-20 13:24:33,059 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7fb7be26{/__admin,null,STOPPED}
2023-06-20 13:24:33,095 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 13:24:33,171 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 13:24:33,224 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:24:33,229 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@2bb98b8a{/__admin,null,AVAILABLE}
2023-06-20 13:24:33,229 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:24:33,229 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@35b331de{/,null,AVAILABLE}
2023-06-20 13:24:33,230 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@245b080c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:33,232 INFO o.e.j.s.Server [Test worker] Started Server@4e1210de{STARTING}[11.0.15,sto=1000] @38519ms
2023-06-20 13:24:33,701 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.2 with PID 14973 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:24:33,703 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:24:33,703 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:24:33,717 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:33,717 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@69e0d31d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:33,717 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:33,717 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:24:33,717 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:33,717 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@5db553f9 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:35,498 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 13:24:35,546 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 45 ms. Found 2 JPA repository interfaces.
2023-06-20 13:24:35,864 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 13:24:36,003 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:24:36,565 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 13:24:36,601 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@7ec8ac50
2023-06-20 13:24:36,602 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 13:24:36,631 INFO l.database [Test worker] Set default schema name to public
2023-06-20 13:24:36,694 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 13:24:36,943 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 13:24:36,986 INFO l.command [Test worker] Using deploymentId: 7256676961
2023-06-20 13:24:37,005 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 13:24:37,008 INFO l.util [Test worker] Run:                          0
2023-06-20 13:24:37,008 INFO l.util [Test worker] Previously run:               5
2023-06-20 13:24:37,008 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 13:24:37,008 INFO l.util [Test worker] -------------------------------
2023-06-20 13:24:37,008 INFO l.util [Test worker] Total change sets:            5

2023-06-20 13:24:37,011 INFO l.util [Test worker] Update summary generated
2023-06-20 13:24:37,012 INFO l.command [Test worker] Update command completed successfully.
2023-06-20 13:24:37,019 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:24:37,043 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 13:24:37,044 INFO l.command [Test worker] Command execution complete
2023-06-20 13:24:37,187 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 13:24:37,208 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:24:37,209 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 13:24:37,213 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2f6aa16
2023-06-20 13:24:37,262 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 13:24:37,560 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 13:24:37,598 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-06-20 13:24:37,598 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:24:38,206 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:24:38,473 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 13:24:40,275 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@56be1b09, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d4c5f8b, org.springframework.security.web.context.SecurityContextHolderFilter@2fdf4d08, org.springframework.security.web.header.HeaderWriterFilter@42a85b18, org.springframework.security.web.authentication.logout.LogoutFilter@1850a5b5, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@41db4a32, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@f709952, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6da05858, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3fa4fe1f, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@507bb74a, org.springframework.security.web.session.ConcurrentSessionFilter@34146b8c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17edcf4c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@342daa77, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d74b85d, org.springframework.security.web.access.ExceptionTranslationFilter@6e0ae02d, org.springframework.security.web.access.intercept.AuthorizationFilter@3058017]
2023-06-20 13:24:41,749 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 8.489 seconds (process running for 47.036)
2023-06-20 13:24:41,860 INFO o.e.j.s.Server [Test worker] Stopped Server@4e1210de{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:41,860 INFO o.e.j.s.Server [Test worker] Shutdown Server@4e1210de{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:41,867 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@245b080c{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:41,869 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@35b331de{/,null,STOPPED}
2023-06-20 13:24:41,870 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@2bb98b8a{/__admin,null,STOPPED}
2023-06-20 13:24:44,838 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:24:44,856 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1c0293a{/__admin,null,AVAILABLE}
2023-06-20 13:24:44,865 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:24:44,865 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@697b20d5{/,null,AVAILABLE}
2023-06-20 13:24:44,870 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5b07b2f1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:44,884 INFO o.e.j.s.Server [Test worker] Started Server@2954dc9e{STARTING}[11.0.15,sto=1000] @50169ms
2023-06-20 13:24:45,457 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.2 with PID 14973 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:24:45,459 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:24:45,460 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:24:45,472 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:45,472 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@104c73 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:45,472 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:45,472 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:24:45,472 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:45,472 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@32d608ce uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:46,909 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:24:46,948 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:24:47,402 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77e912f8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5248d9cb, org.springframework.security.web.context.SecurityContextHolderFilter@7b07ef24, org.springframework.security.web.header.HeaderWriterFilter@f96ee33, org.springframework.security.web.authentication.logout.LogoutFilter@4c18a316, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@6448398f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@6dc12603, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@506dcb44, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@7511928e, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@365d1cbf, org.springframework.security.web.session.ConcurrentSessionFilter@4cd451fb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23fbc6b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1ba44388, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@854d6db, org.springframework.security.web.access.ExceptionTranslationFilter@6537b264, org.springframework.security.web.access.intercept.AuthorizationFilter@c6578c1]
2023-06-20 13:24:47,582 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 13:24:47,583 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 13:24:47,586 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 2 ms
2023-06-20 13:24:47,807 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 2.908 seconds (process running for 53.095)
2023-06-20 13:24:48,354 INFO o.e.j.s.Server [Test worker] Stopped Server@2954dc9e{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:48,355 INFO o.e.j.s.Server [Test worker] Shutdown Server@2954dc9e{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:48,358 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5b07b2f1{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:48,359 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@697b20d5{/,null,STOPPED}
2023-06-20 13:24:48,360 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1c0293a{/__admin,null,STOPPED}
2023-06-20 13:24:48,402 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.2+8-LTS
2023-06-20 13:24:48,405 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5f1c19ad{/__admin,null,AVAILABLE}
2023-06-20 13:24:48,406 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 13:24:48,408 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@3620d182{/,null,AVAILABLE}
2023-06-20 13:24:48,409 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@7f8c7c3b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:48,409 INFO o.e.j.s.Server [Test worker] Started Server@29295f4e{STARTING}[11.0.15,sto=1000] @53696ms
2023-06-20 13:24:48,630 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.2 with PID 14973 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 13:24:48,631 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 13:24:48,632 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 13:24:48,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:48,637 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1c5e759e uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:48,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:48,637 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 13:24:48,638 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 13:24:48,639 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@6ab1e8f4 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 13:24:49,216 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 13:24:49,237 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 13:24:49,458 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@51223aca, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aeb8c7f, org.springframework.security.web.context.SecurityContextHolderFilter@6a0f2971, org.springframework.security.web.header.HeaderWriterFilter@777bc5c0, org.springframework.security.web.authentication.logout.LogoutFilter@5a704d15, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@4c06f69f, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@144602ef, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1eabf6ae, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@3e8df7ca, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@e9ea2b7, org.springframework.security.web.session.ConcurrentSessionFilter@681f3c31, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61e2865, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f62b8a3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f413b4c, org.springframework.security.web.access.ExceptionTranslationFilter@4ef45124, org.springframework.security.web.access.intercept.AuthorizationFilter@318fd928]
2023-06-20 13:24:49,528 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 13:24:49,528 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 13:24:49,528 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-20 13:24:49,541 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 1.125 seconds (process running for 54.828)
2023-06-20 13:24:49,699 INFO o.e.j.s.Server [Test worker] Stopped Server@29295f4e{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:49,699 INFO o.e.j.s.Server [Test worker] Shutdown Server@29295f4e{STOPPING}[11.0.15,sto=1000]
2023-06-20 13:24:49,703 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@7f8c7c3b{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 13:24:49,704 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@3620d182{/,null,STOPPED}
2023-06-20 13:24:49,704 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5f1c19ad{/__admin,null,STOPPED}
2023-06-20 13:24:50,764 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:24:50,777 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 13:24:50,806 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 13:24:50,874 WARN o.s.b.f.s.DisposableBeanAdapter [SpringApplicationShutdownHook] Invocation of destroy method failed on bean with name 'reactorResourceFactory': java.lang.NullPointerException: Cannot load from int array because "__$localLineHits$__" is null
2023-06-20 13:24:50,879 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 13:24:50,881 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 13:24:50,885 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
2023-06-20 22:38:25,145 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.NewsManagerApplicationTests]: NewsManagerApplicationTests does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 22:38:25,190 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.NewsManagerApplicationTests
2023-06-20 22:38:25,599 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-20 22:38:25,610 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5a545b0f{/__admin,null,AVAILABLE}
2023-06-20 22:38:25,614 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 22:38:25,614 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@5416f8db{/,null,AVAILABLE}
2023-06-20 22:38:25,618 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@6f94fb9d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:25,624 INFO o.e.j.s.Server [Test worker] Started Server@1e977098{STARTING}[11.0.15,sto=1000] @1051ms
2023-06-20 22:38:25,960 INFO o.h.v.i.u.Version [background-preinit] HV000001: Hibernate Validator 8.0.0.Final
2023-06-20 22:38:25,973 INFO r.c.N.NewsManagerApplicationTests [Test worker] Starting NewsManagerApplicationTests using Java 17.0.7 with PID 25859 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 22:38:25,973 DEBUG r.c.N.NewsManagerApplicationTests [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 22:38:25,973 INFO r.c.N.NewsManagerApplicationTests [Test worker] The following 1 profile is active: "prod"
2023-06-20 22:38:26,057 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:26,057 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@2bec068b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:26,057 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:26,057 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 22:38:26,057 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:26,057 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3a788fe0 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:26,345 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 22:38:26,422 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 72 ms. Found 2 JPA repository interfaces.
2023-06-20 22:38:26,525 INFO o.s.c.c.s.GenericScope [Test worker] BeanFactory id=da1d35b2-81da-3027-a3ef-ec2baee445ce
2023-06-20 22:38:26,561 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 22:38:26,693 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Starting...
2023-06-20 22:38:26,750 INFO c.z.h.p.HikariPool [Test worker] HikariPool-1 - Added connection org.postgresql.jdbc.PgConnection@440d2d64
2023-06-20 22:38:26,750 INFO c.z.h.HikariDataSource [Test worker] HikariPool-1 - Start completed.
2023-06-20 22:38:26,815 INFO l.database [Test worker] Set default schema name to public
2023-06-20 22:38:26,906 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 22:38:27,133 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 22:38:27,151 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 22:38:27,154 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 22:38:27,154 INFO l.util [Test worker] Run:                          0
2023-06-20 22:38:27,154 INFO l.util [Test worker] Previously run:               5
2023-06-20 22:38:27,154 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 22:38:27,155 INFO l.util [Test worker] -------------------------------
2023-06-20 22:38:27,155 INFO l.util [Test worker] Total change sets:            5

2023-06-20 22:38:27,155 INFO l.util [Test worker] Update summary generated
2023-06-20 22:38:27,157 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 22:38:27,159 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 22:38:27,160 INFO l.command [Test worker] Command execution complete
2023-06-20 22:38:27,201 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 22:38:27,230 INFO o.h.Version [Test worker] HHH000412: Hibernate ORM core version 6.2.2.Final
2023-06-20 22:38:27,231 INFO o.h.c.Environment [Test worker] HHH000406: Using bytecode reflection optimizer
2023-06-20 22:38:27,287 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 22:38:27,346 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 22:38:27,366 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@7ea91c39
2023-06-20 22:38:27,456 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 22:38:27,770 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 22:38:27,818 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-06-20 22:38:27,819 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 22:38:27,950 INFO o.s.d.j.r.q.QueryEnhancerFactory [Test worker] Hibernate is in classpath; If applicable, HQL parser will be used.
2023-06-20 22:38:28,163 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 22:38:28,216 WARN o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration [Test worker] spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2023-06-20 22:38:28,423 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@50b03929, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@523a10a0, org.springframework.security.web.context.SecurityContextHolderFilter@3228b5a1, org.springframework.security.web.header.HeaderWriterFilter@58f6dab9, org.springframework.security.web.authentication.logout.LogoutFilter@2f38b35e, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@3eb60858, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@469f8de2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@14f13587, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@102ee705, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@3952621d, org.springframework.security.web.session.ConcurrentSessionFilter@5a78e7e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51729c2b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@698cc99d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4d7143de, org.springframework.security.web.access.ExceptionTranslationFilter@4694dfd, org.springframework.security.web.access.intercept.AuthorizationFilter@40bf2ead]
2023-06-20 22:38:28,624 INFO r.c.N.NewsManagerApplicationTests [Test worker] Started NewsManagerApplicationTests in 2.976 seconds (process running for 4.052)
2023-06-20 22:38:28,936 INFO o.e.j.s.Server [Test worker] Stopped Server@1e977098{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:28,936 INFO o.e.j.s.Server [Test worker] Shutdown Server@1e977098{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:28,938 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@6f94fb9d{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:28,939 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5416f8db{/,null,STOPPED}
2023-06-20 22:38:28,939 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@5a545b0f{/__admin,null,STOPPED}
2023-06-20 22:38:29,240 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-20 22:38:29,241 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@13da85f2{/__admin,null,AVAILABLE}
2023-06-20 22:38:29,241 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 22:38:29,242 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@14a37127{/,null,AVAILABLE}
2023-06-20 22:38:29,242 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@42e52d94{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:29,242 INFO o.e.j.s.Server [Test worker] Started Server@5a9fa35{STARTING}[11.0.15,sto=1000] @4670ms
2023-06-20 22:38:29,325 INFO r.c.N.c.c.CommentControllerTest [Test worker] Starting CommentControllerTest using Java 17.0.7 with PID 25859 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 22:38:29,325 DEBUG r.c.N.c.c.CommentControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 22:38:29,326 INFO r.c.N.c.c.CommentControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 22:38:29,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:29,327 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@3982d73d uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:29,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:29,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 22:38:29,327 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:29,327 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@48012514 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:29,543 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 22:38:29,547 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 22:38:29,630 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@70f0bd97, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f814c6e, org.springframework.security.web.context.SecurityContextHolderFilter@38ede85d, org.springframework.security.web.header.HeaderWriterFilter@59d59316, org.springframework.security.web.authentication.logout.LogoutFilter@232a935, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@67131e6, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@111d4b1c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@21b9adc1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@75897392, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@43fbd29, org.springframework.security.web.session.ConcurrentSessionFilter@13312ba2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ac74499, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6fff29f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6884cfca, org.springframework.security.web.access.ExceptionTranslationFilter@199763ea, org.springframework.security.web.access.intercept.AuthorizationFilter@2a3f74fd]
2023-06-20 22:38:29,671 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 22:38:29,671 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 22:38:29,672 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 1 ms
2023-06-20 22:38:29,720 INFO r.c.N.c.c.CommentControllerTest [Test worker] Started CommentControllerTest in 0.475 seconds (process running for 5.148)
2023-06-20 22:38:29,820 INFO o.e.j.s.Server [Test worker] Stopped Server@5a9fa35{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:29,820 INFO o.e.j.s.Server [Test worker] Shutdown Server@5a9fa35{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:29,821 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@42e52d94{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:29,821 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@14a37127{/,null,STOPPED}
2023-06-20 22:38:29,821 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@13da85f2{/__admin,null,STOPPED}
2023-06-20 22:38:29,831 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-20 22:38:29,832 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@1ee590b7{/__admin,null,AVAILABLE}
2023-06-20 22:38:29,832 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 22:38:29,832 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@339e1787{/,null,AVAILABLE}
2023-06-20 22:38:29,833 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@2b12488{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:29,833 INFO o.e.j.s.Server [Test worker] Started Server@67aa004d{STARTING}[11.0.15,sto=1000] @5261ms
2023-06-20 22:38:29,883 INFO r.c.N.c.c.NewsControllerTest [Test worker] Starting NewsControllerTest using Java 17.0.7 with PID 25859 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 22:38:29,883 DEBUG r.c.N.c.c.NewsControllerTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 22:38:29,883 INFO r.c.N.c.c.NewsControllerTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 22:38:29,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:29,884 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@17b41d39 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:29,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:29,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 22:38:29,884 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:29,884 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@1f489987 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:30,006 INFO o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker [Test worker] Bean 'ru.clevertec.NewsManager.repository.UserManagementClient' of type [org.springframework.cloud.openfeign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2023-06-20 22:38:30,008 INFO o.s.b.f.a.AutowiredAnnotationBeanPostProcessor [Test worker] Autowired annotation is not supported on static fields: private static java.lang.String ru.clevertec.NewsManager.security.JwtTokenGenerator.SECRET_KEY
2023-06-20 22:38:30,075 INFO o.s.s.w.DefaultSecurityFilterChain [Test worker] Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@62b17f08, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3c0ff70b, org.springframework.security.web.context.SecurityContextHolderFilter@f498ae5, org.springframework.security.web.header.HeaderWriterFilter@204fb56d, org.springframework.security.web.authentication.logout.LogoutFilter@569579cb, org.springframework.security.oauth2.client.web.OAuth2AuthorizationRequestRedirectFilter@5181ec31, org.springframework.security.oauth2.client.web.OAuth2LoginAuthenticationFilter@2c279ceb, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11c7f87d, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@28336ff3, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@2c5ff4a5, org.springframework.security.web.session.ConcurrentSessionFilter@62e42995, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@366164f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b584b8c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2f5f543, org.springframework.security.web.access.ExceptionTranslationFilter@12e56e82, org.springframework.security.web.access.intercept.AuthorizationFilter@4c47f85d]
2023-06-20 22:38:30,100 INFO o.s.b.t.m.w.SpringBootMockServletContext [Test worker] Initializing Spring TestDispatcherServlet ''
2023-06-20 22:38:30,100 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Initializing Servlet ''
2023-06-20 22:38:30,100 INFO o.s.t.w.s.TestDispatcherServlet [Test worker] Completed initialization in 0 ms
2023-06-20 22:38:30,108 INFO r.c.N.c.c.NewsControllerTest [Test worker] Started NewsControllerTest in 0.273 seconds (process running for 5.536)
2023-06-20 22:38:30,153 INFO o.e.j.s.Server [Test worker] Stopped Server@67aa004d{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:30,153 INFO o.e.j.s.Server [Test worker] Shutdown Server@67aa004d{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:30,155 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@2b12488{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:30,156 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@339e1787{/,null,STOPPED}
2023-06-20 22:38:30,157 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@1ee590b7{/__admin,null,STOPPED}
2023-06-20 22:38:30,171 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest]: CommentsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 22:38:30,181 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.CommentsPostgresQLRepositoryTest
2023-06-20 22:38:30,202 INFO o.t.u.ImageNameSubstitutor [Test worker] Image name substitution will be performed by: DefaultImageNameSubstitutor (composite of 'ConfigurationFileImageNameSubstitutor' and 'PrefixingImageNameSubstitutor')
2023-06-20 22:38:30,309 INFO o.t.d.DockerClientProviderStrategy [Test worker] Loaded org.testcontainers.dockerclient.UnixSocketClientProviderStrategy from ~/.testcontainers.properties, will try it first
2023-06-20 22:38:30,750 INFO o.t.d.DockerClientProviderStrategy [Test worker] Found Docker environment with local Unix socket (unix:///var/run/docker.sock)
2023-06-20 22:38:30,751 INFO o.t.DockerClientFactory [Test worker] Docker host IP address is localhost
2023-06-20 22:38:30,822 INFO o.t.DockerClientFactory [Test worker] Connected to docker: 
  Server Version: 20.10.21
  API Version: 1.41
  Operating System: Docker Desktop
  Total Memory: 3933 MB
2023-06-20 22:38:30,897 INFO t.t.4.0 [Test worker] Creating container for image: testcontainers/ryuk:0.4.0
2023-06-20 22:38:31,945 INFO o.t.u.RegistryAuthLocator [Test worker] Credential helper/store (docker-credential-desktop) does not have credentials for https://index.docker.io/v1/
2023-06-20 22:38:32,094 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 is starting: ccfba53e0a23b332c6c97f86c59082a9f3eb99b1a69a533f34be45477f4857c0
2023-06-20 22:38:33,038 INFO t.t.4.0 [Test worker] Container testcontainers/ryuk:0.4.0 started in PT2.212395S
2023-06-20 22:38:33,052 INFO o.t.u.RyukResourceReaper [Test worker] Ryuk started - will monitor and terminate Testcontainers containers on JVM exit
2023-06-20 22:38:33,052 INFO o.t.DockerClientFactory [Test worker] Checking the system...
2023-06-20 22:38:33,053 INFO o.t.DockerClientFactory [Test worker] ?? Docker server version should be at least 1.6.0
2023-06-20 22:38:33,053 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 22:38:33,120 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f622c1c26fd888e595df01064ab770450a9bc95604ddbbb2865299db4ec11229
2023-06-20 22:38:34,413 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.359895S
2023-06-20 22:38:34,414 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:50614/test?loggerLevel=OFF)
2023-06-20 22:38:34,418 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-20 22:38:34,419 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@7b7d5d8d{/__admin,null,AVAILABLE}
2023-06-20 22:38:34,419 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 22:38:34,419 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@27779b40{/,null,AVAILABLE}
2023-06-20 22:38:34,419 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@77ed1878{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:34,420 INFO o.e.j.s.Server [Test worker] Started Server@63834ee3{STARTING}[11.0.15,sto=1000] @9848ms
2023-06-20 22:38:34,475 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Starting CommentsPostgresQLRepositoryTest using Java 17.0.7 with PID 25859 (started by artemaverkov in /Users/artemaverkov/Concurrency/NewsManager/NewsManager)
2023-06-20 22:38:34,475 DEBUG r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Running with Spring Boot v3.1.0, Spring v6.0.9
2023-06-20 22:38:34,475 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] The following 1 profile is active: "prod"
2023-06-20 22:38:34,476 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:34,476 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@4c47eb9b uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:34,476 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:34,476 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Located environment: name=news-api, profiles=[prod], label=null, version=null, state=null
2023-06-20 22:38:34,476 INFO o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Fetching config from server at : http://localhost:8086
2023-06-20 22:38:34,476 WARN o.s.c.c.c.ConfigServerConfigDataLoader [Test worker] Could not locate PropertySource ([ConfigServerConfigDataResource@12ff3bb8 uris = array<String>['http://localhost:8086'], optional = true, profiles = list['default']]): None of labels [] found
2023-06-20 22:38:34,523 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2023-06-20 22:38:34,529 INFO o.s.d.r.c.RepositoryConfigurationDelegate [Test worker] Finished Spring Data repository scanning in 6 ms. Found 2 JPA repository interfaces.
2023-06-20 22:38:34,552 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Starting...
2023-06-20 22:38:34,607 INFO c.z.h.p.HikariPool [Test worker] HikariPool-2 - Added connection org.postgresql.jdbc.PgConnection@43b3e62
2023-06-20 22:38:34,607 INFO c.z.h.HikariDataSource [Test worker] HikariPool-2 - Start completed.
2023-06-20 22:38:34,616 INFO l.database [Test worker] Set default schema name to public
2023-06-20 22:38:34,651 INFO l.lockservice [Test worker] Successfully acquired change log lock
2023-06-20 22:38:34,705 INFO l.changelog [Test worker] Creating database history table with name: public.databasechangelog
2023-06-20 22:38:34,714 INFO l.changelog [Test worker] Reading from public.databasechangelog
2023-06-20 22:38:34,764 INFO l.util [Test worker] UPDATE SUMMARY
2023-06-20 22:38:34,764 INFO l.util [Test worker] Run:                          5
2023-06-20 22:38:34,764 INFO l.util [Test worker] Previously run:               0
2023-06-20 22:38:34,764 INFO l.util [Test worker] Filtered out:                 0
2023-06-20 22:38:34,764 INFO l.util [Test worker] -------------------------------
2023-06-20 22:38:34,764 INFO l.util [Test worker] Total change sets:            5

2023-06-20 22:38:34,764 INFO l.util [Test worker] Update summary generated
2023-06-20 22:38:34,768 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 22:38:34,776 INFO l.lockservice [Test worker] Successfully released change log lock
2023-06-20 22:38:34,777 INFO l.command [Test worker] Command execution complete
2023-06-20 22:38:34,787 INFO o.h.j.i.u.LogHelper [Test worker] HHH000204: Processing PersistenceUnitInfo [name: default]
2023-06-20 22:38:34,791 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 22:38:34,791 INFO o.s.o.j.p.SpringPersistenceUnitInfo [Test worker] No LoadTimeWeaver setup: ignoring JPA class transformer
2023-06-20 22:38:34,792 INFO o.h.o.dialect [Test worker] HHH035001: Using dialect: org.hibernate.dialect.PostgreSQLDialect, version: org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$DialectResolutionInfoImpl@2bc8c738
2023-06-20 22:38:34,801 INFO o.h.b.i.BytecodeProviderInitiator [Test worker] HHH000021: Bytecode provider name : bytebuddy
2023-06-20 22:38:34,824 INFO o.h.e.t.j.p.i.JtaPlatformInitiator [Test worker] HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2023-06-20 22:38:34,826 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 22:38:34,826 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] relation "comment" does not exist, skipping
2023-06-20 22:38:34,827 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 22:38:34,828 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "comment" does not exist, skipping
2023-06-20 22:38:34,829 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] SQL Warning Code: 0, SQLState: 00000
2023-06-20 22:38:34,829 WARN o.h.e.j.s.SqlExceptionHelper [Test worker] table "news" does not exist, skipping
2023-06-20 22:38:34,849 INFO o.h.t.s.i.e.GenerationTargetToDatabase [Test worker] HHH000476: Executing script '[injected ScriptSourceInputNonExistentImpl script]'
2023-06-20 22:38:34,849 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [Test worker] Initialized JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 22:38:34,906 INFO r.c.N.c.i.CommentsPostgresQLRepositoryTest [Test worker] Started CommentsPostgresQLRepositoryTest in 0.483 seconds (process running for 10.334)
2023-06-20 22:38:35,044 INFO o.e.j.s.Server [Test worker] Stopped Server@63834ee3{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:35,045 INFO o.e.j.s.Server [Test worker] Shutdown Server@63834ee3{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:35,045 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@77ed1878{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:35,046 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@27779b40{/,null,STOPPED}
2023-06-20 22:38:35,046 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@7b7d5d8d{/__admin,null,STOPPED}
2023-06-20 22:38:35,049 INFO o.s.t.c.s.AnnotationConfigContextLoaderUtils [Test worker] Could not detect default configuration classes for test class [ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest]: NewsPostgresQLRepositoryTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
2023-06-20 22:38:35,051 INFO o.s.b.t.c.SpringBootTestContextBootstrapper [Test worker] Found @SpringBootConfiguration ru.clevertec.NewsManager.NewsManagerApplication for test class ru.clevertec.NewsManager.common.integration.NewsPostgresQLRepositoryTest
2023-06-20 22:38:35,051 INFO t.p.3 [Test worker] Creating container for image: postgres:14.3
2023-06-20 22:38:35,099 INFO t.p.3 [Test worker] Container postgres:14.3 is starting: f78163276892eb7c84a03a427748fdc0df99b9790c2fe3efa39683f15a21e44a
2023-06-20 22:38:36,327 INFO t.p.3 [Test worker] Container postgres:14.3 started in PT1.275272S
2023-06-20 22:38:36,327 INFO t.p.3 [Test worker] Container is started (JDBC URL: jdbc:postgresql://localhost:50626/test?loggerLevel=OFF)
2023-06-20 22:38:36,333 INFO o.e.j.s.Server [Test worker] jetty-11.0.15; built: 2023-04-11T18:37:53.775Z; git: 5bc5e562c8d05c5862505aebe5cf83a61bdbcb96; jvm 17.0.7+0
2023-06-20 22:38:36,334 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@4099eb8a{/__admin,null,AVAILABLE}
2023-06-20 22:38:36,334 INFO o.e.j.s.h.C.ROOT [Test worker] RequestHandlerClass from context returned com.github.tomakehurst.wiremock.http.StubRequestHandler. Normalized mapped under returned 'null'
2023-06-20 22:38:36,334 INFO o.e.j.s.h.ContextHandler [Test worker] Started o.e.j.s.ServletContextHandler@652a462f{/,null,AVAILABLE}
2023-06-20 22:38:36,334 INFO o.e.j.s.AbstractConnector [Test worker] Started NetworkTrafficServerConnector@5d0637ba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:36,334 INFO o.e.j.s.Server [Test worker] Started Server@57b414f0{STARTING}[11.0.15,sto=1000] @11763ms
2023-06-20 22:38:36,389 INFO o.e.j.s.Server [Test worker] Stopped Server@57b414f0{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:36,389 INFO o.e.j.s.Server [Test worker] Shutdown Server@57b414f0{STOPPING}[11.0.15,sto=1000]
2023-06-20 22:38:36,389 INFO o.e.j.s.AbstractConnector [Test worker] Stopped NetworkTrafficServerConnector@5d0637ba{HTTP/1.1, (http/1.1, h2c)}{0.0.0.0:8086}
2023-06-20 22:38:36,390 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@652a462f{/,null,STOPPED}
2023-06-20 22:38:36,390 INFO o.e.j.s.h.ContextHandler [Test worker] Stopped o.e.j.s.ServletContextHandler@4099eb8a{/__admin,null,STOPPED}
2023-06-20 22:38:36,529 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 22:38:36,530 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown initiated...
2023-06-20 22:38:36,531 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-1 - Shutdown completed.
2023-06-20 22:38:36,533 INFO o.s.o.j.LocalContainerEntityManagerFactoryBean [SpringApplicationShutdownHook] Closing JPA EntityManagerFactory for persistence unit 'default'
2023-06-20 22:38:36,534 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown initiated...
2023-06-20 22:38:36,534 INFO c.z.h.HikariDataSource [SpringApplicationShutdownHook] HikariPool-2 - Shutdown completed.
